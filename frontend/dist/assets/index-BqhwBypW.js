var eC=Object.defineProperty;var tC=(t,e,n)=>e in t?eC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Me=(t,e,n)=>tC(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function Xx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tg={exports:{}},vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y1;function nC(){if(y1)return vc;y1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var u in a)u!=="key"&&(o[u]=a[u])}else o=a;return a=o.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:o}}return vc.Fragment=e,vc.jsx=n,vc.jsxs=n,vc}var b1;function sC(){return b1||(b1=1,tg.exports=nC()),tg.exports}var l=sC(),ng={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function rC(){if(v1)return He;v1=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function N(H,Z,ae){this.props=H,this.context=Z,this.refs=S,this.updater=ae||v}N.prototype.isReactComponent={},N.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function _(){}_.prototype=N.prototype;function A(H,Z,ae){this.props=H,this.context=Z,this.refs=S,this.updater=ae||v}var k=A.prototype=new _;k.constructor=A,j(k,N.prototype),k.isPureReactComponent=!0;var O=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function V(H,Z,ae,le,pe,je){return ae=je.ref,{$$typeof:t,type:H,key:Z,ref:ae!==void 0?ae:null,props:je}}function D(H,Z){return V(H.type,Z,void 0,void 0,void 0,H.props)}function U(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function Y(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ae){return Z[ae]})}var G=/\/+/g;function X(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?Y(""+H.key):Z.toString(36)}function ne(){}function fe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(ne,ne):(H.status="pending",H.then(function(Z){H.status==="pending"&&(H.status="fulfilled",H.value=Z)},function(Z){H.status==="pending"&&(H.status="rejected",H.reason=Z)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function K(H,Z,ae,le,pe){var je=typeof H;(je==="undefined"||je==="boolean")&&(H=null);var me=!1;if(H===null)me=!0;else switch(je){case"bigint":case"string":case"number":me=!0;break;case"object":switch(H.$$typeof){case t:case e:me=!0;break;case p:return me=H._init,K(me(H._payload),Z,ae,le,pe)}}if(me)return pe=pe(H),me=le===""?"."+X(H,0):le,O(pe)?(ae="",me!=null&&(ae=me.replace(G,"$&/")+"/"),K(pe,Z,ae,"",function(lt){return lt})):pe!=null&&(U(pe)&&(pe=D(pe,ae+(pe.key==null||H&&H.key===pe.key?"":(""+pe.key).replace(G,"$&/")+"/")+me)),Z.push(pe)),1;me=0;var ot=le===""?".":le+":";if(O(H))for(var Ve=0;Ve<H.length;Ve++)le=H[Ve],je=ot+X(le,Ve),me+=K(le,Z,ae,je,pe);else if(Ve=b(H),typeof Ve=="function")for(H=Ve.call(H),Ve=0;!(le=H.next()).done;)le=le.value,je=ot+X(le,Ve++),me+=K(le,Z,ae,je,pe);else if(je==="object"){if(typeof H.then=="function")return K(fe(H),Z,ae,le,pe);throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return me}function B(H,Z,ae){if(H==null)return H;var le=[],pe=0;return K(H,le,"","",function(je){return Z.call(ae,je,pe++)}),le}function F(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(ae){(H._status===0||H._status===-1)&&(H._status=1,H._result=ae)},function(ae){(H._status===0||H._status===-1)&&(H._status=2,H._result=ae)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var q=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ee(){}return He.Children={map:B,forEach:function(H,Z,ae){B(H,function(){Z.apply(this,arguments)},ae)},count:function(H){var Z=0;return B(H,function(){Z++}),Z},toArray:function(H){return B(H,function(Z){return Z})||[]},only:function(H){if(!U(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},He.Component=N,He.Fragment=n,He.Profiler=a,He.PureComponent=A,He.StrictMode=s,He.Suspense=f,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,He.__COMPILER_RUNTIME={__proto__:null,c:function(H){return M.H.useMemoCache(H)}},He.cache=function(H){return function(){return H.apply(null,arguments)}},He.cloneElement=function(H,Z,ae){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var le=j({},H.props),pe=H.key,je=void 0;if(Z!=null)for(me in Z.ref!==void 0&&(je=void 0),Z.key!==void 0&&(pe=""+Z.key),Z)!P.call(Z,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Z.ref===void 0||(le[me]=Z[me]);var me=arguments.length-2;if(me===1)le.children=ae;else if(1<me){for(var ot=Array(me),Ve=0;Ve<me;Ve++)ot[Ve]=arguments[Ve+2];le.children=ot}return V(H.type,pe,void 0,void 0,je,le)},He.createContext=function(H){return H={$$typeof:c,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},He.createElement=function(H,Z,ae){var le,pe={},je=null;if(Z!=null)for(le in Z.key!==void 0&&(je=""+Z.key),Z)P.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(pe[le]=Z[le]);var me=arguments.length-2;if(me===1)pe.children=ae;else if(1<me){for(var ot=Array(me),Ve=0;Ve<me;Ve++)ot[Ve]=arguments[Ve+2];pe.children=ot}if(H&&H.defaultProps)for(le in me=H.defaultProps,me)pe[le]===void 0&&(pe[le]=me[le]);return V(H,je,void 0,void 0,null,pe)},He.createRef=function(){return{current:null}},He.forwardRef=function(H){return{$$typeof:u,render:H}},He.isValidElement=U,He.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:F}},He.memo=function(H,Z){return{$$typeof:m,type:H,compare:Z===void 0?null:Z}},He.startTransition=function(H){var Z=M.T,ae={};M.T=ae;try{var le=H(),pe=M.S;pe!==null&&pe(ae,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ee,q)}catch(je){q(je)}finally{M.T=Z}},He.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},He.use=function(H){return M.H.use(H)},He.useActionState=function(H,Z,ae){return M.H.useActionState(H,Z,ae)},He.useCallback=function(H,Z){return M.H.useCallback(H,Z)},He.useContext=function(H){return M.H.useContext(H)},He.useDebugValue=function(){},He.useDeferredValue=function(H,Z){return M.H.useDeferredValue(H,Z)},He.useEffect=function(H,Z,ae){var le=M.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(H,Z)},He.useId=function(){return M.H.useId()},He.useImperativeHandle=function(H,Z,ae){return M.H.useImperativeHandle(H,Z,ae)},He.useInsertionEffect=function(H,Z){return M.H.useInsertionEffect(H,Z)},He.useLayoutEffect=function(H,Z){return M.H.useLayoutEffect(H,Z)},He.useMemo=function(H,Z){return M.H.useMemo(H,Z)},He.useOptimistic=function(H,Z){return M.H.useOptimistic(H,Z)},He.useReducer=function(H,Z,ae){return M.H.useReducer(H,Z,ae)},He.useRef=function(H){return M.H.useRef(H)},He.useState=function(H){return M.H.useState(H)},He.useSyncExternalStore=function(H,Z,ae){return M.H.useSyncExternalStore(H,Z,ae)},He.useTransition=function(){return M.H.useTransition()},He.version="19.1.0",He}var w1;function Wx(){return w1||(w1=1,ng.exports=rC()),ng.exports}var R=Wx();const ve=Xx(R);var sg={exports:{}},wc={},rg={exports:{}},ag={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1;function aC(){return j1||(j1=1,function(t){function e(B,F){var q=B.length;B.push(F);e:for(;0<q;){var ee=q-1>>>1,H=B[ee];if(0<a(H,F))B[ee]=F,B[q]=H,q=ee;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var F=B[0],q=B.pop();if(q!==F){B[0]=q;e:for(var ee=0,H=B.length,Z=H>>>1;ee<Z;){var ae=2*(ee+1)-1,le=B[ae],pe=ae+1,je=B[pe];if(0>a(le,q))pe<H&&0>a(je,le)?(B[ee]=je,B[pe]=q,ee=pe):(B[ee]=le,B[ae]=q,ee=ae);else if(pe<H&&0>a(je,q))B[ee]=je,B[pe]=q,ee=pe;else break e}}return F}function a(B,F){var q=B.sortIndex-F.sortIndex;return q!==0?q:B.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],m=[],p=1,g=null,b=3,v=!1,j=!1,S=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function O(B){for(var F=n(m);F!==null;){if(F.callback===null)s(m);else if(F.startTime<=B)s(m),F.sortIndex=F.expirationTime,e(f,F);else break;F=n(m)}}function M(B){if(S=!1,O(B),!j)if(n(f)!==null)j=!0,P||(P=!0,X());else{var F=n(m);F!==null&&K(M,F.startTime-B)}}var P=!1,V=-1,D=5,U=-1;function Y(){return N?!0:!(t.unstable_now()-U<D)}function G(){if(N=!1,P){var B=t.unstable_now();U=B;var F=!0;try{e:{j=!1,S&&(S=!1,A(V),V=-1),v=!0;var q=b;try{t:{for(O(B),g=n(f);g!==null&&!(g.expirationTime>B&&Y());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,b=g.priorityLevel;var H=ee(g.expirationTime<=B);if(B=t.unstable_now(),typeof H=="function"){g.callback=H,O(B),F=!0;break t}g===n(f)&&s(f),O(B)}else s(f);g=n(f)}if(g!==null)F=!0;else{var Z=n(m);Z!==null&&K(M,Z.startTime-B),F=!1}}break e}finally{g=null,b=q,v=!1}F=void 0}}finally{F?X():P=!1}}}var X;if(typeof k=="function")X=function(){k(G)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,fe=ne.port2;ne.port1.onmessage=G,X=function(){fe.postMessage(null)}}else X=function(){_(G,0)};function K(B,F){V=_(function(){B(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(B){switch(b){case 1:case 2:case 3:var F=3;break;default:F=b}var q=b;b=F;try{return B()}finally{b=q}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=b;b=B;try{return F()}finally{b=q}},t.unstable_scheduleCallback=function(B,F,q){var ee=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ee+q:ee):q=ee,B){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=q+H,B={id:p++,callback:F,priorityLevel:B,startTime:q,expirationTime:H,sortIndex:-1},q>ee?(B.sortIndex=q,e(m,B),n(f)===null&&B===n(m)&&(S?(A(V),V=-1):S=!0,K(M,q-ee))):(B.sortIndex=H,e(f,B),j||v||(j=!0,P||(P=!0,X()))),B},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(B){var F=b;return function(){var q=b;b=F;try{return B.apply(this,arguments)}finally{b=q}}}}(ag)),ag}var S1;function iC(){return S1||(S1=1,rg.exports=aC()),rg.exports}var ig={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function oC(){if(N1)return jn;N1=1;var t=Wx();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:m,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,jn.createPortal=function(f,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,p)},jn.flushSync=function(f){var m=c.T,p=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=m,s.p=p,s.d.f()}},jn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(f,m))},jn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},jn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?s.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:v}):p==="script"&&s.d.X(f,{crossOrigin:g,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},jn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);s.d.M(f,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(f)},jn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin);s.d.L(f,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},jn.preloadModule=function(f,m){if(typeof f=="string")if(m){var p=u(m.as,m.crossOrigin);s.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(f)},jn.requestFormReset=function(f){s.d.r(f)},jn.unstable_batchedUpdates=function(f,m){return f(m)},jn.useFormState=function(f,m,p){return c.H.useFormState(f,m,p)},jn.useFormStatus=function(){return c.H.useHostTransitionStatus()},jn.version="19.1.0",jn}var _1;function Xj(){if(_1)return ig.exports;_1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=oC(),ig.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1;function lC(){if(E1)return wc;E1=1;var t=iC(),e=Wx(),n=Xj();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var i=r,d=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(d=i.return),r=i.return;while(r)}return i.tag===3?d:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=o(r),i===null)throw Error(s(188));return i!==r?null:r}for(var d=r,h=i;;){var x=d.return;if(x===null)break;var y=x.alternate;if(y===null){if(h=x.return,h!==null){d=h;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===d)return u(x),r;if(y===h)return u(x),i;y=y.sibling}throw Error(s(188))}if(d.return!==h.return)d=x,h=y;else{for(var C=!1,L=x.child;L;){if(L===d){C=!0,d=x,h=y;break}if(L===h){C=!0,h=x,d=y;break}L=L.sibling}if(!C){for(L=y.child;L;){if(L===d){C=!0,d=y,h=x;break}if(L===h){C=!0,h=y,d=x;break}L=L.sibling}if(!C)throw Error(s(189))}}if(d.alternate!==h)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?r:i}function m(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=m(r),i!==null)return i;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=G&&r[G]||r["@@iterator"],typeof r=="function"?r:null)}var ne=Symbol.for("react.client.reference");function fe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ne?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case N:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case k:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case O:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return i=r.displayName||null,i!==null?i:fe(r.type)||"Memo";case D:i=r._payload,r=r._init;try{return fe(r(i))}catch{}}return null}var K=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},ee=[],H=-1;function Z(r){return{current:r}}function ae(r){0>H||(r.current=ee[H],ee[H]=null,H--)}function le(r,i){H++,ee[H]=r.current,r.current=i}var pe=Z(null),je=Z(null),me=Z(null),ot=Z(null);function Ve(r,i){switch(le(me,i),le(je,r),le(pe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?Yv(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=Yv(i),r=Xv(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ae(pe),le(pe,r)}function lt(){ae(pe),ae(je),ae(me)}function mn(r){r.memoizedState!==null&&le(ot,r);var i=pe.current,d=Xv(i,r.type);i!==d&&(le(je,r),le(pe,d))}function Cn(r){je.current===r&&(ae(pe),ae(je)),ot.current===r&&(ae(ot),pc._currentValue=q)}var xe=Object.prototype.hasOwnProperty,Je=t.unstable_scheduleCallback,xt=t.unstable_cancelCallback,Mt=t.unstable_shouldYield,Ke=t.unstable_requestPaint,et=t.unstable_now,tn=t.unstable_getCurrentPriorityLevel,At=t.unstable_ImmediatePriority,bn=t.unstable_UserBlockingPriority,zn=t.unstable_NormalPriority,Dt=t.unstable_LowPriority,vn=t.unstable_IdlePriority,Kr=t.log,oe=t.unstable_setDisableYieldValue,_e=null,Se=null;function ke(r){if(typeof Kr=="function"&&oe(r),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(_e,r)}catch{}}var Ce=Math.clz32?Math.clz32:Fs,St=Math.log,_s=Math.LN2;function Fs(r){return r>>>=0,r===0?32:31-(St(r)/_s|0)|0}var $s=256,Is=4194304;function os(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function fr(r,i,d){var h=r.pendingLanes;if(h===0)return 0;var x=0,y=r.suspendedLanes,C=r.pingedLanes;r=r.warmLanes;var L=h&134217727;return L!==0?(h=L&~y,h!==0?x=os(h):(C&=L,C!==0?x=os(C):d||(d=L&~r,d!==0&&(x=os(d))))):(L=h&~y,L!==0?x=os(L):C!==0?x=os(C):d||(d=h&~r,d!==0&&(x=os(d)))),x===0?0:i!==0&&i!==x&&(i&y)===0&&(y=x&-x,d=i&-i,y>=d||y===32&&(d&4194048)!==0)?i:x}function mr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ga(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kn(){var r=$s;return $s<<=1,($s&4194048)===0&&($s=256),r}function Bn(){var r=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),r}function Ka(r){for(var i=[],d=0;31>d;d++)i.push(r);return i}function Mn(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Wi(r,i,d,h,x,y){var C=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var L=r.entanglements,I=r.expirationTimes,te=r.hiddenUpdates;for(d=C&~d;0<d;){var de=31-Ce(d),he=1<<de;L[de]=0,I[de]=-1;var se=te[de];if(se!==null)for(te[de]=null,de=0;de<se.length;de++){var re=se[de];re!==null&&(re.lane&=-536870913)}d&=~he}h!==0&&Be(r,h,0),y!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=y&~(C&~i))}function Be(r,i,d){r.pendingLanes|=i,r.suspendedLanes&=~i;var h=31-Ce(i);r.entangledLanes|=i,r.entanglements[h]=r.entanglements[h]|1073741824|d&4194090}function vt(r,i){var d=r.entangledLanes|=i;for(r=r.entanglements;d;){var h=31-Ce(d),x=1<<h;x&i|r[h]&i&&(r[h]|=i),d&=~x}}function Nt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Gt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function pr(){var r=F.p;return r!==0?r:(r=window.event,r===void 0?32:h1(r.type))}function Ht(r,i){var d=F.p;try{return F.p=r,i()}finally{F.p=d}}var _t=Math.random().toString(36).slice(2),pt="__reactFiber$"+_t,ct="__reactProps$"+_t,Ft="__reactContainer$"+_t,Qr="__reactEvents$"+_t,Es="__reactListeners$"+_t,Ud="__reactHandles$"+_t,Hd="__reactResources$"+_t,Qa="__reactMarker$"+_t;function gl(r){delete r[pt],delete r[ct],delete r[Qr],delete r[Es],delete r[Ud]}function gr(r){var i=r[pt];if(i)return i;for(var d=r.parentNode;d;){if(i=d[Ft]||d[pt]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(r=Qv(r);r!==null;){if(d=r[pt])return d;r=Qv(r)}return i}r=d,d=r.parentNode}return null}function Vn(r){if(r=r[pt]||r[Ft]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Za(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Zr(r){var i=r[Hd];return i||(i=r[Hd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Kt(r){r[Qa]=!0}var Gi=new Set,Ki={};function xr(r,i){Jr(r,i),Jr(r+"Capture",i)}function Jr(r,i){for(Ki[r]=i,r=0;r<i.length;r++)Gi.add(i[r])}var $f=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fd={},Qi={};function If(r){return xe.call(Qi,r)?!0:xe.call(Fd,r)?!1:$f.test(r)?Qi[r]=!0:(Fd[r]=!0,!1)}function Zi(r,i,d){if(If(i))if(d===null)r.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+d)}}function Ji(r,i,d){if(d===null)r.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+d)}}function Ts(r,i,d,h){if(h===null)r.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(i,d,""+h)}}var xl,ls;function yr(r){if(xl===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);xl=i&&i[1]||"",ls=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xl+r+ls}var Cs=!1;function Ja(r,i){if(!r||Cs)return"";Cs=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(re){var se=re}Reflect.construct(r,[],he)}else{try{he.call()}catch(re){se=re}r.call(he.prototype)}}else{try{throw Error()}catch(re){se=re}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(re){if(re&&se&&typeof re.stack=="string")return[re.stack,se.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),C=y[0],L=y[1];if(C&&L){var I=C.split(`
`),te=L.split(`
`);for(x=h=0;h<I.length&&!I[h].includes("DetermineComponentFrameRoot");)h++;for(;x<te.length&&!te[x].includes("DetermineComponentFrameRoot");)x++;if(h===I.length||x===te.length)for(h=I.length-1,x=te.length-1;1<=h&&0<=x&&I[h]!==te[x];)x--;for(;1<=h&&0<=x;h--,x--)if(I[h]!==te[x]){if(h!==1||x!==1)do if(h--,x--,0>x||I[h]!==te[x]){var de=`
`+I[h].replace(" at new "," at ");return r.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",r.displayName)),de}while(1<=h&&0<=x);break}}}finally{Cs=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?yr(d):""}function qf(r){switch(r.tag){case 26:case 27:case 5:return yr(r.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 15:return Ja(r.type,!1);case 11:return Ja(r.type.render,!1);case 1:return Ja(r.type,!0);case 31:return yr("Activity");default:return""}}function $d(r){try{var i="";do i+=qf(r),r=r.return;while(r);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Un(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Id(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yl(r){var i=Id(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,y=d.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return x.call(this)},set:function(C){h=""+C,y.call(this,C)}}),Object.defineProperty(r,i,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(C){h=""+C},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function eo(r){r._valueTracker||(r._valueTracker=yl(r))}function qd(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var d=i.getValue(),h="";return r&&(h=Id(r)?r.checked?"true":"false":r.value),r=h,r!==d?(i.setValue(r),!0):!1}function ei(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var to=/[\n"\\]/g;function cn(r){return r.replace(to,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function bl(r,i,d,h,x,y,C,L){r.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.type=C:r.removeAttribute("type"),i!=null?C==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Un(i)):r.value!==""+Un(i)&&(r.value=""+Un(i)):C!=="submit"&&C!=="reset"||r.removeAttribute("value"),i!=null?vl(r,C,Un(i)):d!=null?vl(r,C,Un(d)):h!=null&&r.removeAttribute("value"),x==null&&y!=null&&(r.defaultChecked=!!y),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?r.name=""+Un(L):r.removeAttribute("name")}function ea(r,i,d,h,x,y,C,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||d!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;d=d!=null?""+Un(d):"",i=i!=null?""+Un(i):d,L||i===r.value||(r.value=i),r.defaultValue=i}h=h??x,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=L?r.checked:!!h,r.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(r.name=C)}function vl(r,i,d){i==="number"&&ei(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function ta(r,i,d,h){if(r=r.options,i){i={};for(var x=0;x<d.length;x++)i["$"+d[x]]=!0;for(d=0;d<r.length;d++)x=i.hasOwnProperty("$"+r[d].value),r[d].selected!==x&&(r[d].selected=x),x&&h&&(r[d].defaultSelected=!0)}else{for(d=""+Un(d),i=null,x=0;x<r.length;x++){if(r[x].value===d){r[x].selected=!0,h&&(r[x].defaultSelected=!0);return}i!==null||r[x].disabled||(i=r[x])}i!==null&&(i.selected=!0)}}function Yd(r,i,d){if(i!=null&&(i=""+Un(i),i!==r.value&&(r.value=i),d==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=d!=null?""+Un(d):""}function Xd(r,i,d,h){if(i==null){if(h!=null){if(d!=null)throw Error(s(92));if(K(h)){if(1<h.length)throw Error(s(93));h=h[0]}d=h}d==null&&(d=""),i=d}d=Un(i),r.defaultValue=d,h=r.textContent,h===d&&h!==""&&h!==null&&(r.value=h)}function na(r,i){if(i){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=i;return}}r.textContent=i}var Yf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wd(r,i,d){var h=i.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":h?r.setProperty(i,d):typeof d!="number"||d===0||Yf.has(i)?i==="float"?r.cssFloat=d:r[i]=(""+d).trim():r[i]=d+"px"}function no(r,i,d){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var x in i)h=i[x],i.hasOwnProperty(x)&&d[x]!==h&&Wd(r,x,h)}else for(var y in i)i.hasOwnProperty(y)&&Wd(r,y,i[y])}function ks(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function so(r){return Wf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var wl=null;function ro(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var sa=null,br=null;function Gd(r){var i=Vn(r);if(i&&(r=i.stateNode)){var d=r[ct]||null;e:switch(r=i.stateNode,i.type){case"input":if(bl(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),i=d.name,d.type==="radio"&&i!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<d.length;i++){var h=d[i];if(h!==r&&h.form===r.form){var x=h[ct]||null;if(!x)throw Error(s(90));bl(h,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<d.length;i++)h=d[i],h.form===r.form&&qd(h)}break e;case"textarea":Yd(r,d.value,d.defaultValue);break e;case"select":i=d.value,i!=null&&ta(r,!!d.multiple,i,!1)}}}var jl=!1;function Kd(r,i,d){if(jl)return r(i,d);jl=!0;try{var h=r(i);return h}finally{if(jl=!1,(sa!==null||br!==null)&&(Vu(),sa&&(i=sa,r=br,br=sa=null,Gd(i),r)))for(i=0;i<r.length;i++)Gd(r[i])}}function ti(r,i){var d=r.stateNode;if(d===null)return null;var h=d[ct]||null;if(h===null)return null;d=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(s(231,i,typeof d));return d}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sl=!1;if(Ms)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{Sl=!1}var qs=null,Nl=null,si=null;function Qd(){if(si)return si;var r,i=Nl,d=i.length,h,x="value"in qs?qs.value:qs.textContent,y=x.length;for(r=0;r<d&&i[r]===x[r];r++);var C=d-r;for(h=1;h<=C&&i[d-h]===x[y-h];h++);return si=x.slice(r,1<h?1-h:void 0)}function ao(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ze(){return!0}function io(){return!1}function nn(r){function i(d,h,x,y,C){this._reactName=d,this._targetInst=x,this.type=h,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var L in r)r.hasOwnProperty(L)&&(d=r[L],this[L]=d?d(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ze:io,this.isPropagationStopped=io,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ze)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ze)},persist:function(){},isPersistent:ze}),i}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=nn(vr),ra=p({},vr,{view:0,detail:0}),Gf=nn(ra),_l,El,ri,lo=p({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ri&&(ri&&r.type==="mousemove"?(_l=r.screenX-ri.screenX,El=r.screenY-ri.screenY):El=_l=0,ri=r),_l)},movementY:function(r){return"movementY"in r?r.movementY:El}}),Kf=nn(lo),Qf=p({},lo,{dataTransfer:0}),Zf=nn(Qf),hb=p({},ra,{relatedTarget:0}),Tl=nn(hb),Jf=p({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),em=nn(Jf),tm=p({},vr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),nm=nn(tm),sm=p({},vr,{data:0}),Zd=nn(sm),rm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},am={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},im={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function om(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=im[r])?!!i[r]:!1}function Cl(){return om}var lm=p({},ra,{key:function(r){if(r.key){var i=rm[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ao(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?am[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(r){return r.type==="keypress"?ao(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ao(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),cm=nn(lm),dm=p({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qt=nn(dm),kl=p({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),um=nn(kl),T=p({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=nn(T),E=p({},lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),z=nn(E),$=p({},vr,{newState:0,oldState:0}),ce=nn($),be=[9,13,27,32],Ee=Ms&&"CompositionEvent"in window,Oe=null;Ms&&"documentMode"in document&&(Oe=document.documentMode);var Xe=Ms&&"TextEvent"in window&&!Oe,Qe=Ms&&(!Ee||Oe&&8<Oe&&11>=Oe),Et=" ",ai=!1;function Jd(r,i){switch(r){case"keyup":return be.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ml(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var aa=!1;function eu(r,i){switch(r){case"compositionend":return Ml(i);case"keypress":return i.which!==32?null:(ai=!0,Et);case"textInput":return r=i.data,r===Et&&ai?null:r;default:return null}}function hm(r,i){if(aa)return r==="compositionend"||!Ee&&Jd(r,i)?(r=Qd(),si=Nl=qs=null,aa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Qe&&i.locale!=="ko"?null:i.data;default:return null}}var tu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nu(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!tu[r.type]:i==="textarea"}function su(r,i,d,h){sa?br?br.push(h):br=[h]:sa=h,i=qu(i,"onChange"),0<i.length&&(d=new oo("onChange","change",null,d,h),r.push({event:d,listeners:i}))}var ia=null,oa=null;function ru(r){Hv(r,0)}function la(r){var i=Za(r);if(qd(i))return r}function co(r,i){if(r==="change")return i}var Al=!1;if(Ms){var Dl;if(Ms){var Rl="oninput"in document;if(!Rl){var au=document.createElement("div");au.setAttribute("oninput","return;"),Rl=typeof au.oninput=="function"}Dl=Rl}else Dl=!1;Al=Dl&&(!document.documentMode||9<document.documentMode)}function iu(){ia&&(ia.detachEvent("onpropertychange",Ol),oa=ia=null)}function Ol(r){if(r.propertyName==="value"&&la(oa)){var i=[];su(i,oa,r,ro(r)),Kd(ru,i)}}function ME(r,i,d){r==="focusin"?(iu(),ia=i,oa=d,ia.attachEvent("onpropertychange",Ol)):r==="focusout"&&iu()}function AE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return la(oa)}function DE(r,i){if(r==="click")return la(i)}function RE(r,i){if(r==="input"||r==="change")return la(i)}function OE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Zn=typeof Object.is=="function"?Object.is:OE;function Ll(r,i){if(Zn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var d=Object.keys(r),h=Object.keys(i);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var x=d[h];if(!xe.call(i,x)||!Zn(r[x],i[x]))return!1}return!0}function fb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function mb(r,i){var d=fb(r);r=0;for(var h;d;){if(d.nodeType===3){if(h=r+d.textContent.length,r<=i&&h>=i)return{node:d,offset:i-r};r=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=fb(d)}}function pb(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?pb(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function gb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ei(r.document);i instanceof r.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)r=i.contentWindow;else break;i=ei(r.document)}return i}function fm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var LE=Ms&&"documentMode"in document&&11>=document.documentMode,uo=null,mm=null,Pl=null,pm=!1;function xb(r,i,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;pm||uo==null||uo!==ei(h)||(h=uo,"selectionStart"in h&&fm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Pl&&Ll(Pl,h)||(Pl=h,h=qu(mm,"onSelect"),0<h.length&&(i=new oo("onSelect","select",null,i,d),r.push({event:i,listeners:h}),i.target=uo)))}function ii(r,i){var d={};return d[r.toLowerCase()]=i.toLowerCase(),d["Webkit"+r]="webkit"+i,d["Moz"+r]="moz"+i,d}var ho={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionrun:ii("Transition","TransitionRun"),transitionstart:ii("Transition","TransitionStart"),transitioncancel:ii("Transition","TransitionCancel"),transitionend:ii("Transition","TransitionEnd")},gm={},yb={};Ms&&(yb=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function oi(r){if(gm[r])return gm[r];if(!ho[r])return r;var i=ho[r],d;for(d in i)if(i.hasOwnProperty(d)&&d in yb)return gm[r]=i[d];return r}var bb=oi("animationend"),vb=oi("animationiteration"),wb=oi("animationstart"),PE=oi("transitionrun"),zE=oi("transitionstart"),BE=oi("transitioncancel"),jb=oi("transitionend"),Sb=new Map,xm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xm.push("scrollEnd");function As(r,i){Sb.set(r,i),xr(i,[r])}var Nb=new WeakMap;function cs(r,i){if(typeof r=="object"&&r!==null){var d=Nb.get(r);return d!==void 0?d:(i={value:r,source:i,stack:$d(i)},Nb.set(r,i),i)}return{value:r,source:i,stack:$d(i)}}var ds=[],fo=0,ym=0;function ou(){for(var r=fo,i=ym=fo=0;i<r;){var d=ds[i];ds[i++]=null;var h=ds[i];ds[i++]=null;var x=ds[i];ds[i++]=null;var y=ds[i];if(ds[i++]=null,h!==null&&x!==null){var C=h.pending;C===null?x.next=x:(x.next=C.next,C.next=x),h.pending=x}y!==0&&_b(d,x,y)}}function lu(r,i,d,h){ds[fo++]=r,ds[fo++]=i,ds[fo++]=d,ds[fo++]=h,ym|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function bm(r,i,d,h){return lu(r,i,d,h),cu(r)}function mo(r,i){return lu(r,null,null,i),cu(r)}function _b(r,i,d){r.lanes|=d;var h=r.alternate;h!==null&&(h.lanes|=d);for(var x=!1,y=r.return;y!==null;)y.childLanes|=d,h=y.alternate,h!==null&&(h.childLanes|=d),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(x=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,x&&i!==null&&(x=31-Ce(d),r=y.hiddenUpdates,h=r[x],h===null?r[x]=[i]:h.push(i),i.lane=d|536870912),y):null}function cu(r){if(50<oc)throw oc=0,_p=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var po={};function VE(r,i,d,h){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(r,i,d,h){return new VE(r,i,d,h)}function vm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wr(r,i){var d=r.alternate;return d===null?(d=Jn(r.tag,i,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=i,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,i=r.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Eb(r,i){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,i=d.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function du(r,i,d,h,x,y){var C=0;if(h=r,typeof r=="function")vm(r)&&(C=1);else if(typeof r=="string")C=HT(r,d,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=Jn(31,d,i,x),r.elementType=U,r.lanes=y,r;case j:return li(d.children,x,y,i);case S:C=8,x|=24;break;case N:return r=Jn(12,d,i,x|2),r.elementType=N,r.lanes=y,r;case M:return r=Jn(13,d,i,x),r.elementType=M,r.lanes=y,r;case P:return r=Jn(19,d,i,x),r.elementType=P,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case k:C=10;break e;case A:C=9;break e;case O:C=11;break e;case V:C=14;break e;case D:C=16,h=null;break e}C=29,d=Error(s(130,r===null?"null":typeof r,"")),h=null}return i=Jn(C,d,i,x),i.elementType=r,i.type=h,i.lanes=y,i}function li(r,i,d,h){return r=Jn(7,r,h,i),r.lanes=d,r}function wm(r,i,d){return r=Jn(6,r,null,i),r.lanes=d,r}function jm(r,i,d){return i=Jn(4,r.children!==null?r.children:[],r.key,i),i.lanes=d,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var go=[],xo=0,uu=null,hu=0,us=[],hs=0,ci=null,jr=1,Sr="";function di(r,i){go[xo++]=hu,go[xo++]=uu,uu=r,hu=i}function Tb(r,i,d){us[hs++]=jr,us[hs++]=Sr,us[hs++]=ci,ci=r;var h=jr;r=Sr;var x=32-Ce(h)-1;h&=~(1<<x),d+=1;var y=32-Ce(i)+x;if(30<y){var C=x-x%5;y=(h&(1<<C)-1).toString(32),h>>=C,x-=C,jr=1<<32-Ce(i)+x|d<<x|h,Sr=y+r}else jr=1<<y|d<<x|h,Sr=r}function Sm(r){r.return!==null&&(di(r,1),Tb(r,1,0))}function Nm(r){for(;r===uu;)uu=go[--xo],go[xo]=null,hu=go[--xo],go[xo]=null;for(;r===ci;)ci=us[--hs],us[hs]=null,Sr=us[--hs],us[hs]=null,jr=us[--hs],us[hs]=null}var An=null,Rt=null,tt=!1,ui=null,Ys=!1,_m=Error(s(519));function hi(r){var i=Error(s(418,""));throw Vl(cs(i,r)),_m}function Cb(r){var i=r.stateNode,d=r.type,h=r.memoizedProps;switch(i[pt]=r,i[ct]=h,d){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(d=0;d<cc.length;d++)qe(cc[d],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":qe("invalid",i),ea(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),eo(i);break;case"select":qe("invalid",i);break;case"textarea":qe("invalid",i),Xd(i,h.value,h.defaultValue,h.children),eo(i)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||i.textContent===""+d||h.suppressHydrationWarning===!0||qv(i.textContent,d)?(h.popover!=null&&(qe("beforetoggle",i),qe("toggle",i)),h.onScroll!=null&&qe("scroll",i),h.onScrollEnd!=null&&qe("scrollend",i),h.onClick!=null&&(i.onclick=Yu),i=!0):i=!1,i||hi(r)}function kb(r){for(An=r.return;An;)switch(An.tag){case 5:case 13:Ys=!1;return;case 27:case 3:Ys=!0;return;default:An=An.return}}function zl(r){if(r!==An)return!1;if(!tt)return kb(r),tt=!0,!1;var i=r.tag,d;if((d=i!==3&&i!==27)&&((d=i===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||Hp(r.type,r.memoizedProps)),d=!d),d&&Rt&&hi(r),kb(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(i===0){Rt=Rs(r.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++;r=r.nextSibling}Rt=null}}else i===27?(i=Rt,Na(r.type)?(r=qp,qp=null,Rt=r):Rt=i):Rt=An?Rs(r.stateNode.nextSibling):null;return!0}function Bl(){Rt=An=null,tt=!1}function Mb(){var r=ui;return r!==null&&($n===null?$n=r:$n.push.apply($n,r),ui=null),r}function Vl(r){ui===null?ui=[r]:ui.push(r)}var Em=Z(null),fi=null,Nr=null;function ca(r,i,d){le(Em,i._currentValue),i._currentValue=d}function _r(r){r._currentValue=Em.current,ae(Em)}function Tm(r,i,d){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===d)break;r=r.return}}function Cm(r,i,d,h){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var y=x.dependencies;if(y!==null){var C=x.child;y=y.firstContext;e:for(;y!==null;){var L=y;y=x;for(var I=0;I<i.length;I++)if(L.context===i[I]){y.lanes|=d,L=y.alternate,L!==null&&(L.lanes|=d),Tm(y.return,d,r),h||(C=null);break e}y=L.next}}else if(x.tag===18){if(C=x.return,C===null)throw Error(s(341));C.lanes|=d,y=C.alternate,y!==null&&(y.lanes|=d),Tm(C,d,r),C=null}else C=x.child;if(C!==null)C.return=x;else for(C=x;C!==null;){if(C===r){C=null;break}if(x=C.sibling,x!==null){x.return=C.return,C=x;break}C=C.return}x=C}}function Ul(r,i,d,h){r=null;for(var x=i,y=!1;x!==null;){if(!y){if((x.flags&524288)!==0)y=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var C=x.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var L=x.type;Zn(x.pendingProps.value,C.value)||(r!==null?r.push(L):r=[L])}}else if(x===ot.current){if(C=x.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(pc):r=[pc])}x=x.return}r!==null&&Cm(i,r,d,h),i.flags|=262144}function fu(r){for(r=r.firstContext;r!==null;){if(!Zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function mi(r){fi=r,Nr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function wn(r){return Ab(fi,r)}function mu(r,i){return fi===null&&mi(r),Ab(r,i)}function Ab(r,i){var d=i._currentValue;if(i={context:i,memoizedValue:d,next:null},Nr===null){if(r===null)throw Error(s(308));Nr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Nr=Nr.next=i;return d}var UE=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(d,h){r.push(h)}};this.abort=function(){i.aborted=!0,r.forEach(function(d){return d()})}},HE=t.unstable_scheduleCallback,FE=t.unstable_NormalPriority,sn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function km(){return{controller:new UE,data:new Map,refCount:0}}function Hl(r){r.refCount--,r.refCount===0&&HE(FE,function(){r.controller.abort()})}var Fl=null,Mm=0,yo=0,bo=null;function $E(r,i){if(Fl===null){var d=Fl=[];Mm=0,yo=Dp(),bo={status:"pending",value:void 0,then:function(h){d.push(h)}}}return Mm++,i.then(Db,Db),i}function Db(){if(--Mm===0&&Fl!==null){bo!==null&&(bo.status="fulfilled");var r=Fl;Fl=null,yo=0,bo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function IE(r,i){var d=[],h={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return r.then(function(){h.status="fulfilled",h.value=i;for(var x=0;x<d.length;x++)(0,d[x])(i)},function(x){for(h.status="rejected",h.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),h}var Rb=B.S;B.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&$E(r,i),Rb!==null&&Rb(r,i)};var pi=Z(null);function Am(){var r=pi.current;return r!==null?r:gt.pooledCache}function pu(r,i){i===null?le(pi,pi.current):le(pi,i.pool)}function Ob(){var r=Am();return r===null?null:{parent:sn._currentValue,pool:r}}var $l=Error(s(460)),Lb=Error(s(474)),gu=Error(s(542)),Dm={then:function(){}};function Pb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xu(){}function zb(r,i,d){switch(d=r[d],d===void 0?r.push(i):d!==i&&(i.then(xu,xu),i=d),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Vb(r),r;default:if(typeof i.status=="string")i.then(xu,xu);else{if(r=gt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(h){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=h}},function(h){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Vb(r),r}throw Il=i,$l}}var Il=null;function Bb(){if(Il===null)throw Error(s(459));var r=Il;return Il=null,r}function Vb(r){if(r===$l||r===gu)throw Error(s(483))}var da=!1;function Rm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ua(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ha(r,i,d){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(nt&2)!==0){var x=h.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),h.pending=i,i=cu(r),_b(r,null,d),i}return lu(r,h,i,d),cu(r)}function ql(r,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194048)!==0)){var h=i.lanes;h&=r.pendingLanes,d|=h,i.lanes=d,vt(r,d)}}function Lm(r,i){var d=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var x=null,y=null;if(d=d.firstBaseUpdate,d!==null){do{var C={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};y===null?x=y=C:y=y.next=C,d=d.next}while(d!==null);y===null?x=y=i:y=y.next=i}else x=y=i;d={baseState:h.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=i:r.next=i,d.lastBaseUpdate=i}var Pm=!1;function Yl(){if(Pm){var r=bo;if(r!==null)throw r}}function Xl(r,i,d,h){Pm=!1;var x=r.updateQueue;da=!1;var y=x.firstBaseUpdate,C=x.lastBaseUpdate,L=x.shared.pending;if(L!==null){x.shared.pending=null;var I=L,te=I.next;I.next=null,C===null?y=te:C.next=te,C=I;var de=r.alternate;de!==null&&(de=de.updateQueue,L=de.lastBaseUpdate,L!==C&&(L===null?de.firstBaseUpdate=te:L.next=te,de.lastBaseUpdate=I))}if(y!==null){var he=x.baseState;C=0,de=te=I=null,L=y;do{var se=L.lane&-536870913,re=se!==L.lane;if(re?(We&se)===se:(h&se)===se){se!==0&&se===yo&&(Pm=!0),de!==null&&(de=de.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Le=r,De=L;se=i;var ht=d;switch(De.tag){case 1:if(Le=De.payload,typeof Le=="function"){he=Le.call(ht,he,se);break e}he=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=De.payload,se=typeof Le=="function"?Le.call(ht,he,se):Le,se==null)break e;he=p({},he,se);break e;case 2:da=!0}}se=L.callback,se!==null&&(r.flags|=64,re&&(r.flags|=8192),re=x.callbacks,re===null?x.callbacks=[se]:re.push(se))}else re={lane:se,tag:L.tag,payload:L.payload,callback:L.callback,next:null},de===null?(te=de=re,I=he):de=de.next=re,C|=se;if(L=L.next,L===null){if(L=x.shared.pending,L===null)break;re=L,L=re.next,re.next=null,x.lastBaseUpdate=re,x.shared.pending=null}}while(!0);de===null&&(I=he),x.baseState=I,x.firstBaseUpdate=te,x.lastBaseUpdate=de,y===null&&(x.shared.lanes=0),va|=C,r.lanes=C,r.memoizedState=he}}function Ub(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Hb(r,i){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)Ub(d[r],i)}var vo=Z(null),yu=Z(0);function Fb(r,i){r=Dr,le(yu,r),le(vo,i),Dr=r|i.baseLanes}function zm(){le(yu,Dr),le(vo,vo.current)}function Bm(){Dr=yu.current,ae(vo),ae(yu)}var fa=0,Fe=null,dt=null,Zt=null,bu=!1,wo=!1,gi=!1,vu=0,Wl=0,jo=null,qE=0;function $t(){throw Error(s(321))}function Vm(r,i){if(i===null)return!1;for(var d=0;d<i.length&&d<r.length;d++)if(!Zn(r[d],i[d]))return!1;return!0}function Um(r,i,d,h,x,y){return fa=y,Fe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=r===null||r.memoizedState===null?_0:E0,gi=!1,y=d(h,x),gi=!1,wo&&(y=Ib(i,d,h,x)),$b(r),y}function $b(r){B.H=Eu;var i=dt!==null&&dt.next!==null;if(fa=0,Zt=dt=Fe=null,bu=!1,Wl=0,jo=null,i)throw Error(s(300));r===null||dn||(r=r.dependencies,r!==null&&fu(r)&&(dn=!0))}function Ib(r,i,d,h){Fe=r;var x=0;do{if(wo&&(jo=null),Wl=0,wo=!1,25<=x)throw Error(s(301));if(x+=1,Zt=dt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=ZE,y=i(d,h)}while(wo);return y}function YE(){var r=B.H,i=r.useState()[0];return i=typeof i.then=="function"?Gl(i):i,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(Fe.flags|=1024),i}function Hm(){var r=vu!==0;return vu=0,r}function Fm(r,i,d){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d}function $m(r){if(bu){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bu=!1}fa=0,Zt=dt=Fe=null,wo=!1,Wl=vu=0,jo=null}function Hn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Fe.memoizedState=Zt=r:Zt=Zt.next=r,Zt}function Jt(){if(dt===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var i=Zt===null?Fe.memoizedState:Zt.next;if(i!==null)Zt=i,dt=r;else{if(r===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Zt===null?Fe.memoizedState=Zt=r:Zt=Zt.next=r}return Zt}function Im(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(r){var i=Wl;return Wl+=1,jo===null&&(jo=[]),r=zb(jo,r,i),i=Fe,(Zt===null?i.memoizedState:Zt.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?_0:E0),r}function wu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Gl(r);if(r.$$typeof===k)return wn(r)}throw Error(s(438,String(r)))}function qm(r){var i=null,d=Fe.updateQueue;if(d!==null&&(i=d.memoCache),i==null){var h=Fe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),d===null&&(d=Im(),Fe.updateQueue=d),d.memoCache=i,d=i.data[i.index],d===void 0)for(d=i.data[i.index]=Array(r),h=0;h<r;h++)d[h]=Y;return i.index++,d}function Er(r,i){return typeof i=="function"?i(r):i}function ju(r){var i=Jt();return Ym(i,dt,r)}function Ym(r,i,d){var h=r.queue;if(h===null)throw Error(s(311));h.lastRenderedReducer=d;var x=r.baseQueue,y=h.pending;if(y!==null){if(x!==null){var C=x.next;x.next=y.next,y.next=C}i.baseQueue=x=y,h.pending=null}if(y=r.baseState,x===null)r.memoizedState=y;else{i=x.next;var L=C=null,I=null,te=i,de=!1;do{var he=te.lane&-536870913;if(he!==te.lane?(We&he)===he:(fa&he)===he){var se=te.revertLane;if(se===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),he===yo&&(de=!0);else if((fa&se)===se){te=te.next,se===yo&&(de=!0);continue}else he={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},I===null?(L=I=he,C=y):I=I.next=he,Fe.lanes|=se,va|=se;he=te.action,gi&&d(y,he),y=te.hasEagerState?te.eagerState:d(y,he)}else se={lane:he,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},I===null?(L=I=se,C=y):I=I.next=se,Fe.lanes|=he,va|=he;te=te.next}while(te!==null&&te!==i);if(I===null?C=y:I.next=L,!Zn(y,r.memoizedState)&&(dn=!0,de&&(d=bo,d!==null)))throw d;r.memoizedState=y,r.baseState=C,r.baseQueue=I,h.lastRenderedState=y}return x===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function Xm(r){var i=Jt(),d=i.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=r;var h=d.dispatch,x=d.pending,y=i.memoizedState;if(x!==null){d.pending=null;var C=x=x.next;do y=r(y,C.action),C=C.next;while(C!==x);Zn(y,i.memoizedState)||(dn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),d.lastRenderedState=y}return[y,h]}function qb(r,i,d){var h=Fe,x=Jt(),y=tt;if(y){if(d===void 0)throw Error(s(407));d=d()}else d=i();var C=!Zn((dt||x).memoizedState,d);C&&(x.memoizedState=d,dn=!0),x=x.queue;var L=Wb.bind(null,h,x,r);if(Kl(2048,8,L,[r]),x.getSnapshot!==i||C||Zt!==null&&Zt.memoizedState.tag&1){if(h.flags|=2048,So(9,Su(),Xb.bind(null,h,x,d,i),null),gt===null)throw Error(s(349));y||(fa&124)!==0||Yb(h,i,d)}return d}function Yb(r,i,d){r.flags|=16384,r={getSnapshot:i,value:d},i=Fe.updateQueue,i===null?(i=Im(),Fe.updateQueue=i,i.stores=[r]):(d=i.stores,d===null?i.stores=[r]:d.push(r))}function Xb(r,i,d,h){i.value=d,i.getSnapshot=h,Gb(i)&&Kb(r)}function Wb(r,i,d){return d(function(){Gb(i)&&Kb(r)})}function Gb(r){var i=r.getSnapshot;r=r.value;try{var d=i();return!Zn(r,d)}catch{return!0}}function Kb(r){var i=mo(r,2);i!==null&&rs(i,r,2)}function Wm(r){var i=Hn();if(typeof r=="function"){var d=r;if(r=d(),gi){ke(!0);try{d()}finally{ke(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:r},i}function Qb(r,i,d,h){return r.baseState=d,Ym(r,dt,typeof h=="function"?h:Er)}function XE(r,i,d,h,x){if(_u(r))throw Error(s(485));if(r=i.action,r!==null){var y={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};B.T!==null?d(!0):y.isTransition=!1,h(y),d=i.pending,d===null?(y.next=i.pending=y,Zb(i,y)):(y.next=d.next,i.pending=d.next=y)}}function Zb(r,i){var d=i.action,h=i.payload,x=r.state;if(i.isTransition){var y=B.T,C={};B.T=C;try{var L=d(x,h),I=B.S;I!==null&&I(C,L),Jb(r,i,L)}catch(te){Gm(r,i,te)}finally{B.T=y}}else try{y=d(x,h),Jb(r,i,y)}catch(te){Gm(r,i,te)}}function Jb(r,i,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){e0(r,i,h)},function(h){return Gm(r,i,h)}):e0(r,i,d)}function e0(r,i,d){i.status="fulfilled",i.value=d,t0(i),r.state=d,i=r.pending,i!==null&&(d=i.next,d===i?r.pending=null:(d=d.next,i.next=d,Zb(r,d)))}function Gm(r,i,d){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=d,t0(i),i=i.next;while(i!==h)}r.action=null}function t0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function n0(r,i){return i}function s0(r,i){if(tt){var d=gt.formState;if(d!==null){e:{var h=Fe;if(tt){if(Rt){t:{for(var x=Rt,y=Ys;x.nodeType!==8;){if(!y){x=null;break t}if(x=Rs(x.nextSibling),x===null){x=null;break t}}y=x.data,x=y==="F!"||y==="F"?x:null}if(x){Rt=Rs(x.nextSibling),h=x.data==="F!";break e}}hi(h)}h=!1}h&&(i=d[0])}}return d=Hn(),d.memoizedState=d.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n0,lastRenderedState:i},d.queue=h,d=j0.bind(null,Fe,h),h.dispatch=d,h=Wm(!1),y=ep.bind(null,Fe,!1,h.queue),h=Hn(),x={state:i,dispatch:null,action:r,pending:null},h.queue=x,d=XE.bind(null,Fe,x,y,d),x.dispatch=d,h.memoizedState=r,[i,d,!1]}function r0(r){var i=Jt();return a0(i,dt,r)}function a0(r,i,d){if(i=Ym(r,i,n0)[0],r=ju(Er)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Gl(i)}catch(C){throw C===$l?gu:C}else h=i;i=Jt();var x=i.queue,y=x.dispatch;return d!==i.memoizedState&&(Fe.flags|=2048,So(9,Su(),WE.bind(null,x,d),null)),[h,y,r]}function WE(r,i){r.action=i}function i0(r){var i=Jt(),d=dt;if(d!==null)return a0(i,d,r);Jt(),i=i.memoizedState,d=Jt();var h=d.queue.dispatch;return d.memoizedState=r,[i,h,!1]}function So(r,i,d,h){return r={tag:r,create:d,deps:h,inst:i,next:null},i=Fe.updateQueue,i===null&&(i=Im(),Fe.updateQueue=i),d=i.lastEffect,d===null?i.lastEffect=r.next=r:(h=d.next,d.next=r,r.next=h,i.lastEffect=r),r}function Su(){return{destroy:void 0,resource:void 0}}function o0(){return Jt().memoizedState}function Nu(r,i,d,h){var x=Hn();h=h===void 0?null:h,Fe.flags|=r,x.memoizedState=So(1|i,Su(),d,h)}function Kl(r,i,d,h){var x=Jt();h=h===void 0?null:h;var y=x.memoizedState.inst;dt!==null&&h!==null&&Vm(h,dt.memoizedState.deps)?x.memoizedState=So(i,y,d,h):(Fe.flags|=r,x.memoizedState=So(1|i,y,d,h))}function l0(r,i){Nu(8390656,8,r,i)}function c0(r,i){Kl(2048,8,r,i)}function d0(r,i){return Kl(4,2,r,i)}function u0(r,i){return Kl(4,4,r,i)}function h0(r,i){if(typeof i=="function"){r=r();var d=i(r);return function(){typeof d=="function"?d():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function f0(r,i,d){d=d!=null?d.concat([r]):null,Kl(4,4,h0.bind(null,i,r),d)}function Km(){}function m0(r,i){var d=Jt();i=i===void 0?null:i;var h=d.memoizedState;return i!==null&&Vm(i,h[1])?h[0]:(d.memoizedState=[r,i],r)}function p0(r,i){var d=Jt();i=i===void 0?null:i;var h=d.memoizedState;if(i!==null&&Vm(i,h[1]))return h[0];if(h=r(),gi){ke(!0);try{r()}finally{ke(!1)}}return d.memoizedState=[h,i],h}function Qm(r,i,d){return d===void 0||(fa&1073741824)!==0?r.memoizedState=i:(r.memoizedState=d,r=yv(),Fe.lanes|=r,va|=r,d)}function g0(r,i,d,h){return Zn(d,i)?d:vo.current!==null?(r=Qm(r,d,h),Zn(r,i)||(dn=!0),r):(fa&42)===0?(dn=!0,r.memoizedState=d):(r=yv(),Fe.lanes|=r,va|=r,i)}function x0(r,i,d,h,x){var y=F.p;F.p=y!==0&&8>y?y:8;var C=B.T,L={};B.T=L,ep(r,!1,i,d);try{var I=x(),te=B.S;if(te!==null&&te(L,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var de=IE(I,h);Ql(r,i,de,ss(r))}else Ql(r,i,h,ss(r))}catch(he){Ql(r,i,{then:function(){},status:"rejected",reason:he},ss())}finally{F.p=y,B.T=C}}function GE(){}function Zm(r,i,d,h){if(r.tag!==5)throw Error(s(476));var x=y0(r).queue;x0(r,x,i,q,d===null?GE:function(){return b0(r),d(h)})}function y0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:q},next:null};var d={};return i.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:d},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function b0(r){var i=y0(r).next.queue;Ql(r,i,{},ss())}function Jm(){return wn(pc)}function v0(){return Jt().memoizedState}function w0(){return Jt().memoizedState}function KE(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var d=ss();r=ua(d);var h=ha(i,r,d);h!==null&&(rs(h,i,d),ql(h,i,d)),i={cache:km()},r.payload=i;return}i=i.return}}function QE(r,i,d){var h=ss();d={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},_u(r)?S0(i,d):(d=bm(r,i,d,h),d!==null&&(rs(d,r,h),N0(d,i,h)))}function j0(r,i,d){var h=ss();Ql(r,i,d,h)}function Ql(r,i,d,h){var x={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(_u(r))S0(i,x);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var C=i.lastRenderedState,L=y(C,d);if(x.hasEagerState=!0,x.eagerState=L,Zn(L,C))return lu(r,i,x,0),gt===null&&ou(),!1}catch{}finally{}if(d=bm(r,i,x,h),d!==null)return rs(d,r,h),N0(d,i,h),!0}return!1}function ep(r,i,d,h){if(h={lane:2,revertLane:Dp(),action:h,hasEagerState:!1,eagerState:null,next:null},_u(r)){if(i)throw Error(s(479))}else i=bm(r,d,h,2),i!==null&&rs(i,r,2)}function _u(r){var i=r.alternate;return r===Fe||i!==null&&i===Fe}function S0(r,i){wo=bu=!0;var d=r.pending;d===null?i.next=i:(i.next=d.next,d.next=i),r.pending=i}function N0(r,i,d){if((d&4194048)!==0){var h=i.lanes;h&=r.pendingLanes,d|=h,i.lanes=d,vt(r,d)}}var Eu={readContext:wn,use:wu,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},_0={readContext:wn,use:wu,useCallback:function(r,i){return Hn().memoizedState=[r,i===void 0?null:i],r},useContext:wn,useEffect:l0,useImperativeHandle:function(r,i,d){d=d!=null?d.concat([r]):null,Nu(4194308,4,h0.bind(null,i,r),d)},useLayoutEffect:function(r,i){return Nu(4194308,4,r,i)},useInsertionEffect:function(r,i){Nu(4,2,r,i)},useMemo:function(r,i){var d=Hn();i=i===void 0?null:i;var h=r();if(gi){ke(!0);try{r()}finally{ke(!1)}}return d.memoizedState=[h,i],h},useReducer:function(r,i,d){var h=Hn();if(d!==void 0){var x=d(i);if(gi){ke(!0);try{d(i)}finally{ke(!1)}}}else x=i;return h.memoizedState=h.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},h.queue=r,r=r.dispatch=QE.bind(null,Fe,r),[h.memoizedState,r]},useRef:function(r){var i=Hn();return r={current:r},i.memoizedState=r},useState:function(r){r=Wm(r);var i=r.queue,d=j0.bind(null,Fe,i);return i.dispatch=d,[r.memoizedState,d]},useDebugValue:Km,useDeferredValue:function(r,i){var d=Hn();return Qm(d,r,i)},useTransition:function(){var r=Wm(!1);return r=x0.bind(null,Fe,r.queue,!0,!1),Hn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,d){var h=Fe,x=Hn();if(tt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=i(),gt===null)throw Error(s(349));(We&124)!==0||Yb(h,i,d)}x.memoizedState=d;var y={value:d,getSnapshot:i};return x.queue=y,l0(Wb.bind(null,h,y,r),[r]),h.flags|=2048,So(9,Su(),Xb.bind(null,h,y,d,i),null),d},useId:function(){var r=Hn(),i=gt.identifierPrefix;if(tt){var d=Sr,h=jr;d=(h&~(1<<32-Ce(h)-1)).toString(32)+d,i="«"+i+"R"+d,d=vu++,0<d&&(i+="H"+d.toString(32)),i+="»"}else d=qE++,i="«"+i+"r"+d.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Jm,useFormState:s0,useActionState:s0,useOptimistic:function(r){var i=Hn();i.memoizedState=i.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=d,i=ep.bind(null,Fe,!0,d),d.dispatch=i,[r,i]},useMemoCache:qm,useCacheRefresh:function(){return Hn().memoizedState=KE.bind(null,Fe)}},E0={readContext:wn,use:wu,useCallback:m0,useContext:wn,useEffect:c0,useImperativeHandle:f0,useInsertionEffect:d0,useLayoutEffect:u0,useMemo:p0,useReducer:ju,useRef:o0,useState:function(){return ju(Er)},useDebugValue:Km,useDeferredValue:function(r,i){var d=Jt();return g0(d,dt.memoizedState,r,i)},useTransition:function(){var r=ju(Er)[0],i=Jt().memoizedState;return[typeof r=="boolean"?r:Gl(r),i]},useSyncExternalStore:qb,useId:v0,useHostTransitionStatus:Jm,useFormState:r0,useActionState:r0,useOptimistic:function(r,i){var d=Jt();return Qb(d,dt,r,i)},useMemoCache:qm,useCacheRefresh:w0},ZE={readContext:wn,use:wu,useCallback:m0,useContext:wn,useEffect:c0,useImperativeHandle:f0,useInsertionEffect:d0,useLayoutEffect:u0,useMemo:p0,useReducer:Xm,useRef:o0,useState:function(){return Xm(Er)},useDebugValue:Km,useDeferredValue:function(r,i){var d=Jt();return dt===null?Qm(d,r,i):g0(d,dt.memoizedState,r,i)},useTransition:function(){var r=Xm(Er)[0],i=Jt().memoizedState;return[typeof r=="boolean"?r:Gl(r),i]},useSyncExternalStore:qb,useId:v0,useHostTransitionStatus:Jm,useFormState:i0,useActionState:i0,useOptimistic:function(r,i){var d=Jt();return dt!==null?Qb(d,dt,r,i):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:qm,useCacheRefresh:w0},No=null,Zl=0;function Tu(r){var i=Zl;return Zl+=1,No===null&&(No=[]),zb(No,r,i)}function Jl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Cu(r,i){throw i.$$typeof===g?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function T0(r){var i=r._init;return i(r._payload)}function C0(r){function i(Q,W){if(r){var J=Q.deletions;J===null?(Q.deletions=[W],Q.flags|=16):J.push(W)}}function d(Q,W){if(!r)return null;for(;W!==null;)i(Q,W),W=W.sibling;return null}function h(Q){for(var W=new Map;Q!==null;)Q.key!==null?W.set(Q.key,Q):W.set(Q.index,Q),Q=Q.sibling;return W}function x(Q,W){return Q=wr(Q,W),Q.index=0,Q.sibling=null,Q}function y(Q,W,J){return Q.index=J,r?(J=Q.alternate,J!==null?(J=J.index,J<W?(Q.flags|=67108866,W):J):(Q.flags|=67108866,W)):(Q.flags|=1048576,W)}function C(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function L(Q,W,J,ue){return W===null||W.tag!==6?(W=wm(J,Q.mode,ue),W.return=Q,W):(W=x(W,J),W.return=Q,W)}function I(Q,W,J,ue){var Te=J.type;return Te===j?de(Q,W,J.props.children,ue,J.key):W!==null&&(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===D&&T0(Te)===W.type)?(W=x(W,J.props),Jl(W,J),W.return=Q,W):(W=du(J.type,J.key,J.props,null,Q.mode,ue),Jl(W,J),W.return=Q,W)}function te(Q,W,J,ue){return W===null||W.tag!==4||W.stateNode.containerInfo!==J.containerInfo||W.stateNode.implementation!==J.implementation?(W=jm(J,Q.mode,ue),W.return=Q,W):(W=x(W,J.children||[]),W.return=Q,W)}function de(Q,W,J,ue,Te){return W===null||W.tag!==7?(W=li(J,Q.mode,ue,Te),W.return=Q,W):(W=x(W,J),W.return=Q,W)}function he(Q,W,J){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=wm(""+W,Q.mode,J),W.return=Q,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return J=du(W.type,W.key,W.props,null,Q.mode,J),Jl(J,W),J.return=Q,J;case v:return W=jm(W,Q.mode,J),W.return=Q,W;case D:var ue=W._init;return W=ue(W._payload),he(Q,W,J)}if(K(W)||X(W))return W=li(W,Q.mode,J,null),W.return=Q,W;if(typeof W.then=="function")return he(Q,Tu(W),J);if(W.$$typeof===k)return he(Q,mu(Q,W),J);Cu(Q,W)}return null}function se(Q,W,J,ue){var Te=W!==null?W.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Te!==null?null:L(Q,W,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Te?I(Q,W,J,ue):null;case v:return J.key===Te?te(Q,W,J,ue):null;case D:return Te=J._init,J=Te(J._payload),se(Q,W,J,ue)}if(K(J)||X(J))return Te!==null?null:de(Q,W,J,ue,null);if(typeof J.then=="function")return se(Q,W,Tu(J),ue);if(J.$$typeof===k)return se(Q,W,mu(Q,J),ue);Cu(Q,J)}return null}function re(Q,W,J,ue,Te){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(J)||null,L(W,Q,""+ue,Te);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case b:return Q=Q.get(ue.key===null?J:ue.key)||null,I(W,Q,ue,Te);case v:return Q=Q.get(ue.key===null?J:ue.key)||null,te(W,Q,ue,Te);case D:var $e=ue._init;return ue=$e(ue._payload),re(Q,W,J,ue,Te)}if(K(ue)||X(ue))return Q=Q.get(J)||null,de(W,Q,ue,Te,null);if(typeof ue.then=="function")return re(Q,W,J,Tu(ue),Te);if(ue.$$typeof===k)return re(Q,W,J,mu(W,ue),Te);Cu(W,ue)}return null}function Le(Q,W,J,ue){for(var Te=null,$e=null,Ae=W,Re=W=0,hn=null;Ae!==null&&Re<J.length;Re++){Ae.index>Re?(hn=Ae,Ae=null):hn=Ae.sibling;var Ze=se(Q,Ae,J[Re],ue);if(Ze===null){Ae===null&&(Ae=hn);break}r&&Ae&&Ze.alternate===null&&i(Q,Ae),W=y(Ze,W,Re),$e===null?Te=Ze:$e.sibling=Ze,$e=Ze,Ae=hn}if(Re===J.length)return d(Q,Ae),tt&&di(Q,Re),Te;if(Ae===null){for(;Re<J.length;Re++)Ae=he(Q,J[Re],ue),Ae!==null&&(W=y(Ae,W,Re),$e===null?Te=Ae:$e.sibling=Ae,$e=Ae);return tt&&di(Q,Re),Te}for(Ae=h(Ae);Re<J.length;Re++)hn=re(Ae,Q,Re,J[Re],ue),hn!==null&&(r&&hn.alternate!==null&&Ae.delete(hn.key===null?Re:hn.key),W=y(hn,W,Re),$e===null?Te=hn:$e.sibling=hn,$e=hn);return r&&Ae.forEach(function(ka){return i(Q,ka)}),tt&&di(Q,Re),Te}function De(Q,W,J,ue){if(J==null)throw Error(s(151));for(var Te=null,$e=null,Ae=W,Re=W=0,hn=null,Ze=J.next();Ae!==null&&!Ze.done;Re++,Ze=J.next()){Ae.index>Re?(hn=Ae,Ae=null):hn=Ae.sibling;var ka=se(Q,Ae,Ze.value,ue);if(ka===null){Ae===null&&(Ae=hn);break}r&&Ae&&ka.alternate===null&&i(Q,Ae),W=y(ka,W,Re),$e===null?Te=ka:$e.sibling=ka,$e=ka,Ae=hn}if(Ze.done)return d(Q,Ae),tt&&di(Q,Re),Te;if(Ae===null){for(;!Ze.done;Re++,Ze=J.next())Ze=he(Q,Ze.value,ue),Ze!==null&&(W=y(Ze,W,Re),$e===null?Te=Ze:$e.sibling=Ze,$e=Ze);return tt&&di(Q,Re),Te}for(Ae=h(Ae);!Ze.done;Re++,Ze=J.next())Ze=re(Ae,Q,Re,Ze.value,ue),Ze!==null&&(r&&Ze.alternate!==null&&Ae.delete(Ze.key===null?Re:Ze.key),W=y(Ze,W,Re),$e===null?Te=Ze:$e.sibling=Ze,$e=Ze);return r&&Ae.forEach(function(JT){return i(Q,JT)}),tt&&di(Q,Re),Te}function ht(Q,W,J,ue){if(typeof J=="object"&&J!==null&&J.type===j&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Te=J.key;W!==null;){if(W.key===Te){if(Te=J.type,Te===j){if(W.tag===7){d(Q,W.sibling),ue=x(W,J.props.children),ue.return=Q,Q=ue;break e}}else if(W.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===D&&T0(Te)===W.type){d(Q,W.sibling),ue=x(W,J.props),Jl(ue,J),ue.return=Q,Q=ue;break e}d(Q,W);break}else i(Q,W);W=W.sibling}J.type===j?(ue=li(J.props.children,Q.mode,ue,J.key),ue.return=Q,Q=ue):(ue=du(J.type,J.key,J.props,null,Q.mode,ue),Jl(ue,J),ue.return=Q,Q=ue)}return C(Q);case v:e:{for(Te=J.key;W!==null;){if(W.key===Te)if(W.tag===4&&W.stateNode.containerInfo===J.containerInfo&&W.stateNode.implementation===J.implementation){d(Q,W.sibling),ue=x(W,J.children||[]),ue.return=Q,Q=ue;break e}else{d(Q,W);break}else i(Q,W);W=W.sibling}ue=jm(J,Q.mode,ue),ue.return=Q,Q=ue}return C(Q);case D:return Te=J._init,J=Te(J._payload),ht(Q,W,J,ue)}if(K(J))return Le(Q,W,J,ue);if(X(J)){if(Te=X(J),typeof Te!="function")throw Error(s(150));return J=Te.call(J),De(Q,W,J,ue)}if(typeof J.then=="function")return ht(Q,W,Tu(J),ue);if(J.$$typeof===k)return ht(Q,W,mu(Q,J),ue);Cu(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,W!==null&&W.tag===6?(d(Q,W.sibling),ue=x(W,J),ue.return=Q,Q=ue):(d(Q,W),ue=wm(J,Q.mode,ue),ue.return=Q,Q=ue),C(Q)):d(Q,W)}return function(Q,W,J,ue){try{Zl=0;var Te=ht(Q,W,J,ue);return No=null,Te}catch(Ae){if(Ae===$l||Ae===gu)throw Ae;var $e=Jn(29,Ae,null,Q.mode);return $e.lanes=ue,$e.return=Q,$e}finally{}}}var _o=C0(!0),k0=C0(!1),fs=Z(null),Xs=null;function ma(r){var i=r.alternate;le(rn,rn.current&1),le(fs,r),Xs===null&&(i===null||vo.current!==null||i.memoizedState!==null)&&(Xs=r)}function M0(r){if(r.tag===22){if(le(rn,rn.current),le(fs,r),Xs===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Xs=r)}}else pa()}function pa(){le(rn,rn.current),le(fs,fs.current)}function Tr(r){ae(fs),Xs===r&&(Xs=null),ae(rn)}var rn=Z(0);function ku(r){for(var i=r;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Ip(d)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function tp(r,i,d,h){i=r.memoizedState,d=d(h,i),d=d==null?i:p({},i,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var np={enqueueSetState:function(r,i,d){r=r._reactInternals;var h=ss(),x=ua(h);x.payload=i,d!=null&&(x.callback=d),i=ha(r,x,h),i!==null&&(rs(i,r,h),ql(i,r,h))},enqueueReplaceState:function(r,i,d){r=r._reactInternals;var h=ss(),x=ua(h);x.tag=1,x.payload=i,d!=null&&(x.callback=d),i=ha(r,x,h),i!==null&&(rs(i,r,h),ql(i,r,h))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var d=ss(),h=ua(d);h.tag=2,i!=null&&(h.callback=i),i=ha(r,h,d),i!==null&&(rs(i,r,d),ql(i,r,d))}};function A0(r,i,d,h,x,y,C){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,C):i.prototype&&i.prototype.isPureReactComponent?!Ll(d,h)||!Ll(x,y):!0}function D0(r,i,d,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,h),i.state!==r&&np.enqueueReplaceState(i,i.state,null)}function xi(r,i){var d=i;if("ref"in i){d={};for(var h in i)h!=="ref"&&(d[h]=i[h])}if(r=r.defaultProps){d===i&&(d=p({},d));for(var x in r)d[x]===void 0&&(d[x]=r[x])}return d}var Mu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function R0(r){Mu(r)}function O0(r){console.error(r)}function L0(r){Mu(r)}function Au(r,i){try{var d=r.onUncaughtError;d(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function P0(r,i,d){try{var h=r.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function sp(r,i,d){return d=ua(d),d.tag=3,d.payload={element:null},d.callback=function(){Au(r,i)},d}function z0(r){return r=ua(r),r.tag=3,r}function B0(r,i,d,h){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var y=h.value;r.payload=function(){return x(y)},r.callback=function(){P0(i,d,h)}}var C=d.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(r.callback=function(){P0(i,d,h),typeof x!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var L=h.stack;this.componentDidCatch(h.value,{componentStack:L!==null?L:""})})}function JE(r,i,d,h,x){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=d.alternate,i!==null&&Ul(i,d,x,!0),d=fs.current,d!==null){switch(d.tag){case 13:return Xs===null?Tp():d.alternate===null&&Ot===0&&(Ot=3),d.flags&=-257,d.flags|=65536,d.lanes=x,h===Dm?d.flags|=16384:(i=d.updateQueue,i===null?d.updateQueue=new Set([h]):i.add(h),kp(r,h,x)),!1;case 22:return d.flags|=65536,h===Dm?d.flags|=16384:(i=d.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=i):(d=i.retryQueue,d===null?i.retryQueue=new Set([h]):d.add(h)),kp(r,h,x)),!1}throw Error(s(435,d.tag))}return kp(r,h,x),Tp(),!1}if(tt)return i=fs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,h!==_m&&(r=Error(s(422),{cause:h}),Vl(cs(r,d)))):(h!==_m&&(i=Error(s(423),{cause:h}),Vl(cs(i,d))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,h=cs(h,d),x=sp(r.stateNode,h,x),Lm(r,x),Ot!==4&&(Ot=2)),!1;var y=Error(s(520),{cause:h});if(y=cs(y,d),ic===null?ic=[y]:ic.push(y),Ot!==4&&(Ot=2),i===null)return!0;h=cs(h,d),d=i;do{switch(d.tag){case 3:return d.flags|=65536,r=x&-x,d.lanes|=r,r=sp(d.stateNode,h,r),Lm(d,r),!1;case 1:if(i=d.type,y=d.stateNode,(d.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(wa===null||!wa.has(y))))return d.flags|=65536,x&=-x,d.lanes|=x,x=z0(x),B0(x,r,d,h),Lm(d,x),!1}d=d.return}while(d!==null);return!1}var V0=Error(s(461)),dn=!1;function pn(r,i,d,h){i.child=r===null?k0(i,null,d,h):_o(i,r.child,d,h)}function U0(r,i,d,h,x){d=d.render;var y=i.ref;if("ref"in h){var C={};for(var L in h)L!=="ref"&&(C[L]=h[L])}else C=h;return mi(i),h=Um(r,i,d,C,y,x),L=Hm(),r!==null&&!dn?(Fm(r,i,x),Cr(r,i,x)):(tt&&L&&Sm(i),i.flags|=1,pn(r,i,h,x),i.child)}function H0(r,i,d,h,x){if(r===null){var y=d.type;return typeof y=="function"&&!vm(y)&&y.defaultProps===void 0&&d.compare===null?(i.tag=15,i.type=y,F0(r,i,y,h,x)):(r=du(d.type,null,h,i,i.mode,x),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!up(r,x)){var C=y.memoizedProps;if(d=d.compare,d=d!==null?d:Ll,d(C,h)&&r.ref===i.ref)return Cr(r,i,x)}return i.flags|=1,r=wr(y,h),r.ref=i.ref,r.return=i,i.child=r}function F0(r,i,d,h,x){if(r!==null){var y=r.memoizedProps;if(Ll(y,h)&&r.ref===i.ref)if(dn=!1,i.pendingProps=h=y,up(r,x))(r.flags&131072)!==0&&(dn=!0);else return i.lanes=r.lanes,Cr(r,i,x)}return rp(r,i,d,h,x)}function $0(r,i,d){var h=i.pendingProps,x=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden"){if((i.flags&128)!==0){if(h=y!==null?y.baseLanes|d:d,r!==null){for(x=i.child=r.child,y=0;x!==null;)y=y|x.lanes|x.childLanes,x=x.sibling;i.childLanes=y&~h}else i.childLanes=0,i.child=null;return I0(r,i,h,d)}if((d&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&pu(i,y!==null?y.cachePool:null),y!==null?Fb(i,y):zm(),M0(i);else return i.lanes=i.childLanes=536870912,I0(r,i,y!==null?y.baseLanes|d:d,d)}else y!==null?(pu(i,y.cachePool),Fb(i,y),pa(),i.memoizedState=null):(r!==null&&pu(i,null),zm(),pa());return pn(r,i,x,d),i.child}function I0(r,i,d,h){var x=Am();return x=x===null?null:{parent:sn._currentValue,pool:x},i.memoizedState={baseLanes:d,cachePool:x},r!==null&&pu(i,null),zm(),M0(i),r!==null&&Ul(r,i,h,!0),null}function Du(r,i){var d=i.ref;if(d===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(r===null||r.ref!==d)&&(i.flags|=4194816)}}function rp(r,i,d,h,x){return mi(i),d=Um(r,i,d,h,void 0,x),h=Hm(),r!==null&&!dn?(Fm(r,i,x),Cr(r,i,x)):(tt&&h&&Sm(i),i.flags|=1,pn(r,i,d,x),i.child)}function q0(r,i,d,h,x,y){return mi(i),i.updateQueue=null,d=Ib(i,h,d,x),$b(r),h=Hm(),r!==null&&!dn?(Fm(r,i,y),Cr(r,i,y)):(tt&&h&&Sm(i),i.flags|=1,pn(r,i,d,y),i.child)}function Y0(r,i,d,h,x){if(mi(i),i.stateNode===null){var y=po,C=d.contextType;typeof C=="object"&&C!==null&&(y=wn(C)),y=new d(h,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=np,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=h,y.state=i.memoizedState,y.refs={},Rm(i),C=d.contextType,y.context=typeof C=="object"&&C!==null?wn(C):po,y.state=i.memoizedState,C=d.getDerivedStateFromProps,typeof C=="function"&&(tp(i,d,C,h),y.state=i.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&np.enqueueReplaceState(y,y.state,null),Xl(i,h,y,x),Yl(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(r===null){y=i.stateNode;var L=i.memoizedProps,I=xi(d,L);y.props=I;var te=y.context,de=d.contextType;C=po,typeof de=="object"&&de!==null&&(C=wn(de));var he=d.getDerivedStateFromProps;de=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=i.pendingProps!==L,de||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||te!==C)&&D0(i,y,h,C),da=!1;var se=i.memoizedState;y.state=se,Xl(i,h,y,x),Yl(),te=i.memoizedState,L||se!==te||da?(typeof he=="function"&&(tp(i,d,he,h),te=i.memoizedState),(I=da||A0(i,d,I,h,se,te,C))?(de||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=te),y.props=h,y.state=te,y.context=C,h=I):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{y=i.stateNode,Om(r,i),C=i.memoizedProps,de=xi(d,C),y.props=de,he=i.pendingProps,se=y.context,te=d.contextType,I=po,typeof te=="object"&&te!==null&&(I=wn(te)),L=d.getDerivedStateFromProps,(te=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==he||se!==I)&&D0(i,y,h,I),da=!1,se=i.memoizedState,y.state=se,Xl(i,h,y,x),Yl();var re=i.memoizedState;C!==he||se!==re||da||r!==null&&r.dependencies!==null&&fu(r.dependencies)?(typeof L=="function"&&(tp(i,d,L,h),re=i.memoizedState),(de=da||A0(i,d,de,h,se,re,I)||r!==null&&r.dependencies!==null&&fu(r.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,re,I),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,re,I)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=re),y.props=h,y.state=re,y.context=I,h=de):(typeof y.componentDidUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===r.memoizedProps&&se===r.memoizedState||(i.flags|=1024),h=!1)}return y=h,Du(r,i),h=(i.flags&128)!==0,y||h?(y=i.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&h?(i.child=_o(i,r.child,null,x),i.child=_o(i,null,d,x)):pn(r,i,d,x),i.memoizedState=y.state,r=i.child):r=Cr(r,i,x),r}function X0(r,i,d,h){return Bl(),i.flags|=256,pn(r,i,d,h),i.child}var ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ip(r){return{baseLanes:r,cachePool:Ob()}}function op(r,i,d){return r=r!==null?r.childLanes&~d:0,i&&(r|=ms),r}function W0(r,i,d){var h=i.pendingProps,x=!1,y=(i.flags&128)!==0,C;if((C=y)||(C=r!==null&&r.memoizedState===null?!1:(rn.current&2)!==0),C&&(x=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,r===null){if(tt){if(x?ma(i):pa(),tt){var L=Rt,I;if(I=L){e:{for(I=L,L=Ys;I.nodeType!==8;){if(!L){L=null;break e}if(I=Rs(I.nextSibling),I===null){L=null;break e}}L=I}L!==null?(i.memoizedState={dehydrated:L,treeContext:ci!==null?{id:jr,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},I=Jn(18,null,null,0),I.stateNode=L,I.return=i,i.child=I,An=i,Rt=null,I=!0):I=!1}I||hi(i)}if(L=i.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return Ip(L)?i.lanes=32:i.lanes=536870912,null;Tr(i)}return L=h.children,h=h.fallback,x?(pa(),x=i.mode,L=Ru({mode:"hidden",children:L},x),h=li(h,x,d,null),L.return=i,h.return=i,L.sibling=h,i.child=L,x=i.child,x.memoizedState=ip(d),x.childLanes=op(r,C,d),i.memoizedState=ap,h):(ma(i),lp(i,L))}if(I=r.memoizedState,I!==null&&(L=I.dehydrated,L!==null)){if(y)i.flags&256?(ma(i),i.flags&=-257,i=cp(r,i,d)):i.memoizedState!==null?(pa(),i.child=r.child,i.flags|=128,i=null):(pa(),x=h.fallback,L=i.mode,h=Ru({mode:"visible",children:h.children},L),x=li(x,L,d,null),x.flags|=2,h.return=i,x.return=i,h.sibling=x,i.child=h,_o(i,r.child,null,d),h=i.child,h.memoizedState=ip(d),h.childLanes=op(r,C,d),i.memoizedState=ap,i=x);else if(ma(i),Ip(L)){if(C=L.nextSibling&&L.nextSibling.dataset,C)var te=C.dgst;C=te,h=Error(s(419)),h.stack="",h.digest=C,Vl({value:h,source:null,stack:null}),i=cp(r,i,d)}else if(dn||Ul(r,i,d,!1),C=(d&r.childLanes)!==0,dn||C){if(C=gt,C!==null&&(h=d&-d,h=(h&42)!==0?1:Nt(h),h=(h&(C.suspendedLanes|d))!==0?0:h,h!==0&&h!==I.retryLane))throw I.retryLane=h,mo(r,h),rs(C,r,h),V0;L.data==="$?"||Tp(),i=cp(r,i,d)}else L.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=I.treeContext,Rt=Rs(L.nextSibling),An=i,tt=!0,ui=null,Ys=!1,r!==null&&(us[hs++]=jr,us[hs++]=Sr,us[hs++]=ci,jr=r.id,Sr=r.overflow,ci=i),i=lp(i,h.children),i.flags|=4096);return i}return x?(pa(),x=h.fallback,L=i.mode,I=r.child,te=I.sibling,h=wr(I,{mode:"hidden",children:h.children}),h.subtreeFlags=I.subtreeFlags&65011712,te!==null?x=wr(te,x):(x=li(x,L,d,null),x.flags|=2),x.return=i,h.return=i,h.sibling=x,i.child=h,h=x,x=i.child,L=r.child.memoizedState,L===null?L=ip(d):(I=L.cachePool,I!==null?(te=sn._currentValue,I=I.parent!==te?{parent:te,pool:te}:I):I=Ob(),L={baseLanes:L.baseLanes|d,cachePool:I}),x.memoizedState=L,x.childLanes=op(r,C,d),i.memoizedState=ap,h):(ma(i),d=r.child,r=d.sibling,d=wr(d,{mode:"visible",children:h.children}),d.return=i,d.sibling=null,r!==null&&(C=i.deletions,C===null?(i.deletions=[r],i.flags|=16):C.push(r)),i.child=d,i.memoizedState=null,d)}function lp(r,i){return i=Ru({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Ru(r,i){return r=Jn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function cp(r,i,d){return _o(i,r.child,null,d),r=lp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function G0(r,i,d){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),Tm(r.return,i,d)}function dp(r,i,d,h,x){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:x}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=d,y.tailMode=x)}function K0(r,i,d){var h=i.pendingProps,x=h.revealOrder,y=h.tail;if(pn(r,i,h.children,d),h=rn.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&G0(r,d,i);else if(r.tag===19)G0(r,d,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(le(rn,h),x){case"forwards":for(d=i.child,x=null;d!==null;)r=d.alternate,r!==null&&ku(r)===null&&(x=d),d=d.sibling;d=x,d===null?(x=i.child,i.child=null):(x=d.sibling,d.sibling=null),dp(i,!1,x,d,y);break;case"backwards":for(d=null,x=i.child,i.child=null;x!==null;){if(r=x.alternate,r!==null&&ku(r)===null){i.child=x;break}r=x.sibling,x.sibling=d,d=x,x=r}dp(i,!0,d,null,y);break;case"together":dp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Cr(r,i,d){if(r!==null&&(i.dependencies=r.dependencies),va|=i.lanes,(d&i.childLanes)===0)if(r!==null){if(Ul(r,i,d,!1),(d&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,d=wr(r,r.pendingProps),i.child=d,d.return=i;r.sibling!==null;)r=r.sibling,d=d.sibling=wr(r,r.pendingProps),d.return=i;d.sibling=null}return i.child}function up(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&fu(r)))}function eT(r,i,d){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),ca(i,sn,r.memoizedState.cache),Bl();break;case 27:case 5:mn(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:ca(i,i.type,i.memoizedProps.value);break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(ma(i),i.flags|=128,null):(d&i.child.childLanes)!==0?W0(r,i,d):(ma(i),r=Cr(r,i,d),r!==null?r.sibling:null);ma(i);break;case 19:var x=(r.flags&128)!==0;if(h=(d&i.childLanes)!==0,h||(Ul(r,i,d,!1),h=(d&i.childLanes)!==0),x){if(h)return K0(r,i,d);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),le(rn,rn.current),h)break;return null;case 22:case 23:return i.lanes=0,$0(r,i,d);case 24:ca(i,sn,r.memoizedState.cache)}return Cr(r,i,d)}function Q0(r,i,d){if(r!==null)if(r.memoizedProps!==i.pendingProps)dn=!0;else{if(!up(r,d)&&(i.flags&128)===0)return dn=!1,eT(r,i,d);dn=(r.flags&131072)!==0}else dn=!1,tt&&(i.flags&1048576)!==0&&Tb(i,hu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var h=i.elementType,x=h._init;if(h=x(h._payload),i.type=h,typeof h=="function")vm(h)?(r=xi(h,r),i.tag=1,i=Y0(null,i,h,r,d)):(i.tag=0,i=rp(null,i,h,r,d));else{if(h!=null){if(x=h.$$typeof,x===O){i.tag=11,i=U0(null,i,h,r,d);break e}else if(x===V){i.tag=14,i=H0(null,i,h,r,d);break e}}throw i=fe(h)||h,Error(s(306,i,""))}}return i;case 0:return rp(r,i,i.type,i.pendingProps,d);case 1:return h=i.type,x=xi(h,i.pendingProps),Y0(r,i,h,x,d);case 3:e:{if(Ve(i,i.stateNode.containerInfo),r===null)throw Error(s(387));h=i.pendingProps;var y=i.memoizedState;x=y.element,Om(r,i),Xl(i,h,null,d);var C=i.memoizedState;if(h=C.cache,ca(i,sn,h),h!==y.cache&&Cm(i,[sn],d,!0),Yl(),h=C.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=X0(r,i,h,d);break e}else if(h!==x){x=cs(Error(s(424)),i),Vl(x),i=X0(r,i,h,d);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Rt=Rs(r.firstChild),An=i,tt=!0,ui=null,Ys=!0,d=k0(i,null,h,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Bl(),h===x){i=Cr(r,i,d);break e}pn(r,i,h,d)}i=i.child}return i;case 26:return Du(r,i),r===null?(d=t1(i.type,null,i.pendingProps,null))?i.memoizedState=d:tt||(d=i.type,r=i.pendingProps,h=Xu(me.current).createElement(d),h[pt]=i,h[ct]=r,xn(h,d,r),Kt(h),i.stateNode=h):i.memoizedState=t1(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return mn(i),r===null&&tt&&(h=i.stateNode=Zv(i.type,i.pendingProps,me.current),An=i,Ys=!0,x=Rt,Na(i.type)?(qp=x,Rt=Rs(h.firstChild)):Rt=x),pn(r,i,i.pendingProps.children,d),Du(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&tt&&((x=h=Rt)&&(h=CT(h,i.type,i.pendingProps,Ys),h!==null?(i.stateNode=h,An=i,Rt=Rs(h.firstChild),Ys=!1,x=!0):x=!1),x||hi(i)),mn(i),x=i.type,y=i.pendingProps,C=r!==null?r.memoizedProps:null,h=y.children,Hp(x,y)?h=null:C!==null&&Hp(x,C)&&(i.flags|=32),i.memoizedState!==null&&(x=Um(r,i,YE,null,null,d),pc._currentValue=x),Du(r,i),pn(r,i,h,d),i.child;case 6:return r===null&&tt&&((r=d=Rt)&&(d=kT(d,i.pendingProps,Ys),d!==null?(i.stateNode=d,An=i,Rt=null,r=!0):r=!1),r||hi(i)),null;case 13:return W0(r,i,d);case 4:return Ve(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=_o(i,null,h,d):pn(r,i,h,d),i.child;case 11:return U0(r,i,i.type,i.pendingProps,d);case 7:return pn(r,i,i.pendingProps,d),i.child;case 8:return pn(r,i,i.pendingProps.children,d),i.child;case 12:return pn(r,i,i.pendingProps.children,d),i.child;case 10:return h=i.pendingProps,ca(i,i.type,h.value),pn(r,i,h.children,d),i.child;case 9:return x=i.type._context,h=i.pendingProps.children,mi(i),x=wn(x),h=h(x),i.flags|=1,pn(r,i,h,d),i.child;case 14:return H0(r,i,i.type,i.pendingProps,d);case 15:return F0(r,i,i.type,i.pendingProps,d);case 19:return K0(r,i,d);case 31:return h=i.pendingProps,d=i.mode,h={mode:h.mode,children:h.children},r===null?(d=Ru(h,d),d.ref=i.ref,i.child=d,d.return=i,i=d):(d=wr(r.child,h),d.ref=i.ref,i.child=d,d.return=i,i=d),i;case 22:return $0(r,i,d);case 24:return mi(i),h=wn(sn),r===null?(x=Am(),x===null&&(x=gt,y=km(),x.pooledCache=y,y.refCount++,y!==null&&(x.pooledCacheLanes|=d),x=y),i.memoizedState={parent:h,cache:x},Rm(i),ca(i,sn,x)):((r.lanes&d)!==0&&(Om(r,i),Xl(i,null,null,d),Yl()),x=r.memoizedState,y=i.memoizedState,x.parent!==h?(x={parent:h,cache:h},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),ca(i,sn,h)):(h=y.cache,ca(i,sn,h),h!==x.cache&&Cm(i,[sn],d,!0))),pn(r,i,i.pendingProps.children,d),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function kr(r){r.flags|=4}function Z0(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!i1(i)){if(i=fs.current,i!==null&&((We&4194048)===We?Xs!==null:(We&62914560)!==We&&(We&536870912)===0||i!==Xs))throw Il=Dm,Lb;r.flags|=8192}}function Ou(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Bn():536870912,r.lanes|=i,ko|=i)}function ec(r,i){if(!tt)switch(r.tailMode){case"hidden":i=r.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Tt(r){var i=r.alternate!==null&&r.alternate.child===r.child,d=0,h=0;if(i)for(var x=r.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags&65011712,h|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)d|=x.lanes|x.childLanes,h|=x.subtreeFlags,h|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=h,r.childLanes=d,i}function tT(r,i,d){var h=i.pendingProps;switch(Nm(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return Tt(i),null;case 3:return d=i.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),_r(sn),lt(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(zl(i)?kr(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mb())),Tt(i),null;case 26:return d=i.memoizedState,r===null?(kr(i),d!==null?(Tt(i),Z0(i,d)):(Tt(i),i.flags&=-16777217)):d?d!==r.memoizedState?(kr(i),Tt(i),Z0(i,d)):(Tt(i),i.flags&=-16777217):(r.memoizedProps!==h&&kr(i),Tt(i),i.flags&=-16777217),null;case 27:Cn(i),d=me.current;var x=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==h&&kr(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}r=pe.current,zl(i)?Cb(i):(r=Zv(x,h,d),i.stateNode=r,kr(i))}return Tt(i),null;case 5:if(Cn(i),d=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==h&&kr(i);else{if(!h){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}if(r=pe.current,zl(i))Cb(i);else{switch(x=Xu(me.current),r){case 1:r=x.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=x.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=x.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=x.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?x.createElement("select",{is:h.is}):x.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?x.createElement(d,{is:h.is}):x.createElement(d)}}r[pt]=i,r[ct]=h;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)r.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=r;e:switch(xn(r,d,h),d){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&kr(i)}}return Tt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==h&&kr(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(s(166));if(r=me.current,zl(i)){if(r=i.stateNode,d=i.memoizedProps,h=null,x=An,x!==null)switch(x.tag){case 27:case 5:h=x.memoizedProps}r[pt]=i,r=!!(r.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||qv(r.nodeValue,d)),r||hi(i)}else r=Xu(r).createTextNode(h),r[pt]=i,i.stateNode=r}return Tt(i),null;case 13:if(h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=zl(i),h!==null&&h.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[pt]=i}else Bl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),x=!1}else x=Mb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(Tr(i),i):(Tr(i),null)}if(Tr(i),(i.flags&128)!==0)return i.lanes=d,i;if(d=h!==null,r=r!==null&&r.memoizedState!==null,d){h=i.child,x=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(x=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==x&&(h.flags|=2048)}return d!==r&&d&&(i.child.flags|=8192),Ou(i,i.updateQueue),Tt(i),null;case 4:return lt(),r===null&&Pp(i.stateNode.containerInfo),Tt(i),null;case 10:return _r(i.type),Tt(i),null;case 19:if(ae(rn),x=i.memoizedState,x===null)return Tt(i),null;if(h=(i.flags&128)!==0,y=x.rendering,y===null)if(h)ec(x,!1);else{if(Ot!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=ku(r),y!==null){for(i.flags|=128,ec(x,!1),r=y.updateQueue,i.updateQueue=r,Ou(i,r),i.subtreeFlags=0,r=d,d=i.child;d!==null;)Eb(d,r),d=d.sibling;return le(rn,rn.current&1|2),i.child}r=r.sibling}x.tail!==null&&et()>zu&&(i.flags|=128,h=!0,ec(x,!1),i.lanes=4194304)}else{if(!h)if(r=ku(y),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,Ou(i,r),ec(x,!0),x.tail===null&&x.tailMode==="hidden"&&!y.alternate&&!tt)return Tt(i),null}else 2*et()-x.renderingStartTime>zu&&d!==536870912&&(i.flags|=128,h=!0,ec(x,!1),i.lanes=4194304);x.isBackwards?(y.sibling=i.child,i.child=y):(r=x.last,r!==null?r.sibling=y:i.child=y,x.last=y)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=et(),i.sibling=null,r=rn.current,le(rn,h?r&1|2:r&1),i):(Tt(i),null);case 22:case 23:return Tr(i),Bm(),h=i.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(d&536870912)!==0&&(i.flags&128)===0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),d=i.updateQueue,d!==null&&Ou(i,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==d&&(i.flags|=2048),r!==null&&ae(pi),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),_r(sn),Tt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function nT(r,i){switch(Nm(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return _r(sn),lt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Cn(i),null;case 13:if(Tr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ae(rn),null;case 4:return lt(),null;case 10:return _r(i.type),null;case 22:case 23:return Tr(i),Bm(),r!==null&&ae(pi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return _r(sn),null;case 25:return null;default:return null}}function J0(r,i){switch(Nm(i),i.tag){case 3:_r(sn),lt();break;case 26:case 27:case 5:Cn(i);break;case 4:lt();break;case 13:Tr(i);break;case 19:ae(rn);break;case 10:_r(i.type);break;case 22:case 23:Tr(i),Bm(),r!==null&&ae(pi);break;case 24:_r(sn)}}function tc(r,i){try{var d=i.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var x=h.next;d=x;do{if((d.tag&r)===r){h=void 0;var y=d.create,C=d.inst;h=y(),C.destroy=h}d=d.next}while(d!==x)}}catch(L){ft(i,i.return,L)}}function ga(r,i,d){try{var h=i.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var y=x.next;h=y;do{if((h.tag&r)===r){var C=h.inst,L=C.destroy;if(L!==void 0){C.destroy=void 0,x=i;var I=d,te=L;try{te()}catch(de){ft(x,I,de)}}}h=h.next}while(h!==y)}}catch(de){ft(i,i.return,de)}}function ev(r){var i=r.updateQueue;if(i!==null){var d=r.stateNode;try{Hb(i,d)}catch(h){ft(r,r.return,h)}}}function tv(r,i,d){d.props=xi(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(h){ft(r,i,h)}}function nc(r,i){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var h=r.stateNode;break;case 30:h=r.stateNode;break;default:h=r.stateNode}typeof d=="function"?r.refCleanup=d(h):d.current=h}}catch(x){ft(r,i,x)}}function Ws(r,i){var d=r.ref,h=r.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(x){ft(r,i,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){ft(r,i,x)}else d.current=null}function nv(r){var i=r.type,d=r.memoizedProps,h=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(x){ft(r,r.return,x)}}function hp(r,i,d){try{var h=r.stateNode;ST(h,r.type,d,i),h[ct]=i}catch(x){ft(r,r.return,x)}}function sv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Na(r.type)||r.tag===4}function fp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||sv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Na(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mp(r,i,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,i):(i=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,i.appendChild(r),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=Yu));else if(h!==4&&(h===27&&Na(r.type)&&(d=r.stateNode,i=null),r=r.child,r!==null))for(mp(r,i,d),r=r.sibling;r!==null;)mp(r,i,d),r=r.sibling}function Lu(r,i,d){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?d.insertBefore(r,i):d.appendChild(r);else if(h!==4&&(h===27&&Na(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(Lu(r,i,d),r=r.sibling;r!==null;)Lu(r,i,d),r=r.sibling}function rv(r){var i=r.stateNode,d=r.memoizedProps;try{for(var h=r.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);xn(i,h,d),i[pt]=r,i[ct]=d}catch(y){ft(r,r.return,y)}}var Mr=!1,It=!1,pp=!1,av=typeof WeakSet=="function"?WeakSet:Set,un=null;function sT(r,i){if(r=r.containerInfo,Vp=Ju,r=gb(r),fm(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var x=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{d.nodeType,y.nodeType}catch{d=null;break e}var C=0,L=-1,I=-1,te=0,de=0,he=r,se=null;t:for(;;){for(var re;he!==d||x!==0&&he.nodeType!==3||(L=C+x),he!==y||h!==0&&he.nodeType!==3||(I=C+h),he.nodeType===3&&(C+=he.nodeValue.length),(re=he.firstChild)!==null;)se=he,he=re;for(;;){if(he===r)break t;if(se===d&&++te===x&&(L=C),se===y&&++de===h&&(I=C),(re=he.nextSibling)!==null)break;he=se,se=he.parentNode}he=re}d=L===-1||I===-1?null:{start:L,end:I}}else d=null}d=d||{start:0,end:0}}else d=null;for(Up={focusedElem:r,selectionRange:d},Ju=!1,un=i;un!==null;)if(i=un,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,un=r;else for(;un!==null;){switch(i=un,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,d=i,x=y.memoizedProps,y=y.memoizedState,h=d.stateNode;try{var Le=xi(d.type,x,d.elementType===d.type);r=h.getSnapshotBeforeUpdate(Le,y),h.__reactInternalSnapshotBeforeUpdate=r}catch(De){ft(d,d.return,De)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,d=r.nodeType,d===9)$p(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$p(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,un=r;break}un=i.return}}function iv(r,i,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:xa(r,d),h&4&&tc(5,d);break;case 1:if(xa(r,d),h&4)if(r=d.stateNode,i===null)try{r.componentDidMount()}catch(C){ft(d,d.return,C)}else{var x=xi(d.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(x,i,r.__reactInternalSnapshotBeforeUpdate)}catch(C){ft(d,d.return,C)}}h&64&&ev(d),h&512&&nc(d,d.return);break;case 3:if(xa(r,d),h&64&&(r=d.updateQueue,r!==null)){if(i=null,d.child!==null)switch(d.child.tag){case 27:case 5:i=d.child.stateNode;break;case 1:i=d.child.stateNode}try{Hb(r,i)}catch(C){ft(d,d.return,C)}}break;case 27:i===null&&h&4&&rv(d);case 26:case 5:xa(r,d),i===null&&h&4&&nv(d),h&512&&nc(d,d.return);break;case 12:xa(r,d);break;case 13:xa(r,d),h&4&&cv(r,d),h&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=hT.bind(null,d),MT(r,d))));break;case 22:if(h=d.memoizedState!==null||Mr,!h){i=i!==null&&i.memoizedState!==null||It,x=Mr;var y=It;Mr=h,(It=i)&&!y?ya(r,d,(d.subtreeFlags&8772)!==0):xa(r,d),Mr=x,It=y}break;case 30:break;default:xa(r,d)}}function ov(r){var i=r.alternate;i!==null&&(r.alternate=null,ov(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&gl(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var wt=null,Fn=!1;function Ar(r,i,d){for(d=d.child;d!==null;)lv(r,i,d),d=d.sibling}function lv(r,i,d){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(_e,d)}catch{}switch(d.tag){case 26:It||Ws(d,i),Ar(r,i,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:It||Ws(d,i);var h=wt,x=Fn;Na(d.type)&&(wt=d.stateNode,Fn=!1),Ar(r,i,d),uc(d.stateNode),wt=h,Fn=x;break;case 5:It||Ws(d,i);case 6:if(h=wt,x=Fn,wt=null,Ar(r,i,d),wt=h,Fn=x,wt!==null)if(Fn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(d.stateNode)}catch(y){ft(d,i,y)}else try{wt.removeChild(d.stateNode)}catch(y){ft(d,i,y)}break;case 18:wt!==null&&(Fn?(r=wt,Kv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),bc(r)):Kv(wt,d.stateNode));break;case 4:h=wt,x=Fn,wt=d.stateNode.containerInfo,Fn=!0,Ar(r,i,d),wt=h,Fn=x;break;case 0:case 11:case 14:case 15:It||ga(2,d,i),It||ga(4,d,i),Ar(r,i,d);break;case 1:It||(Ws(d,i),h=d.stateNode,typeof h.componentWillUnmount=="function"&&tv(d,i,h)),Ar(r,i,d);break;case 21:Ar(r,i,d);break;case 22:It=(h=It)||d.memoizedState!==null,Ar(r,i,d),It=h;break;default:Ar(r,i,d)}}function cv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{bc(r)}catch(d){ft(i,i.return,d)}}function rT(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new av),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new av),i;default:throw Error(s(435,r.tag))}}function gp(r,i){var d=rT(r);i.forEach(function(h){var x=fT.bind(null,r,h);d.has(h)||(d.add(h),h.then(x,x))})}function es(r,i){var d=i.deletions;if(d!==null)for(var h=0;h<d.length;h++){var x=d[h],y=r,C=i,L=C;e:for(;L!==null;){switch(L.tag){case 27:if(Na(L.type)){wt=L.stateNode,Fn=!1;break e}break;case 5:wt=L.stateNode,Fn=!1;break e;case 3:case 4:wt=L.stateNode.containerInfo,Fn=!0;break e}L=L.return}if(wt===null)throw Error(s(160));lv(y,C,x),wt=null,Fn=!1,y=x.alternate,y!==null&&(y.return=null),x.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)dv(i,r),i=i.sibling}var Ds=null;function dv(r,i){var d=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:es(i,r),ts(r),h&4&&(ga(3,r,r.return),tc(3,r),ga(5,r,r.return));break;case 1:es(i,r),ts(r),h&512&&(It||d===null||Ws(d,d.return)),h&64&&Mr&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var x=Ds;if(es(i,r),ts(r),h&512&&(It||d===null||Ws(d,d.return)),h&4){var y=d!==null?d.memoizedState:null;if(h=r.memoizedState,d===null)if(h===null)if(r.stateNode===null){e:{h=r.type,d=r.memoizedProps,x=x.ownerDocument||x;t:switch(h){case"title":y=x.getElementsByTagName("title")[0],(!y||y[Qa]||y[pt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=x.createElement(h),x.head.insertBefore(y,x.querySelector("head > title"))),xn(y,h,d),y[pt]=r,Kt(y),h=y;break e;case"link":var C=r1("link","href",x).get(h+(d.href||""));if(C){for(var L=0;L<C.length;L++)if(y=C[L],y.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&y.getAttribute("rel")===(d.rel==null?null:d.rel)&&y.getAttribute("title")===(d.title==null?null:d.title)&&y.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){C.splice(L,1);break t}}y=x.createElement(h),xn(y,h,d),x.head.appendChild(y);break;case"meta":if(C=r1("meta","content",x).get(h+(d.content||""))){for(L=0;L<C.length;L++)if(y=C[L],y.getAttribute("content")===(d.content==null?null:""+d.content)&&y.getAttribute("name")===(d.name==null?null:d.name)&&y.getAttribute("property")===(d.property==null?null:d.property)&&y.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&y.getAttribute("charset")===(d.charSet==null?null:d.charSet)){C.splice(L,1);break t}}y=x.createElement(h),xn(y,h,d),x.head.appendChild(y);break;default:throw Error(s(468,h))}y[pt]=r,Kt(y),h=y}r.stateNode=h}else a1(x,r.type,r.stateNode);else r.stateNode=s1(x,h,r.memoizedProps);else y!==h?(y===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):y.count--,h===null?a1(x,r.type,r.stateNode):s1(x,h,r.memoizedProps)):h===null&&r.stateNode!==null&&hp(r,r.memoizedProps,d.memoizedProps)}break;case 27:es(i,r),ts(r),h&512&&(It||d===null||Ws(d,d.return)),d!==null&&h&4&&hp(r,r.memoizedProps,d.memoizedProps);break;case 5:if(es(i,r),ts(r),h&512&&(It||d===null||Ws(d,d.return)),r.flags&32){x=r.stateNode;try{na(x,"")}catch(re){ft(r,r.return,re)}}h&4&&r.stateNode!=null&&(x=r.memoizedProps,hp(r,x,d!==null?d.memoizedProps:x)),h&1024&&(pp=!0);break;case 6:if(es(i,r),ts(r),h&4){if(r.stateNode===null)throw Error(s(162));h=r.memoizedProps,d=r.stateNode;try{d.nodeValue=h}catch(re){ft(r,r.return,re)}}break;case 3:if(Ku=null,x=Ds,Ds=Wu(i.containerInfo),es(i,r),Ds=x,ts(r),h&4&&d!==null&&d.memoizedState.isDehydrated)try{bc(i.containerInfo)}catch(re){ft(r,r.return,re)}pp&&(pp=!1,uv(r));break;case 4:h=Ds,Ds=Wu(r.stateNode.containerInfo),es(i,r),ts(r),Ds=h;break;case 12:es(i,r),ts(r);break;case 13:es(i,r),ts(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(jp=et()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,gp(r,h)));break;case 22:x=r.memoizedState!==null;var I=d!==null&&d.memoizedState!==null,te=Mr,de=It;if(Mr=te||x,It=de||I,es(i,r),It=de,Mr=te,ts(r),h&8192)e:for(i=r.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(d===null||I||Mr||It||yi(r)),d=null,i=r;;){if(i.tag===5||i.tag===26){if(d===null){I=d=i;try{if(y=I.stateNode,x)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{L=I.stateNode;var he=I.memoizedProps.style,se=he!=null&&he.hasOwnProperty("display")?he.display:null;L.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(re){ft(I,I.return,re)}}}else if(i.tag===6){if(d===null){I=i;try{I.stateNode.nodeValue=x?"":I.memoizedProps}catch(re){ft(I,I.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;d===i&&(d=null),i=i.return}d===i&&(d=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=r.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,gp(r,d))));break;case 19:es(i,r),ts(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,gp(r,h)));break;case 30:break;case 21:break;default:es(i,r),ts(r)}}function ts(r){var i=r.flags;if(i&2){try{for(var d,h=r.return;h!==null;){if(sv(h)){d=h;break}h=h.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var x=d.stateNode,y=fp(r);Lu(r,y,x);break;case 5:var C=d.stateNode;d.flags&32&&(na(C,""),d.flags&=-33);var L=fp(r);Lu(r,L,C);break;case 3:case 4:var I=d.stateNode.containerInfo,te=fp(r);mp(r,te,I);break;default:throw Error(s(161))}}catch(de){ft(r,r.return,de)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function uv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;uv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function xa(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)iv(r,i.alternate,i),i=i.sibling}function yi(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ga(4,i,i.return),yi(i);break;case 1:Ws(i,i.return);var d=i.stateNode;typeof d.componentWillUnmount=="function"&&tv(i,i.return,d),yi(i);break;case 27:uc(i.stateNode);case 26:case 5:Ws(i,i.return),yi(i);break;case 22:i.memoizedState===null&&yi(i);break;case 30:yi(i);break;default:yi(i)}r=r.sibling}}function ya(r,i,d){for(d=d&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,x=r,y=i,C=y.flags;switch(y.tag){case 0:case 11:case 15:ya(x,y,d),tc(4,y);break;case 1:if(ya(x,y,d),h=y,x=h.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(te){ft(h,h.return,te)}if(h=y,x=h.updateQueue,x!==null){var L=h.stateNode;try{var I=x.shared.hiddenCallbacks;if(I!==null)for(x.shared.hiddenCallbacks=null,x=0;x<I.length;x++)Ub(I[x],L)}catch(te){ft(h,h.return,te)}}d&&C&64&&ev(y),nc(y,y.return);break;case 27:rv(y);case 26:case 5:ya(x,y,d),d&&h===null&&C&4&&nv(y),nc(y,y.return);break;case 12:ya(x,y,d);break;case 13:ya(x,y,d),d&&C&4&&cv(x,y);break;case 22:y.memoizedState===null&&ya(x,y,d),nc(y,y.return);break;case 30:break;default:ya(x,y,d)}i=i.sibling}}function xp(r,i){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Hl(d))}function yp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Hl(r))}function Gs(r,i,d,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hv(r,i,d,h),i=i.sibling}function hv(r,i,d,h){var x=i.flags;switch(i.tag){case 0:case 11:case 15:Gs(r,i,d,h),x&2048&&tc(9,i);break;case 1:Gs(r,i,d,h);break;case 3:Gs(r,i,d,h),x&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Hl(r)));break;case 12:if(x&2048){Gs(r,i,d,h),r=i.stateNode;try{var y=i.memoizedProps,C=y.id,L=y.onPostCommit;typeof L=="function"&&L(C,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(I){ft(i,i.return,I)}}else Gs(r,i,d,h);break;case 13:Gs(r,i,d,h);break;case 23:break;case 22:y=i.stateNode,C=i.alternate,i.memoizedState!==null?y._visibility&2?Gs(r,i,d,h):sc(r,i):y._visibility&2?Gs(r,i,d,h):(y._visibility|=2,Eo(r,i,d,h,(i.subtreeFlags&10256)!==0)),x&2048&&xp(C,i);break;case 24:Gs(r,i,d,h),x&2048&&yp(i.alternate,i);break;default:Gs(r,i,d,h)}}function Eo(r,i,d,h,x){for(x=x&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,C=i,L=d,I=h,te=C.flags;switch(C.tag){case 0:case 11:case 15:Eo(y,C,L,I,x),tc(8,C);break;case 23:break;case 22:var de=C.stateNode;C.memoizedState!==null?de._visibility&2?Eo(y,C,L,I,x):sc(y,C):(de._visibility|=2,Eo(y,C,L,I,x)),x&&te&2048&&xp(C.alternate,C);break;case 24:Eo(y,C,L,I,x),x&&te&2048&&yp(C.alternate,C);break;default:Eo(y,C,L,I,x)}i=i.sibling}}function sc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var d=r,h=i,x=h.flags;switch(h.tag){case 22:sc(d,h),x&2048&&xp(h.alternate,h);break;case 24:sc(d,h),x&2048&&yp(h.alternate,h);break;default:sc(d,h)}i=i.sibling}}var rc=8192;function To(r){if(r.subtreeFlags&rc)for(r=r.child;r!==null;)fv(r),r=r.sibling}function fv(r){switch(r.tag){case 26:To(r),r.flags&rc&&r.memoizedState!==null&&$T(Ds,r.memoizedState,r.memoizedProps);break;case 5:To(r);break;case 3:case 4:var i=Ds;Ds=Wu(r.stateNode.containerInfo),To(r),Ds=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=rc,rc=16777216,To(r),rc=i):To(r));break;default:To(r)}}function mv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function ac(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var h=i[d];un=h,gv(h,r)}mv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)pv(r),r=r.sibling}function pv(r){switch(r.tag){case 0:case 11:case 15:ac(r),r.flags&2048&&ga(9,r,r.return);break;case 3:ac(r);break;case 12:ac(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Pu(r)):ac(r);break;default:ac(r)}}function Pu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var h=i[d];un=h,gv(h,r)}mv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ga(8,i,i.return),Pu(i);break;case 22:d=i.stateNode,d._visibility&2&&(d._visibility&=-3,Pu(i));break;default:Pu(i)}r=r.sibling}}function gv(r,i){for(;un!==null;){var d=un;switch(d.tag){case 0:case 11:case 15:ga(8,d,i);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Hl(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,un=h;else e:for(d=r;un!==null;){h=un;var x=h.sibling,y=h.return;if(ov(h),h===d){un=null;break e}if(x!==null){x.return=y,un=x;break e}un=y}}}var aT={getCacheForType:function(r){var i=wn(sn),d=i.data.get(r);return d===void 0&&(d=r(),i.data.set(r,d)),d}},iT=typeof WeakMap=="function"?WeakMap:Map,nt=0,gt=null,Ie=null,We=0,st=0,ns=null,ba=!1,Co=!1,bp=!1,Dr=0,Ot=0,va=0,bi=0,vp=0,ms=0,ko=0,ic=null,$n=null,wp=!1,jp=0,zu=1/0,Bu=null,wa=null,gn=0,ja=null,Mo=null,Ao=0,Sp=0,Np=null,xv=null,oc=0,_p=null;function ss(){if((nt&2)!==0&&We!==0)return We&-We;if(B.T!==null){var r=yo;return r!==0?r:Dp()}return pr()}function yv(){ms===0&&(ms=(We&536870912)===0||tt?kn():536870912);var r=fs.current;return r!==null&&(r.flags|=32),ms}function rs(r,i,d){(r===gt&&(st===2||st===9)||r.cancelPendingCommit!==null)&&(Do(r,0),Sa(r,We,ms,!1)),Mn(r,d),((nt&2)===0||r!==gt)&&(r===gt&&((nt&2)===0&&(bi|=d),Ot===4&&Sa(r,We,ms,!1)),Ks(r))}function bv(r,i,d){if((nt&6)!==0)throw Error(s(327));var h=!d&&(i&124)===0&&(i&r.expiredLanes)===0||mr(r,i),x=h?cT(r,i):Cp(r,i,!0),y=h;do{if(x===0){Co&&!h&&Sa(r,i,0,!1);break}else{if(d=r.current.alternate,y&&!oT(d)){x=Cp(r,i,!1),y=!1;continue}if(x===2){if(y=i,r.errorRecoveryDisabledLanes&y)var C=0;else C=r.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var L=r;x=ic;var I=L.current.memoizedState.isDehydrated;if(I&&(Do(L,C).flags|=256),C=Cp(L,C,!1),C!==2){if(bp&&!I){L.errorRecoveryDisabledLanes|=y,bi|=y,x=4;break e}y=$n,$n=x,y!==null&&($n===null?$n=y:$n.push.apply($n,y))}x=C}if(y=!1,x!==2)continue}}if(x===1){Do(r,0),Sa(r,i,0,!0);break}e:{switch(h=r,y=x,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Sa(h,i,ms,!ba);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(x=jp+300-et(),10<x)){if(Sa(h,i,ms,!ba),fr(h,0,!0)!==0)break e;h.timeoutHandle=Wv(vv.bind(null,h,d,$n,Bu,wp,i,ms,bi,ko,ba,y,2,-0,0),x);break e}vv(h,d,$n,Bu,wp,i,ms,bi,ko,ba,y,0,-0,0)}}break}while(!0);Ks(r)}function vv(r,i,d,h,x,y,C,L,I,te,de,he,se,re){if(r.timeoutHandle=-1,he=i.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(mc={stylesheets:null,count:0,unsuspend:FT},fv(i),he=IT(),he!==null)){r.cancelPendingCommit=he(Tv.bind(null,r,i,y,d,h,x,C,L,I,de,1,se,re)),Sa(r,y,C,!te);return}Tv(r,i,y,d,h,x,C,L,I)}function oT(r){for(var i=r;;){var d=i.tag;if((d===0||d===11||d===15)&&i.flags&16384&&(d=i.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var x=d[h],y=x.getSnapshot;x=x.value;try{if(!Zn(y(),x))return!1}catch{return!1}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Sa(r,i,d,h){i&=~vp,i&=~bi,r.suspendedLanes|=i,r.pingedLanes&=~i,h&&(r.warmLanes|=i),h=r.expirationTimes;for(var x=i;0<x;){var y=31-Ce(x),C=1<<y;h[y]=-1,x&=~C}d!==0&&Be(r,d,i)}function Vu(){return(nt&6)===0?(lc(0),!1):!0}function Ep(){if(Ie!==null){if(st===0)var r=Ie.return;else r=Ie,Nr=fi=null,$m(r),No=null,Zl=0,r=Ie;for(;r!==null;)J0(r.alternate,r),r=r.return;Ie=null}}function Do(r,i){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,_T(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Ep(),gt=r,Ie=d=wr(r.current,null),We=i,st=0,ns=null,ba=!1,Co=mr(r,i),bp=!1,ko=ms=vp=bi=va=Ot=0,$n=ic=null,wp=!1,(i&8)!==0&&(i|=i&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=i;0<h;){var x=31-Ce(h),y=1<<x;i|=r[x],h&=~y}return Dr=i,ou(),d}function wv(r,i){Fe=null,B.H=Eu,i===$l||i===gu?(i=Bb(),st=3):i===Lb?(i=Bb(),st=4):st=i===V0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ns=i,Ie===null&&(Ot=1,Au(r,cs(i,r.current)))}function jv(){var r=B.H;return B.H=Eu,r===null?Eu:r}function Sv(){var r=B.A;return B.A=aT,r}function Tp(){Ot=4,ba||(We&4194048)!==We&&fs.current!==null||(Co=!0),(va&134217727)===0&&(bi&134217727)===0||gt===null||Sa(gt,We,ms,!1)}function Cp(r,i,d){var h=nt;nt|=2;var x=jv(),y=Sv();(gt!==r||We!==i)&&(Bu=null,Do(r,i)),i=!1;var C=Ot;e:do try{if(st!==0&&Ie!==null){var L=Ie,I=ns;switch(st){case 8:Ep(),C=6;break e;case 3:case 2:case 9:case 6:fs.current===null&&(i=!0);var te=st;if(st=0,ns=null,Ro(r,L,I,te),d&&Co){C=0;break e}break;default:te=st,st=0,ns=null,Ro(r,L,I,te)}}lT(),C=Ot;break}catch(de){wv(r,de)}while(!0);return i&&r.shellSuspendCounter++,Nr=fi=null,nt=h,B.H=x,B.A=y,Ie===null&&(gt=null,We=0,ou()),C}function lT(){for(;Ie!==null;)Nv(Ie)}function cT(r,i){var d=nt;nt|=2;var h=jv(),x=Sv();gt!==r||We!==i?(Bu=null,zu=et()+500,Do(r,i)):Co=mr(r,i);e:do try{if(st!==0&&Ie!==null){i=Ie;var y=ns;t:switch(st){case 1:st=0,ns=null,Ro(r,i,y,1);break;case 2:case 9:if(Pb(y)){st=0,ns=null,_v(i);break}i=function(){st!==2&&st!==9||gt!==r||(st=7),Ks(r)},y.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Pb(y)?(st=0,ns=null,_v(i)):(st=0,ns=null,Ro(r,i,y,7));break;case 5:var C=null;switch(Ie.tag){case 26:C=Ie.memoizedState;case 5:case 27:var L=Ie;if(!C||i1(C)){st=0,ns=null;var I=L.sibling;if(I!==null)Ie=I;else{var te=L.return;te!==null?(Ie=te,Uu(te)):Ie=null}break t}}st=0,ns=null,Ro(r,i,y,5);break;case 6:st=0,ns=null,Ro(r,i,y,6);break;case 8:Ep(),Ot=6;break e;default:throw Error(s(462))}}dT();break}catch(de){wv(r,de)}while(!0);return Nr=fi=null,B.H=h,B.A=x,nt=d,Ie!==null?0:(gt=null,We=0,ou(),Ot)}function dT(){for(;Ie!==null&&!Mt();)Nv(Ie)}function Nv(r){var i=Q0(r.alternate,r,Dr);r.memoizedProps=r.pendingProps,i===null?Uu(r):Ie=i}function _v(r){var i=r,d=i.alternate;switch(i.tag){case 15:case 0:i=q0(d,i,i.pendingProps,i.type,void 0,We);break;case 11:i=q0(d,i,i.pendingProps,i.type.render,i.ref,We);break;case 5:$m(i);default:J0(d,i),i=Ie=Eb(i,Dr),i=Q0(d,i,Dr)}r.memoizedProps=r.pendingProps,i===null?Uu(r):Ie=i}function Ro(r,i,d,h){Nr=fi=null,$m(i),No=null,Zl=0;var x=i.return;try{if(JE(r,x,i,d,We)){Ot=1,Au(r,cs(d,r.current)),Ie=null;return}}catch(y){if(x!==null)throw Ie=x,y;Ot=1,Au(r,cs(d,r.current)),Ie=null;return}i.flags&32768?(tt||h===1?r=!0:Co||(We&536870912)!==0?r=!1:(ba=r=!0,(h===2||h===9||h===3||h===6)&&(h=fs.current,h!==null&&h.tag===13&&(h.flags|=16384))),Ev(i,r)):Uu(i)}function Uu(r){var i=r;do{if((i.flags&32768)!==0){Ev(i,ba);return}r=i.return;var d=tT(i.alternate,i,Dr);if(d!==null){Ie=d;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=r}while(i!==null);Ot===0&&(Ot=5)}function Ev(r,i){do{var d=nT(r.alternate,r);if(d!==null){d.flags&=32767,Ie=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!i&&(r=r.sibling,r!==null)){Ie=r;return}Ie=r=d}while(r!==null);Ot=6,Ie=null}function Tv(r,i,d,h,x,y,C,L,I){r.cancelPendingCommit=null;do Hu();while(gn!==0);if((nt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=ym,Wi(r,d,y,C,L,I),r===gt&&(Ie=gt=null,We=0),Mo=i,ja=r,Ao=d,Sp=y,Np=x,xv=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,mT(zn,function(){return Dv(),null})):(r.callbackNode=null,r.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,x=F.p,F.p=2,C=nt,nt|=4;try{sT(r,i,d)}finally{nt=C,F.p=x,B.T=h}}gn=1,Cv(),kv(),Mv()}}function Cv(){if(gn===1){gn=0;var r=ja,i=Mo,d=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var h=F.p;F.p=2;var x=nt;nt|=4;try{dv(i,r);var y=Up,C=gb(r.containerInfo),L=y.focusedElem,I=y.selectionRange;if(C!==L&&L&&L.ownerDocument&&pb(L.ownerDocument.documentElement,L)){if(I!==null&&fm(L)){var te=I.start,de=I.end;if(de===void 0&&(de=te),"selectionStart"in L)L.selectionStart=te,L.selectionEnd=Math.min(de,L.value.length);else{var he=L.ownerDocument||document,se=he&&he.defaultView||window;if(se.getSelection){var re=se.getSelection(),Le=L.textContent.length,De=Math.min(I.start,Le),ht=I.end===void 0?De:Math.min(I.end,Le);!re.extend&&De>ht&&(C=ht,ht=De,De=C);var Q=mb(L,De),W=mb(L,ht);if(Q&&W&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==W.node||re.focusOffset!==W.offset)){var J=he.createRange();J.setStart(Q.node,Q.offset),re.removeAllRanges(),De>ht?(re.addRange(J),re.extend(W.node,W.offset)):(J.setEnd(W.node,W.offset),re.addRange(J))}}}}for(he=[],re=L;re=re.parentNode;)re.nodeType===1&&he.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<he.length;L++){var ue=he[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Ju=!!Vp,Up=Vp=null}finally{nt=x,F.p=h,B.T=d}}r.current=i,gn=2}}function kv(){if(gn===2){gn=0;var r=ja,i=Mo,d=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var h=F.p;F.p=2;var x=nt;nt|=4;try{iv(r,i.alternate,i)}finally{nt=x,F.p=h,B.T=d}}gn=3}}function Mv(){if(gn===4||gn===3){gn=0,Ke();var r=ja,i=Mo,d=Ao,h=xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gn=5:(gn=0,Mo=ja=null,Av(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(wa=null),Gt(d),i=i.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(_e,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=B.T,x=F.p,F.p=2,B.T=null;try{for(var y=r.onRecoverableError,C=0;C<h.length;C++){var L=h[C];y(L.value,{componentStack:L.stack})}}finally{B.T=i,F.p=x}}(Ao&3)!==0&&Hu(),Ks(r),x=r.pendingLanes,(d&4194090)!==0&&(x&42)!==0?r===_p?oc++:(oc=0,_p=r):oc=0,lc(0)}}function Av(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Hl(i)))}function Hu(r){return Cv(),kv(),Mv(),Dv()}function Dv(){if(gn!==5)return!1;var r=ja,i=Sp;Sp=0;var d=Gt(Ao),h=B.T,x=F.p;try{F.p=32>d?32:d,B.T=null,d=Np,Np=null;var y=ja,C=Ao;if(gn=0,Mo=ja=null,Ao=0,(nt&6)!==0)throw Error(s(331));var L=nt;if(nt|=4,pv(y.current),hv(y,y.current,C,d),nt=L,lc(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(_e,y)}catch{}return!0}finally{F.p=x,B.T=h,Av(r,i)}}function Rv(r,i,d){i=cs(d,i),i=sp(r.stateNode,i,2),r=ha(r,i,2),r!==null&&(Mn(r,2),Ks(r))}function ft(r,i,d){if(r.tag===3)Rv(r,r,d);else for(;i!==null;){if(i.tag===3){Rv(i,r,d);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(wa===null||!wa.has(h))){r=cs(d,r),d=z0(2),h=ha(i,d,2),h!==null&&(B0(d,h,i,r),Mn(h,2),Ks(h));break}}i=i.return}}function kp(r,i,d){var h=r.pingCache;if(h===null){h=r.pingCache=new iT;var x=new Set;h.set(i,x)}else x=h.get(i),x===void 0&&(x=new Set,h.set(i,x));x.has(d)||(bp=!0,x.add(d),r=uT.bind(null,r,i,d),i.then(r,r))}function uT(r,i,d){var h=r.pingCache;h!==null&&h.delete(i),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,gt===r&&(We&d)===d&&(Ot===4||Ot===3&&(We&62914560)===We&&300>et()-jp?(nt&2)===0&&Do(r,0):vp|=d,ko===We&&(ko=0)),Ks(r)}function Ov(r,i){i===0&&(i=Bn()),r=mo(r,i),r!==null&&(Mn(r,i),Ks(r))}function hT(r){var i=r.memoizedState,d=0;i!==null&&(d=i.retryLane),Ov(r,d)}function fT(r,i){var d=0;switch(r.tag){case 13:var h=r.stateNode,x=r.memoizedState;x!==null&&(d=x.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(s(314))}h!==null&&h.delete(i),Ov(r,d)}function mT(r,i){return Je(r,i)}var Fu=null,Oo=null,Mp=!1,$u=!1,Ap=!1,vi=0;function Ks(r){r!==Oo&&r.next===null&&(Oo===null?Fu=Oo=r:Oo=Oo.next=r),$u=!0,Mp||(Mp=!0,gT())}function lc(r,i){if(!Ap&&$u){Ap=!0;do for(var d=!1,h=Fu;h!==null;){if(r!==0){var x=h.pendingLanes;if(x===0)var y=0;else{var C=h.suspendedLanes,L=h.pingedLanes;y=(1<<31-Ce(42|r)+1)-1,y&=x&~(C&~L),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(d=!0,Bv(h,y))}else y=We,y=fr(h,h===gt?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||mr(h,y)||(d=!0,Bv(h,y));h=h.next}while(d);Ap=!1}}function pT(){Lv()}function Lv(){$u=Mp=!1;var r=0;vi!==0&&(NT()&&(r=vi),vi=0);for(var i=et(),d=null,h=Fu;h!==null;){var x=h.next,y=Pv(h,i);y===0?(h.next=null,d===null?Fu=x:d.next=x,x===null&&(Oo=d)):(d=h,(r!==0||(y&3)!==0)&&($u=!0)),h=x}lc(r)}function Pv(r,i){for(var d=r.suspendedLanes,h=r.pingedLanes,x=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var C=31-Ce(y),L=1<<C,I=x[C];I===-1?((L&d)===0||(L&h)!==0)&&(x[C]=Ga(L,i)):I<=i&&(r.expiredLanes|=L),y&=~L}if(i=gt,d=We,d=fr(r,r===i?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h=r.callbackNode,d===0||r===i&&(st===2||st===9)||r.cancelPendingCommit!==null)return h!==null&&h!==null&&xt(h),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||mr(r,d)){if(i=d&-d,i===r.callbackPriority)return i;switch(h!==null&&xt(h),Gt(d)){case 2:case 8:d=bn;break;case 32:d=zn;break;case 268435456:d=vn;break;default:d=zn}return h=zv.bind(null,r),d=Je(d,h),r.callbackPriority=i,r.callbackNode=d,i}return h!==null&&h!==null&&xt(h),r.callbackPriority=2,r.callbackNode=null,2}function zv(r,i){if(gn!==0&&gn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(Hu()&&r.callbackNode!==d)return null;var h=We;return h=fr(r,r===gt?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),h===0?null:(bv(r,h,i),Pv(r,et()),r.callbackNode!=null&&r.callbackNode===d?zv.bind(null,r):null)}function Bv(r,i){if(Hu())return null;bv(r,i,!0)}function gT(){ET(function(){(nt&6)!==0?Je(At,pT):Lv()})}function Dp(){return vi===0&&(vi=kn()),vi}function Vv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:so(""+r)}function Uv(r,i){var d=i.ownerDocument.createElement("input");return d.name=i.name,d.value=i.value,r.id&&d.setAttribute("form",r.id),i.parentNode.insertBefore(d,i),r=new FormData(r),d.parentNode.removeChild(d),r}function xT(r,i,d,h,x){if(i==="submit"&&d&&d.stateNode===x){var y=Vv((x[ct]||null).action),C=h.submitter;C&&(i=(i=C[ct]||null)?Vv(i.formAction):C.getAttribute("formAction"),i!==null&&(y=i,C=null));var L=new oo("action","action",null,h,x);r.push({event:L,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(vi!==0){var I=C?Uv(x,C):new FormData(x);Zm(d,{pending:!0,data:I,method:x.method,action:y},null,I)}}else typeof y=="function"&&(L.preventDefault(),I=C?Uv(x,C):new FormData(x),Zm(d,{pending:!0,data:I,method:x.method,action:y},y,I))},currentTarget:x}]})}}for(var Rp=0;Rp<xm.length;Rp++){var Op=xm[Rp],yT=Op.toLowerCase(),bT=Op[0].toUpperCase()+Op.slice(1);As(yT,"on"+bT)}As(bb,"onAnimationEnd"),As(vb,"onAnimationIteration"),As(wb,"onAnimationStart"),As("dblclick","onDoubleClick"),As("focusin","onFocus"),As("focusout","onBlur"),As(PE,"onTransitionRun"),As(zE,"onTransitionStart"),As(BE,"onTransitionCancel"),As(jb,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function Hv(r,i){i=(i&4)!==0;for(var d=0;d<r.length;d++){var h=r[d],x=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var C=h.length-1;0<=C;C--){var L=h[C],I=L.instance,te=L.currentTarget;if(L=L.listener,I!==y&&x.isPropagationStopped())break e;y=L,x.currentTarget=te;try{y(x)}catch(de){Mu(de)}x.currentTarget=null,y=I}else for(C=0;C<h.length;C++){if(L=h[C],I=L.instance,te=L.currentTarget,L=L.listener,I!==y&&x.isPropagationStopped())break e;y=L,x.currentTarget=te;try{y(x)}catch(de){Mu(de)}x.currentTarget=null,y=I}}}}function qe(r,i){var d=i[Qr];d===void 0&&(d=i[Qr]=new Set);var h=r+"__bubble";d.has(h)||(Fv(i,r,2,!1),d.add(h))}function Lp(r,i,d){var h=0;i&&(h|=4),Fv(d,r,h,i)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Pp(r){if(!r[Iu]){r[Iu]=!0,Gi.forEach(function(d){d!=="selectionchange"&&(vT.has(d)||Lp(d,!1,r),Lp(d,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Iu]||(i[Iu]=!0,Lp("selectionchange",!1,i))}}function Fv(r,i,d,h){switch(h1(i)){case 2:var x=XT;break;case 8:x=WT;break;default:x=Kp}d=x.bind(null,i,d,r),x=void 0,!Sl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),h?x!==void 0?r.addEventListener(i,d,{capture:!0,passive:x}):r.addEventListener(i,d,!0):x!==void 0?r.addEventListener(i,d,{passive:x}):r.addEventListener(i,d,!1)}function zp(r,i,d,h,x){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var L=h.stateNode.containerInfo;if(L===x)break;if(C===4)for(C=h.return;C!==null;){var I=C.tag;if((I===3||I===4)&&C.stateNode.containerInfo===x)return;C=C.return}for(;L!==null;){if(C=gr(L),C===null)return;if(I=C.tag,I===5||I===6||I===26||I===27){h=y=C;continue e}L=L.parentNode}}h=h.return}Kd(function(){var te=y,de=ro(d),he=[];e:{var se=Sb.get(r);if(se!==void 0){var re=oo,Le=r;switch(r){case"keypress":if(ao(d)===0)break e;case"keydown":case"keyup":re=cm;break;case"focusin":Le="focus",re=Tl;break;case"focusout":Le="blur",re=Tl;break;case"beforeblur":case"afterblur":re=Tl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=um;break;case bb:case vb:case wb:re=em;break;case jb:re=w;break;case"scroll":case"scrollend":re=Gf;break;case"wheel":re=z;break;case"copy":case"cut":case"paste":re=nm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Qt;break;case"toggle":case"beforetoggle":re=ce}var De=(i&4)!==0,ht=!De&&(r==="scroll"||r==="scrollend"),Q=De?se!==null?se+"Capture":null:se;De=[];for(var W=te,J;W!==null;){var ue=W;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||Q===null||(ue=ti(W,Q),ue!=null&&De.push(dc(W,ue,J))),ht)break;W=W.return}0<De.length&&(se=new re(se,Le,null,d,de),he.push({event:se,listeners:De}))}}if((i&7)===0){e:{if(se=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",se&&d!==wl&&(Le=d.relatedTarget||d.fromElement)&&(gr(Le)||Le[Ft]))break e;if((re||se)&&(se=de.window===de?de:(se=de.ownerDocument)?se.defaultView||se.parentWindow:window,re?(Le=d.relatedTarget||d.toElement,re=te,Le=Le?gr(Le):null,Le!==null&&(ht=o(Le),De=Le.tag,Le!==ht||De!==5&&De!==27&&De!==6)&&(Le=null)):(re=null,Le=te),re!==Le)){if(De=Kf,ue="onMouseLeave",Q="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(De=Qt,ue="onPointerLeave",Q="onPointerEnter",W="pointer"),ht=re==null?se:Za(re),J=Le==null?se:Za(Le),se=new De(ue,W+"leave",re,d,de),se.target=ht,se.relatedTarget=J,ue=null,gr(de)===te&&(De=new De(Q,W+"enter",Le,d,de),De.target=J,De.relatedTarget=ht,ue=De),ht=ue,re&&Le)t:{for(De=re,Q=Le,W=0,J=De;J;J=Lo(J))W++;for(J=0,ue=Q;ue;ue=Lo(ue))J++;for(;0<W-J;)De=Lo(De),W--;for(;0<J-W;)Q=Lo(Q),J--;for(;W--;){if(De===Q||Q!==null&&De===Q.alternate)break t;De=Lo(De),Q=Lo(Q)}De=null}else De=null;re!==null&&$v(he,se,re,De,!1),Le!==null&&ht!==null&&$v(he,ht,Le,De,!0)}}e:{if(se=te?Za(te):window,re=se.nodeName&&se.nodeName.toLowerCase(),re==="select"||re==="input"&&se.type==="file")var Te=co;else if(nu(se))if(Al)Te=RE;else{Te=AE;var $e=ME}else re=se.nodeName,!re||re.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?te&&ks(te.elementType)&&(Te=co):Te=DE;if(Te&&(Te=Te(r,te))){su(he,Te,d,de);break e}$e&&$e(r,se,te),r==="focusout"&&te&&se.type==="number"&&te.memoizedProps.value!=null&&vl(se,"number",se.value)}switch($e=te?Za(te):window,r){case"focusin":(nu($e)||$e.contentEditable==="true")&&(uo=$e,mm=te,Pl=null);break;case"focusout":Pl=mm=uo=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,xb(he,d,de);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":xb(he,d,de)}var Ae;if(Ee)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else aa?Jd(r,d)&&(Re="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Re="onCompositionStart");Re&&(Qe&&d.locale!=="ko"&&(aa||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&aa&&(Ae=Qd()):(qs=de,Nl="value"in qs?qs.value:qs.textContent,aa=!0)),$e=qu(te,Re),0<$e.length&&(Re=new Zd(Re,r,null,d,de),he.push({event:Re,listeners:$e}),Ae?Re.data=Ae:(Ae=Ml(d),Ae!==null&&(Re.data=Ae)))),(Ae=Xe?eu(r,d):hm(r,d))&&(Re=qu(te,"onBeforeInput"),0<Re.length&&($e=new Zd("onBeforeInput","beforeinput",null,d,de),he.push({event:$e,listeners:Re}),$e.data=Ae)),xT(he,r,te,d,de)}Hv(he,i)})}function dc(r,i,d){return{instance:r,listener:i,currentTarget:d}}function qu(r,i){for(var d=i+"Capture",h=[];r!==null;){var x=r,y=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||y===null||(x=ti(r,d),x!=null&&h.unshift(dc(r,x,y)),x=ti(r,i),x!=null&&h.push(dc(r,x,y))),r.tag===3)return h;r=r.return}return[]}function Lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function $v(r,i,d,h,x){for(var y=i._reactName,C=[];d!==null&&d!==h;){var L=d,I=L.alternate,te=L.stateNode;if(L=L.tag,I!==null&&I===h)break;L!==5&&L!==26&&L!==27||te===null||(I=te,x?(te=ti(d,y),te!=null&&C.unshift(dc(d,te,I))):x||(te=ti(d,y),te!=null&&C.push(dc(d,te,I)))),d=d.return}C.length!==0&&r.push({event:i,listeners:C})}var wT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function Iv(r){return(typeof r=="string"?r:""+r).replace(wT,`
`).replace(jT,"")}function qv(r,i){return i=Iv(i),Iv(r)===i}function Yu(){}function ut(r,i,d,h,x,y){switch(d){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||na(r,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&na(r,""+h);break;case"className":Ji(r,"class",h);break;case"tabIndex":Ji(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ji(r,d,h);break;case"style":no(r,h,y);break;case"data":if(i!=="object"){Ji(r,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||d!=="href")){r.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(d);break}h=so(""+h),r.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(d==="formAction"?(i!=="input"&&ut(r,i,"name",x.name,x,null),ut(r,i,"formEncType",x.formEncType,x,null),ut(r,i,"formMethod",x.formMethod,x,null),ut(r,i,"formTarget",x.formTarget,x,null)):(ut(r,i,"encType",x.encType,x,null),ut(r,i,"method",x.method,x,null),ut(r,i,"target",x.target,x,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(d);break}h=so(""+h),r.setAttribute(d,h);break;case"onClick":h!=null&&(r.onclick=Yu);break;case"onScroll":h!=null&&qe("scroll",r);break;case"onScrollEnd":h!=null&&qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}d=so(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,""+h):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":h===!0?r.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(d,h):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(d,h):r.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(d):r.setAttribute(d,h);break;case"popover":qe("beforetoggle",r),qe("toggle",r),Zi(r,"popover",h);break;case"xlinkActuate":Ts(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ts(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ts(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ts(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ts(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ts(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ts(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ts(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ts(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Zi(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Xf.get(d)||d,Zi(r,d,h))}}function Bp(r,i,d,h,x,y){switch(d){case"style":no(r,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(s(61));if(d=h.__html,d!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"children":typeof h=="string"?na(r,h):(typeof h=="number"||typeof h=="bigint")&&na(r,""+h);break;case"onScroll":h!=null&&qe("scroll",r);break;case"onScrollEnd":h!=null&&qe("scrollend",r);break;case"onClick":h!=null&&(r.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ki.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),i=d.slice(2,x?d.length-7:void 0),y=r[ct]||null,y=y!=null?y[d]:null,typeof y=="function"&&r.removeEventListener(i,y,x),typeof h=="function")){typeof y!="function"&&y!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(i,h,x);break e}d in r?r[d]=h:h===!0?r.setAttribute(d,""):Zi(r,d,h)}}}function xn(r,i,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",r),qe("load",r);var h=!1,x=!1,y;for(y in d)if(d.hasOwnProperty(y)){var C=d[y];if(C!=null)switch(y){case"src":h=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(r,i,y,C,d,null)}}x&&ut(r,i,"srcSet",d.srcSet,d,null),h&&ut(r,i,"src",d.src,d,null);return;case"input":qe("invalid",r);var L=y=C=x=null,I=null,te=null;for(h in d)if(d.hasOwnProperty(h)){var de=d[h];if(de!=null)switch(h){case"name":x=de;break;case"type":C=de;break;case"checked":I=de;break;case"defaultChecked":te=de;break;case"value":y=de;break;case"defaultValue":L=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,i));break;default:ut(r,i,h,de,d,null)}}ea(r,y,L,I,te,C,x,!1),eo(r);return;case"select":qe("invalid",r),h=C=y=null;for(x in d)if(d.hasOwnProperty(x)&&(L=d[x],L!=null))switch(x){case"value":y=L;break;case"defaultValue":C=L;break;case"multiple":h=L;default:ut(r,i,x,L,d,null)}i=y,d=C,r.multiple=!!h,i!=null?ta(r,!!h,i,!1):d!=null&&ta(r,!!h,d,!0);return;case"textarea":qe("invalid",r),y=x=h=null;for(C in d)if(d.hasOwnProperty(C)&&(L=d[C],L!=null))switch(C){case"value":h=L;break;case"defaultValue":x=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(91));break;default:ut(r,i,C,L,d,null)}Xd(r,h,x,y),eo(r);return;case"option":for(I in d)if(d.hasOwnProperty(I)&&(h=d[I],h!=null))switch(I){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ut(r,i,I,h,d,null)}return;case"dialog":qe("beforetoggle",r),qe("toggle",r),qe("cancel",r),qe("close",r);break;case"iframe":case"object":qe("load",r);break;case"video":case"audio":for(h=0;h<cc.length;h++)qe(cc[h],r);break;case"image":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"embed":case"source":case"link":qe("error",r),qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in d)if(d.hasOwnProperty(te)&&(h=d[te],h!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(r,i,te,h,d,null)}return;default:if(ks(i)){for(de in d)d.hasOwnProperty(de)&&(h=d[de],h!==void 0&&Bp(r,i,de,h,d,void 0));return}}for(L in d)d.hasOwnProperty(L)&&(h=d[L],h!=null&&ut(r,i,L,h,d,null))}function ST(r,i,d,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,y=null,C=null,L=null,I=null,te=null,de=null;for(re in d){var he=d[re];if(d.hasOwnProperty(re)&&he!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":I=he;default:h.hasOwnProperty(re)||ut(r,i,re,null,h,he)}}for(var se in h){var re=h[se];if(he=d[se],h.hasOwnProperty(se)&&(re!=null||he!=null))switch(se){case"type":y=re;break;case"name":x=re;break;case"checked":te=re;break;case"defaultChecked":de=re;break;case"value":C=re;break;case"defaultValue":L=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:re!==he&&ut(r,i,se,re,h,he)}}bl(r,C,L,I,te,de,y,x);return;case"select":re=C=L=se=null;for(y in d)if(I=d[y],d.hasOwnProperty(y)&&I!=null)switch(y){case"value":break;case"multiple":re=I;default:h.hasOwnProperty(y)||ut(r,i,y,null,h,I)}for(x in h)if(y=h[x],I=d[x],h.hasOwnProperty(x)&&(y!=null||I!=null))switch(x){case"value":se=y;break;case"defaultValue":L=y;break;case"multiple":C=y;default:y!==I&&ut(r,i,x,y,h,I)}i=L,d=C,h=re,se!=null?ta(r,!!d,se,!1):!!h!=!!d&&(i!=null?ta(r,!!d,i,!0):ta(r,!!d,d?[]:"",!1));return;case"textarea":re=se=null;for(L in d)if(x=d[L],d.hasOwnProperty(L)&&x!=null&&!h.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:ut(r,i,L,null,h,x)}for(C in h)if(x=h[C],y=d[C],h.hasOwnProperty(C)&&(x!=null||y!=null))switch(C){case"value":se=x;break;case"defaultValue":re=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==y&&ut(r,i,C,x,h,y)}Yd(r,se,re);return;case"option":for(var Le in d)if(se=d[Le],d.hasOwnProperty(Le)&&se!=null&&!h.hasOwnProperty(Le))switch(Le){case"selected":r.selected=!1;break;default:ut(r,i,Le,null,h,se)}for(I in h)if(se=h[I],re=d[I],h.hasOwnProperty(I)&&se!==re&&(se!=null||re!=null))switch(I){case"selected":r.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:ut(r,i,I,se,h,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in d)se=d[De],d.hasOwnProperty(De)&&se!=null&&!h.hasOwnProperty(De)&&ut(r,i,De,null,h,se);for(te in h)if(se=h[te],re=d[te],h.hasOwnProperty(te)&&se!==re&&(se!=null||re!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,i));break;default:ut(r,i,te,se,h,re)}return;default:if(ks(i)){for(var ht in d)se=d[ht],d.hasOwnProperty(ht)&&se!==void 0&&!h.hasOwnProperty(ht)&&Bp(r,i,ht,void 0,h,se);for(de in h)se=h[de],re=d[de],!h.hasOwnProperty(de)||se===re||se===void 0&&re===void 0||Bp(r,i,de,se,h,re);return}}for(var Q in d)se=d[Q],d.hasOwnProperty(Q)&&se!=null&&!h.hasOwnProperty(Q)&&ut(r,i,Q,null,h,se);for(he in h)se=h[he],re=d[he],!h.hasOwnProperty(he)||se===re||se==null&&re==null||ut(r,i,he,se,h,re)}var Vp=null,Up=null;function Xu(r){return r.nodeType===9?r:r.ownerDocument}function Yv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xv(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Hp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Fp=null;function NT(){var r=window.event;return r&&r.type==="popstate"?r===Fp?!1:(Fp=r,!0):(Fp=null,!1)}var Wv=typeof setTimeout=="function"?setTimeout:void 0,_T=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,ET=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(r){return Gv.resolve(null).then(r).catch(TT)}:Wv;function TT(r){setTimeout(function(){throw r})}function Na(r){return r==="head"}function Kv(r,i){var d=i,h=0,x=0;do{var y=d.nextSibling;if(r.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(0<h&&8>h){d=h;var C=r.ownerDocument;if(d&1&&uc(C.documentElement),d&2&&uc(C.body),d&4)for(d=C.head,uc(d),C=d.firstChild;C;){var L=C.nextSibling,I=C.nodeName;C[Qa]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&C.rel.toLowerCase()==="stylesheet"||d.removeChild(C),C=L}}if(x===0){r.removeChild(y),bc(i);return}x--}else d==="$"||d==="$?"||d==="$!"?x++:h=d.charCodeAt(0)-48;else h=0;d=y}while(d);bc(i)}function $p(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var d=i;switch(i=i.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":$p(d),gl(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function CT(r,i,d,h){for(;r.nodeType===1;){var x=d;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[Qa])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Rs(r.nextSibling),r===null)break}return null}function kT(r,i,d){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Rs(r.nextSibling),r===null))return null;return r}function Ip(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function MT(r,i){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")i();else{var h=function(){i(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),r._reactRetry=h}}function Rs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var qp=null;function Qv(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return r;i--}else d==="/$"&&i++}r=r.previousSibling}return null}function Zv(r,i,d){switch(i=Xu(d),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function uc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);gl(r)}var ps=new Map,Jv=new Set;function Wu(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Rr=F.d;F.d={f:AT,r:DT,D:RT,C:OT,L:LT,m:PT,X:BT,S:zT,M:VT};function AT(){var r=Rr.f(),i=Vu();return r||i}function DT(r){var i=Vn(r);i!==null&&i.tag===5&&i.type==="form"?b0(i):Rr.r(r)}var Po=typeof document>"u"?null:document;function e1(r,i,d){var h=Po;if(h&&typeof i=="string"&&i){var x=cn(i);x='link[rel="'+r+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),Jv.has(x)||(Jv.add(x),r={rel:r,crossOrigin:d,href:i},h.querySelector(x)===null&&(i=h.createElement("link"),xn(i,"link",r),Kt(i),h.head.appendChild(i)))}}function RT(r){Rr.D(r),e1("dns-prefetch",r,null)}function OT(r,i){Rr.C(r,i),e1("preconnect",r,i)}function LT(r,i,d){Rr.L(r,i,d);var h=Po;if(h&&r&&i){var x='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+cn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+cn(d.imageSizes)+'"]')):x+='[href="'+cn(r)+'"]';var y=x;switch(i){case"style":y=zo(r);break;case"script":y=Bo(r)}ps.has(y)||(r=p({rel:"preload",href:i==="image"&&d&&d.imageSrcSet?void 0:r,as:i},d),ps.set(y,r),h.querySelector(x)!==null||i==="style"&&h.querySelector(hc(y))||i==="script"&&h.querySelector(fc(y))||(i=h.createElement("link"),xn(i,"link",r),Kt(i),h.head.appendChild(i)))}}function PT(r,i){Rr.m(r,i);var d=Po;if(d&&r){var h=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+cn(h)+'"][href="'+cn(r)+'"]',y=x;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Bo(r)}if(!ps.has(y)&&(r=p({rel:"modulepreload",href:r},i),ps.set(y,r),d.querySelector(x)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(fc(y)))return}h=d.createElement("link"),xn(h,"link",r),Kt(h),d.head.appendChild(h)}}}function zT(r,i,d){Rr.S(r,i,d);var h=Po;if(h&&r){var x=Zr(h).hoistableStyles,y=zo(r);i=i||"default";var C=x.get(y);if(!C){var L={loading:0,preload:null};if(C=h.querySelector(hc(y)))L.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},d),(d=ps.get(y))&&Yp(r,d);var I=C=h.createElement("link");Kt(I),xn(I,"link",r),I._p=new Promise(function(te,de){I.onload=te,I.onerror=de}),I.addEventListener("load",function(){L.loading|=1}),I.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Gu(C,i,h)}C={type:"stylesheet",instance:C,count:1,state:L},x.set(y,C)}}}function BT(r,i){Rr.X(r,i);var d=Po;if(d&&r){var h=Zr(d).hoistableScripts,x=Bo(r),y=h.get(x);y||(y=d.querySelector(fc(x)),y||(r=p({src:r,async:!0},i),(i=ps.get(x))&&Xp(r,i),y=d.createElement("script"),Kt(y),xn(y,"link",r),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function VT(r,i){Rr.M(r,i);var d=Po;if(d&&r){var h=Zr(d).hoistableScripts,x=Bo(r),y=h.get(x);y||(y=d.querySelector(fc(x)),y||(r=p({src:r,async:!0,type:"module"},i),(i=ps.get(x))&&Xp(r,i),y=d.createElement("script"),Kt(y),xn(y,"link",r),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(x,y))}}function t1(r,i,d,h){var x=(x=me.current)?Wu(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(i=zo(d.href),d=Zr(x).hoistableStyles,h=d.get(i),h||(h={type:"style",instance:null,count:0,state:null},d.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=zo(d.href);var y=Zr(x).hoistableStyles,C=y.get(r);if(C||(x=x.ownerDocument||x,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,C),(y=x.querySelector(hc(r)))&&!y._p&&(C.instance=y,C.state.loading=5),ps.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},ps.set(r,d),y||UT(x,r,d,C.state))),i&&h===null)throw Error(s(528,""));return C}if(i&&h!==null)throw Error(s(529,""));return null;case"script":return i=d.async,d=d.src,typeof d=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Bo(d),d=Zr(x).hoistableScripts,h=d.get(i),h||(h={type:"script",instance:null,count:0,state:null},d.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function zo(r){return'href="'+cn(r)+'"'}function hc(r){return'link[rel="stylesheet"]['+r+"]"}function n1(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function UT(r,i,d,h){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=r.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),xn(i,"link",d),Kt(i),r.head.appendChild(i))}function Bo(r){return'[src="'+cn(r)+'"]'}function fc(r){return"script[async]"+r}function s1(r,i,d){if(i.count++,i.instance===null)switch(i.type){case"style":var h=r.querySelector('style[data-href~="'+cn(d.href)+'"]');if(h)return i.instance=h,Kt(h),h;var x=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),Kt(h),xn(h,"style",x),Gu(h,d.precedence,r),i.instance=h;case"stylesheet":x=zo(d.href);var y=r.querySelector(hc(x));if(y)return i.state.loading|=4,i.instance=y,Kt(y),y;h=n1(d),(x=ps.get(x))&&Yp(h,x),y=(r.ownerDocument||r).createElement("link"),Kt(y);var C=y;return C._p=new Promise(function(L,I){C.onload=L,C.onerror=I}),xn(y,"link",h),i.state.loading|=4,Gu(y,d.precedence,r),i.instance=y;case"script":return y=Bo(d.src),(x=r.querySelector(fc(y)))?(i.instance=x,Kt(x),x):(h=d,(x=ps.get(y))&&(h=p({},d),Xp(h,x)),r=r.ownerDocument||r,x=r.createElement("script"),Kt(x),xn(x,"link",h),r.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,Gu(h,d.precedence,r));return i.instance}function Gu(r,i,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=h.length?h[h.length-1]:null,y=x,C=0;C<h.length;C++){var L=h[C];if(L.dataset.precedence===i)y=L;else if(y!==x)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=d.nodeType===9?d.head:d,i.insertBefore(r,i.firstChild))}function Yp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Xp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Ku=null;function r1(r,i,d){if(Ku===null){var h=new Map,x=Ku=new Map;x.set(d,h)}else x=Ku,h=x.get(d),h||(h=new Map,x.set(d,h));if(h.has(r))return h;for(h.set(r,null),d=d.getElementsByTagName(r),x=0;x<d.length;x++){var y=d[x];if(!(y[Qa]||y[pt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(i)||"";C=r+C;var L=h.get(C);L?L.push(y):h.set(C,[y])}}return h}function a1(r,i,d){r=r.ownerDocument||r,r.head.insertBefore(d,i==="title"?r.querySelector("head > title"):null)}function HT(r,i,d){if(d===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function i1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var mc=null;function FT(){}function $T(r,i,d){if(mc===null)throw Error(s(475));var h=mc;if(i.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var x=zo(d.href),y=r.querySelector(hc(x));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=Qu.bind(h),r.then(h,h)),i.state.loading|=4,i.instance=y,Kt(y);return}y=r.ownerDocument||r,d=n1(d),(x=ps.get(x))&&Yp(d,x),y=y.createElement("link"),Kt(y);var C=y;C._p=new Promise(function(L,I){C.onload=L,C.onerror=I}),xn(y,"link",d),i.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(h.count++,i=Qu.bind(h),r.addEventListener("load",i),r.addEventListener("error",i))}}function IT(){if(mc===null)throw Error(s(475));var r=mc;return r.stylesheets&&r.count===0&&Wp(r,r.stylesheets),0<r.count?function(i){var d=setTimeout(function(){if(r.stylesheets&&Wp(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(d)}}:null}function Qu(){if(this.count--,this.count===0){if(this.stylesheets)Wp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Zu=null;function Wp(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Zu=new Map,i.forEach(qT,r),Zu=null,Qu.call(r))}function qT(r,i){if(!(i.state.loading&4)){var d=Zu.get(r);if(d)var h=d.get(null);else{d=new Map,Zu.set(r,d);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<x.length;y++){var C=x[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(d.set(C.dataset.precedence,C),h=C)}h&&d.set(null,h)}x=i.instance,C=x.getAttribute("data-precedence"),y=d.get(C)||h,y===h&&d.set(null,x),d.set(C,x),this.count++,h=Qu.bind(this),x.addEventListener("load",h),x.addEventListener("error",h),y?y.parentNode.insertBefore(x,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),i.state.loading|=4}}var pc={$$typeof:k,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function YT(r,i,d,h,x,y,C,L){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.hiddenUpdates=Ka(null),this.identifierPrefix=h,this.onUncaughtError=x,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function o1(r,i,d,h,x,y,C,L,I,te,de,he){return r=new YT(r,i,d,C,L,I,te,he),i=1,y===!0&&(i|=24),y=Jn(3,null,null,i),r.current=y,y.stateNode=r,i=km(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:h,isDehydrated:d,cache:i},Rm(y),r}function l1(r){return r?(r=po,r):po}function c1(r,i,d,h,x,y){x=l1(x),h.context===null?h.context=x:h.pendingContext=x,h=ua(i),h.payload={element:d},y=y===void 0?null:y,y!==null&&(h.callback=y),d=ha(r,h,i),d!==null&&(rs(d,r,i),ql(d,r,i))}function d1(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<i?d:i}}function Gp(r,i){d1(r,i),(r=r.alternate)&&d1(r,i)}function u1(r){if(r.tag===13){var i=mo(r,67108864);i!==null&&rs(i,r,67108864),Gp(r,67108864)}}var Ju=!0;function XT(r,i,d,h){var x=B.T;B.T=null;var y=F.p;try{F.p=2,Kp(r,i,d,h)}finally{F.p=y,B.T=x}}function WT(r,i,d,h){var x=B.T;B.T=null;var y=F.p;try{F.p=8,Kp(r,i,d,h)}finally{F.p=y,B.T=x}}function Kp(r,i,d,h){if(Ju){var x=Qp(h);if(x===null)zp(r,i,h,eh,d),f1(r,h);else if(KT(x,r,i,d,h))h.stopPropagation();else if(f1(r,h),i&4&&-1<GT.indexOf(r)){for(;x!==null;){var y=Vn(x);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=os(y.pendingLanes);if(C!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;C;){var I=1<<31-Ce(C);L.entanglements[1]|=I,C&=~I}Ks(y),(nt&6)===0&&(zu=et()+500,lc(0))}}break;case 13:L=mo(y,2),L!==null&&rs(L,y,2),Vu(),Gp(y,2)}if(y=Qp(h),y===null&&zp(r,i,h,eh,d),y===x)break;x=y}x!==null&&h.stopPropagation()}else zp(r,i,h,null,d)}}function Qp(r){return r=ro(r),Zp(r)}var eh=null;function Zp(r){if(eh=null,r=gr(r),r!==null){var i=o(r);if(i===null)r=null;else{var d=i.tag;if(d===13){if(r=c(i),r!==null)return r;r=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return eh=r,null}function h1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tn()){case At:return 2;case bn:return 8;case zn:case Dt:return 32;case vn:return 268435456;default:return 32}default:return 32}}var Jp=!1,_a=null,Ea=null,Ta=null,gc=new Map,xc=new Map,Ca=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f1(r,i){switch(r){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":gc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(i.pointerId)}}function yc(r,i,d,h,x,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:d,eventSystemFlags:h,nativeEvent:y,targetContainers:[x]},i!==null&&(i=Vn(i),i!==null&&u1(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),r)}function KT(r,i,d,h,x){switch(i){case"focusin":return _a=yc(_a,r,i,d,h,x),!0;case"dragenter":return Ea=yc(Ea,r,i,d,h,x),!0;case"mouseover":return Ta=yc(Ta,r,i,d,h,x),!0;case"pointerover":var y=x.pointerId;return gc.set(y,yc(gc.get(y)||null,r,i,d,h,x)),!0;case"gotpointercapture":return y=x.pointerId,xc.set(y,yc(xc.get(y)||null,r,i,d,h,x)),!0}return!1}function m1(r){var i=gr(r.target);if(i!==null){var d=o(i);if(d!==null){if(i=d.tag,i===13){if(i=c(d),i!==null){r.blockedOn=i,Ht(r.priority,function(){if(d.tag===13){var h=ss();h=Nt(h);var x=mo(d,h);x!==null&&rs(x,d,h),Gp(d,h)}});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function th(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var d=Qp(r.nativeEvent);if(d===null){d=r.nativeEvent;var h=new d.constructor(d.type,d);wl=h,d.target.dispatchEvent(h),wl=null}else return i=Vn(d),i!==null&&u1(i),r.blockedOn=d,!1;i.shift()}return!0}function p1(r,i,d){th(r)&&d.delete(i)}function QT(){Jp=!1,_a!==null&&th(_a)&&(_a=null),Ea!==null&&th(Ea)&&(Ea=null),Ta!==null&&th(Ta)&&(Ta=null),gc.forEach(p1),xc.forEach(p1)}function nh(r,i){r.blockedOn===i&&(r.blockedOn=null,Jp||(Jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,QT)))}var sh=null;function g1(r){sh!==r&&(sh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sh===r&&(sh=null);for(var i=0;i<r.length;i+=3){var d=r[i],h=r[i+1],x=r[i+2];if(typeof h!="function"){if(Zp(h||d)===null)continue;break}var y=Vn(d);y!==null&&(r.splice(i,3),i-=3,Zm(y,{pending:!0,data:x,method:d.method,action:h},h,x))}}))}function bc(r){function i(I){return nh(I,r)}_a!==null&&nh(_a,r),Ea!==null&&nh(Ea,r),Ta!==null&&nh(Ta,r),gc.forEach(i),xc.forEach(i);for(var d=0;d<Ca.length;d++){var h=Ca[d];h.blockedOn===r&&(h.blockedOn=null)}for(;0<Ca.length&&(d=Ca[0],d.blockedOn===null);)m1(d),d.blockedOn===null&&Ca.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var x=d[h],y=d[h+1],C=x[ct]||null;if(typeof y=="function")C||g1(d);else if(C){var L=null;if(y&&y.hasAttribute("formAction")){if(x=y,C=y[ct]||null)L=C.formAction;else if(Zp(x)!==null)continue}else L=C.action;typeof L=="function"?d[h+1]=L:(d.splice(h,3),h-=3),g1(d)}}}function eg(r){this._internalRoot=r}rh.prototype.render=eg.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var d=i.current,h=ss();c1(d,h,r,i,null,null)},rh.prototype.unmount=eg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;c1(r.current,2,null,r,null,null),Vu(),i[Ft]=null}};function rh(r){this._internalRoot=r}rh.prototype.unstable_scheduleHydration=function(r){if(r){var i=pr();r={blockedOn:null,target:r,priority:i};for(var d=0;d<Ca.length&&i!==0&&i<Ca[d].priority;d++);Ca.splice(d,0,r),d===0&&m1(r)}};var x1=e.version;if(x1!=="19.1.0")throw Error(s(527,x1,"19.1.0"));F.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var ZT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{_e=ah.inject(ZT),Se=ah}catch{}}return wc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var d=!1,h="",x=R0,y=O0,C=L0,L=null;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(L=i.unstable_transitionCallbacks)),i=o1(r,1,!1,null,null,d,h,x,y,C,L,null),r[Ft]=i.current,Pp(r),new eg(i)},wc.hydrateRoot=function(r,i,d){if(!a(r))throw Error(s(299));var h=!1,x="",y=R0,C=O0,L=L0,I=null,te=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(y=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(L=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(I=d.unstable_transitionCallbacks),d.formState!==void 0&&(te=d.formState)),i=o1(r,1,!0,i,d??null,h,x,y,C,L,I,te),i.context=l1(null),d=i.current,h=ss(),h=Nt(h),x=ua(h),x.callback=null,ha(d,x,h),d=h,i.current.lanes=d,Mn(i,d),Ks(i),r[Ft]=i.current,Pp(r),new rh(i)},wc.version="19.1.0",wc}var T1;function cC(){if(T1)return sg.exports;T1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sg.exports=lC(),sg.exports}var dC=cC(),jc={},C1;function uC(){if(C1)return jc;C1=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.parse=c,jc.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,v){const j=new o,S=b.length;if(S<2)return j;const N=(v==null?void 0:v.decode)||p;let _=0;do{const A=b.indexOf("=",_);if(A===-1)break;const k=b.indexOf(";",_),O=k===-1?S:k;if(A>O){_=b.lastIndexOf(";",A-1)+1;continue}const M=u(b,_,A),P=f(b,A,M),V=b.slice(M,P);if(j[V]===void 0){let D=u(b,A+1,O),U=f(b,O,D);const Y=N(b.slice(D,U));j[V]=Y}_=O+1}while(_<S);return j}function u(b,v,j){do{const S=b.charCodeAt(v);if(S!==32&&S!==9)return v}while(++v<j);return j}function f(b,v,j){for(;v>j;){const S=b.charCodeAt(--v);if(S!==32&&S!==9)return v+1}return j}function m(b,v,j){const S=(j==null?void 0:j.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=S(v);if(!e.test(N))throw new TypeError(`argument val is invalid: ${v}`);let _=b+"="+N;if(!j)return _;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);_+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);_+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);_+="; Path="+j.path}if(j.expires){if(!g(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);_+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(_+="; HttpOnly"),j.secure&&(_+="; Secure"),j.partitioned&&(_+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return _}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return a.call(b)==="[object Date]"}return jc}uC();var k1="popstate";function hC(t={}){function e(s,a){let{pathname:o,search:c,hash:u}=s.location;return Gg("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ad(a)}return mC(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fC(){return Math.random().toString(36).substring(2,10)}function M1(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ol(e):e,state:n,key:e&&e.key||s||fC()}}function ad({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ol(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function mC(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:o=!1}=s,c=a.history,u="POP",f=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let N=p(),_=N==null?null:N-m;m=N,f&&f({action:u,location:S.location,delta:_})}function b(N,_){u="PUSH";let A=Gg(S.location,N,_);m=p()+1;let k=M1(A,m),O=S.createHref(A);try{c.pushState(k,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(O)}o&&f&&f({action:u,location:S.location,delta:1})}function v(N,_){u="REPLACE";let A=Gg(S.location,N,_);m=p();let k=M1(A,m),O=S.createHref(A);c.replaceState(k,"",O),o&&f&&f({action:u,location:S.location,delta:0})}function j(N){let _=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof N=="string"?N:ad(N);return A=A.replace(/ $/,"%20"),jt(_,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,_)}let S={get action(){return u},get location(){return t(a,c)},listen(N){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(k1,g),f=N,()=>{a.removeEventListener(k1,g),f=null}},createHref(N){return e(a,N)},createURL:j,encodeLocation(N){let _=j(N);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:v,go(N){return c.go(N)}};return S}function Wj(t,e,n="/"){return pC(t,e,n,!1)}function pC(t,e,n,s){let a=typeof e=="string"?ol(e):e,o=Hr(a.pathname||"/",n);if(o==null)return null;let c=Gj(t);gC(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let m=TC(o);u=_C(c[f],m,s)}return u}function Gj(t,e=[],n=[],s=""){let a=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(jt(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length));let m=Ur([s,f.relativePath]),p=n.concat(f);o.children&&o.children.length>0&&(jt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Gj(o.children,e,p,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:SC(m,o.index),routesMeta:p})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let f of Kj(o.path))a(o,c,f)}),e}function Kj(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return a?[o,""]:[o];let c=Kj(s.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function gC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var xC=/^:[\w-]+$/,yC=3,bC=2,vC=1,wC=10,jC=-2,A1=t=>t==="*";function SC(t,e){let n=t.split("/"),s=n.length;return n.some(A1)&&(s+=jC),e&&(s+=bC),n.filter(a=>!A1(a)).reduce((a,o)=>a+(xC.test(o)?yC:o===""?vC:wC),s)}function NC(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function _C(t,e,n=!1){let{routesMeta:s}=t,a={},o="/",c=[];for(let u=0;u<s.length;++u){let f=s[u],m=u===s.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=Jh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},p),b=f.route;if(!g&&m&&n&&!s[s.length-1].route.index&&(g=Jh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Ur([o,g.pathname]),pathnameBase:AC(Ur([o,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(o=Ur([o,g.pathnameBase]))}return c}function Jh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=EC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:s.reduce((m,{paramName:p,isOptional:g},b)=>{if(p==="*"){let j=u[b]||"";c=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const v=u[b];return g&&!v?m[p]=void 0:m[p]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function EC(t,e=!1,n=!0){zs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(s.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function TC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function CC(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ol(t):t;return{pathname:n?n.startsWith("/")?n:kC(n,e):e,search:DC(s),hash:RC(a)}}function kC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function og(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gx(t){let e=MC(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Kx(t,e,n,s=!1){let a;typeof t=="string"?a=ol(t):(a={...t},jt(!a.pathname||!a.pathname.includes("?"),og("?","pathname","search",a)),jt(!a.pathname||!a.pathname.includes("#"),og("#","pathname","hash",a)),jt(!a.search||!a.search.includes("#"),og("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=n;else{let g=e.length-1;if(!s&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}u=g>=0?e[g]:"/"}let f=CC(a,u),m=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||p)&&(f.pathname+="/"),f}var Ur=t=>t.join("/").replace(/\/\/+/g,"/"),AC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Qj=["POST","PUT","PATCH","DELETE"];new Set(Qj);var LC=["GET",...Qj];new Set(LC);var ll=R.createContext(null);ll.displayName="DataRouter";var vf=R.createContext(null);vf.displayName="DataRouterState";var Zj=R.createContext({isTransitioning:!1});Zj.displayName="ViewTransition";var PC=R.createContext(new Map);PC.displayName="Fetchers";var zC=R.createContext(null);zC.displayName="Await";var Bs=R.createContext(null);Bs.displayName="Navigation";var Nd=R.createContext(null);Nd.displayName="Location";var Vs=R.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var Qx=R.createContext(null);Qx.displayName="RouteError";function BC(t,{relative:e}={}){jt(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=R.useContext(Bs),{hash:a,pathname:o,search:c}=_d(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Ur([n,o])),s.createHref({pathname:u,search:c,hash:a})}function cl(){return R.useContext(Nd)!=null}function Us(){return jt(cl(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Nd).location}var Jj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eS(t){R.useContext(Bs).static||R.useLayoutEffect(t)}function Ya(){let{isDataRoute:t}=R.useContext(Vs);return t?JC():VC()}function VC(){jt(cl(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(ll),{basename:e,navigator:n}=R.useContext(Bs),{matches:s}=R.useContext(Vs),{pathname:a}=Us(),o=JSON.stringify(Gx(s)),c=R.useRef(!1);return eS(()=>{c.current=!0}),R.useCallback((f,m={})=>{if(zs(c.current,Jj),!c.current)return;if(typeof f=="number"){n.go(f);return}let p=Kx(f,JSON.parse(o),a,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ur([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,o,a,t])}var UC=R.createContext(null);function HC(t){let e=R.useContext(Vs).outlet;return e&&R.createElement(UC.Provider,{value:t},e)}function _d(t,{relative:e}={}){let{matches:n}=R.useContext(Vs),{pathname:s}=Us(),a=JSON.stringify(Gx(n));return R.useMemo(()=>Kx(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function FC(t,e){return tS(t,e)}function tS(t,e,n,s){var A;jt(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=R.useContext(Bs),{matches:c}=R.useContext(Vs),u=c[c.length-1],f=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let k=g&&g.path||"";nS(m,!g||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=Us(),v;if(e){let k=typeof e=="string"?ol(e):e;jt(p==="/"||((A=k.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=b;let j=v.pathname||"/",S=j;if(p!=="/"){let k=p.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=!o&&n&&n.matches&&n.matches.length>0?n.matches:Wj(t,{pathname:S});zs(g||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),zs(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=XC(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Ur([p,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Ur([p,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,n,s);return e&&_?R.createElement(Nd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function $C(){let t=ZC(),e=OC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=R.createElement(R.Fragment,null,R.createElement("p",null,"💿 Hey developer 👋"),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,c)}var IC=R.createElement($C,null),qC=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Vs.Provider,{value:this.props.routeContext},R.createElement(Qx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YC({routeContext:t,match:e,children:n}){let s=R.useContext(ll);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Vs.Provider,{value:t},n)}function XC(t,e=[],n=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);jt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:p,errors:g}=n,b=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,m,p)=>{let g,b=!1,v=null,j=null;n&&(g=o&&m.route.id?o[m.route.id]:void 0,v=m.route.errorElement||IC,c&&(u<0&&p===0?(nS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):u===p&&(b=!0,j=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),N=()=>{let _;return g?_=v:b?_=j:m.route.Component?_=R.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=f,R.createElement(YC,{match:m,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?R.createElement(qC,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}function Zx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WC(t){let e=R.useContext(ll);return jt(e,Zx(t)),e}function GC(t){let e=R.useContext(vf);return jt(e,Zx(t)),e}function KC(t){let e=R.useContext(Vs);return jt(e,Zx(t)),e}function Jx(t){let e=KC(t),n=e.matches[e.matches.length-1];return jt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function QC(){return Jx("useRouteId")}function ZC(){var s;let t=R.useContext(Qx),e=GC("useRouteError"),n=Jx("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[n]}function JC(){let{router:t}=WC("useNavigate"),e=Jx("useNavigate"),n=R.useRef(!1);return eS(()=>{n.current=!0}),R.useCallback(async(a,o={})=>{zs(n.current,Jj),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var D1={};function nS(t,e,n){!e&&!D1[t]&&(D1[t]=!0,zs(!1,n))}R.memo(ek);function ek({routes:t,future:e,state:n}){return tS(t,void 0,n,e)}function Go({to:t,replace:e,state:n,relative:s}){jt(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(Bs);zs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=R.useContext(Vs),{pathname:c}=Us(),u=Ya(),f=Kx(t,Gx(o),c,s==="path"),m=JSON.stringify(f);return R.useEffect(()=>{u(JSON.parse(m),{replace:e,state:n,relative:s})},[u,m,s,e,n]),null}function tk(t){return HC(t.context)}function Lt(t){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nk({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:o=!1}){jt(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof n=="string"&&(n=ol(n));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:b="default"}=n,v=R.useMemo(()=>{let j=Hr(f,c);return j==null?null:{location:{pathname:j,search:m,hash:p,state:g,key:b},navigationType:s}},[c,f,m,p,g,b,s]);return zs(v!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:R.createElement(Bs.Provider,{value:u},R.createElement(Nd.Provider,{children:e,value:v}))}function R1({children:t,location:e}){return FC(Kg(t),e)}function Kg(t,e=[]){let n=[];return R.Children.forEach(t,(s,a)=>{if(!R.isValidElement(s))return;let o=[...e,a];if(s.type===R.Fragment){n.push.apply(n,Kg(s.props.children,o));return}jt(s.type===Lt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Kg(s.props.children,o)),n.push(c)}),n}var Bh="get",Vh="application/x-www-form-urlencoded";function wf(t){return t!=null&&typeof t.tagName=="string"}function sk(t){return wf(t)&&t.tagName.toLowerCase()==="button"}function rk(t){return wf(t)&&t.tagName.toLowerCase()==="form"}function ak(t){return wf(t)&&t.tagName.toLowerCase()==="input"}function ik(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ok(t,e){return t.button===0&&(!e||e==="_self")&&!ik(t)}var ih=null;function lk(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var ck=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(t){return t!=null&&!ck.has(t)?(zs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):t}function dk(t,e){let n,s,a,o,c;if(rk(t)){let u=t.getAttribute("action");s=u?Hr(u,e):null,n=t.getAttribute("method")||Bh,a=lg(t.getAttribute("enctype"))||Vh,o=new FormData(t)}else if(sk(t)||ak(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||u.getAttribute("action");if(s=f?Hr(f,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Bh,a=lg(t.getAttribute("formenctype"))||lg(u.getAttribute("enctype"))||Vh,o=new FormData(u,t),!lk()){let{name:m,type:p,value:g}=t;if(p==="image"){let b=m?`${m}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else m&&o.append(m,g)}}else{if(wf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bh,s=null,a=Vh,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:o,body:c}}function ey(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function uk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function fk(t,e,n){let s=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await uk(o,n);return c.links?c.links():[]}return[]}));return xk(s.flat(1).filter(hk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function O1(t,e,n,s,a,o){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,u=(f,m)=>{var p;return n[m].pathname!==f.pathname||((p=n[m].route.path)==null?void 0:p.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>c(f,m)||u(f,m)):o==="data"?e.filter((f,m)=>{var g;let p=s.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,m)||u(f,m))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function mk(t,e,{includeHydrateFallback:n}={}){return pk(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function pk(t){return[...new Set(t)]}function gk(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function xk(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let o=JSON.stringify(gk(a));return n.has(o)||(n.add(o),s.push({key:o,link:a})),s},[])}var yk=new Set([100,101,204,205]);function bk(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Hr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function sS(){let t=R.useContext(ll);return ey(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function vk(){let t=R.useContext(vf);return ey(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ty=R.createContext(void 0);ty.displayName="FrameworkContext";function rS(){let t=R.useContext(ty);return ey(t,"You must render this element inside a <HydratedRouter> element"),t}function wk(t,e){let n=R.useContext(ty),[s,a]=R.useState(!1),[o,c]=R.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:m,onMouseLeave:p,onTouchStart:g}=e,b=R.useRef(null);R.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=_=>{_.forEach(A=>{c(A.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[t]),R.useEffect(()=>{if(s){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[s]);let v=()=>{a(!0)},j=()=>{a(!1),c(!1)};return n?t!=="intent"?[o,b,{}]:[o,b,{onFocus:Sc(u,v),onBlur:Sc(f,j),onMouseEnter:Sc(m,v),onMouseLeave:Sc(p,j),onTouchStart:Sc(g,v)}]:[!1,b,{}]}function Sc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function jk({page:t,...e}){let{router:n}=sS(),s=R.useMemo(()=>Wj(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?R.createElement(Nk,{page:t,matches:s,...e}):null}function Sk(t){let{manifest:e,routeModules:n}=rS(),[s,a]=R.useState([]);return R.useEffect(()=>{let o=!1;return fk(t,e,n).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,n]),s}function Nk({page:t,matches:e,...n}){let s=Us(),{manifest:a,routeModules:o}=rS(),{basename:c}=sS(),{loaderData:u,matches:f}=vk(),m=R.useMemo(()=>O1(t,e,f,a,s,"data"),[t,e,f,a,s]),p=R.useMemo(()=>O1(t,e,f,a,s,"assets"),[t,e,f,a,s]),g=R.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let j=new Set,S=!1;if(e.forEach(_=>{var k;let A=a.routes[_.route.id];!A||!A.hasLoader||(!m.some(O=>O.route.id===_.route.id)&&_.route.id in u&&((k=o[_.route.id])!=null&&k.shouldRevalidate)||A.hasClientLoader?S=!0:j.add(_.route.id))}),j.size===0)return[];let N=bk(t,c);return S&&j.size>0&&N.searchParams.set("_routes",e.filter(_=>j.has(_.route.id)).map(_=>_.route.id).join(",")),[N.pathname+N.search]},[c,u,s,a,m,e,t,o]),b=R.useMemo(()=>mk(p,a),[p,a]),v=Sk(p);return R.createElement(R.Fragment,null,g.map(j=>R.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),b.map(j=>R.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),v.map(({key:j,link:S})=>R.createElement("link",{key:j,...S})))}function _k(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aS&&(window.__reactRouterVersion="7.5.3")}catch{}function Ek({basename:t,children:e,window:n}){let s=R.useRef();s.current==null&&(s.current=hC({window:n,v5Compat:!0}));let a=s.current,[o,c]=R.useState({action:a.action,location:a.location}),u=R.useCallback(f=>{R.startTransition(()=>c(f))},[c]);return R.useLayoutEffect(()=>a.listen(u),[a,u]),R.createElement(nk,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var iS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ar=R.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:o,replace:c,state:u,target:f,to:m,preventScrollReset:p,viewTransition:g,...b},v){let{basename:j}=R.useContext(Bs),S=typeof m=="string"&&iS.test(m),N,_=!1;if(typeof m=="string"&&S&&(N=m,aS))try{let U=new URL(window.location.href),Y=m.startsWith("//")?new URL(U.protocol+m):new URL(m),G=Hr(Y.pathname,j);Y.origin===U.origin&&G!=null?m=G+Y.search+Y.hash:_=!0}catch{zs(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=BC(m,{relative:a}),[k,O,M]=wk(s,b),P=Mk(m,{replace:c,state:u,target:f,preventScrollReset:p,relative:a,viewTransition:g});function V(U){e&&e(U),U.defaultPrevented||P(U)}let D=R.createElement("a",{...b,...M,href:N||A,onClick:_||o?e:V,ref:_k(v,O),target:f,"data-discover":!S&&n==="render"?"true":void 0});return k&&!S?R.createElement(R.Fragment,null,D,R.createElement(jk,{page:A})):D});ar.displayName="Link";var Tk=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:u,children:f,...m},p){let g=_d(c,{relative:m.relative}),b=Us(),v=R.useContext(vf),{navigator:j,basename:S}=R.useContext(Bs),N=v!=null&&Lk(g)&&u===!0,_=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,A=b.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(A=A.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&S&&(k=Hr(k,S)||k);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=A===_||!a&&A.startsWith(_)&&A.charAt(O)==="/",P=k!=null&&(k===_||!a&&k.startsWith(_)&&k.charAt(_.length)==="/"),V={isActive:M,isPending:P,isTransitioning:N},D=M?e:void 0,U;typeof s=="function"?U=s(V):U=[s,M?"active":null,P?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let Y=typeof o=="function"?o(V):o;return R.createElement(ar,{...m,"aria-current":D,className:U,ref:p,style:Y,to:c,viewTransition:u},typeof f=="function"?f(V):f)});Tk.displayName="NavLink";var Ck=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:o,method:c=Bh,action:u,onSubmit:f,relative:m,preventScrollReset:p,viewTransition:g,...b},v)=>{let j=Rk(),S=Ok(u,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&iS.test(u),A=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let O=k.nativeEvent.submitter,M=(O==null?void 0:O.getAttribute("formmethod"))||c;j(O||k.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:a,state:o,relative:m,preventScrollReset:p,viewTransition:g})};return R.createElement("form",{ref:v,method:N,action:S,onSubmit:s?f:A,...b,"data-discover":!_&&t==="render"?"true":void 0})});Ck.displayName="Form";function kk(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oS(t){let e=R.useContext(ll);return jt(e,kk(t)),e}function Mk(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:c}={}){let u=Ya(),f=Us(),m=_d(t,{relative:o});return R.useCallback(p=>{if(ok(p,e)){p.preventDefault();let g=n!==void 0?n:ad(f)===ad(m);u(t,{replace:g,state:s,preventScrollReset:a,relative:o,viewTransition:c})}},[f,u,m,n,s,e,t,a,o,c])}var Ak=0,Dk=()=>`__${String(++Ak)}__`;function Rk(){let{router:t}=oS("useSubmit"),{basename:e}=R.useContext(Bs),n=QC();return R.useCallback(async(s,a={})=>{let{action:o,method:c,encType:u,formData:f,body:m}=dk(s,e);if(a.navigate===!1){let p=a.fetcherKey||Dk();await t.fetch(p,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:m,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function Ok(t,{relative:e}={}){let{basename:n}=R.useContext(Bs),s=R.useContext(Vs);jt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),o={..._d(t||".",{relative:e})},c=Us();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ur([n,o.pathname])),ad(o)}function Lk(t,e={}){let n=R.useContext(Zj);jt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=oS("useViewTransitionState"),a=_d(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jh(a.pathname,c)!=null||Jh(a.pathname,o)!=null}new TextEncoder;[...yk];var Pk=Xj();const zk=Xx(Pk),ny=R.createContext({});function sy(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const ry=typeof window<"u",lS=ry?R.useLayoutEffect:R.useEffect,jf=R.createContext(null),ay=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Bk extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=s instanceof HTMLElement&&s.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Vk({children:t,isPresent:e,anchorX:n}){const s=R.useId(),a=R.useRef(null),o=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=R.useContext(ay);return R.useInsertionEffect(()=>{const{width:u,height:f,top:m,left:p,right:g}=o.current;if(e||!a.current||!u||!f)return;const b=n==="left"?`left: ${p}`:`right: ${g}`;a.current.dataset.motionPopId=s;const v=document.createElement("style");return c&&(v.nonce=c),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),l.jsx(Bk,{isPresent:e,childRef:a,sizeRef:o,children:R.cloneElement(t,{ref:a})})}const Uk=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:o,mode:c,anchorX:u})=>{const f=sy(Hk),m=R.useId();let p=!0,g=R.useMemo(()=>(p=!1,{id:m,initial:e,isPresent:n,custom:a,onExitComplete:b=>{f.set(b,!0);for(const v of f.values())if(!v)return;s&&s()},register:b=>(f.set(b,!1),()=>f.delete(b))}),[n,f,s]);return o&&p&&(g={...g}),R.useMemo(()=>{f.forEach((b,v)=>f.set(v,!1))},[n]),R.useEffect(()=>{!n&&!f.size&&s&&s()},[n]),c==="popLayout"&&(t=l.jsx(Vk,{isPresent:n,anchorX:u,children:t})),l.jsx(jf.Provider,{value:g,children:t})};function Hk(){return new Map}function cS(t=!0){const e=R.useContext(jf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,o=R.useId();R.useEffect(()=>{if(t)return a(o)},[t]);const c=R.useCallback(()=>t&&s&&s(o),[o,s,t]);return!n&&s?[!1,c]:[!0]}const oh=t=>t.key||"";function L1(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const dS=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1,anchorX:u="left"})=>{const[f,m]=cS(c),p=R.useMemo(()=>L1(t),[t]),g=c&&!f?[]:p.map(oh),b=R.useRef(!0),v=R.useRef(p),j=sy(()=>new Map),[S,N]=R.useState(p),[_,A]=R.useState(p);lS(()=>{b.current=!1,v.current=p;for(let M=0;M<_.length;M++){const P=oh(_[M]);g.includes(P)?j.delete(P):j.get(P)!==!0&&j.set(P,!1)}},[_,g.length,g.join("-")]);const k=[];if(p!==S){let M=[...p];for(let P=0;P<_.length;P++){const V=_[P],D=oh(V);g.includes(D)||(M.splice(P,0,V),k.push(V))}return o==="wait"&&k.length&&(M=k),A(L1(M)),N(p),null}const{forceRender:O}=R.useContext(ny);return l.jsx(l.Fragment,{children:_.map(M=>{const P=oh(M),V=c&&!f?!1:p===_||g.includes(P),D=()=>{if(j.has(P))j.set(P,!0);else return;let U=!0;j.forEach(Y=>{Y||(U=!1)}),U&&(O==null||O(),A(v.current),c&&(m==null||m()),s&&s())};return l.jsx(Uk,{isPresent:V,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,onExitComplete:V?void 0:D,anchorX:u,children:M},P)})})};function iy(t,e){t.indexOf(e)===-1&&t.push(e)}function oy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fr=(t,e,n)=>n>e?e:n<t?t:n;let ly=()=>{};const $r={},uS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),hS=t=>/^0[^.\s]+$/u.test(t);function cy(t){let e;return()=>(e===void 0&&(e=t()),e)}const vs=t=>t,Fk=(t,e)=>n=>e(t(n)),Ed=(...t)=>t.reduce(Fk),id=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class dy{constructor(){this.subscriptions=[]}add(e){return iy(this.subscriptions,e),()=>oy(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ir=t=>t*1e3,or=t=>t/1e3;function fS(t,e){return e?t*(1e3/e):0}const mS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$k=1e-7,Ik=12;function qk(t,e,n,s,a){let o,c,u=0;do c=e+(n-e)/2,o=mS(c,s,a)-t,o>0?n=c:e=c;while(Math.abs(o)>$k&&++u<Ik);return c}function Td(t,e,n,s){if(t===e&&n===s)return vs;const a=o=>qk(o,0,1,t,n);return o=>o===0||o===1?o:mS(a(o),e,s)}const pS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gS=t=>e=>1-t(1-e),xS=Td(.33,1.53,.69,.99),uy=gS(xS),yS=pS(uy),bS=t=>(t*=2)<1?.5*uy(t):.5*(2-Math.pow(2,-10*(t-1))),hy=t=>1-Math.sin(Math.acos(t)),vS=gS(hy),wS=pS(hy),Yk=Td(.42,0,1,1),Xk=Td(0,0,.58,1),jS=Td(.42,0,.58,1),Wk=t=>Array.isArray(t)&&typeof t[0]!="number",SS=t=>Array.isArray(t)&&typeof t[0]=="number",Gk={linear:vs,easeIn:Yk,easeInOut:jS,easeOut:Xk,circIn:hy,circInOut:wS,circOut:vS,backIn:uy,backInOut:yS,backOut:xS,anticipate:bS},Kk=t=>typeof t=="string",P1=t=>{if(SS(t)){ly(t.length===4);const[e,n,s,a]=t;return Td(e,n,s,a)}else if(Kk(t))return Gk[t];return t},lh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],z1={value:null};function Qk(t,e){let n=new Set,s=new Set,a=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},f=0;function m(g){c.has(g)&&(p.schedule(g),t()),f++,g(u)}const p={schedule:(g,b=!1,v=!1)=>{const S=v&&a?n:s;return b&&c.add(g),S.has(g)||S.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(u=g,a){o=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),e&&z1.value&&z1.value.frameloop[e].push(f),f=0,n.clear(),a=!1,o&&(o=!1,p.process(g))}};return p}const Zk=40;function NS(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=lh.reduce((k,O)=>(k[O]=Qk(o,e?O:void 0),k),{}),{setup:u,read:f,resolveKeyframes:m,preUpdate:p,update:g,preRender:b,render:v,postRender:j}=c,S=()=>{const k=$r.useManualTiming?a.timestamp:performance.now();n=!1,$r.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(k-a.timestamp,Zk),1)),a.timestamp=k,a.isProcessing=!0,u.process(a),f.process(a),m.process(a),p.process(a),g.process(a),b.process(a),v.process(a),j.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(S))},N=()=>{n=!0,s=!0,a.isProcessing||t(S)};return{schedule:lh.reduce((k,O)=>{const M=c[O];return k[O]=(P,V=!1,D=!1)=>(n||N(),M.schedule(P,V,D)),k},{}),cancel:k=>{for(let O=0;O<lh.length;O++)c[lh[O]].cancel(k)},state:a,steps:c}}const{schedule:kt,cancel:Ha,state:yn,steps:cg}=NS(typeof requestAnimationFrame<"u"?requestAnimationFrame:vs,!0);let Uh;function Jk(){Uh=void 0}const Xn={now:()=>(Uh===void 0&&Xn.set(yn.isProcessing||$r.useManualTiming?yn.timestamp:performance.now()),Uh),set:t=>{Uh=t,queueMicrotask(Jk)}},_S=t=>e=>typeof e=="string"&&e.startsWith(t),fy=_S("--"),eM=_S("var(--"),my=t=>eM(t)?tM.test(t.split("/*")[0].trim()):!1,tM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},od={...dl,transform:t=>Fr(0,1,t)},ch={...dl,default:1},Gc=t=>Math.round(t*1e5)/1e5,py=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nM(t){return t==null}const sM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gy=(t,e)=>n=>!!(typeof n=="string"&&sM.test(n)&&n.startsWith(t)||e&&!nM(n)&&Object.prototype.hasOwnProperty.call(n,e)),ES=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,o,c,u]=s.match(py);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},rM=t=>Fr(0,255,t),dg={...dl,transform:t=>Math.round(rM(t))},Ri={test:gy("rgb","red"),parse:ES("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+dg.transform(t)+", "+dg.transform(e)+", "+dg.transform(n)+", "+Gc(od.transform(s))+")"};function aM(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Qg={test:gy("#"),parse:aM,transform:Ri.transform},Cd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ra=Cd("deg"),lr=Cd("%"),Pe=Cd("px"),iM=Cd("vh"),oM=Cd("vw"),B1={...lr,parse:t=>lr.parse(t)/100,transform:t=>lr.transform(t*100)},$o={test:gy("hsl","hue"),parse:ES("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+lr.transform(Gc(e))+", "+lr.transform(Gc(n))+", "+Gc(od.transform(s))+")"},Nn={test:t=>Ri.test(t)||Qg.test(t)||$o.test(t),parse:t=>Ri.test(t)?Ri.parse(t):$o.test(t)?$o.parse(t):Qg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ri.transform(t):$o.transform(t)},lM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cM(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(py))==null?void 0:e.length)||0)+(((n=t.match(lM))==null?void 0:n.length)||0)>0}const TS="number",CS="color",dM="var",uM="var(",V1="${}",hM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ld(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let o=0;const u=e.replace(hM,f=>(Nn.test(f)?(s.color.push(o),a.push(CS),n.push(Nn.parse(f))):f.startsWith(uM)?(s.var.push(o),a.push(dM),n.push(f)):(s.number.push(o),a.push(TS),n.push(parseFloat(f))),++o,V1)).split(V1);return{values:n,split:u,indexes:s,types:a}}function kS(t){return ld(t).values}function MS(t){const{split:e,types:n}=ld(t),s=e.length;return a=>{let o="";for(let c=0;c<s;c++)if(o+=e[c],a[c]!==void 0){const u=n[c];u===TS?o+=Gc(a[c]):u===CS?o+=Nn.transform(a[c]):o+=a[c]}return o}}const fM=t=>typeof t=="number"?0:t;function mM(t){const e=kS(t);return MS(t)(e.map(fM))}const Fa={test:cM,parse:kS,createTransformer:MS,getAnimatableNone:mM};function ug(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pM({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,o=0,c=0;if(!e)a=o=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;a=ug(f,u,t+1/3),o=ug(f,u,t),c=ug(f,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:s}}function ef(t,e){return n=>n>0?e:t}const Ct=(t,e,n)=>t+(e-t)*n,hg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},gM=[Qg,Ri,$o],xM=t=>gM.find(e=>e.test(t));function U1(t){const e=xM(t);if(!e)return!1;let n=e.parse(t);return e===$o&&(n=pM(n)),n}const H1=(t,e)=>{const n=U1(t),s=U1(e);if(!n||!s)return ef(t,e);const a={...n};return o=>(a.red=hg(n.red,s.red,o),a.green=hg(n.green,s.green,o),a.blue=hg(n.blue,s.blue,o),a.alpha=Ct(n.alpha,s.alpha,o),Ri.transform(a))},Zg=new Set(["none","hidden"]);function yM(t,e){return Zg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bM(t,e){return n=>Ct(t,e,n)}function xy(t){return typeof t=="number"?bM:typeof t=="string"?my(t)?ef:Nn.test(t)?H1:jM:Array.isArray(t)?AS:typeof t=="object"?Nn.test(t)?H1:vM:ef}function AS(t,e){const n=[...t],s=n.length,a=t.map((o,c)=>xy(o)(o,e[c]));return o=>{for(let c=0;c<s;c++)n[c]=a[c](o);return n}}function vM(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=xy(t[a])(t[a],e[a]));return a=>{for(const o in s)n[o]=s[o](a);return n}}function wM(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],c=t.indexes[o][s[o]],u=t.values[c]??0;n[a]=u,s[o]++}return n}const jM=(t,e)=>{const n=Fa.createTransformer(e),s=ld(t),a=ld(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Zg.has(t)&&!a.values.length||Zg.has(e)&&!s.values.length?yM(t,e):Ed(AS(wM(s,a),a.values),n):ef(t,e)};function DS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ct(t,e,n):xy(t)(t,e)}const SM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>kt.update(e,!0),stop:()=>Ha(e),now:()=>yn.isProcessing?yn.timestamp:Xn.now()}},RS=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)s+=t(o/(a-1))+", ";return`linear(${s.substring(0,s.length-2)})`},tf=2e4;function yy(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<tf;)e+=n,s=t.next(e);return e>=tf?1/0:e}function NM(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(yy(s),tf);return{type:"keyframes",ease:o=>s.next(a*o).value/e,duration:or(a)}}const _M=5;function OS(t,e,n){const s=Math.max(e-_M,0);return fS(n-t(s),e-s)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},F1=.001;function EM({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:s=Pt.mass}){let a,o,c=1-e;c=Fr(Pt.minDamping,Pt.maxDamping,c),t=Fr(Pt.minDuration,Pt.maxDuration,or(t)),c<1?(a=m=>{const p=m*c,g=p*t,b=p-n,v=Jg(m,c),j=Math.exp(-g);return F1-b/v*j},o=m=>{const g=m*c*t,b=g*n+n,v=Math.pow(c,2)*Math.pow(m,2)*t,j=Math.exp(-g),S=Jg(Math.pow(m,2),c);return(-a(m)+F1>0?-1:1)*((b-v)*j)/S}):(a=m=>{const p=Math.exp(-m*t),g=(m-n)*t+1;return-.001+p*g},o=m=>{const p=Math.exp(-m*t),g=(n-m)*(t*t);return p*g});const u=5/t,f=CM(a,o,u);if(t=ir(t),isNaN(f))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:t}}}const TM=12;function CM(t,e,n){let s=n;for(let a=1;a<TM;a++)s=s-t(s)/e(s);return s}function Jg(t,e){return t*Math.sqrt(1-e*e)}const kM=["duration","bounce"],MM=["stiffness","damping","mass"];function $1(t,e){return e.some(n=>t[n]!==void 0)}function AM(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!$1(t,MM)&&$1(t,kM))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,o=2*Fr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Pt.mass,stiffness:a,damping:o}}else{const n=EM(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function nf(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:m,mass:p,duration:g,velocity:b,isResolvedFromDuration:v}=AM({...n,velocity:-or(n.velocity||0)}),j=b||0,S=m/(2*Math.sqrt(f*p)),N=c-o,_=or(Math.sqrt(f/p)),A=Math.abs(N)<5;s||(s=A?Pt.restSpeed.granular:Pt.restSpeed.default),a||(a=A?Pt.restDelta.granular:Pt.restDelta.default);let k;if(S<1){const M=Jg(_,S);k=P=>{const V=Math.exp(-S*_*P);return c-V*((j+S*_*N)/M*Math.sin(M*P)+N*Math.cos(M*P))}}else if(S===1)k=M=>c-Math.exp(-_*M)*(N+(j+_*N)*M);else{const M=_*Math.sqrt(S*S-1);k=P=>{const V=Math.exp(-S*_*P),D=Math.min(M*P,300);return c-V*((j+S*_*N)*Math.sinh(D)+M*N*Math.cosh(D))/M}}const O={calculatedDuration:v&&g||null,next:M=>{const P=k(M);if(v)u.done=M>=g;else{let V=M===0?j:0;S<1&&(V=M===0?ir(j):OS(k,M,P));const D=Math.abs(V)<=s,U=Math.abs(c-P)<=a;u.done=D&&U}return u.value=u.done?c:P,u},toString:()=>{const M=Math.min(yy(O),tf),P=RS(V=>O.next(M*V).value,M,30);return M+"ms "+P},toTransition:()=>{}};return O}nf.applyToOptions=t=>{const e=NM(t,100,nf);return t.ease=e.ease,t.duration=ir(e.duration),t.type="keyframes",t};function ex({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:f,restDelta:m=.5,restSpeed:p}){const g=t[0],b={done:!1,value:g},v=D=>u!==void 0&&D<u||f!==void 0&&D>f,j=D=>u===void 0?f:f===void 0||Math.abs(u-D)<Math.abs(f-D)?u:f;let S=n*e;const N=g+S,_=c===void 0?N:c(N);_!==N&&(S=_-g);const A=D=>-S*Math.exp(-D/s),k=D=>_+A(D),O=D=>{const U=A(D),Y=k(D);b.done=Math.abs(U)<=m,b.value=b.done?_:Y};let M,P;const V=D=>{v(b.value)&&(M=D,P=nf({keyframes:[b.value,j(b.value)],velocity:OS(k,D,b.value),damping:a,stiffness:o,restDelta:m,restSpeed:p}))};return V(0),{calculatedDuration:null,next:D=>{let U=!1;return!P&&M===void 0&&(U=!0,O(D),V(D)),M!==void 0&&D>=M?P.next(D-M):(!U&&O(D),b)}}}function DM(t,e,n){const s=[],a=n||$r.mix||DS,o=t.length-1;for(let c=0;c<o;c++){let u=a(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||vs:e;u=Ed(f,u)}s.push(u)}return s}function RM(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const o=t.length;if(ly(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=DM(e,s,a),f=u.length,m=p=>{if(c&&p<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const b=id(t[g],t[g+1],p);return u[g](b)};return n?p=>m(Fr(t[0],t[o-1],p)):m}function OM(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=id(0,e,s);t.push(Ct(n,1,a))}}function LM(t){const e=[0];return OM(e,t.length-1),e}function PM(t,e){return t.map(n=>n*e)}function zM(t,e){return t.map(()=>e||jS).splice(0,t.length-1)}function Kc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=Wk(s)?s.map(P1):P1(s),o={done:!1,value:e[0]},c=PM(n&&n.length===e.length?n:LM(e),t),u=RM(c,e,{ease:Array.isArray(a)?a:zM(e,a)});return{calculatedDuration:t,next:f=>(o.value=u(f),o.done=f>=t,o)}}const BM=t=>t!==null;function by(t,{repeat:e,repeatType:n="loop"},s,a=1){const o=t.filter(BM),u=a<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||s===void 0?o[u]:s}const VM={decay:ex,inertia:ex,tween:Kc,keyframes:Kc,spring:nf};function LS(t){typeof t.type=="string"&&(t.type=VM[t.type])}class vy{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const UM=t=>t/100;class PS extends vy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==Xn.now()&&this.tick(Xn.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:s}=this.options;s&&s()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;LS(e);const{type:n=Kc,repeat:s=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=e;let{keyframes:u}=e;const f=n||Kc;f!==Kc&&typeof u[0]!="number"&&(this.mixKeyframes=Ed(UM,DS(u[0],u[1])),u=[0,100]);const m=f({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=yy(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:p,repeat:g,repeatType:b,repeatDelay:v,type:j,onUpdate:S,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-m*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?_<0:_>a;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,O=s;if(g){const D=Math.min(this.currentTime,a)/u;let U=Math.floor(D),Y=D%1;!Y&&D>=1&&(Y=1),Y===1&&U--,U=Math.min(U,g+1),!!(U%2)&&(b==="reverse"?(Y=1-Y,v&&(Y-=v/u)):b==="mirror"&&(O=c)),k=Fr(0,1,Y)*u}const M=A?{done:!1,value:p[0]}:O.next(k);o&&(M.value=o(M.value));let{done:P}=M;!A&&f!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return V&&j!==ex&&(M.value=by(p,this.options,N,this.speed)),S&&S(M.value),V&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return or(this.calculatedDuration)}get time(){return or(this.currentTime)}set time(e){e=ir(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=or(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=SM,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function HM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Oi=t=>t*180/Math.PI,tx=t=>{const e=Oi(Math.atan2(t[1],t[0]));return nx(e)},FM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tx,rotateZ:tx,skewX:t=>Oi(Math.atan(t[1])),skewY:t=>Oi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nx=t=>(t=t%360,t<0&&(t+=360),t),I1=tx,q1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Y1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$M={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:q1,scaleY:Y1,scale:t=>(q1(t)+Y1(t))/2,rotateX:t=>nx(Oi(Math.atan2(t[6],t[5]))),rotateY:t=>nx(Oi(Math.atan2(-t[2],t[0]))),rotateZ:I1,rotate:I1,skewX:t=>Oi(Math.atan(t[4])),skewY:t=>Oi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function X1(t){return t.includes("scale")?1:0}function sx(t,e){if(!t||t==="none")return X1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=$M,a=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=FM,a=u}if(!a)return X1(e);const o=s[e],c=a[1].split(",").map(qM);return typeof o=="function"?o(c):c[o]}const IM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sx(n,e)};function qM(t){return parseFloat(t.trim())}const ul=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hl=new Set(ul),W1=t=>t===dl||t===Pe,YM=new Set(["x","y","z"]),XM=ul.filter(t=>!YM.has(t));function WM(t){const e=[];return XM.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const tl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sx(e,"x"),y:(t,{transform:e})=>sx(e,"y")};tl.translateX=tl.x;tl.translateY=tl.y;const zi=new Set;let rx=!1,ax=!1,ix=!1;function zS(){if(ax){const t=Array.from(zi).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=WM(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([o,c])=>{var u;(u=s.getValue(o))==null||u.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ax=!1,rx=!1,zi.forEach(t=>t.complete(ix)),zi.clear()}function BS(){zi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ax=!0)})}function GM(){ix=!0,BS(),zS(),ix=!1}class wy{constructor(e,n,s,a,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zi.add(this),rx||(rx=!0,kt.read(BS),kt.resolveKeyframes(zS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const o=a==null?void 0:a.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&n){const u=s.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),a&&o===void 0&&a.set(e[0])}HM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const KM=t=>t.startsWith("--");function QM(t,e,n){KM(e)?t.style.setProperty(e,n):t.style[e]=n}const ZM=cy(()=>window.ScrollTimeline!==void 0),JM={};function eA(t,e){const n=cy(t);return()=>JM[e]??n()}const VS=eA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,G1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uc([0,.65,.55,1]),circOut:Uc([.55,0,1,.45]),backIn:Uc([.31,.01,.66,-.59]),backOut:Uc([.33,1.53,.69,.99])};function US(t,e){if(t)return typeof t=="function"?VS()?RS(t,e):"ease-out":SS(t)?Uc(t):Array.isArray(t)?t.map(n=>US(n,e)||G1.easeOut):G1[t]}function tA(t,e,n,{delay:s=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:f}={},m=void 0){const p={[e]:n};f&&(p.offset=f);const g=US(u,a);Array.isArray(g)&&(p.easing=g);const b={delay:s,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(p,b)}function HS(t){return typeof t=="function"&&"applyToOptions"in t}function nA({type:t,...e}){return HS(t)&&VS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class sA extends vy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,ly(typeof e.type!="string");const m=nA(e);this.animation=tA(n,s,a,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=by(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):QM(n,s,p),this.animation.cancel()}f==null||f(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return or(Number(e))}get time(){return or(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ir(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&ZM()?(this.animation.timeline=e,vs):n(this)}}const FS={anticipate:bS,backInOut:yS,circInOut:wS};function rA(t){return t in FS}function aA(t){typeof t.ease=="string"&&rA(t.ease)&&(t.ease=FS[t.ease])}const K1=10;class iA extends sA{constructor(e){aA(e),LS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new PS({...c,autoplay:!1}),f=ir(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-K1).value,u.sample(f).value,K1),u.stop()}}const Q1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fa.test(t)||t==="0")&&!t.startsWith("url("));function oA(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function lA(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=Q1(a,e),u=Q1(o,e);return!c||!u?!1:oA(t)||(n==="spring"||HS(n))&&s}const cA=new Set(["opacity","clipPath","filter","transform"]),dA=cy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uA(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:o,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=e.owner.getProps();return dA()&&n&&cA.has(n)&&(n!=="transform"||!f)&&!u&&!s&&a!=="mirror"&&o!==0&&c!=="inertia"}const hA=40;class fA extends vy{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:f,motionValue:m,element:p,...g}){var j;super(),this.stop=()=>{var S,N;this._animation?(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)):(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Xn.now();const b={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:o,repeatType:c,name:f,motionValue:m,element:p,...g},v=(p==null?void 0:p.KeyframeResolver)||wy;this.keyframeResolver=new v(u,(S,N,_)=>this.onKeyframesResolved(S,N,b,!_),f,m,p),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:f,isHandoff:m,onUpdate:p}=s;this.resolvedAt=Xn.now(),lA(e,o,c,u)||(($r.instantAnimations||!f)&&(p==null||p(by(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>hA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},v=!m&&uA(b)?new iA({...b,element:b.motionValue.owner.current}):new PS(b);v.finished.then(()=>this.notifyFinished()).catch(vs),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||GM(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const mA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pA(t){const e=mA.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function $S(t,e,n=1){const[s,a]=pA(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const c=o.trim();return uS(c)?parseFloat(c):c}return my(a)?$S(a,e,n+1):a}function jy(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const IS=new Set(["width","height","top","left","right","bottom",...ul]),gA={test:t=>t==="auto",parse:t=>t},qS=t=>e=>e.test(t),YS=[dl,Pe,lr,Ra,oM,iM,gA],Z1=t=>YS.find(qS(t));function xA(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||hS(t):!0}const yA=new Set(["brightness","contrast","saturate","opacity"]);function bA(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(py)||[];if(!s)return t;const a=n.replace(s,"");let o=yA.has(e)?1:0;return s!==n&&(o*=100),e+"("+o+a+")"}const vA=/\b([a-z-]*)\(.*?\)/gu,ox={...Fa,getAnimatableNone:t=>{const e=t.match(vA);return e?e.map(bA).join(" "):t}},J1={...dl,transform:Math.round},wA={rotate:Ra,rotateX:Ra,rotateY:Ra,rotateZ:Ra,scale:ch,scaleX:ch,scaleY:ch,scaleZ:ch,skew:Ra,skewX:Ra,skewY:Ra,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:od,originX:B1,originY:B1,originZ:Pe},Sy={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...wA,zIndex:J1,fillOpacity:od,strokeOpacity:od,numOctaves:J1},jA={...Sy,color:Nn,backgroundColor:Nn,outlineColor:Nn,fill:Nn,stroke:Nn,borderColor:Nn,borderTopColor:Nn,borderRightColor:Nn,borderBottomColor:Nn,borderLeftColor:Nn,filter:ox,WebkitFilter:ox},XS=t=>jA[t];function WS(t,e){let n=XS(t);return n!==ox&&(n=Fa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SA=new Set(["auto","none","0"]);function NA(t,e,n){let s=0,a;for(;s<t.length&&!a;){const o=t[s];typeof o=="string"&&!SA.has(o)&&ld(o).values.length&&(a=t[s]),s++}if(a&&n)for(const o of e)t[o]=WS(n,a)}class _A extends wy{constructor(e,n,s,a,o){super(e,n,s,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),my(m))){const p=$S(m,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!IS.has(s)||e.length!==2)return;const[a,o]=e,c=Z1(a),u=Z1(o);if(c!==u)if(W1(c)&&W1(u))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||xA(e[a]))&&s.push(a);s.length&&NA(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=tl[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=tl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,m])=>{e.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function EA(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(n==null?void 0:n[t])??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const{schedule:Ny}=NS(queueMicrotask,!1),Os={x:!1,y:!1};function GS(){return Os.x||Os.y}function TA(t){return t==="x"||t==="y"?Os[t]?null:(Os[t]=!0,()=>{Os[t]=!1}):Os.x||Os.y?null:(Os.x=Os.y=!0,()=>{Os.x=Os.y=!1})}function KS(t,e){const n=EA(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function ew(t){return!(t.pointerType==="touch"||GS())}function CA(t,e,n={}){const[s,a,o]=KS(t,n),c=u=>{if(!ew(u))return;const{target:f}=u,m=e(f,u);if(typeof m!="function"||!f)return;const p=g=>{ew(g)&&(m(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,a)};return s.forEach(u=>{u.addEventListener("pointerenter",c,a)}),o}const QS=(t,e)=>e?t===e?!0:QS(t,e.parentElement):!1,_y=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function MA(t){return kA.has(t.tagName)||t.tabIndex!==-1}const Hc=new WeakSet;function tw(t){return e=>{e.key==="Enter"&&t(e)}}function fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const AA=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=tw(()=>{if(Hc.has(n))return;fg(n,"down");const a=tw(()=>{fg(n,"up")}),o=()=>fg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function nw(t){return _y(t)&&!GS()}function DA(t,e,n={}){const[s,a,o]=KS(t,n),c=u=>{const f=u.currentTarget;if(!nw(u)||Hc.has(f))return;Hc.add(f);const m=e(f,u),p=(v,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),!(!nw(v)||!Hc.has(f))&&(Hc.delete(f),typeof m=="function"&&m(v,{success:j}))},g=v=>{p(v,f===window||f===document||n.useGlobalTarget||QS(f,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",b,a)};return s.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),u instanceof HTMLElement&&(u.addEventListener("focus",m=>AA(m,a)),!MA(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}const sw=30,RA=t=>!isNaN(parseFloat(t));class OA{constructor(e,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,a=!0)=>{var c,u;const o=Xn.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),a&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dy);const s=this.events[e].add(n);return e==="change"?()=>{s(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>sw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sw);return fS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function cd(t,e){return new OA(t,e)}const LA=[...YS,Nn,Fa],PA=t=>LA.find(qS(t)),ZS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,JS=R.createContext({strict:!1}),rw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nl={};for(const t in rw)nl[t]={isEnabled:e=>rw[t].some(n=>!!e[n])};function zA(t){for(const e in t)nl[e]={...nl[e],...t[e]}}const BA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||BA.has(t)}let eN=t=>!sf(t);function VA(t){t&&(eN=e=>e.startsWith("on")?!sf(e):t(e))}try{VA(require("@emotion/is-prop-valid").default)}catch{}function UA(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(eN(a)||n===!0&&sf(a)||!e&&!sf(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}function HA(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Sf=R.createContext({});function Nf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dd(t){return typeof t=="string"||Array.isArray(t)}const Ey=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ty=["initial",...Ey];function _f(t){return Nf(t.animate)||Ty.some(e=>dd(t[e]))}function tN(t){return!!(_f(t)||t.variants)}function FA(t,e){if(_f(t)){const{initial:n,animate:s}=t;return{initial:n===!1||dd(n)?n:void 0,animate:dd(s)?s:void 0}}return t.inherit!==!1?e:{}}function $A(t){const{initial:e,animate:n}=FA(t,R.useContext(Sf));return R.useMemo(()=>({initial:e,animate:n}),[aw(e),aw(n)])}function aw(t){return Array.isArray(t)?t.join(" "):t}const IA=Symbol.for("motionComponentSymbol");function Io(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qA(t,e,n){return R.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Io(n)&&(n.current=s))},[e])}const Cy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YA="framerAppearId",nN="data-"+Cy(YA),sN=R.createContext({});function XA(t,e,n,s,a){var S,N;const{visualElement:o}=R.useContext(Sf),c=R.useContext(JS),u=R.useContext(jf),f=R.useContext(ay).reducedMotion,m=R.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=m.current,g=R.useContext(sN);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&WA(m.current,n,a,g);const b=R.useRef(!1);R.useInsertionEffect(()=>{p&&b.current&&p.update(n,u)});const v=n[nN],j=R.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,v)));return lS(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Ny.render(p.render),j.current&&p.animationState&&p.animationState.animateChanges())}),R.useEffect(()=>{p&&(!j.current&&p.animationState&&p.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),j.current=!1))}),p}function WA(t,e,n,s){const{layoutId:a,layout:o,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:rN(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||u&&Io(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:f,layoutRoot:m})}function rN(t){if(t)return t.options.allowProjection!==!1?t.projection:rN(t.parent)}function GA({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:a}){t&&zA(t);function o(u,f){let m;const p={...R.useContext(ay),...u,layoutId:KA(u)},{isStatic:g}=p,b=$A(u),v=s(u,g);if(!g&&ry){QA();const j=ZA(p);m=j.MeasureLayout,b.visualElement=XA(a,v,p,e,j.ProjectionNode)}return l.jsxs(Sf.Provider,{value:b,children:[m&&b.visualElement?l.jsx(m,{visualElement:b.visualElement,...p}):null,n(a,u,qA(v,b.visualElement,f),v,g,b.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=R.forwardRef(o);return c[IA]=a,c}function KA({layoutId:t}){const e=R.useContext(ny).id;return e&&t!==void 0?e+"-"+t:t}function QA(t,e){R.useContext(JS).strict}function ZA(t){const{drag:e,layout:n}=nl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const ud={};function JA(t){for(const e in t)ud[e]=t[e],fy(e)&&(ud[e].isCSSVariable=!0)}function aN(t,{layout:e,layoutId:n}){return hl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ud[t]||t==="opacity")}const En=t=>!!(t&&t.getVelocity),e4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t4=ul.length;function n4(t,e,n){let s="",a=!0;for(let o=0;o<t4;o++){const c=ul[o],u=t[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const m=ZS(u,Sy[c]);if(!f){a=!1;const p=e4[c]||c;s+=`${p}(${m}) `}n&&(e[c]=m)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function ky(t,e,n){const{style:s,vars:a,transformOrigin:o}=t;let c=!1,u=!1;for(const f in e){const m=e[f];if(hl.has(f)){c=!0;continue}else if(fy(f)){a[f]=m;continue}else{const p=ZS(m,Sy[f]);f.startsWith("origin")?(u=!0,o[f]=p):s[f]=p}}if(e.transform||(c||n?s.transform=n4(e,t.transform,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:m="50%",originZ:p=0}=o;s.transformOrigin=`${f} ${m} ${p}`}}const My=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iN(t,e,n){for(const s in e)!En(e[s])&&!aN(s,n)&&(t[s]=e[s])}function s4({transformTemplate:t},e){return R.useMemo(()=>{const n=My();return ky(n,e,t),Object.assign({},n.vars,n.style)},[e])}function r4(t,e){const n=t.style||{},s={};return iN(s,n,t),Object.assign(s,s4(t,e)),s}function a4(t,e){const n={},s=r4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const i4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ay(t){return typeof t!="string"||t.includes("-")?!1:!!(i4.indexOf(t)>-1||/[A-Z]/u.test(t))}const o4={offset:"stroke-dashoffset",array:"stroke-dasharray"},l4={offset:"strokeDashoffset",array:"strokeDasharray"};function c4(t,e,n=1,s=0,a=!0){t.pathLength=1;const o=a?o4:l4;t[o.offset]=Pe.transform(-s);const c=Pe.transform(e),u=Pe.transform(n);t[o.array]=`${c} ${u}`}function oN(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},f,m){if(ky(t,u,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox="fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),a!==void 0&&c4(p,a,o,c,!1)}const lN=()=>({...My(),attrs:{}}),cN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function d4(t,e,n,s){const a=R.useMemo(()=>{const o=lN();return oN(o,e,cN(s),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};iN(o,t.style,t),a.style={...o,...a.style}}return a}function u4(t=!1){return(n,s,a,{latestValues:o},c)=>{const f=(Ay(n)?d4:a4)(s,o,c,n),m=UA(s,typeof n=="string",t),p=n!==R.Fragment?{...m,...f,ref:a}:{},{children:g}=s,b=R.useMemo(()=>En(g)?g.get():g,[g]);return R.createElement(n,{...p,children:b})}}function iw(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Dy(t,e,n,s){if(typeof e=="function"){const[a,o]=iw(s);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=iw(s);e=e(n!==void 0?n:t.custom,a,o)}return e}function Hh(t){return En(t)?t.get():t}function h4({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:f4(n,s,a,t),renderState:e()}}const dN=t=>(e,n)=>{const s=R.useContext(Sf),a=R.useContext(jf),o=()=>h4(t,e,s,a);return n?o():sy(o)};function f4(t,e,n,s){const a={},o=s(t,{});for(const b in o)a[b]=Hh(o[b]);let{initial:c,animate:u}=t;const f=_f(t),m=tN(t);e&&m&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?u:c;if(g&&typeof g!="boolean"&&!Nf(g)){const b=Array.isArray(g)?g:[g];for(let v=0;v<b.length;v++){const j=Dy(t,b[v]);if(j){const{transitionEnd:S,transition:N,..._}=j;for(const A in _){let k=_[A];if(Array.isArray(k)){const O=p?k.length-1:0;k=k[O]}k!==null&&(a[A]=k)}for(const A in S)a[A]=S[A]}}}return a}function Ry(t,e,n){var o;const{style:s}=t,a={};for(const c in s)(En(s[c])||e.style&&En(e.style[c])||aN(c,t)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(a[c]=s[c]);return a}const m4={useVisualState:dN({scrapeMotionValuesFromProps:Ry,createRenderState:My})};function uN(t,e,n){const s=Ry(t,e,n);for(const a in t)if(En(t[a])||En(e[a])){const o=ul.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[o]=t[a]}return s}const p4={useVisualState:dN({scrapeMotionValuesFromProps:uN,createRenderState:lN})};function g4(t,e){return function(s,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Ay(s)?p4:m4,preloadedFeatures:t,useRender:u4(a),createVisualElement:e,Component:s};return GA(c)}}function hd(t,e,n){const s=t.getProps();return Dy(s,e,n!==void 0?n:s.custom,t)}const lx=t=>Array.isArray(t);function x4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,cd(n))}function y4(t){return lx(t)?t[t.length-1]||0:t}function b4(t,e){const n=hd(t,e);let{transitionEnd:s={},transition:a={},...o}=n||{};o={...o,...s};for(const c in o){const u=y4(o[c]);x4(t,c,u)}}function v4(t){return!!(En(t)&&t.add)}function cx(t,e){const n=t.getValue("willChange");if(v4(n))return n.add(e);if(!n&&$r.WillChange){const s=new $r.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function hN(t){return t.props[nN]}const w4=t=>t!==null;function j4(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(w4),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[o]}const S4={type:"spring",stiffness:500,damping:25,restSpeed:10},N4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_4={type:"keyframes",duration:.8},E4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},T4=(t,{keyframes:e})=>e.length>2?_4:hl.has(t)?t.startsWith("scale")?N4(e[1]):S4:E4;function C4({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:u,from:f,elapsed:m,...p}){return!!Object.keys(p).length}const Oy=(t,e,n,s={},a,o)=>c=>{const u=jy(s,t)||{},f=u.delay||s.delay||0;let{elapsed:m=0}=s;m=m-ir(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:a};C4(u)||Object.assign(p,T4(t,p)),p.duration&&(p.duration=ir(p.duration)),p.repeatDelay&&(p.repeatDelay=ir(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),($r.instantAnimations||$r.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!o&&e.get()!==void 0){const b=j4(p.keyframes,u);if(b!==void 0){kt.update(()=>{p.onUpdate(b),p.onComplete()});return}}return new fA(p)};function k4({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function fN(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...u}=e;s&&(o=s);const f=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),b=u[p];if(b===void 0||m&&k4(m,p))continue;const v={delay:n,...jy(o||{},p)},j=g.get();if(j!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===j&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const _=hN(t);if(_){const A=window.MotionHandoffAnimation(_,p,kt);A!==null&&(v.startTime=A,S=!0)}}cx(t,p),g.start(Oy(p,g,b,t.shouldReduceMotion&&IS.has(p)?{type:!1}:v,t,S));const N=g.animation;N&&f.push(N)}return c&&Promise.all(f).then(()=>{kt.update(()=>{c&&b4(t,c)})}),f}function dx(t,e,n={}){var f;const s=hd(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const o=s?()=>Promise.all(fN(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:b}=a;return M4(t,e,p+m,g,b,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[m,p]=u==="beforeChildren"?[o,c]:[c,o];return m().then(()=>p())}else return Promise.all([o(),c(n.delay)])}function M4(t,e,n=0,s=0,a=1,o){const c=[],u=(t.variantChildren.size-1)*s,f=a===1?(m=0)=>m*s:(m=0)=>u-m*s;return Array.from(t.variantChildren).sort(A4).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(dx(m,e,{...o,delay:n+f(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function A4(t,e){return t.sortNodePosition(e)}function D4(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(o=>dx(t,o,n));s=Promise.all(a)}else if(typeof e=="string")s=dx(t,e,n);else{const a=typeof e=="function"?hd(t,e,n.custom):e;s=Promise.all(fN(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function mN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const R4=Ty.length;function pN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?pN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<R4;n++){const s=Ty[n],a=t.props[s];(dd(a)||a===!1)&&(e[s]=a)}return e}const O4=[...Ey].reverse(),L4=Ey.length;function P4(t){return e=>Promise.all(e.map(({animation:n,options:s})=>D4(t,n,s)))}function z4(t){let e=P4(t),n=ow(),s=!0;const a=f=>(m,p)=>{var b;const g=hd(t,p,f==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:v,transitionEnd:j,...S}=g;m={...m,...S,...j}}return m};function o(f){e=f(t)}function c(f){const{props:m}=t,p=pN(t.parent)||{},g=[],b=new Set;let v={},j=1/0;for(let N=0;N<L4;N++){const _=O4[N],A=n[_],k=m[_]!==void 0?m[_]:p[_],O=dd(k),M=_===f?A.isActive:null;M===!1&&(j=N);let P=k===p[_]&&k!==m[_]&&O;if(P&&s&&t.manuallyAnimateOnMount&&(P=!1),A.protectedKeys={...v},!A.isActive&&M===null||!k&&!A.prevProp||Nf(k)||typeof k=="boolean")continue;const V=B4(A.prevProp,k);let D=V||_===f&&A.isActive&&!P&&O||N>j&&O,U=!1;const Y=Array.isArray(k)?k:[k];let G=Y.reduce(a(_),{});M===!1&&(G={});const{prevResolvedValues:X={}}=A,ne={...X,...G},fe=F=>{D=!0,b.has(F)&&(U=!0,b.delete(F)),A.needsAnimating[F]=!0;const q=t.getValue(F);q&&(q.liveStyle=!1)};for(const F in ne){const q=G[F],ee=X[F];if(v.hasOwnProperty(F))continue;let H=!1;lx(q)&&lx(ee)?H=!mN(q,ee):H=q!==ee,H?q!=null?fe(F):b.add(F):q!==void 0&&b.has(F)?fe(F):A.protectedKeys[F]=!0}A.prevProp=k,A.prevResolvedValues=G,A.isActive&&(v={...v,...G}),s&&t.blockInitialAnimation&&(D=!1),D&&(!(P&&V)||U)&&g.push(...Y.map(F=>({animation:F,options:{type:_}})))}if(b.size){const N={};if(typeof m.initial!="boolean"){const _=hd(t,Array.isArray(m.initial)?m.initial[0]:m.initial);_&&_.transition&&(N.transition=_.transition)}b.forEach(_=>{const A=t.getBaseTarget(_),k=t.getValue(_);k&&(k.liveStyle=!0),N[_]=A??null}),g.push({animation:N})}let S=!!g.length;return s&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),s=!1,S?e(g):Promise.resolve()}function u(f,m){var g;if(n[f].isActive===m)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(b=>{var v;return(v=b.animationState)==null?void 0:v.setActive(f,m)}),n[f].isActive=m;const p=c(f);for(const b in n)n[b].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=ow(),s=!0}}}function B4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!mN(e,t):!1}function wi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ow(){return{animate:wi(!0),whileInView:wi(),whileHover:wi(),whileTap:wi(),whileDrag:wi(),whileFocus:wi(),exit:wi()}}class Xa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class V4 extends Xa{constructor(e){super(e),e.animationState||(e.animationState=z4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Nf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let U4=0;class H4 extends Xa{constructor(){super(...arguments),this.id=U4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const F4={animation:{Feature:V4},exit:{Feature:H4}};function fd(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function kd(t){return{point:{x:t.pageX,y:t.pageY}}}const $4=t=>e=>_y(e)&&t(e,kd(e));function Qc(t,e,n,s){return fd(t,e,$4(n),s)}function gN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function I4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function q4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const xN=1e-4,Y4=1-xN,X4=1+xN,yN=.01,W4=0-yN,G4=0+yN;function Ln(t){return t.max-t.min}function K4(t,e,n){return Math.abs(t-e)<=n}function lw(t,e,n,s=.5){t.origin=s,t.originPoint=Ct(e.min,e.max,t.origin),t.scale=Ln(n)/Ln(e),t.translate=Ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Y4&&t.scale<=X4||isNaN(t.scale))&&(t.scale=1),(t.translate>=W4&&t.translate<=G4||isNaN(t.translate))&&(t.translate=0)}function Zc(t,e,n,s){lw(t.x,e.x,n.x,s?s.originX:void 0),lw(t.y,e.y,n.y,s?s.originY:void 0)}function cw(t,e,n){t.min=n.min+e.min,t.max=t.min+Ln(e)}function Q4(t,e,n){cw(t.x,e.x,n.x),cw(t.y,e.y,n.y)}function dw(t,e,n){t.min=e.min-n.min,t.max=t.min+Ln(e)}function Jc(t,e,n){dw(t.x,e.x,n.x),dw(t.y,e.y,n.y)}const uw=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:uw(),y:uw()}),hw=()=>({min:0,max:0}),qt=()=>({x:hw(),y:hw()});function ys(t){return[t("x"),t("y")]}function mg(t){return t===void 0||t===1}function ux({scale:t,scaleX:e,scaleY:n}){return!mg(t)||!mg(e)||!mg(n)}function ki(t){return ux(t)||bN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bN(t){return fw(t.x)||fw(t.y)}function fw(t){return t&&t!=="0%"}function rf(t,e,n){const s=t-n,a=e*s;return n+a}function mw(t,e,n,s,a){return a!==void 0&&(t=rf(t,a,s)),rf(t,n,s)+e}function hx(t,e=0,n=1,s,a){t.min=mw(t.min,e,n,s,a),t.max=mw(t.max,e,n,s,a)}function vN(t,{x:e,y:n}){hx(t.x,e.translate,e.scale,e.originPoint),hx(t.y,n.translate,n.scale,n.originPoint)}const pw=.999999999999,gw=1.0000000000001;function Z4(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,c;for(let u=0;u<a;u++){o=n[u],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Xo(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,vN(t,c)),s&&ki(o.latestValues)&&Xo(t,o.latestValues))}e.x<gw&&e.x>pw&&(e.x=1),e.y<gw&&e.y>pw&&(e.y=1)}function Yo(t,e){t.min=t.min+e,t.max=t.max+e}function xw(t,e,n,s,a=.5){const o=Ct(t.min,t.max,a);hx(t,e,n,o,s)}function Xo(t,e){xw(t.x,e.x,e.scaleX,e.scale,e.originX),xw(t.y,e.y,e.scaleY,e.scale,e.originY)}function wN(t,e){return gN(q4(t.getBoundingClientRect(),e))}function J4(t,e,n){const s=wN(t,n),{scroll:a}=e;return a&&(Yo(s.x,a.offset.x),Yo(s.y,a.offset.y)),s}const jN=({current:t})=>t?t.ownerDocument.defaultView:null,yw=(t,e)=>Math.abs(t-e);function eD(t,e){const n=yw(t.x,e.x),s=yw(t.y,e.y);return Math.sqrt(n**2+s**2)}class SN{constructor(e,n,{transformPagePoint:s,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=gg(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=eD(g.offset,{x:0,y:0})>=3;if(!b&&!v)return;const{point:j}=g,{timestamp:S}=yn;this.history.push({...j,timestamp:S});const{onStart:N,onMove:_}=this.handlers;b||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=pg(b,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:v,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=gg(g.type==="pointercancel"?this.lastMoveEventInfo:pg(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,N),j&&j(g,N)},!_y(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=s,this.contextWindow=a||window;const c=kd(e),u=pg(c,this.transformPagePoint),{point:f}=u,{timestamp:m}=yn;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,gg(u,this.history)),this.removeListeners=Ed(Qc(this.contextWindow,"pointermove",this.handlePointerMove),Qc(this.contextWindow,"pointerup",this.handlePointerUp),Qc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ha(this.updatePoint)}}function pg(t,e){return e?{point:e(t.point)}:t}function bw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function gg({point:t},e){return{point:t,delta:bw(t,NN(e)),offset:bw(t,tD(e)),velocity:nD(e,.1)}}function tD(t){return t[0]}function NN(t){return t[t.length-1]}function nD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=NN(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>ir(e)));)n--;if(!s)return{x:0,y:0};const o=or(a.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-s.x)/o,y:(a.y-s.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function sD(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Ct(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Ct(n,t,s.max):Math.min(t,n)),t}function vw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rD(t,{top:e,left:n,bottom:s,right:a}){return{x:vw(t.x,n,a),y:vw(t.y,e,s)}}function ww(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function aD(t,e){return{x:ww(t.x,e.x),y:ww(t.y,e.y)}}function iD(t,e){let n=.5;const s=Ln(t),a=Ln(e);return a>s?n=id(e.min,e.max-s,t.min):s>a&&(n=id(t.min,t.max-a,e.min)),Fr(0,1,n)}function oD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fx=.35;function lD(t=fx){return t===!1?t=0:t===!0&&(t=fx),{x:jw(t,"left","right"),y:jw(t,"top","bottom")}}function jw(t,e,n){return{min:Sw(t,e),max:Sw(t,n)}}function Sw(t,e){return typeof t=="number"?t:t[e]||0}const cD=new WeakMap;class dD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kd(p).point)},o=(p,g)=>{const{drag:b,dragPropagation:v,onDragStart:j}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TA(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ys(N=>{let _=this.getAxisMotionValue(N).get()||0;if(lr.test(_)){const{projection:A}=this.visualElement;if(A&&A.layout){const k=A.layout.layoutBox[N];k&&(_=Ln(k)*(parseFloat(_)/100))}}this.originPoint[N]=_}),j&&kt.postRender(()=>j(p,g)),cx(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(p,g)=>{const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:j,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:N}=g;if(v&&this.currentDirection===null){this.currentDirection=uD(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),S&&S(p,g)},u=(p,g)=>this.stop(p,g),f=()=>ys(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new SN(e,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:jN(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&kt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!dh(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=sD(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;e&&Io(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=rD(s.layoutBox,e):this.constraints=!1,this.elastic=lD(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ys(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=oD(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Io(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=J4(s,a.root,this.visualElement.getTransformPagePoint());let c=aD(a.layout.layoutBox,o);if(n){const u=n(I4(c));this.hasMutatedConstraints=!!u,u&&(c=gN(u))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},m=ys(p=>{if(!dh(p,n,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const b=a?200:1e6,v=a?40:1e7,j={type:"inertia",velocity:s?e[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,j)});return Promise.all(m).then(u)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return cx(this.visualElement,e),s.start(Oy(e,s,0,n,this.visualElement,!1))}stopAnimation(){ys(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ys(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ys(n=>{const{drag:s}=this.getProps();if(!dh(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[n];o.set(e[n]-Ct(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Io(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ys(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();a[c]=iD({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ys(c=>{if(!dh(c,e,null))return;const u=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];u.set(Ct(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;cD.set(this.visualElement,this);const e=this.visualElement.current,n=Qc(e,"pointerdown",f=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Io(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),kt.read(s);const c=fd(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(ys(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=fx,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function dh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function uD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hD extends Xa{constructor(e){super(e),this.removeGroupControls=vs,this.removeListeners=vs,this.controls=new dD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nw=t=>(e,n)=>{t&&kt.postRender(()=>t(e,n))};class fD extends Xa{constructor(){super(...arguments),this.removePointerDownListener=vs}onPointerDown(e){this.session=new SN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:Nw(e),onStart:Nw(n),onMove:s,onEnd:(o,c)=>{delete this.session,a&&kt.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=Qc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _w(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=_w(t,e.target.x),s=_w(t,e.target.y);return`${n}% ${s}%`}},mD={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Fa.parse(t);if(a.length>5)return s;const o=Fa.createTransformer(t),c=typeof a[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=u,a[1+c]/=f;const m=Ct(u,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),o(a)}};class pD extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:o}=e;JA(gD),o&&(n.group&&n.group.add(o),s&&s.register&&a&&s.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Fh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:o}=this.props,c=s.projection;return c&&(c.isPresent=o,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||kt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ny.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _N(t){const[e,n]=cS(),s=R.useContext(ny);return l.jsx(pD,{...t,layoutGroup:s,switchLayoutGroup:R.useContext(sN),isPresent:e,safeToRemove:n})}const gD={borderRadius:{...Nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nc,borderTopRightRadius:Nc,borderBottomLeftRadius:Nc,borderBottomRightRadius:Nc,boxShadow:mD};function xD(t,e,n){const s=En(t)?t:cd(t);return s.start(Oy("",s,e,n)),s.animation}function yD(t){return t instanceof SVGElement&&t.tagName!=="svg"}const bD=(t,e)=>t.depth-e.depth;class vD{constructor(){this.children=[],this.isDirty=!1}add(e){iy(this.children,e),this.isDirty=!0}remove(e){oy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bD),this.isDirty=!1,this.children.forEach(e)}}function wD(t,e){const n=Xn.now(),s=({timestamp:a})=>{const o=a-n;o>=e&&(Ha(s),t(o-e))};return kt.setup(s,!0),()=>Ha(s)}const EN=["TopLeft","TopRight","BottomLeft","BottomRight"],jD=EN.length,Ew=t=>typeof t=="string"?parseFloat(t):t,Tw=t=>typeof t=="number"||Pe.test(t);function SD(t,e,n,s,a,o){a?(t.opacity=Ct(0,n.opacity??1,ND(s)),t.opacityExit=Ct(e.opacity??1,0,_D(s))):o&&(t.opacity=Ct(e.opacity??1,n.opacity??1,s));for(let c=0;c<jD;c++){const u=`border${EN[c]}Radius`;let f=Cw(e,u),m=Cw(n,u);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||Tw(f)===Tw(m)?(t[u]=Math.max(Ct(Ew(f),Ew(m),s),0),(lr.test(m)||lr.test(f))&&(t[u]+="%")):t[u]=m}(e.rotate||n.rotate)&&(t.rotate=Ct(e.rotate||0,n.rotate||0,s))}function Cw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ND=TN(0,.5,vS),_D=TN(.5,.95,vs);function TN(t,e,n){return s=>s<t?0:s>e?1:n(id(t,e,s))}function kw(t,e){t.min=e.min,t.max=e.max}function gs(t,e){kw(t.x,e.x),kw(t.y,e.y)}function Mw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Aw(t,e,n,s,a){return t-=e,t=rf(t,1/n,s),a!==void 0&&(t=rf(t,1/a,s)),t}function ED(t,e=0,n=1,s=.5,a,o=t,c=t){if(lr.test(e)&&(e=parseFloat(e),e=Ct(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Ct(o.min,o.max,s);t===o&&(u-=e),t.min=Aw(t.min,e,n,u,a),t.max=Aw(t.max,e,n,u,a)}function Dw(t,e,[n,s,a],o,c){ED(t,e[n],e[s],e[a],e.scale,o,c)}const TD=["x","scaleX","originX"],CD=["y","scaleY","originY"];function Rw(t,e,n,s){Dw(t.x,e,TD,n?n.x:void 0,s?s.x:void 0),Dw(t.y,e,CD,n?n.y:void 0,s?s.y:void 0)}function Ow(t){return t.translate===0&&t.scale===1}function CN(t){return Ow(t.x)&&Ow(t.y)}function Lw(t,e){return t.min===e.min&&t.max===e.max}function kD(t,e){return Lw(t.x,e.x)&&Lw(t.y,e.y)}function Pw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kN(t,e){return Pw(t.x,e.x)&&Pw(t.y,e.y)}function zw(t){return Ln(t.x)/Ln(t.y)}function Bw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class MD{constructor(){this.members=[]}add(e){iy(this.members,e),e.scheduleRender()}remove(e){if(oy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AD(t,e,n){let s="";const a=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||o||c)&&(s=`translate3d(${a}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:g,rotateY:b,skewX:v,skewY:j}=n;m&&(s=`perspective(${m}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),b&&(s+=`rotateY(${b}deg) `),v&&(s+=`skewX(${v}deg) `),j&&(s+=`skewY(${j}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(s+=`scale(${u}, ${f})`),s||"none"}const xg=["","X","Y","Z"],DD={visibility:"hidden"},Vw=1e3;let RD=0;function yg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function MN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",kt,!(a||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&MN(s)}function AN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},u=e==null?void 0:e()){this.id=RD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(PD),this.nodes.forEach(HD),this.nodes.forEach(FD),this.nodes.forEach(zD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new vD)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dy),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=yD(c),this.instance=c;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||f)&&(this.isLayoutDirty=!0),t){let g;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=wD(b,250),Fh.hasAnimatedSinceResize&&(Fh.hasAnimatedSinceResize=!1,this.nodes.forEach(Hw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||XD,{onLayoutAnimationStart:N,onLayoutAnimationComplete:_}=p.getProps(),A=!this.targetLayout||!kN(this.targetLayout,j),k=!b&&v;if(this.options.layoutRoot||this.resumeFrom||k||b&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,k);const O={...jy(S,"layout"),onPlay:N,onComplete:_};(p.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else b||Hw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ha(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($D),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uw);return}this.isUpdating||this.nodes.forEach(VD),this.isUpdating=!1,this.nodes.forEach(UD),this.nodes.forEach(OD),this.nodes.forEach(LD),this.clearAllSnapshots();const u=Xn.now();yn.delta=Fr(0,1e3/60,u-yn.timestamp),yn.timestamp=u,yn.isProcessing=!0,cg.update.process(yn),cg.preRender.process(yn),cg.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ny.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(BD),this.sharedNodes.forEach(ID)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ln(this.snapshot.measuredBox.x)&&!Ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!CN(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(u||ki(this.latestValues)||p)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),WD(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return qt();const u=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(GD))){const{scroll:p}=this.root;p&&(Yo(u.x,p.offset.x),Yo(u.y,p.offset.y))}return u}removeElementScroll(c){var f;const u=qt();if(gs(u,c),(f=this.scroll)!=null&&f.wasRoot)return u;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:b}=p;p!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&gs(u,c),Yo(u.x,g.offset.x),Yo(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const f=qt();gs(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Xo(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ki(p.latestValues)&&Xo(f,p.latestValues)}return ki(this.latestValues)&&Xo(f,this.latestValues),f}removeTransform(c){const u=qt();gs(u,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!ki(m.latestValues))continue;ux(m.latestValues)&&m.updateSnapshot();const p=qt(),g=m.measurePageBox();gs(p,g),Rw(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return ki(this.latestValues)&&Rw(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=yn.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Jc(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),gs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Q4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gs(this.target,this.layout.layoutBox),vN(this.target,this.targetDelta)):gs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),Jc(this.relativeTargetOrigin,this.target,v.target),gs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ux(this.parent.latestValues)||bN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;gs(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;Z4(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=qt());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Mw(this.prevProjectionDelta.x,this.projectionDelta.x),Mw(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!Bw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Bw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qo(),this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo()}setAnimationOrigin(c,u=!1){const f=this.snapshot,m=f?f.latestValues:{},p={...this.latestValues},g=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=qt(),v=f?f.source:void 0,j=this.layout?this.layout.source:void 0,S=v!==j,N=this.getStack(),_=!N||N.members.length<=1,A=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some(YD));this.animationProgress=0;let k;this.mixTargetDelta=O=>{const M=O/1e3;Fw(g.x,c.x,M),Fw(g.y,c.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qD(this.relativeTarget,this.relativeTargetOrigin,b,M),k&&kD(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=qt()),gs(k,this.relativeTarget)),S&&(this.animationValues=p,SD(p,m,this.latestValues,M,A,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ha(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{Fh.hasAnimatedSinceResize=!0,this.currentAnimation=xD(0,Vw,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:m,latestValues:p}=c;if(!(!u||!f||!m)){if(this!==c&&this.layout&&m&&DN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||qt();const g=Ln(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const b=Ln(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+b}gs(u,f),Xo(u,p),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new MD),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const m={};f.z&&yg("z",c,m,this.animationValues);for(let p=0;p<xg.length;p++)yg(`rotate${xg[p]}`,c,m,this.animationValues),yg(`skew${xg[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return DD;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Hh(c==null?void 0:c.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Hh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ki(this.latestValues)&&(v.transform=f?f({},""):"none",this.hasProjected=!1),v}const p=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=AD(this.projectionDeltaWithTransform,this.treeScale,p),f&&(u.transform=f(p,u.transform));const{x:g,y:b}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,m.animationValues?u.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in ud){if(p[v]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:N}=ud[v],_=u.transform==="none"?p[v]:j(p[v],m);if(S){const A=S.length;for(let k=0;k<A;k++)u[S[k]]=_}else N?this.options.visualElement.renderState.vars[v]=_:u[v]=_}return this.options.layoutId&&(u.pointerEvents=m===this?Hh(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(Uw),this.root.sharedNodes.clear()}}}function OD(t){t.updateLayout()}function LD(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:a}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?ys(g=>{const b=c?e.measuredBox[g]:e.layoutBox[g],v=Ln(b);b.min=s[g].min,b.max=b.min+v}):DN(o,e.layoutBox,s)&&ys(g=>{const b=c?e.measuredBox[g]:e.layoutBox[g],v=Ln(s[g]);b.max=b.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const u=qo();Zc(u,s,e.layoutBox);const f=qo();c?Zc(f,t.applyTransform(a,!0),e.measuredBox):Zc(f,s,e.layoutBox);const m=!CN(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:v}=g;if(b&&v){const j=qt();Jc(j,e.layoutBox,b.layoutBox);const S=qt();Jc(S,s,v.layoutBox),kN(j,S)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=j,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function PD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function zD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function BD(t){t.clearSnapshot()}function Uw(t){t.clearMeasurements()}function VD(t){t.isLayoutDirty=!1}function UD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function HD(t){t.resolveTargetDelta()}function FD(t){t.calcProjection()}function $D(t){t.resetSkewAndRotation()}function ID(t){t.removeLeadSnapshot()}function Fw(t,e,n){t.translate=Ct(e.translate,0,n),t.scale=Ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function $w(t,e,n,s){t.min=Ct(e.min,n.min,s),t.max=Ct(e.max,n.max,s)}function qD(t,e,n,s){$w(t.x,e.x,n.x,s),$w(t.y,e.y,n.y,s)}function YD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const XD={duration:.45,ease:[.4,0,.1,1]},Iw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qw=Iw("applewebkit/")&&!Iw("chrome/")?Math.round:vs;function Yw(t){t.min=qw(t.min),t.max=qw(t.max)}function WD(t){Yw(t.x),Yw(t.y)}function DN(t,e,n){return t==="position"||t==="preserve-aspect"&&!K4(zw(e),zw(n),.2)}function GD(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const KD=AN({attachResizeListener:(t,e)=>fd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bg={current:void 0},RN=AN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bg.current){const t=new KD({});t.mount(window),t.setOptions({layoutScroll:!0}),bg.current=t}return bg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),QD={pan:{Feature:fD},drag:{Feature:hD,ProjectionNode:RN,MeasureLayout:_N}};function Xw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=s[a];o&&kt.postRender(()=>o(e,kd(e)))}class ZD extends Xa{mount(){const{current:e}=this.node;e&&(this.unmount=CA(e,(n,s)=>(Xw(this.node,s,"Start"),a=>Xw(this.node,a,"End"))))}unmount(){}}class JD extends Xa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ed(fd(this.node.current,"focus",()=>this.onFocus()),fd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ww(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=s[a];o&&kt.postRender(()=>o(e,kd(e)))}class eR extends Xa{mount(){const{current:e}=this.node;e&&(this.unmount=DA(e,(n,s)=>(Ww(this.node,s,"Start"),(a,{success:o})=>Ww(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mx=new WeakMap,vg=new WeakMap,tR=t=>{const e=mx.get(t.target);e&&e(t)},nR=t=>{t.forEach(tR)};function sR({root:t,...e}){const n=t||document;vg.has(n)||vg.set(n,{});const s=vg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(nR,{root:t,...e})),s[a]}function rR(t,e,n){const s=sR(e);return mx.set(t,n),s.observe(t),()=>{mx.delete(t),s.unobserve(t)}}const aR={some:0,all:1};class iR extends Xa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:aR[a]},u=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),b=m?p:g;b&&b(f)};return rR(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oR(e,n))&&this.startObserver()}unmount(){}}function oR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lR={inView:{Feature:iR},tap:{Feature:eR},focus:{Feature:JD},hover:{Feature:ZD}},cR={layout:{ProjectionNode:RN,MeasureLayout:_N}},px={current:null},ON={current:!1};function dR(){if(ON.current=!0,!!ry)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>px.current=t.matches;t.addListener(e),e()}else px.current=!1}const uR=new WeakMap;function hR(t,e,n){for(const s in e){const a=e[s],o=n[s];if(En(a))t.addValue(s,a);else if(En(o))t.addValue(s,cd(a,{owner:t}));else if(o!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,cd(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Gw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fR{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Xn.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,kt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=_f(n),this.isVariantNode=tN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in g){const v=g[b];f[b]!==void 0&&En(v)&&v.set(f[b],!1)}}mount(e){this.current=e,uR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),ON.current||dR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:px.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,Ha(this.notifyUpdate),Ha(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=hl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&kt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in nl){const n=nl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Gw.length;s++){const a=Gw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=e[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=hR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=cd(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(uS(s)||hS(s))?s=parseFloat(s):!PA(s)&&Fa.test(n)&&(s=WS(e,n)),this.setBaseTarget(e,En(s)?s.get():s)),En(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=Dy(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(s=c[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!En(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LN extends fR{constructor(){super(...arguments),this.KeyframeResolver=_A}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;En(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PN(t,{style:e,vars:n},s,a){Object.assign(t.style,e,a&&a.getProjectionStyles(s));for(const o in n)t.style.setProperty(o,n[o])}function mR(t){return window.getComputedStyle(t)}class pR extends LN{constructor(){super(...arguments),this.type="html",this.renderInstance=PN}readValueFromInstance(e,n){if(hl.has(n))return IM(e,n);{const s=mR(e),a=(fy(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return wN(e,n)}build(e,n,s){ky(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Ry(e,n,s)}}const zN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gR(t,e,n,s){PN(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(zN.has(a)?a:Cy(a),e.attrs[a])}class xR extends LN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(hl.has(n)){const s=XS(n);return s&&s.default||0}return n=zN.has(n)?n:Cy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return uN(e,n,s)}build(e,n,s){oN(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,a){gR(e,n,s,a)}mount(e){this.isSVGTag=cN(e.tagName),super.mount(e)}}const yR=(t,e)=>Ay(t)?new xR(e):new pR(e,{allowProjection:t!==R.Fragment}),bR=g4({...F4,...lR,...QD,...cR},yR),ye=HA(bR);function vR(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const wR=t=>{switch(t){case"success":return NR;case"info":return ER;case"warning":return _R;case"error":return TR;default:return null}},jR=Array(12).fill(0),SR=({visible:t,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ve.createElement("div",{className:"sonner-spinner"},jR.map((n,s)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),NR=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_R=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ER=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),TR=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),CR=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),kR=()=>{const[t,e]=ve.useState(document.hidden);return ve.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let gx=1;class MR{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:s,...a}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:gx++,c=this.toasts.find(f=>f.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(f=>f.id===o?(this.publish({...f,...e,id:o,title:s}),{...f,...e,id:o,dismissible:u,title:s}):f):this.addToast({title:s,...a,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let o=s!==void 0,c;const u=a.then(async m=>{if(c=["resolve",m],ve.isValidElement(m))o=!1,this.create({id:s,type:"default",message:m});else if(DR(m)&&!m.ok){o=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,b=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,j=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:b,...j})}else if(m instanceof Error){o=!1;const g=typeof n.error=="function"?await n.error(m):n.error,b=typeof n.description=="function"?await n.description(m):n.description,j=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:b,...j})}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?await n.success(m):n.success,b=typeof n.description=="function"?await n.description(m):n.description,j=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:b,...j})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){o=!1;const p=typeof n.error=="function"?await n.error(m):n.error,g=typeof n.description=="function"?await n.description(m):n.description,v=typeof p=="object"&&!ve.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:g,...v})}}).finally(()=>{o&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((m,p)=>u.then(()=>c[0]==="reject"?p(c[1]):m(c[1])).catch(p));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(e,n)=>{const s=(n==null?void 0:n.id)||gx++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const qn=new MR,AR=(t,e)=>{const n=(e==null?void 0:e.id)||gx++;return qn.addToast({title:t,...e,id:n}),n},DR=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",RR=AR,OR=()=>qn.toasts,LR=()=>qn.getActiveToasts();Object.assign(RR,{success:qn.success,info:qn.info,warning:qn.warning,error:qn.error,custom:qn.custom,message:qn.message,promise:qn.promise,dismiss:qn.dismiss,loading:qn.loading},{getHistory:OR,getToasts:LR});vR("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function uh(t){return t.label!==void 0}const PR=3,zR="24px",BR="16px",Kw=4e3,VR=356,UR=14,HR=45,FR=200;function Qs(...t){return t.filter(Boolean).join(" ")}function $R(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}const IR=t=>{var e,n,s,a,o,c,u,f,m;const{invert:p,toast:g,unstyled:b,interacting:v,setHeights:j,visibleToasts:S,heights:N,index:_,toasts:A,expanded:k,removeToast:O,defaultRichColors:M,closeButton:P,style:V,cancelButtonStyle:D,actionButtonStyle:U,className:Y="",descriptionClassName:G="",duration:X,position:ne,gap:fe,expandByDefault:K,classNames:B,icons:F,closeButtonAriaLabel:q="Close toast"}=t,[ee,H]=ve.useState(null),[Z,ae]=ve.useState(null),[le,pe]=ve.useState(!1),[je,me]=ve.useState(!1),[ot,Ve]=ve.useState(!1),[lt,mn]=ve.useState(!1),[Cn,xe]=ve.useState(!1),[Je,xt]=ve.useState(0),[Mt,Ke]=ve.useState(0),et=ve.useRef(g.duration||X||Kw),tn=ve.useRef(null),At=ve.useRef(null),bn=_===0,zn=_+1<=S,Dt=g.type,vn=g.dismissible!==!1,Kr=g.className||"",oe=g.descriptionClassName||"",_e=ve.useMemo(()=>N.findIndex(Be=>Be.toastId===g.id)||0,[N,g.id]),Se=ve.useMemo(()=>{var Be;return(Be=g.closeButton)!=null?Be:P},[g.closeButton,P]),ke=ve.useMemo(()=>g.duration||X||Kw,[g.duration,X]),Ce=ve.useRef(0),St=ve.useRef(0),_s=ve.useRef(0),Fs=ve.useRef(null),[$s,Is]=ne.split("-"),os=ve.useMemo(()=>N.reduce((Be,vt,Nt)=>Nt>=_e?Be:Be+vt.height,0),[N,_e]),fr=kR(),mr=g.invert||p,Ga=Dt==="loading";St.current=ve.useMemo(()=>_e*fe+os,[_e,os]),ve.useEffect(()=>{et.current=ke},[ke]),ve.useEffect(()=>{pe(!0)},[]),ve.useEffect(()=>{const Be=At.current;if(Be){const vt=Be.getBoundingClientRect().height;return Ke(vt),j(Nt=>[{toastId:g.id,height:vt,position:g.position},...Nt]),()=>j(Nt=>Nt.filter(Gt=>Gt.toastId!==g.id))}},[j,g.id]),ve.useLayoutEffect(()=>{if(!le)return;const Be=At.current,vt=Be.style.height;Be.style.height="auto";const Nt=Be.getBoundingClientRect().height;Be.style.height=vt,Ke(Nt),j(Gt=>Gt.find(Ht=>Ht.toastId===g.id)?Gt.map(Ht=>Ht.toastId===g.id?{...Ht,height:Nt}:Ht):[{toastId:g.id,height:Nt,position:g.position},...Gt])},[le,g.title,g.description,j,g.id]);const kn=ve.useCallback(()=>{me(!0),xt(St.current),j(Be=>Be.filter(vt=>vt.toastId!==g.id)),setTimeout(()=>{O(g)},FR)},[g,O,j,St]);ve.useEffect(()=>{if(g.promise&&Dt==="loading"||g.duration===1/0||g.type==="loading")return;let Be;return k||v||fr?(()=>{if(_s.current<Ce.current){const Gt=new Date().getTime()-Ce.current;et.current=et.current-Gt}_s.current=new Date().getTime()})():(()=>{et.current!==1/0&&(Ce.current=new Date().getTime(),Be=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),kn()},et.current))})(),()=>clearTimeout(Be)},[k,v,g,Dt,fr,kn]),ve.useEffect(()=>{g.delete&&kn()},[kn,g.delete]);function Bn(){var Be;if(F!=null&&F.loading){var vt;return ve.createElement("div",{className:Qs(B==null?void 0:B.loader,g==null||(vt=g.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":Dt==="loading"},F.loading)}return ve.createElement(SR,{className:Qs(B==null?void 0:B.loader,g==null||(Be=g.classNames)==null?void 0:Be.loader),visible:Dt==="loading"})}const Ka=g.icon||(F==null?void 0:F[Dt])||wR(Dt);var Mn,Wi;return ve.createElement("li",{tabIndex:0,ref:At,className:Qs(Y,Kr,B==null?void 0:B.toast,g==null||(e=g.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[Dt],g==null||(n=g.classNames)==null?void 0:n[Dt]),"data-sonner-toast":"","data-rich-colors":(Mn=g.richColors)!=null?Mn:M,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":le,"data-promise":!!g.promise,"data-swiped":Cn,"data-removed":je,"data-visible":zn,"data-y-position":$s,"data-x-position":Is,"data-index":_,"data-front":bn,"data-swiping":ot,"data-dismissible":vn,"data-type":Dt,"data-invert":mr,"data-swipe-out":lt,"data-swipe-direction":Z,"data-expanded":!!(k||K&&le),style:{"--index":_,"--toasts-before":_,"--z-index":A.length-_,"--offset":`${je?Je:St.current}px`,"--initial-height":K?"auto":`${Mt}px`,...V,...g.style},onDragEnd:()=>{Ve(!1),H(null),Fs.current=null},onPointerDown:Be=>{Ga||!vn||(tn.current=new Date,xt(St.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(Ve(!0),Fs.current={x:Be.clientX,y:Be.clientY}))},onPointerUp:()=>{var Be,vt,Nt;if(lt||!vn)return;Fs.current=null;const Gt=Number(((Be=At.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pr=Number(((vt=At.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ht=new Date().getTime()-((Nt=tn.current)==null?void 0:Nt.getTime()),_t=ee==="x"?Gt:pr,pt=Math.abs(_t)/Ht;if(Math.abs(_t)>=HR||pt>.11){xt(St.current),g.onDismiss==null||g.onDismiss.call(g,g),ae(ee==="x"?Gt>0?"right":"left":pr>0?"down":"up"),kn(),mn(!0);return}else{var ct,Ft;(ct=At.current)==null||ct.style.setProperty("--swipe-amount-x","0px"),(Ft=At.current)==null||Ft.style.setProperty("--swipe-amount-y","0px")}xe(!1),Ve(!1),H(null)},onPointerMove:Be=>{var vt,Nt,Gt;if(!Fs.current||!vn||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;const Ht=Be.clientY-Fs.current.y,_t=Be.clientX-Fs.current.x;var pt;const ct=(pt=t.swipeDirections)!=null?pt:$R(ne);!ee&&(Math.abs(_t)>1||Math.abs(Ht)>1)&&H(Math.abs(_t)>Math.abs(Ht)?"x":"y");let Ft={x:0,y:0};const Qr=Es=>1/(1.5+Math.abs(Es)/20);if(ee==="y"){if(ct.includes("top")||ct.includes("bottom"))if(ct.includes("top")&&Ht<0||ct.includes("bottom")&&Ht>0)Ft.y=Ht;else{const Es=Ht*Qr(Ht);Ft.y=Math.abs(Es)<Math.abs(Ht)?Es:Ht}}else if(ee==="x"&&(ct.includes("left")||ct.includes("right")))if(ct.includes("left")&&_t<0||ct.includes("right")&&_t>0)Ft.x=_t;else{const Es=_t*Qr(_t);Ft.x=Math.abs(Es)<Math.abs(_t)?Es:_t}(Math.abs(Ft.x)>0||Math.abs(Ft.y)>0)&&xe(!0),(Nt=At.current)==null||Nt.style.setProperty("--swipe-amount-x",`${Ft.x}px`),(Gt=At.current)==null||Gt.style.setProperty("--swipe-amount-y",`${Ft.y}px`)}},Se&&!g.jsx&&Dt!=="loading"?ve.createElement("button",{"aria-label":q,"data-disabled":Ga,"data-close-button":!0,onClick:Ga||!vn?()=>{}:()=>{kn(),g.onDismiss==null||g.onDismiss.call(g,g)},className:Qs(B==null?void 0:B.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(Wi=F==null?void 0:F.close)!=null?Wi:CR):null,(Dt||g.icon||g.promise)&&g.icon!==null&&((F==null?void 0:F[Dt])!==null||g.icon)?ve.createElement("div",{"data-icon":"",className:Qs(B==null?void 0:B.icon,g==null||(a=g.classNames)==null?void 0:a.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Bn():null,g.type!=="loading"?Ka:null):null,ve.createElement("div",{"data-content":"",className:Qs(B==null?void 0:B.content,g==null||(o=g.classNames)==null?void 0:o.content)},ve.createElement("div",{"data-title":"",className:Qs(B==null?void 0:B.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ve.createElement("div",{"data-description":"",className:Qs(G,oe,B==null?void 0:B.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),ve.isValidElement(g.cancel)?g.cancel:g.cancel&&uh(g.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||D,onClick:Be=>{uh(g.cancel)&&vn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Be),kn())},className:Qs(B==null?void 0:B.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,ve.isValidElement(g.action)?g.action:g.action&&uh(g.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||U,onClick:Be=>{uh(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Be),!Be.defaultPrevented&&kn())},className:Qs(B==null?void 0:B.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function Qw(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function qR(t,e){const n={};return[t,e].forEach((s,a)=>{const o=a===1,c=o?"--mobile-offset":"--offset",u=o?BR:zR;function f(m){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof m=="number"?`${m}px`:m})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(m=>{s[m]===void 0?n[`${c}-${m}`]=u:n[`${c}-${m}`]=typeof s[m]=="number"?`${s[m]}px`:s[m]}):f(u)}),n}const YR=ve.forwardRef(function(e,n){const{invert:s,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:u,className:f,offset:m,mobileOffset:p,theme:g="light",richColors:b,duration:v,style:j,visibleToasts:S=PR,toastOptions:N,dir:_=Qw(),gap:A=UR,icons:k,containerAriaLabel:O="Notifications"}=e,[M,P]=ve.useState([]),V=ve.useMemo(()=>Array.from(new Set([a].concat(M.filter(Z=>Z.position).map(Z=>Z.position)))),[M,a]),[D,U]=ve.useState([]),[Y,G]=ve.useState(!1),[X,ne]=ve.useState(!1),[fe,K]=ve.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=ve.useRef(null),F=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=ve.useRef(null),ee=ve.useRef(!1),H=ve.useCallback(Z=>{P(ae=>{var le;return(le=ae.find(pe=>pe.id===Z.id))!=null&&le.delete||qn.dismiss(Z.id),ae.filter(({id:pe})=>pe!==Z.id)})},[]);return ve.useEffect(()=>qn.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{P(ae=>ae.map(le=>le.id===Z.id?{...le,delete:!0}:le))});return}setTimeout(()=>{zk.flushSync(()=>{P(ae=>{const le=ae.findIndex(pe=>pe.id===Z.id);return le!==-1?[...ae.slice(0,le),{...ae[le],...Z},...ae.slice(le+1)]:[Z,...ae]})})})}),[M]),ve.useEffect(()=>{if(g!=="system"){K(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ae})=>{K(ae?"dark":"light")})}catch{Z.addListener(({matches:le})=>{try{K(le?"dark":"light")}catch(pe){console.error(pe)}})}},[g]),ve.useEffect(()=>{M.length<=1&&G(!1)},[M]),ve.useEffect(()=>{const Z=ae=>{var le;if(o.every(me=>ae[me]||ae.code===me)){var je;G(!0),(je=B.current)==null||je.focus()}ae.code==="Escape"&&(document.activeElement===B.current||(le=B.current)!=null&&le.contains(document.activeElement))&&G(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[o]),ve.useEffect(()=>{if(B.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,ee.current=!1)}},[B.current]),ve.createElement("section",{ref:n,"aria-label":`${O} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((Z,ae)=>{var le;const[pe,je]=Z.split("-");return M.length?ve.createElement("ol",{key:Z,dir:_==="auto"?Qw():_,tabIndex:-1,ref:B,className:f,"data-sonner-toaster":!0,"data-sonner-theme":fe,"data-y-position":pe,"data-lifted":Y&&M.length>1&&!c,"data-x-position":je,style:{"--front-toast-height":`${((le=D[0])==null?void 0:le.height)||0}px`,"--width":`${VR}px`,"--gap":`${A}px`,...j,...qR(m,p)},onBlur:me=>{ee.current&&!me.currentTarget.contains(me.relatedTarget)&&(ee.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||ee.current||(ee.current=!0,q.current=me.relatedTarget)},onMouseEnter:()=>G(!0),onMouseMove:()=>G(!0),onMouseLeave:()=>{X||G(!1)},onDragEnd:()=>G(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||ne(!0)},onPointerUp:()=>ne(!1)},M.filter(me=>!me.position&&ae===0||me.position===Z).map((me,ot)=>{var Ve,lt;return ve.createElement(IR,{key:me.id,icons:k,index:ot,toast:me,defaultRichColors:b,duration:(Ve=N==null?void 0:N.duration)!=null?Ve:v,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:s,visibleToasts:S,closeButton:(lt=N==null?void 0:N.closeButton)!=null?lt:u,interacting:X,position:Z,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,closeButtonAriaLabel:N==null?void 0:N.closeButtonAriaLabel,removeToast:H,toasts:M.filter(mn=>mn.position==me.position),heights:D.filter(mn=>mn.position==me.position),setHeights:U,expandByDefault:c,gap:A,expanded:Y,swipeDirections:e.swipeDirections})})):null}))});var xx=new Map,hh=new WeakMap,Zw=0,XR=void 0;function WR(t){return t?(hh.has(t)||(Zw+=1,hh.set(t,Zw.toString())),hh.get(t)):"0"}function GR(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?WR(t.root):t[e]}`).toString()}function KR(t){const e=GR(t);let n=xx.get(e);if(!n){const s=new Map;let a;const o=new IntersectionObserver(c=>{c.forEach(u=>{var f;const m=u.isIntersecting&&a.some(p=>u.intersectionRatio>=p);t.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=m),(f=s.get(u.target))==null||f.forEach(p=>{p(m,u)})})},t);a=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:o,elements:s},xx.set(e,n)}return n}function QR(t,e,n={},s=XR){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const f=t.getBoundingClientRect();return e(s,{isIntersecting:s,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:f,intersectionRect:f,rootBounds:f}),()=>{}}const{id:a,observer:o,elements:c}=KR(n),u=c.get(t)||[];return c.has(t)||c.set(t,u),u.push(e),o.observe(t),function(){u.splice(u.indexOf(e),1),u.length===0&&(c.delete(t),o.unobserve(t)),c.size===0&&(o.disconnect(),xx.delete(a))}}function ZR({threshold:t,delay:e,trackVisibility:n,rootMargin:s,root:a,triggerOnce:o,skip:c,initialInView:u,fallbackInView:f,onChange:m}={}){var p;const[g,b]=R.useState(null),v=R.useRef(m),[j,S]=R.useState({inView:!!u,entry:void 0});v.current=m,R.useEffect(()=>{if(c||!g)return;let k;return k=QR(g,(O,M)=>{S({inView:O,entry:M}),v.current&&v.current(O,M),M.isIntersecting&&o&&k&&(k(),k=void 0)},{root:a,rootMargin:s,threshold:t,trackVisibility:n,delay:e},f),()=>{k&&k()}},[Array.isArray(t)?t.toString():t,g,a,s,o,c,n,f,e]);const N=(p=j.entry)==null?void 0:p.target,_=R.useRef(void 0);!g&&N&&!o&&!c&&_.current!==N&&(_.current=N,S({inView:!!u,entry:void 0}));const A=[b,j.inView,j.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const JR=()=>{const[t]=ZR({threshold:.1,triggerOnce:!0});return l.jsxs("div",{className:"h-screen flex flex-col md:flex-row bg-gradient-to-br from-bg via-bg-secondary to-bg overflow-hidden",ref:t,children:[l.jsxs(ye.div,{className:"hidden md:flex w-full md:w-1/2 relative overflow-hidden items-center justify-center p-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[l.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(30)].map((e,n)=>l.jsx(ye.div,{className:"absolute rounded-full bg-solid-color opacity-10",initial:{x:Math.random()*100,y:Math.random()*100,width:Math.random()*20+10,height:Math.random()*20+10},animate:{y:[null,Math.random()*200-100],x:[null,Math.random()*200-100]},transition:{duration:Math.random()*15+15,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},n))}),l.jsxs(ye.div,{className:"relative z-10 text-center text-accessibility-text-secondary max-w-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[l.jsx(ye.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.5,duration:.5},children:l.jsx("div",{className:"w-24 h-24 bg-solid-color bg-opacity-30 rounded-2xl flex items-center justify-center mx-auto mb-6 backdrop-blur-sm shadow-lg",children:l.jsx("svg",{className:"w-14 h-14 text-accessibility-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),l.jsxs(ye.h1,{className:"text-3xl md:text-4xl font-bold mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:["Bienvenido a ",l.jsx("span",{className:"text-solid-color",children:"StockFlow"})]}),l.jsx(ye.p,{className:"text-lg md:text-xl opacity-90 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},children:"La solución inteligente para gestionar tu inventario de robots"}),l.jsx(ye.div,{className:"flex justify-center space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},children:["Robótica","Inventario","Control"].map((e,n)=>l.jsx(ye.span,{className:"px-3 py-1.5 bg-solid-color bg-opacity-20 rounded-full text-sm font-medium backdrop-blur-sm text-accessibility-text-secondary",whileHover:{scale:1.05},whileTap:{scale:.95},children:e},n))})]})]}),l.jsx("div",{className:"w-full md:w-1/2 flex items-center justify-center p-4",children:l.jsx(ye.div,{className:"w-full max-w-xl relative",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:l.jsxs("div",{className:"relative bg-bg rounded-2xl border border-border overflow-hidden backdrop-blur-sm bg-opacity-80 shadow-xl",children:[l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjxyZWN0IHdpZHRoPSIzIiBoZWlnaHQ9IjMiIGZpbGw9InJnYmEoMCwwLDAsMC4wNSkiLz48L3N2Zz4=')] opacity-10"}),l.jsx("div",{className:"relative z-10 p-5",children:l.jsx(tk,{})})]})})})]})},Jw=t=>{let e;const n=new Set,s=(m,p)=>{const g=typeof m=="function"?m(e):m;if(!Object.is(g,e)){const b=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(v=>v(e,b))}},a=()=>e,u={setState:s,getState:a,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m))},f=e=t(s,a,u);return u},e5=t=>t?Jw(t):Jw,t5=t=>t;function n5(t,e=t5){const n=ve.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return ve.useDebugValue(n),n}const e2=t=>{const e=e5(t),n=s=>n5(e,s);return Object.assign(n,e),n},Pn=t=>t?e2(t):e2;function BN(t,e){return function(){return t.apply(e,arguments)}}const{toString:s5}=Object.prototype,{getPrototypeOf:Ly}=Object,{iterator:Ef,toStringTag:VN}=Symbol,Tf=(t=>e=>{const n=s5.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hs=t=>(t=t.toLowerCase(),e=>Tf(e)===t),Cf=t=>e=>typeof e===t,{isArray:fl}=Array,md=Cf("undefined");function r5(t){return t!==null&&!md(t)&&t.constructor!==null&&!md(t.constructor)&&Gn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const UN=Hs("ArrayBuffer");function a5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&UN(t.buffer),e}const i5=Cf("string"),Gn=Cf("function"),HN=Cf("number"),kf=t=>t!==null&&typeof t=="object",o5=t=>t===!0||t===!1,$h=t=>{if(Tf(t)!=="object")return!1;const e=Ly(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(VN in t)&&!(Ef in t)},l5=Hs("Date"),c5=Hs("File"),d5=Hs("Blob"),u5=Hs("FileList"),h5=t=>kf(t)&&Gn(t.pipe),f5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Gn(t.append)&&((e=Tf(t))==="formdata"||e==="object"&&Gn(t.toString)&&t.toString()==="[object FormData]"))},m5=Hs("URLSearchParams"),[p5,g5,x5,y5]=["ReadableStream","Request","Response","Headers"].map(Hs),b5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Md(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,a;if(typeof t!="object"&&(t=[t]),fl(t))for(s=0,a=t.length;s<a;s++)e.call(null,t[s],s,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let u;for(s=0;s<c;s++)u=o[s],e.call(null,t[u],u,t)}}function FN(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,a;for(;s-- >0;)if(a=n[s],e===a.toLowerCase())return a;return null}const Li=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$N=t=>!md(t)&&t!==Li;function yx(){const{caseless:t}=$N(this)&&this||{},e={},n=(s,a)=>{const o=t&&FN(e,a)||a;$h(e[o])&&$h(s)?e[o]=yx(e[o],s):$h(s)?e[o]=yx({},s):fl(s)?e[o]=s.slice():e[o]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&Md(arguments[s],n);return e}const v5=(t,e,n,{allOwnKeys:s}={})=>(Md(e,(a,o)=>{n&&Gn(a)?t[o]=BN(a,n):t[o]=a},{allOwnKeys:s}),t),w5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),j5=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},S5=(t,e,n,s)=>{let a,o,c;const u={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),o=a.length;o-- >0;)c=a[o],(!s||s(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=n!==!1&&Ly(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},N5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},_5=t=>{if(!t)return null;if(fl(t))return t;let e=t.length;if(!HN(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},E5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ly(Uint8Array)),T5=(t,e)=>{const s=(t&&t[Ef]).call(t);let a;for(;(a=s.next())&&!a.done;){const o=a.value;e.call(t,o[0],o[1])}},C5=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},k5=Hs("HTMLFormElement"),M5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),t2=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),A5=Hs("RegExp"),IN=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Md(n,(a,o)=>{let c;(c=e(a,o,t))!==!1&&(s[o]=c||a)}),Object.defineProperties(t,s)},D5=t=>{IN(t,(e,n)=>{if(Gn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Gn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},R5=(t,e)=>{const n={},s=a=>{a.forEach(o=>{n[o]=!0})};return fl(t)?s(t):s(String(t).split(e)),n},O5=()=>{},L5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function P5(t){return!!(t&&Gn(t.append)&&t[VN]==="FormData"&&t[Ef])}const z5=t=>{const e=new Array(10),n=(s,a)=>{if(kf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const o=fl(s)?[]:{};return Md(s,(c,u)=>{const f=n(c,a+1);!md(f)&&(o[u]=f)}),e[a]=void 0,o}}return s};return n(t,0)},B5=Hs("AsyncFunction"),V5=t=>t&&(kf(t)||Gn(t))&&Gn(t.then)&&Gn(t.catch),qN=((t,e)=>t?setImmediate:e?((n,s)=>(Li.addEventListener("message",({source:a,data:o})=>{a===Li&&o===n&&s.length&&s.shift()()},!1),a=>{s.push(a),Li.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Gn(Li.postMessage)),U5=typeof queueMicrotask<"u"?queueMicrotask.bind(Li):typeof process<"u"&&process.nextTick||qN,H5=t=>t!=null&&Gn(t[Ef]),ie={isArray:fl,isArrayBuffer:UN,isBuffer:r5,isFormData:f5,isArrayBufferView:a5,isString:i5,isNumber:HN,isBoolean:o5,isObject:kf,isPlainObject:$h,isReadableStream:p5,isRequest:g5,isResponse:x5,isHeaders:y5,isUndefined:md,isDate:l5,isFile:c5,isBlob:d5,isRegExp:A5,isFunction:Gn,isStream:h5,isURLSearchParams:m5,isTypedArray:E5,isFileList:u5,forEach:Md,merge:yx,extend:v5,trim:b5,stripBOM:w5,inherits:j5,toFlatObject:S5,kindOf:Tf,kindOfTest:Hs,endsWith:N5,toArray:_5,forEachEntry:T5,matchAll:C5,isHTMLForm:k5,hasOwnProperty:t2,hasOwnProp:t2,reduceDescriptors:IN,freezeMethods:D5,toObjectSet:R5,toCamelCase:M5,noop:O5,toFiniteNumber:L5,findKey:FN,global:Li,isContextDefined:$N,isSpecCompliantForm:P5,toJSONObject:z5,isAsyncFn:B5,isThenable:V5,setImmediate:qN,asap:U5,isIterable:H5};function Ue(t,e,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}ie.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const YN=Ue.prototype,XN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{XN[t]={value:t}});Object.defineProperties(Ue,XN);Object.defineProperty(YN,"isAxiosError",{value:!0});Ue.from=(t,e,n,s,a,o)=>{const c=Object.create(YN);return ie.toFlatObject(t,c,function(f){return f!==Error.prototype},u=>u!=="isAxiosError"),Ue.call(c,t.message,e,n,s,a),c.cause=t,c.name=t.name,o&&Object.assign(c,o),c};const F5=null;function bx(t){return ie.isPlainObject(t)||ie.isArray(t)}function WN(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function n2(t,e,n){return t?t.concat(e).map(function(a,o){return a=WN(a),!n&&o?"["+a+"]":a}).join(n?".":""):e}function $5(t){return ie.isArray(t)&&!t.some(bx)}const I5=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function Mf(t,e,n){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,N){return!ie.isUndefined(N[S])});const s=n.metaTokens,a=n.visitor||p,o=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(a))throw new TypeError("visitor must be a function");function m(j){if(j===null)return"";if(ie.isDate(j))return j.toISOString();if(!f&&ie.isBlob(j))throw new Ue("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(j)||ie.isTypedArray(j)?f&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,S,N){let _=j;if(j&&!N&&typeof j=="object"){if(ie.endsWith(S,"{}"))S=s?S:S.slice(0,-2),j=JSON.stringify(j);else if(ie.isArray(j)&&$5(j)||(ie.isFileList(j)||ie.endsWith(S,"[]"))&&(_=ie.toArray(j)))return S=WN(S),_.forEach(function(k,O){!(ie.isUndefined(k)||k===null)&&e.append(c===!0?n2([S],O,o):c===null?S:S+"[]",m(k))}),!1}return bx(j)?!0:(e.append(n2(N,S,o),m(j)),!1)}const g=[],b=Object.assign(I5,{defaultVisitor:p,convertValue:m,isVisitable:bx});function v(j,S){if(!ie.isUndefined(j)){if(g.indexOf(j)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(j),ie.forEach(j,function(_,A){(!(ie.isUndefined(_)||_===null)&&a.call(e,_,ie.isString(A)?A.trim():A,S,b))===!0&&v(_,S?S.concat(A):[A])}),g.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return v(t),e}function s2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Py(t,e){this._pairs=[],t&&Mf(t,this,e)}const GN=Py.prototype;GN.append=function(e,n){this._pairs.push([e,n])};GN.toString=function(e){const n=e?function(s){return e.call(this,s,s2)}:s2;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function q5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KN(t,e,n){if(!e)return t;const s=n&&n.encode||q5;ie.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(a?o=a(e,n):o=ie.isURLSearchParams(e)?e.toString():new Py(e,n).toString(s),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class r2{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(s){s!==null&&e(s)})}}const QN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y5=typeof URLSearchParams<"u"?URLSearchParams:Py,X5=typeof FormData<"u"?FormData:null,W5=typeof Blob<"u"?Blob:null,G5={isBrowser:!0,classes:{URLSearchParams:Y5,FormData:X5,Blob:W5},protocols:["http","https","file","blob","url","data"]},zy=typeof window<"u"&&typeof document<"u",vx=typeof navigator=="object"&&navigator||void 0,K5=zy&&(!vx||["ReactNative","NativeScript","NS"].indexOf(vx.product)<0),Q5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Z5=zy&&window.location.href||"http://localhost",J5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zy,hasStandardBrowserEnv:K5,hasStandardBrowserWebWorkerEnv:Q5,navigator:vx,origin:Z5},Symbol.toStringTag,{value:"Module"})),_n={...J5,...G5};function e3(t,e){return Mf(t,new _n.classes.URLSearchParams,Object.assign({visitor:function(n,s,a,o){return _n.isNode&&ie.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function t3(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function n3(t){const e={},n=Object.keys(t);let s;const a=n.length;let o;for(s=0;s<a;s++)o=n[s],e[o]=t[o];return e}function ZN(t){function e(n,s,a,o){let c=n[o++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),f=o>=n.length;return c=!c&&ie.isArray(a)?a.length:c,f?(ie.hasOwnProp(a,c)?a[c]=[a[c],s]:a[c]=s,!u):((!a[c]||!ie.isObject(a[c]))&&(a[c]=[]),e(n,s,a[c],o)&&ie.isArray(a[c])&&(a[c]=n3(a[c])),!u)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const n={};return ie.forEachEntry(t,(s,a)=>{e(t3(s),a,n,0)}),n}return null}function s3(t,e,n){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Ad={transitional:QN,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,o=ie.isObject(e);if(o&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return a?JSON.stringify(ZN(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return e3(e,this.formSerializer).toString();if((u=ie.isFileList(e))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Mf(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||a?(n.setContentType("application/json",!1),s3(e)):e}],transformResponse:[function(e){const n=this.transitional||Ad.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(s&&!this.responseType||a)){const c=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?Ue.from(u,Ue.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_n.classes.FormData,Blob:_n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{Ad.headers[t]={}});const r3=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),a3=t=>{const e={};let n,s,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),n=c.substring(0,a).trim().toLowerCase(),s=c.substring(a+1).trim(),!(!n||e[n]&&r3[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},a2=Symbol("internals");function _c(t){return t&&String(t).trim().toLowerCase()}function Ih(t){return t===!1||t==null?t:ie.isArray(t)?t.map(Ih):String(t)}function i3(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const o3=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wg(t,e,n,s,a){if(ie.isFunction(s))return s.call(this,e,n);if(a&&(e=n),!!ie.isString(e)){if(ie.isString(s))return e.indexOf(s)!==-1;if(ie.isRegExp(s))return s.test(e)}}function l3(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function c3(t,e){const n=ie.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(a,o,c){return this[s].call(this,e,a,o,c)},configurable:!0})})}let Kn=class{constructor(e){e&&this.set(e)}set(e,n,s){const a=this;function o(u,f,m){const p=_c(f);if(!p)throw new Error("header name must be a non-empty string");const g=ie.findKey(a,p);(!g||a[g]===void 0||m===!0||m===void 0&&a[g]!==!1)&&(a[g||f]=Ih(u))}const c=(u,f)=>ie.forEach(u,(m,p)=>o(m,p,f));if(ie.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(ie.isString(e)&&(e=e.trim())&&!o3(e))c(a3(e),n);else if(ie.isObject(e)&&ie.isIterable(e)){let u={},f,m;for(const p of e){if(!ie.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[m=p[0]]=(f=u[m])?ie.isArray(f)?[...f,p[1]]:[f,p[1]]:p[1]}c(u,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=_c(e),e){const s=ie.findKey(this,e);if(s){const a=this[s];if(!n)return a;if(n===!0)return i3(a);if(ie.isFunction(n))return n.call(this,a,s);if(ie.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=_c(e),e){const s=ie.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||wg(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let a=!1;function o(c){if(c=_c(c),c){const u=ie.findKey(s,c);u&&(!n||wg(s,s[u],u,n))&&(delete s[u],a=!0)}}return ie.isArray(e)?e.forEach(o):o(e),a}clear(e){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const o=n[s];(!e||wg(this,this[o],o,e,!0))&&(delete this[o],a=!0)}return a}normalize(e){const n=this,s={};return ie.forEach(this,(a,o)=>{const c=ie.findKey(s,o);if(c){n[c]=Ih(a),delete n[o];return}const u=e?l3(o):String(o).trim();u!==o&&delete n[o],n[u]=Ih(a),s[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ie.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=e&&ie.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[a2]=this[a2]={accessors:{}}).accessors,a=this.prototype;function o(c){const u=_c(c);s[u]||(c3(a,c),s[u]=!0)}return ie.isArray(e)?e.forEach(o):o(e),this}};Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(Kn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});ie.freezeMethods(Kn);function jg(t,e){const n=this||Ad,s=e||n,a=Kn.from(s.headers);let o=s.data;return ie.forEach(t,function(u){o=u.call(n,o,a.normalize(),e?e.status:void 0)}),a.normalize(),o}function JN(t){return!!(t&&t.__CANCEL__)}function ml(t,e,n){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,e,n),this.name="CanceledError"}ie.inherits(ml,Ue,{__CANCEL__:!0});function e_(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Ue("Request failed with status code "+n.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function d3(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function u3(t,e){t=t||10;const n=new Array(t),s=new Array(t);let a=0,o=0,c;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),p=s[o];c||(c=m),n[a]=f,s[a]=m;let g=o,b=0;for(;g!==a;)b+=n[g++],g=g%t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),m-c<e)return;const v=p&&m-p;return v?Math.round(b*1e3/v):void 0}}function h3(t,e){let n=0,s=1e3/e,a,o;const c=(m,p=Date.now())=>{n=p,a=null,o&&(clearTimeout(o),o=null),t.apply(null,m)};return[(...m)=>{const p=Date.now(),g=p-n;g>=s?c(m,p):(a=m,o||(o=setTimeout(()=>{o=null,c(a)},s-g)))},()=>a&&c(a)]}const af=(t,e,n=3)=>{let s=0;const a=u3(50,250);return h3(o=>{const c=o.loaded,u=o.lengthComputable?o.total:void 0,f=c-s,m=a(f),p=c<=u;s=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:f,rate:m||void 0,estimated:m&&u&&p?(u-c)/m:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},i2=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},o2=t=>(...e)=>ie.asap(()=>t(...e)),f3=_n.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,_n.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(_n.origin),_n.navigator&&/(msie|trident)/i.test(_n.navigator.userAgent)):()=>!0,m3=_n.hasStandardBrowserEnv?{write(t,e,n,s,a,o){const c=[t+"="+encodeURIComponent(e)];ie.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),ie.isString(s)&&c.push("path="+s),ie.isString(a)&&c.push("domain="+a),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function p3(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function g3(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function t_(t,e,n){let s=!p3(e);return t&&(s||n==!1)?g3(t,e):e}const l2=t=>t instanceof Kn?{...t}:t;function Hi(t,e){e=e||{};const n={};function s(m,p,g,b){return ie.isPlainObject(m)&&ie.isPlainObject(p)?ie.merge.call({caseless:b},m,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function a(m,p,g,b){if(ie.isUndefined(p)){if(!ie.isUndefined(m))return s(void 0,m,g,b)}else return s(m,p,g,b)}function o(m,p){if(!ie.isUndefined(p))return s(void 0,p)}function c(m,p){if(ie.isUndefined(p)){if(!ie.isUndefined(m))return s(void 0,m)}else return s(void 0,p)}function u(m,p,g){if(g in e)return s(m,p);if(g in t)return s(void 0,m)}const f={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(m,p,g)=>a(l2(m),l2(p),g,!0)};return ie.forEach(Object.keys(Object.assign({},t,e)),function(p){const g=f[p]||a,b=g(t[p],e[p],p);ie.isUndefined(b)&&g!==u||(n[p]=b)}),n}const n_=t=>{const e=Hi({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:o,headers:c,auth:u}=e;e.headers=c=Kn.from(c),e.url=KN(t_(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let f;if(ie.isFormData(n)){if(_n.hasStandardBrowserEnv||_n.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[m,...p]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...p].join("; "))}}if(_n.hasStandardBrowserEnv&&(s&&ie.isFunction(s)&&(s=s(e)),s||s!==!1&&f3(e.url))){const m=a&&o&&m3.read(o);m&&c.set(a,m)}return e},x3=typeof XMLHttpRequest<"u",y3=x3&&function(t){return new Promise(function(n,s){const a=n_(t);let o=a.data;const c=Kn.from(a.headers).normalize();let{responseType:u,onUploadProgress:f,onDownloadProgress:m}=a,p,g,b,v,j;function S(){v&&v(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function _(){if(!N)return;const k=Kn.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:k,config:t,request:N};e_(function(V){n(V),S()},function(V){s(V),S()},M),N=null}"onloadend"in N?N.onloadend=_:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(_)},N.onabort=function(){N&&(s(new Ue("Request aborted",Ue.ECONNABORTED,t,N)),N=null)},N.onerror=function(){s(new Ue("Network Error",Ue.ERR_NETWORK,t,N)),N=null},N.ontimeout=function(){let O=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const M=a.transitional||QN;a.timeoutErrorMessage&&(O=a.timeoutErrorMessage),s(new Ue(O,M.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,N)),N=null},o===void 0&&c.setContentType(null),"setRequestHeader"in N&&ie.forEach(c.toJSON(),function(O,M){N.setRequestHeader(M,O)}),ie.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),u&&u!=="json"&&(N.responseType=a.responseType),m&&([b,j]=af(m,!0),N.addEventListener("progress",b)),f&&N.upload&&([g,v]=af(f),N.upload.addEventListener("progress",g),N.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(p=k=>{N&&(s(!k||k.type?new ml(null,t,N):k),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const A=d3(a.url);if(A&&_n.protocols.indexOf(A)===-1){s(new Ue("Unsupported protocol "+A+":",Ue.ERR_BAD_REQUEST,t));return}N.send(o||null)})},b3=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,a;const o=function(m){if(!a){a=!0,u();const p=m instanceof Error?m:this.reason;s.abort(p instanceof Ue?p:new ml(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,o(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:f}=s;return f.unsubscribe=()=>ie.asap(u),f}},v3=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,a;for(;s<n;)a=s+e,yield t.slice(s,a),s=a},w3=async function*(t,e){for await(const n of j3(t))yield*v3(n,e)},j3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},c2=(t,e,n,s)=>{const a=w3(t,e);let o=0,c,u=f=>{c||(c=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:m,value:p}=await a.next();if(m){u(),f.close();return}let g=p.byteLength;if(n){let b=o+=g;n(b)}f.enqueue(new Uint8Array(p))}catch(m){throw u(m),m}},cancel(f){return u(f),a.return()}},{highWaterMark:2})},Af=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",s_=Af&&typeof ReadableStream=="function",S3=Af&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),r_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},N3=s_&&r_(()=>{let t=!1;const e=new Request(_n.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),d2=64*1024,wx=s_&&r_(()=>ie.isReadableStream(new Response("").body)),of={stream:wx&&(t=>t.body)};Af&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!of[e]&&(of[e]=ie.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new Ue(`Response type '${e}' is not supported`,Ue.ERR_NOT_SUPPORT,s)})})})(new Response);const _3=async t=>{if(t==null)return 0;if(ie.isBlob(t))return t.size;if(ie.isSpecCompliantForm(t))return(await new Request(_n.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(t)||ie.isArrayBuffer(t))return t.byteLength;if(ie.isURLSearchParams(t)&&(t=t+""),ie.isString(t))return(await S3(t)).byteLength},E3=async(t,e)=>{const n=ie.toFiniteNumber(t.getContentLength());return n??_3(e)},T3=Af&&(async t=>{let{url:e,method:n,data:s,signal:a,cancelToken:o,timeout:c,onDownloadProgress:u,onUploadProgress:f,responseType:m,headers:p,withCredentials:g="same-origin",fetchOptions:b}=n_(t);m=m?(m+"").toLowerCase():"text";let v=b3([a,o&&o.toAbortSignal()],c),j;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let N;try{if(f&&N3&&n!=="get"&&n!=="head"&&(N=await E3(p,s))!==0){let M=new Request(e,{method:"POST",body:s,duplex:"half"}),P;if(ie.isFormData(s)&&(P=M.headers.get("content-type"))&&p.setContentType(P),M.body){const[V,D]=i2(N,af(o2(f)));s=c2(M.body,d2,V,D)}}ie.isString(g)||(g=g?"include":"omit");const _="credentials"in Request.prototype;j=new Request(e,{...b,signal:v,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:s,duplex:"half",credentials:_?g:void 0});let A=await fetch(j);const k=wx&&(m==="stream"||m==="response");if(wx&&(u||k&&S)){const M={};["status","statusText","headers"].forEach(U=>{M[U]=A[U]});const P=ie.toFiniteNumber(A.headers.get("content-length")),[V,D]=u&&i2(P,af(o2(u),!0))||[];A=new Response(c2(A.body,d2,V,()=>{D&&D(),S&&S()}),M)}m=m||"text";let O=await of[ie.findKey(of,m)||"text"](A,t);return!k&&S&&S(),await new Promise((M,P)=>{e_(M,P,{data:O,headers:Kn.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:j})})}catch(_){throw S&&S(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,t,j),{cause:_.cause||_}):Ue.from(_,_&&_.code,t,j)}}),jx={http:F5,xhr:y3,fetch:T3};ie.forEach(jx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const u2=t=>`- ${t}`,C3=t=>ie.isFunction(t)||t===null||t===!1,a_={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let n,s;const a={};for(let o=0;o<e;o++){n=t[o];let c;if(s=n,!C3(n)&&(s=jx[(c=String(n)).toLowerCase()],s===void 0))throw new Ue(`Unknown adapter '${c}'`);if(s)break;a[c||"#"+o]=s}if(!s){const o=Object.entries(a).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=e?o.length>1?`since :
`+o.map(u2).join(`
`):" "+u2(o[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:jx};function Sg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ml(null,t)}function h2(t){return Sg(t),t.headers=Kn.from(t.headers),t.data=jg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),a_.getAdapter(t.adapter||Ad.adapter)(t).then(function(s){return Sg(t),s.data=jg.call(t,t.transformResponse,s),s.headers=Kn.from(s.headers),s},function(s){return JN(s)||(Sg(t),s&&s.response&&(s.response.data=jg.call(t,t.transformResponse,s.response),s.response.headers=Kn.from(s.response.headers))),Promise.reject(s)})}const i_="1.9.0",Df={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Df[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const f2={};Df.transitional=function(e,n,s){function a(o,c){return"[Axios v"+i_+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,u)=>{if(e===!1)throw new Ue(a(c," has been removed"+(n?" in "+n:"")),Ue.ERR_DEPRECATED);return n&&!f2[c]&&(f2[c]=!0,console.warn(a(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,c,u):!0}};Df.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function k3(t,e,n){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let a=s.length;for(;a-- >0;){const o=s[a],c=e[o];if(c){const u=t[o],f=u===void 0||c(u,o,t);if(f!==!0)throw new Ue("option "+o+" must be "+f,Ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ue("Unknown option "+o,Ue.ERR_BAD_OPTION)}}const qh={assertOptions:k3,validators:Df},Zs=qh.validators;let Bi=class{constructor(e){this.defaults=e||{},this.interceptors={request:new r2,response:new r2}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Hi(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:o}=n;s!==void 0&&qh.assertOptions(s,{silentJSONParsing:Zs.transitional(Zs.boolean),forcedJSONParsing:Zs.transitional(Zs.boolean),clarifyTimeoutError:Zs.transitional(Zs.boolean)},!1),a!=null&&(ie.isFunction(a)?n.paramsSerializer={serialize:a}:qh.assertOptions(a,{encode:Zs.function,serialize:Zs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qh.assertOptions(n,{baseUrl:Zs.spelling("baseURL"),withXsrfToken:Zs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=o&&ie.merge(o.common,o[n.method]);o&&ie.forEach(["delete","get","head","post","put","patch","common"],j=>{delete o[j]}),n.headers=Kn.concat(c,o);const u=[];let f=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(f=f&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const m=[];this.interceptors.response.forEach(function(S){m.push(S.fulfilled,S.rejected)});let p,g=0,b;if(!f){const j=[h2.bind(this),void 0];for(j.unshift.apply(j,u),j.push.apply(j,m),b=j.length,p=Promise.resolve(n);g<b;)p=p.then(j[g++],j[g++]);return p}b=u.length;let v=n;for(g=0;g<b;){const j=u[g++],S=u[g++];try{v=j(v)}catch(N){S.call(this,N);break}}try{p=h2.call(this,v)}catch(j){return Promise.reject(j)}for(g=0,b=m.length;g<b;)p=p.then(m[g++],m[g++]);return p}getUri(e){e=Hi(this.defaults,e);const n=t_(e.baseURL,e.url,e.allowAbsoluteUrls);return KN(n,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){Bi.prototype[e]=function(n,s){return this.request(Hi(s||{},{method:e,url:n,data:(s||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function n(s){return function(o,c,u){return this.request(Hi(u||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}Bi.prototype[e]=n(),Bi.prototype[e+"Form"]=n(!0)});let M3=class o_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(a=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](a);s._listeners=null}),this.promise.then=a=>{let o;const c=new Promise(u=>{s.subscribe(u),o=u}).then(a);return c.cancel=function(){s.unsubscribe(o)},c},e(function(o,c,u){s.reason||(s.reason=new ml(o,c,u),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new o_(function(a){e=a}),cancel:e}}};function A3(t){return function(n){return t.apply(null,n)}}function D3(t){return ie.isObject(t)&&t.isAxiosError===!0}const Sx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sx).forEach(([t,e])=>{Sx[e]=t});function l_(t){const e=new Bi(t),n=BN(Bi.prototype.request,e);return ie.extend(n,Bi.prototype,e,{allOwnKeys:!0}),ie.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return l_(Hi(t,a))},n}const it=l_(Ad);it.Axios=Bi;it.CanceledError=ml;it.CancelToken=M3;it.isCancel=JN;it.VERSION=i_;it.toFormData=Mf;it.AxiosError=Ue;it.Cancel=it.CanceledError;it.all=function(e){return Promise.all(e)};it.spread=A3;it.isAxiosError=D3;it.mergeConfig=Hi;it.AxiosHeaders=Kn;it.formToJSON=t=>ZN(ie.isHTMLForm(t)?new FormData(t):t);it.getAdapter=a_.getAdapter;it.HttpStatusCode=Sx;it.default=it;const{Axios:xU,AxiosError:yU,CanceledError:bU,isCancel:vU,CancelToken:wU,VERSION:jU,all:SU,Cancel:NU,isAxiosError:_U,spread:EU,toFormData:TU,AxiosHeaders:CU,HttpStatusCode:kU,formToJSON:MU,getAdapter:AU,mergeConfig:DU}=it,R3="http://127.0.0.1:8000/api",ge=it.create({baseURL:R3,headers:{"Content-Type":"application/json",Accept:"application/json"}});ge.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));ge.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("token"),window.location.href="/auth/login"),Promise.reject(t)});const Ng="http://127.0.0.1:8000/api",Fc={login:async t=>{var e,n;try{const s=await ge.post(`${Ng}/login`,t),{token:a,data:o}=s.data;if(!a||!o)throw new Error("Respuesta inválida del servidor");if(o.activo===0)throw new Error("Tu cuenta está inactiva. Por favor, contacta al administrador.");return localStorage.setItem("token",a),{token:a,user:{data:o}}}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al iniciar sesión")}},register:async t=>{var e,n;try{const s=await ge.post(`${Ng}/register`,{nombre:t.nombre,email:t.email,password:t.password,activo:1}),{token:a,data:o}=s.data;if(!a||!o)throw new Error("Respuesta inválida del servidor");return localStorage.setItem("token",a),{token:a,user:{data:{...o,activo:o.activo??1}}}}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al registrar usuario")}},loadUser:async()=>{if(!localStorage.getItem("token"))return null;try{const n=(await ge.get(`${Ng}/me`)).data.data;return{data:{...n,activo:n.activo??1}}}catch(e){throw console.log(e),localStorage.removeItem("token"),new Error("Error al cargar usuario")}},logout:()=>{localStorage.removeItem("token")}},Ut=Pn(t=>({user:null,token:localStorage.getItem("token"),isLoading:!1,error:null,isAuthenticated:!!localStorage.getItem("token"),loadUser:async()=>{t({isLoading:!0});try{const e=await Fc.loadUser();e?t({user:e,isLoading:!1}):(t({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("token"))}catch(e){console.log(e),t({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("token")}},login:async e=>{t({isLoading:!0,error:null});try{const{token:n,user:s}=await Fc.login(e);return t({user:s,token:n,isAuthenticated:!0,isLoading:!1}),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},register:async e=>{t({isLoading:!0,error:null});try{const{token:n,user:s}=await Fc.register(e);return t({user:s,token:n,isAuthenticated:!0,isLoading:!1}),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},logout:()=>{Fc.logout(),t({user:null,token:null,isAuthenticated:!1})}}));/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),L3=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),m2=t=>{const e=L3(t);return e.charAt(0).toUpperCase()+e.slice(1)},c_=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),P3=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:o,iconNode:c,...u},f)=>R.createElement("svg",{ref:f,...z3,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:c_("lucide",a),...!o&&!P3(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,p])=>R.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(t,e)=>{const n=R.forwardRef(({className:s,...a},o)=>R.createElement(B3,{ref:o,iconNode:e,className:c_(`lucide-${O3(m2(t))}`,`lucide-${t}`,s),...a}));return n.displayName=m2(t),n};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],U3=Ne("activity",V3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],Nx=Ne("arrow-down-to-line",H3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Ko=Ne("arrow-right-left",F3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],_x=Ne("arrow-up-from-line",$3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ed=Ne("bell",I3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Y3=Ne("book-open",q3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],W3=Ne("box",X3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Ps=Ne("building-2",G3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],By=Ne("building",K3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fi=Ne("calendar",Q3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],pd=Ne("chart-no-axes-column",Z3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],d_=Ne("check",J3);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tO=Ne("chevron-left",eO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sO=Ne("chevron-right",nO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ln=Ne("circle-alert",rO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$a=Ne("circle-check-big",aO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oO=Ne("circle-help",iO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ex=Ne("circle-x",lO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],dO=Ne("clipboard",cO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$i=Ne("clock",uO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],fO=Ne("coffee",hO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],p2=Ne("database",mO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Vi=Ne("download",pO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],xO=Ne("ellipsis-vertical",gO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],dr=Ne("euro",yO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dd=Ne("eye",bO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rr=Ne("file-text",vO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Rd=Ne("funnel",wO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],g2=Ne("key",jO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],NO=Ne("layers",SO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],EO=Ne("layout-dashboard",_O);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yt=Ne("loader-circle",TO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],u_=Ne("lock",CO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],MO=Ne("log-in",kO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Rf=Ne("log-out",AO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Of=Ne("mail",DO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],OO=Ne("menu",RO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Od=Ne("message-square",LO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M5 12h14",key:"1ays0h"}]],h_=Ne("minus",PO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],BO=Ne("monitor",zO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Bt=Ne("package",VO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],f_=Ne("phone",UO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ia=Ne("plus",HO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Tx=Ne("printer",FO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Yh=Ne("refresh-ccw",$O);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qO=Ne("refresh-cw",IO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XO=Ne("save",YO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],hr=Ne("search",WO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],KO=Ne("send",GO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ld=Ne("settings",QO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M6.376 18.91a6 6 0 0 1 11.249.003",key:"hnjrf2"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}]],JO=Ne("shield-user",ZO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Vy=Ne("shield",eL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ir=Ne("shopping-cart",tL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Uy=Ne("square-pen",nL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rL=Ne("star",sL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Cx=Ne("store",aL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Hy=Ne("tag",iL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ii=Ne("trash-2",oL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],cL=Ne("trending-down",lL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Lf=Ne("trending-up",dL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],m_=Ne("triangle-alert",uL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],sl=Ne("truck",hL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],_g=Ne("user-check",fL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],pL=Ne("user-plus",mL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Eg=Ne("user-x",gL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ws=Ne("user",xL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rl=Ne("users",yL);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ur=Ne("x",bL),p_=6048e5,vL=864e5,fh=43200,x2=1440,y2=Symbol.for("constructDateFrom");function qr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&y2 in t?t[y2](e):t instanceof Date?new t.constructor(e):new Date(e)}function fn(t,e){return qr(e||t,t)}let wL={};function Pd(){return wL}function gd(t,e){var u,f,m,p;const n=Pd(),s=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=fn(t,e==null?void 0:e.in),o=a.getDay(),c=(o<s?7:0)+o-s;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function lf(t,e){return gd(t,{...e,weekStartsOn:1})}function g_(t,e){const n=fn(t,e==null?void 0:e.in),s=n.getFullYear(),a=qr(n,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const o=lf(a),c=qr(n,0);c.setFullYear(s,0,4),c.setHours(0,0,0,0);const u=lf(c);return n.getTime()>=o.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function cf(t){const e=fn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Pf(t,...e){const n=qr.bind(null,t||e.find(s=>typeof s=="object"));return e.map(n)}function b2(t,e){const n=fn(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function jL(t,e,n){const[s,a]=Pf(n==null?void 0:n.in,t,e),o=b2(s),c=b2(a),u=+o-cf(o),f=+c-cf(c);return Math.round((u-f)/vL)}function SL(t,e){const n=g_(t,e),s=qr(t,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),lf(s)}function Xh(t,e){const n=+fn(t)-+fn(e);return n<0?-1:n>0?1:n}function NL(t){return qr(t,Date.now())}function _L(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kx(t){return!(!_L(t)&&typeof t!="number"||isNaN(+fn(t)))}function EL(t,e,n){const[s,a]=Pf(n==null?void 0:n.in,t,e),o=s.getFullYear()-a.getFullYear(),c=s.getMonth()-a.getMonth();return o*12+c}function TL(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function CL(t,e){return+fn(t)-+fn(e)}function kL(t,e){const n=fn(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function ML(t,e){const n=fn(t,e==null?void 0:e.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function AL(t,e){const n=fn(t,e==null?void 0:e.in);return+kL(n,e)==+ML(n,e)}function DL(t,e,n){const[s,a,o]=Pf(n==null?void 0:n.in,t,t,e),c=Xh(a,o),u=Math.abs(EL(a,o));if(u<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-c*u);let f=Xh(a,o)===-c;AL(s)&&u===1&&Xh(s,o)===1&&(f=!1);const m=c*(u-+f);return m===0?0:m}function RL(t,e,n){const s=CL(t,e)/1e3;return TL(n==null?void 0:n.roundingMethod)(s)}function OL(t,e){const n=fn(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const LL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},PL=(t,e,n)=>{let s;const a=LL[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Qo(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const zL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UL={date:Qo({formats:zL,defaultWidth:"full"}),time:Qo({formats:BL,defaultWidth:"full"}),dateTime:Qo({formats:VL,defaultWidth:"full"})},HL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FL=(t,e,n,s)=>HL[t];function nr(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):c;a=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[u]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return a[o]}}const $L={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},YL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},XL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GL=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},KL={ordinalNumber:GL,era:nr({values:$L,defaultWidth:"wide"}),quarter:nr({values:IL,defaultWidth:"wide",argumentCallback:t=>t-1}),month:nr({values:qL,defaultWidth:"wide"}),day:nr({values:YL,defaultWidth:"wide"}),dayPeriod:nr({values:XL,defaultWidth:"wide",formattingValues:WL,defaultFormattingWidth:"wide"})};function sr(t){return(e,n={})=>{const s=n.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],o=e.match(a);if(!o)return null;const c=o[0],u=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?ZL(u,g=>g.test(c)):QL(u,g=>g.test(c));let m;m=t.valueCallback?t.valueCallback(f):f,m=n.valueCallback?n.valueCallback(m):m;const p=e.slice(c.length);return{value:m,rest:p}}}function QL(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function ZL(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function x_(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const a=s[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=n.valueCallback?n.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}const JL=/^(\d+)(th|st|nd|rd)?/i,e6=/\d+/i,t6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},n6={any:[/^b/i,/^(a|c)/i]},s6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},r6={any:[/1/i,/2/i,/3/i,/4/i]},a6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},i6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},o6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},l6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},c6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},d6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},u6={ordinalNumber:x_({matchPattern:JL,parsePattern:e6,valueCallback:t=>parseInt(t,10)}),era:sr({matchPatterns:t6,defaultMatchWidth:"wide",parsePatterns:n6,defaultParseWidth:"any"}),quarter:sr({matchPatterns:s6,defaultMatchWidth:"wide",parsePatterns:r6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:sr({matchPatterns:a6,defaultMatchWidth:"wide",parsePatterns:i6,defaultParseWidth:"any"}),day:sr({matchPatterns:o6,defaultMatchWidth:"wide",parsePatterns:l6,defaultParseWidth:"any"}),dayPeriod:sr({matchPatterns:c6,defaultMatchWidth:"any",parsePatterns:d6,defaultParseWidth:"any"})},y_={code:"en-US",formatDistance:PL,formatLong:UL,formatRelative:FL,localize:KL,match:u6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function h6(t,e){const n=fn(t,e==null?void 0:e.in);return jL(n,OL(n))+1}function f6(t,e){const n=fn(t,e==null?void 0:e.in),s=+lf(n)-+SL(n);return Math.round(s/p_)+1}function b_(t,e){var p,g,b,v;const n=fn(t,e==null?void 0:e.in),s=n.getFullYear(),a=Pd(),o=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(b=a.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??1,c=qr((e==null?void 0:e.in)||t,0);c.setFullYear(s+1,0,o),c.setHours(0,0,0,0);const u=gd(c,e),f=qr((e==null?void 0:e.in)||t,0);f.setFullYear(s,0,o),f.setHours(0,0,0,0);const m=gd(f,e);return+n>=+u?s+1:+n>=+m?s:s-1}function m6(t,e){var u,f,m,p;const n=Pd(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=b_(t,e),o=qr((e==null?void 0:e.in)||t,0);return o.setFullYear(a,0,s),o.setHours(0,0,0,0),gd(o,e)}function p6(t,e){const n=fn(t,e==null?void 0:e.in),s=+gd(n,e)-+m6(n,e);return Math.round(s/p_)+1}function rt(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const Ma={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return rt(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):rt(n+1,2)},d(t,e){return rt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return rt(t.getHours()%12||12,e.length)},H(t,e){return rt(t.getHours(),e.length)},m(t,e){return rt(t.getMinutes(),e.length)},s(t,e){return rt(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return rt(a,e.length)}},Vo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},v2={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return Ma.y(t,e)},Y:function(t,e,n,s){const a=b_(t,s),o=a>0?a:1-a;if(e==="YY"){const c=o%100;return rt(c,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):rt(o,e.length)},R:function(t,e){const n=g_(t);return rt(n,e.length)},u:function(t,e){const n=t.getFullYear();return rt(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return rt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return rt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return Ma.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return rt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const a=p6(t,s);return e==="wo"?n.ordinalNumber(a,{unit:"week"}):rt(a,e.length)},I:function(t,e,n){const s=f6(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):rt(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ma.d(t,e)},D:function(t,e,n){const s=h6(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):rt(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const a=t.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return rt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const a=t.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return rt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),a=s===0?7:s;switch(e){case"i":return String(a);case"ii":return rt(a,e.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let a;switch(s===12?a=Vo.noon:s===0?a=Vo.midnight:a=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let a;switch(s>=17?a=Vo.evening:s>=12?a=Vo.afternoon:s>=4?a=Vo.morning:a=Vo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Ma.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ma.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):rt(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):rt(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ma.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ma.s(t,e)},S:function(t,e){return Ma.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return j2(s);case"XXXX":case"XX":return Mi(s);case"XXXXX":case"XXX":default:return Mi(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return j2(s);case"xxxx":case"xx":return Mi(s);case"xxxxx":case"xxx":default:return Mi(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+w2(s,":");case"OOOO":default:return"GMT"+Mi(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+w2(s,":");case"zzzz":default:return"GMT"+Mi(s,":")}},t:function(t,e,n){const s=Math.trunc(+t/1e3);return rt(s,e.length)},T:function(t,e,n){return rt(+t,e.length)}};function w2(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),o=s%60;return o===0?n+String(a):n+String(a)+e+rt(o,2)}function j2(t,e){return t%60===0?(t>0?"-":"+")+rt(Math.abs(t)/60,2):Mi(t,e)}function Mi(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),a=rt(Math.trunc(s/60),2),o=rt(s%60,2);return n+a+e+o}const S2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},v_=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},g6=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return S2(t,e);let o;switch(s){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",S2(s,e)).replace("{{time}}",v_(a,e))},x6={p:v_,P:g6},y6=/^D+$/,b6=/^Y+$/,v6=["D","DD","YY","YYYY"];function w6(t){return y6.test(t)}function j6(t){return b6.test(t)}function S6(t,e,n){const s=N6(t,e,n);if(console.warn(s),v6.includes(t))throw new RangeError(s)}function N6(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const _6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,E6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,T6=/^'([^]*?)'?$/,C6=/''/g,k6=/[a-zA-Z]/;function Wt(t,e,n){var p,g,b,v,j,S,N,_;const s=Pd(),a=(n==null?void 0:n.locale)??s.locale??y_,o=(n==null?void 0:n.firstWeekContainsDate)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(b=s.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((S=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:S.weekStartsOn)??s.weekStartsOn??((_=(N=s.locale)==null?void 0:N.options)==null?void 0:_.weekStartsOn)??0,u=fn(t,n==null?void 0:n.in);if(!kx(u))throw new RangeError("Invalid time value");let f=e.match(E6).map(A=>{const k=A[0];if(k==="p"||k==="P"){const O=x6[k];return O(A,a.formatLong)}return A}).join("").match(_6).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const k=A[0];if(k==="'")return{isToken:!1,value:M6(A)};if(v2[k])return{isToken:!0,value:A};if(k.match(k6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:A}});a.localize.preprocessor&&(f=a.localize.preprocessor(u,f));const m={firstWeekContainsDate:o,weekStartsOn:c,locale:a};return f.map(A=>{if(!A.isToken)return A.value;const k=A.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&j6(k)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&w6(k))&&S6(k,e,String(t));const O=v2[k[0]];return O(u,k,a.localize,m)}).join("")}function M6(t){const e=t.match(T6);return e?e[1].replace(C6,"'"):t}function A6(t,e,n){const s=Pd(),a=(n==null?void 0:n.locale)??s.locale??y_,o=2520,c=Xh(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:c}),[f,m]=Pf(n==null?void 0:n.in,...c>0?[e,t]:[t,e]),p=RL(m,f),g=(cf(m)-cf(f))/1e3,b=Math.round((p-g)/60);let v;if(b<2)return n!=null&&n.includeSeconds?p<5?a.formatDistance("lessThanXSeconds",5,u):p<10?a.formatDistance("lessThanXSeconds",10,u):p<20?a.formatDistance("lessThanXSeconds",20,u):p<40?a.formatDistance("halfAMinute",0,u):p<60?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",1,u):b===0?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",b,u);if(b<45)return a.formatDistance("xMinutes",b,u);if(b<90)return a.formatDistance("aboutXHours",1,u);if(b<x2){const j=Math.round(b/60);return a.formatDistance("aboutXHours",j,u)}else{if(b<o)return a.formatDistance("xDays",1,u);if(b<fh){const j=Math.round(b/x2);return a.formatDistance("xDays",j,u)}else if(b<fh*2)return v=Math.round(b/fh),a.formatDistance("aboutXMonths",v,u)}if(v=DL(m,f),v<12){const j=Math.round(b/fh);return a.formatDistance("xMonths",j,u)}else{const j=v%12,S=Math.trunc(v/12);return j<3?a.formatDistance("aboutXYears",S,u):j<9?a.formatDistance("overXYears",S,u):a.formatDistance("almostXYears",S+1,u)}}function D6(t,e){return A6(t,NL(t),e)}const R6={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},O6=(t,e,n)=>{let s;const a=R6[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+s:"hace "+s:s},L6={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},P6={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},z6={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},B6={date:Qo({formats:L6,defaultWidth:"full"}),time:Qo({formats:P6,defaultWidth:"full"}),dateTime:Qo({formats:z6,defaultWidth:"full"})},V6={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},U6={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},H6=(t,e,n,s)=>e.getHours()!==1?U6[t]:V6[t],F6={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},$6={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},I6={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},q6={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},Y6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},X6={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},W6=(t,e)=>Number(t)+"º",G6={ordinalNumber:W6,era:nr({values:F6,defaultWidth:"wide"}),quarter:nr({values:$6,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:nr({values:I6,defaultWidth:"wide"}),day:nr({values:q6,defaultWidth:"wide"}),dayPeriod:nr({values:Y6,defaultWidth:"wide",formattingValues:X6,defaultFormattingWidth:"wide"})},K6=/^(\d+)(º)?/i,Q6=/\d+/i,Z6={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},J6={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},eP={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},tP={any:[/1/i,/2/i,/3/i,/4/i]},nP={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},sP={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},rP={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},aP={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},iP={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},oP={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},lP={ordinalNumber:x_({matchPattern:K6,parsePattern:Q6,valueCallback:function(t){return parseInt(t,10)}}),era:sr({matchPatterns:Z6,defaultMatchWidth:"wide",parsePatterns:J6,defaultParseWidth:"any"}),quarter:sr({matchPatterns:eP,defaultMatchWidth:"wide",parsePatterns:tP,defaultParseWidth:"any",valueCallback:t=>t+1}),month:sr({matchPatterns:nP,defaultMatchWidth:"wide",parsePatterns:sP,defaultParseWidth:"any"}),day:sr({matchPatterns:rP,defaultMatchWidth:"wide",parsePatterns:aP,defaultParseWidth:"any"}),dayPeriod:sr({matchPatterns:iP,defaultMatchWidth:"any",parsePatterns:oP,defaultParseWidth:"any"})},Qn={code:"es",formatDistance:O6,formatLong:B6,formatRelative:H6,localize:G6,match:lP,options:{weekStartsOn:1,firstWeekContainsDate:1}},as="http://127.0.0.1:8000/api",Ls={fetchUsers:async()=>{var t,e;try{const n=await ge.get(`${as}/usuarios`);return Array.isArray(n.data)?n.data:n.data.data?n.data.data:n.data.users?n.data.users:[]}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar usuarios")}},createUser:async t=>{var e,n;try{const s=await ge.post(`${as}/usuarios`,{...t,sede_id:1});return s.data.data||s.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear usuario")}},updateUser:async(t,e)=>{var n,s;try{return(await ge.put(`${as}/usuarios/${t}`,e)).data.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al actualizar usuario")}},deleteUser:async t=>{var e,n;try{return await ge.delete(`${as}/usuarios/${t}`),!0}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al eliminar usuario")}},updateUserStatus:async(t,e)=>{var n,s;try{return(await ge.patch(`${as}/usuarios/${t}/estado`,{activo:e})).data.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al cambiar estado del usuario")}},loadRoles:async()=>{var t,e;try{const n=await ge.get(`${as}/roles`);return Array.isArray(n.data)?n.data:n.data.data?n.data.data:n.data.roles?n.data.roles:[]}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar roles")}},getUserById:async t=>{var e,n;try{const s=await ge.get(`${as}/usuarios/${t}`);return s.data.data||s.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al obtener usuario")}},restoreUser:async t=>{var e,n;try{return await ge.post(`${as}/usuarios/${t}/restore`),!0}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al restaurar usuario")}},getProfile:async()=>{var t,e;try{return(await ge.get(`${as}/me`)).data.data}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al obtener el perfil")}},updateProfile:async t=>{var e,n;try{return(await ge.put(`${as}/config/perfil`,t)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al actualizar el perfil")}},updatePassword:async t=>{var e,n;try{return(await ge.put(`${as}/config/password`,{current_password:t.current_password,new_password:t.password})).data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al actualizar la contraseña")}},uploadAvatar:async t=>{var e,n;try{const s=new FormData;return s.append("avatar",t),(await ge.post(`${as}/usuarios/me/avatar`,s,{headers:{"Content-Type":"multipart/form-data"}})).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al subir el avatar")}},logout:async()=>{var t,e;try{return await ge.post(`${as}/logout`),!0}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cerrar sesión")}}},cP=({isOpen:t,onClose:e,user:n})=>{var V,D,U;const[s,a]=R.useState(!1),[o,c]=R.useState(null),[u,f]=R.useState(null),[m,p]=R.useState(!1),[g,b]=R.useState({current_password:"",password:"",password_confirmation:""}),[v,j]=R.useState({}),{logout:S}=Ut(),N=Ya();if(!t||!n)return null;const _=Y=>{if(!Y)return"No disponible";const G=new Date(Y);return kx(G)?Wt(G,"dd/MM/yyyy HH:mm",{locale:Qn}):"No disponible"},A=Y=>{if(!Y)return"No disponible";const G=new Date(Y);return kx(G)?Wt(G,"MMMM yyyy",{locale:Qn}):"No disponible"},k=async()=>{try{a(!0),Fc.logout(),S(),N("/auth/login")}catch(Y){c(Y.message||"Error al cerrar sesión")}finally{a(!1)}},O=()=>{e(),N("/dashboard/configuracion")},M=async Y=>{Y.preventDefault();const G={};if(g.current_password||(G.current_password="La contraseña actual es requerida"),g.password?g.password.length<6&&(G.password="La contraseña debe tener al menos 6 caracteres"):G.password="La nueva contraseña es requerida",g.password!==g.password_confirmation&&(G.password_confirmation="Las contraseñas no coinciden"),Object.keys(G).length>0){j(G);return}try{a(!0),c(null),f(null),j({}),await Ls.updatePassword(g),b({current_password:"",password:"",password_confirmation:""}),f("Contraseña actualizada correctamente"),setTimeout(()=>{p(!1),setTimeout(()=>f(null),500)},2e3)}catch(X){c(X.message||"Error al cambiar la contraseña")}finally{a(!1)}},P=Y=>{const{name:G,value:X}=Y.target;b(ne=>({...ne,[G]:X})),v[G]&&j(ne=>({...ne,[G]:null}))};return l.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,children:l.jsxs(ye.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-bg rounded-xl shadow-lg w-full max-w-2xl overflow-hidden max-h-[90vh] overflow-y-auto",onClick:Y=>Y.stopPropagation(),children:[l.jsx("div",{className:"relative h-48 bg-gradient-to-r from-solid-color to-solid-color-hover",children:l.jsx("div",{className:"absolute -bottom-16 left-8",children:l.jsx("div",{className:"relative",children:l.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-bg overflow-hidden bg-interactive-component",children:n.avatar?l.jsx("img",{src:n.avatar,alt:n.nombre,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(ws,{className:"w-16 h-16 text-text-tertiary"})})})})})}),l.jsxs("div",{className:"pt-20 px-8 pb-8",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-accessibility-text",children:n.nombre}),l.jsx("p",{className:"text-text-tertiary",children:((V=n.rol)==null?void 0:V.nombre)||"Sin rol asignado"})]}),l.jsxs("button",{onClick:k,disabled:s,className:"px-4 py-2 bg-error/10 text-error rounded-lg hover:bg-error/20 transition-colors flex items-center gap-2 disabled:opacity-50",children:[l.jsx(Rf,{className:"w-4 h-4"}),s?"Cerrando sesión...":"Cerrar sesión"]})]}),o&&l.jsxs("div",{className:"mb-4 p-3 bg-error/10 text-error rounded-lg text-sm flex items-center gap-2",children:[l.jsx(ln,{className:"w-4 h-4"}),o]}),u&&l.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-green-100 text-green-700 rounded-lg text-sm flex items-center gap-2",children:[l.jsx($a,{className:"w-4 h-4"}),u]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[l.jsx(Of,{className:"w-5 h-5 text-text-tertiary"}),l.jsx("span",{children:n.email||"No especificado"})]}),n.telefono&&l.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[l.jsx(f_,{className:"w-5 h-5 text-text-tertiary"}),l.jsx("span",{children:n.telefono})]}),l.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[l.jsx(Cx,{className:"w-5 h-5 text-text-tertiary"}),l.jsx("span",{children:((D=n.sede)==null?void 0:D.nombre)||"Sin sede asignada"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[l.jsx(Fi,{className:"w-5 h-5 text-text-tertiary"}),l.jsxs("span",{children:["Miembro desde ",A(n.created_at)]})]}),l.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[l.jsx(Vy,{className:"w-5 h-5 text-text-tertiary"}),l.jsx("span",{children:((U=n.rol)==null?void 0:U.nombre)||"Sin rol asignado"})]}),n.ultimo_acceso&&l.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[l.jsx(g2,{className:"w-5 h-5 text-text-tertiary"}),l.jsxs("span",{children:["Último acceso: ",_(n.ultimo_acceso)]})]})]})]}),m&&l.jsxs(ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-8 p-4 bg-bg-secondary rounded-lg",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-accessibility-text",children:"Cambiar contraseña"}),l.jsxs("form",{onSubmit:M,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-accessibility-text mb-1",children:"Contraseña actual"}),l.jsx("input",{type:"password",name:"current_password",value:g.current_password,onChange:P,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-1 focus:ring-solid-color bg-interactive-component text-accessibility-text"}),v.current_password&&l.jsx("p",{className:"text-error text-xs mt-1",children:v.current_password})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-accessibility-text mb-1",children:"Nueva contraseña"}),l.jsx("input",{type:"password",name:"password",value:g.password,onChange:P,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-1 focus:ring-solid-color bg-interactive-component text-accessibility-text"}),v.password&&l.jsx("p",{className:"text-error text-xs mt-1",children:v.password})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-accessibility-text mb-1",children:"Confirmar nueva contraseña"}),l.jsx("input",{type:"password",name:"password_confirmation",value:g.password_confirmation,onChange:P,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-1 focus:ring-solid-color bg-interactive-component text-accessibility-text"}),v.password_confirmation&&l.jsx("p",{className:"text-error text-xs mt-1",children:v.password_confirmation})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-accessibility-text rounded-lg border border-border hover:bg-bg-secondary transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-solid-color text-white rounded-lg hover:bg-solid-color-hover transition-colors disabled:opacity-50",children:s?"Guardando...":"Guardar cambios"})]})]})]}),!m&&l.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:O,className:"px-4 py-3 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors flex items-center justify-center gap-2",children:[l.jsx(Ld,{className:"w-5 h-5"}),"Configuración"]}),l.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-3 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors flex items-center justify-center gap-2",children:[l.jsx(g2,{className:"w-5 h-5"}),"Cambiar contraseña"]})]})]})]})})},Ec="http://127.0.0.1:8000/api",Tc=()=>!!localStorage.getItem("token"),Cc={fetchNotifications:async(t={})=>{var e,n;try{if(!Tc())return console.error("No hay token de autenticación"),{data:[],meta:{}};const s=new URLSearchParams;t.unread&&s.append("unread",!0),t.perPage&&s.append("per_page",t.perPage),t.page&&s.append("page",t.page);const a=`${Ec}/notifications${s.toString()?"?"+s.toString():""}`;console.log("Fetching notifications from:",a);const o=await ge.get(a);return o.data&&o.data.success?o.data.data:{data:[],meta:{}}}catch(s){throw console.error("Error fetching notifications:",s),new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al obtener notificaciones")}},markAsRead:async t=>{var e,n,s;try{if(!Tc())throw new Error("No hay token de autenticación");const a=await ge.put(`${Ec}/notifications/${t}/mark-as-read`);if(a.data&&a.data.success)return!0;throw new Error(((e=a.data)==null?void 0:e.message)||"Error al marcar notificación como leída")}catch(a){throw console.error("Error marking notification as read:",a),new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al marcar notificación como leída")}},markAllAsRead:async()=>{var t,e,n;try{if(!Tc())throw new Error("No hay token de autenticación");const s=await ge.put(`${Ec}/notifications/mark-all-as-read`);if(s.data&&s.data.success)return!0;throw new Error(((t=s.data)==null?void 0:t.message)||"Error al marcar todas las notificaciones como leídas")}catch(s){throw console.error("Error marking all notifications as read:",s),new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al marcar todas las notificaciones como leídas")}},deleteNotification:async t=>{var e,n,s;try{if(!Tc())throw new Error("No hay token de autenticación");const a=await ge.delete(`${Ec}/notifications/${t}`);if(a.data&&a.data.success)return!0;throw new Error(((e=a.data)==null?void 0:e.message)||"Error al eliminar notificación")}catch(a){throw console.error("Error deleting notification:",a),new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al eliminar notificación")}},deleteAllNotifications:async()=>{var t,e,n;try{if(!Tc())throw new Error("No hay token de autenticación");const s=await ge.delete(`${Ec}/notifications`);if(s.data&&s.data.success)return!0;throw new Error(((t=s.data)==null?void 0:t.message)||"Error al eliminar todas las notificaciones")}catch(s){throw console.error("Error deleting all notifications:",s),new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al eliminar todas las notificaciones")}}};let dP={data:""},uP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||dP,hP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fP=/\/\*[^]*?\*\/|  +/g,N2=/\n+/g,Pa=(t,e)=>{let n="",s="",a="";for(let o in t){let c=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+c+";":s+=o[1]=="f"?Pa(c,o):o+"{"+Pa(c,o[1]=="k"?"":e)+"}":typeof c=="object"?s+=Pa(c,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,u):u?u+" "+f:f)):o):c!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Pa.p?Pa.p(o,c):o+":"+c+";")}return n+(e&&a?e+"{"+a+"}":a)+s},Or={},w_=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+w_(t[n]);return e}return t},mP=(t,e,n,s,a)=>{let o=w_(t),c=Or[o]||(Or[o]=(f=>{let m=0,p=11;for(;m<f.length;)p=101*p+f.charCodeAt(m++)>>>0;return"go"+p})(o));if(!Or[c]){let f=o!==t?t:(m=>{let p,g,b=[{}];for(;p=hP.exec(m.replace(fP,""));)p[4]?b.shift():p[3]?(g=p[3].replace(N2," ").trim(),b.unshift(b[0][g]=b[0][g]||{})):b[0][p[1]]=p[2].replace(N2," ").trim();return b[0]})(t);Or[c]=Pa(a?{["@keyframes "+c]:f}:f,n?"":"."+c)}let u=n&&Or.g?Or.g:null;return n&&(Or.g=Or[c]),((f,m,p,g)=>{g?m.data=m.data.replace(g,f):m.data.indexOf(f)===-1&&(m.data=p?f+m.data:m.data+f)})(Or[c],e,s,u),c},pP=(t,e,n)=>t.reduce((s,a,o)=>{let c=e[o];if(c&&c.call){let u=c(n),f=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=f?"."+f:u&&typeof u=="object"?u.props?"":Pa(u,""):u===!1?"":u}return s+a+(c??"")},"");function zf(t){let e=this||{},n=t.call?t(e.p):t;return mP(n.unshift?n.raw?pP(n,[].slice.call(arguments,1),e.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):n,uP(e.target),e.g,e.o,e.k)}let j_,Mx,Ax;zf.bind({g:1});let Yr=zf.bind({k:1});function gP(t,e,n,s){Pa.p=e,j_=t,Mx=n,Ax=s}function Wa(t,e){let n=this||{};return function(){let s=arguments;function a(o,c){let u=Object.assign({},o),f=u.className||a.className;n.p=Object.assign({theme:Mx&&Mx()},u),n.o=/ *go\d+/.test(f),u.className=zf.apply(n,s)+(f?" "+f:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),Ax&&m[0]&&Ax(u),j_(m,u)}return a}}var xP=t=>typeof t=="function",Dx=(t,e)=>xP(t)?t(e):t,yP=(()=>{let t=0;return()=>(++t).toString()})(),bP=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),vP=20,S_=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,vP)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return S_(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},wP=[],Tg={toasts:[],pausedAt:void 0},Fy=t=>{Tg=S_(Tg,t),wP.forEach(e=>{e(Tg)})},jP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||yP()}),zd=t=>(e,n)=>{let s=jP(e,t,n);return Fy({type:2,toast:s}),s.id},we=(t,e)=>zd("blank")(t,e);we.error=zd("error");we.success=zd("success");we.loading=zd("loading");we.custom=zd("custom");we.dismiss=t=>{Fy({type:3,toastId:t})};we.remove=t=>Fy({type:4,toastId:t});we.promise=(t,e,n)=>{let s=we.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let o=e.success?Dx(e.success,a):void 0;return o?we.success(o,{id:s,...n,...n==null?void 0:n.success}):we.dismiss(s),a}).catch(a=>{let o=e.error?Dx(e.error,a):void 0;o?we.error(o,{id:s,...n,...n==null?void 0:n.error}):we.dismiss(s)}),t};var SP=Yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,NP=Yr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_P=Yr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,EP=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${NP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_P} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,TP=Yr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,CP=Wa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${TP} 1s linear infinite;
`,kP=Yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,MP=Yr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,AP=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${MP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,DP=Wa("div")`
  position: absolute;
`,RP=Wa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,OP=Yr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LP=Wa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${OP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,PP=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?R.createElement(LP,null,e):e:n==="blank"?null:R.createElement(RP,null,R.createElement(CP,{...s}),n!=="loading"&&R.createElement(DP,null,n==="error"?R.createElement(EP,{...s}):R.createElement(AP,{...s})))},zP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,BP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,VP="0%{opacity:0;} 100%{opacity:1;}",UP="0%{opacity:1;} 100%{opacity:0;}",HP=Wa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,FP=Wa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$P=(t,e)=>{let n=t.includes("top")?1:-1,[s,a]=bP()?[VP,UP]:[zP(n),BP(n)];return{animation:e?`${Yr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Yr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};R.memo(({toast:t,position:e,style:n,children:s})=>{let a=t.height?$P(t.position||e||"top-center",t.visible):{opacity:0},o=R.createElement(PP,{toast:t}),c=R.createElement(FP,{...t.ariaProps},Dx(t.message,t));return R.createElement(HP,{className:t.className,style:{...a,...n,...t.style}},typeof s=="function"?s({icon:o,message:c}):R.createElement(R.Fragment,null,o,c))});gP(R.createElement);zf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;function IP(t,e){let n;try{n=t()}catch{return}return{getItem:a=>{var o;const c=f=>f===null?null:JSON.parse(f,void 0),u=(o=n.getItem(a))!=null?o:null;return u instanceof Promise?u.then(c):c(u)},setItem:(a,o)=>n.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>n.removeItem(a)}}const Rx=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return Rx(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Rx(s)(n)}}}},qP=(t,e)=>(n,s,a)=>{let o={storage:IP(()=>localStorage),partialize:S=>S,version:0,merge:(S,N)=>({...N,...S}),...e},c=!1;const u=new Set,f=new Set;let m=o.storage;if(!m)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...S)},s,a);const p=()=>{const S=o.partialize({...s()});return m.setItem(o.name,{state:S,version:o.version})},g=a.setState;a.setState=(S,N)=>{g(S,N),p()};const b=t((...S)=>{n(...S),p()},s,a);a.getInitialState=()=>b;let v;const j=()=>{var S,N;if(!m)return;c=!1,u.forEach(A=>{var k;return A((k=s())!=null?k:b)});const _=((N=o.onRehydrateStorage)==null?void 0:N.call(o,(S=s())!=null?S:b))||void 0;return Rx(m.getItem.bind(m))(o.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==o.version){if(o.migrate){const k=o.migrate(A.state,A.version);return k instanceof Promise?k.then(O=>[!0,O]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var k;const[O,M]=A;if(v=o.merge(M,(k=s())!=null?k:b),n(v,!0),O)return p()}).then(()=>{_==null||_(v,void 0),v=s(),c=!0,f.forEach(A=>A(v))}).catch(A=>{_==null||_(void 0,A)})};return a.persist={setOptions:S=>{o={...o,...S},S.storage&&(m=S.storage)},clearStorage:()=>{m==null||m.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>j(),hasHydrated:()=>c,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(f.add(S),()=>{f.delete(S)})},o.skipHydration||j(),v||b},YP=qP,$y=Pn(YP((t,e)=>({notifications:[],unreadCount:0,isLoading:!1,error:null,pagination:{currentPage:1,lastPage:1,perPage:10,total:0},fetchNotifications:async(n={})=>{try{t({isLoading:!0,error:null});const s=await Cc.fetchNotifications({page:n.page||e().pagination.currentPage,perPage:n.perPage||e().pagination.perPage,unread:n.unread||!1});return t({notifications:s.data||[],pagination:{currentPage:s.current_page||1,lastPage:s.last_page||1,perPage:s.per_page||10,total:s.total||0},unreadCount:(s.data||[]).filter(a=>!a.read_at).length,isLoading:!1}),s}catch(s){return console.error("Error fetching notifications:",s),t({error:s.message,isLoading:!1}),{data:[],meta:{}}}},markAsRead:async n=>{try{return t({isLoading:!0,error:null}),await Cc.markAsRead(n),t(s=>{const a=s.notifications.map(o=>o.id===n?{...o,read_at:new Date().toISOString()}:o);return{notifications:a,unreadCount:a.filter(o=>!o.read_at).length,isLoading:!1}}),!0}catch(s){return console.error("Error marking notification as read:",s),t({error:s.message,isLoading:!1}),we.error("Error al marcar notificación como leída"),!1}},markAllAsRead:async()=>{try{return t({isLoading:!0,error:null}),await Cc.markAllAsRead(),t(n=>({notifications:n.notifications.map(a=>a.read_at?a:{...a,read_at:new Date().toISOString()}),unreadCount:0,isLoading:!1})),!0}catch(n){return console.error("Error marking all notifications as read:",n),t({error:n.message,isLoading:!1}),we.error("Error al marcar todas las notificaciones como leídas"),!1}},deleteNotification:async n=>{try{return t({isLoading:!0,error:null}),await Cc.deleteNotification(n),t(s=>{const a=s.notifications.filter(o=>o.id!==n);return{notifications:a,unreadCount:a.filter(o=>!o.read_at).length,isLoading:!1}}),!0}catch(s){return console.error("Error deleting notification:",s),t({error:s.message,isLoading:!1}),we.error("Error al eliminar notificación"),!1}},deleteAllNotifications:async()=>{try{return t({isLoading:!0,error:null}),await Cc.deleteAllNotifications(),t({notifications:[],unreadCount:0,isLoading:!1}),!0}catch(n){return console.error("Error deleting all notifications:",n),t({error:n.message,isLoading:!1}),we.error("Error al eliminar todas las notificaciones"),!1}},addNotification:n=>{t(s=>{if(s.notifications.some(c=>c.id===n.id))return s;const o=[n,...s.notifications];return{notifications:o,unreadCount:o.filter(c=>!c.read_at).length}})},clearError:()=>t({error:null})}),{name:"stockflow-notifications",partialize:t=>({notifications:t.notifications,unreadCount:t.unreadCount})})),XP=()=>{const{notifications:t,unreadCount:e,fetchNotifications:n,markAsRead:s,markAllAsRead:a,deleteNotification:o,deleteAllNotifications:c,isLoading:u,error:f,clearError:m}=$y(),[p,g]=R.useState(!1),b=R.useRef(null),[v,j]=R.useState(!1);R.useEffect(()=>{f?(j(!0),console.error("Error en notificaciones:",f)):j(!1)},[f]),R.useEffect(()=>{n({perPage:10}).catch(D=>{console.error("Error al cargar notificaciones:",D),j(!0)});const V=setInterval(()=>{n({perPage:10}).catch(D=>{console.error("Error en actualización periódica:",D),j(!0)})},3e4);return()=>clearInterval(V)},[n]),R.useEffect(()=>{p&&n({perPage:10})},[p,n]),R.useEffect(()=>{function V(D){b.current&&!b.current.contains(D.target)&&g(!1)}return p?document.addEventListener("mousedown",V):document.removeEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[p]);const S=async V=>{try{await s(V),we.success("Notificación marcada como leída")}catch(D){console.error("Error al marcar como leída:",D),we.error("Error al marcar como leída")}},N=async V=>{try{await o(V),we.success("Notificación eliminada")}catch(D){console.error("Error al eliminar notificación:",D),we.error("Error al eliminar notificación")}},_=async()=>{try{await a(),we.success("Todas las notificaciones marcadas como leídas")}catch(V){console.error("Error al marcar todas como leídas:",V),we.error("Error al marcar notificaciones")}},A=async()=>{try{await c(),we.success("Todas las notificaciones eliminadas")}catch(V){console.error("Error al eliminar todas las notificaciones:",V),we.error("Error al eliminar notificaciones")}},k=V=>{try{return Wt(new Date(V),"dd/MM/yy HH:mm",{locale:Qn})}catch{return V}},O=()=>{j(!1),m(),console.log("Reintentando carga de notificaciones..."),n({perPage:10}).catch(()=>{j(!0)})},M=()=>{console.log("Forzando recarga de notificaciones..."),we.success("Actualizando notificaciones..."),n({perPage:10}).then(()=>{we.success("Notificaciones actualizadas")}).catch(V=>{console.error("Error en recarga forzada:",V),we.error("Error al actualizar notificaciones"),j(!0)})},P=V=>{var U;const D=((U=V.data)==null?void 0:U.type)||"";return D.includes("stock")?l.jsx(Bt,{className:"h-5 w-5 text-warning shrink-0 mt-0.5"}):D.includes("transfer")?l.jsx(Ko,{className:"h-5 w-5 text-info shrink-0 mt-0.5"}):D.includes("message")?l.jsx(Od,{className:"h-5 w-5 text-solid-color shrink-0 mt-0.5"}):l.jsx(ed,{className:"h-5 w-5 text-solid-color shrink-0 mt-0.5"})};return l.jsxs("div",{className:"relative",ref:b,children:[l.jsxs("button",{className:"p-2 rounded-full bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary transition-colors border border-border relative",onClick:()=>g(V=>!V),"aria-label":"Notificaciones",children:[l.jsx(ed,{className:"h-6 w-6"}),e>0&&l.jsx("span",{className:"absolute -top-1 -right-1 bg-error text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:e>9?"9+":e})]}),p&&l.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-bg-secondary border border-border rounded-xl shadow-lg z-50 overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-interactive-component/30",children:[l.jsx("span",{className:"font-semibold text-accessibility-text",children:"Notificaciones"}),l.jsxs("div",{className:"flex items-center gap-2",children:[u&&l.jsx(Yt,{className:"animate-spin h-5 w-5 text-solid-color"}),l.jsx("button",{onClick:M,className:"p-1 rounded-full hover:bg-interactive-component text-text-tertiary",title:"Actualizar notificaciones",disabled:u,children:l.jsx(Yh,{className:"h-4 w-4"})}),l.jsx("button",{onClick:A,className:"p-1 rounded-full hover:bg-error/20 text-error",title:"Eliminar todas las notificaciones",disabled:u||t.length===0,children:l.jsx(Ii,{className:"h-4 w-4"})})]})]}),l.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:v?l.jsxs("div",{className:"p-6 text-error text-center",children:[l.jsx(ln,{className:"h-10 w-10 mx-auto mb-2"}),l.jsx("p",{className:"mb-2",children:"Error al cargar notificaciones"}),l.jsxs("button",{onClick:O,className:"px-3 py-1 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center mx-auto gap-2",children:[l.jsx(Yh,{className:"h-4 w-4"}),l.jsx("span",{children:"Reintentar"})]})]}):t.length===0&&!u?l.jsxs("div",{className:"p-6 text-text-tertiary text-center",children:[l.jsx(ed,{className:"h-10 w-10 mx-auto mb-2 opacity-30"}),l.jsx("p",{children:"No hay notificaciones"}),l.jsxs("button",{onClick:M,className:"px-3 py-1 mt-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center mx-auto gap-2 text-sm",children:[l.jsx(Yh,{className:"h-3 w-3"}),l.jsx("span",{children:"Actualizar"})]})]}):l.jsx("div",{className:"divide-y divide-border",children:t.map(V=>{if(!V)return null;const D=!V.read_at,U=V.data||{};return l.jsxs("div",{className:`p-4 hover:bg-interactive-component/20 transition-colors ${D?"bg-interactive-component/10":""}`,children:[l.jsxs("div",{className:"flex justify-between items-start gap-3",children:[l.jsx("div",{className:`text-sm flex-1 ${D?"font-medium text-accessibility-text":"text-text-tertiary"}`,children:l.jsxs("div",{className:"flex items-start gap-2",children:[P(V),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium mb-0.5",children:U.title||"Notificación"}),l.jsx("p",{children:U.message||V.data})]})]})}),l.jsxs("div",{className:"flex gap-1 shrink-0",children:[D&&l.jsx("button",{onClick:()=>S(V.id),className:"p-1.5 rounded-full hover:bg-info/20 text-info",title:"Marcar como leída",children:l.jsx(Dd,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>N(V.id),className:"p-1.5 rounded-full hover:bg-error/20 text-error",title:"Eliminar notificación",children:l.jsx(ur,{className:"h-4 w-4"})})]})]}),l.jsxs("div",{className:"text-xs text-text-tertiary mt-2 flex justify-between",children:[l.jsx("span",{children:U.sender_name&&`De: ${U.sender_name}`}),l.jsx("span",{children:k(V.created_at)})]}),U.url&&l.jsx("div",{className:"mt-2",children:l.jsx("a",{href:U.url,className:"text-xs text-solid-color hover:underline",onClick:()=>{D&&S(V.id),g(!1)},children:"Ver detalles →"})})]},V.id)})})}),t.length>0&&!v&&l.jsxs("div",{className:"p-3 border-t border-border bg-interactive-component/10 text-center flex justify-between items-center",children:[l.jsx("button",{onClick:_,className:"text-xs text-solid-color hover:underline",disabled:u||e===0,children:u?"Procesando...":"Marcar todas como leídas"}),l.jsx(ar,{to:"/dashboard/notificaciones",className:"text-xs text-solid-color hover:underline",onClick:()=>g(!1),children:"Ver todas las notificaciones →"})]})]})]})},Cg="http://127.0.0.1:8000/api",kg=()=>!!localStorage.getItem("token"),Mg={sendToUser:async(t,e)=>{var n,s;try{if(!kg())throw new Error("No hay token de autenticación");return(await ge.post(`${Cg}/messages/user`,{recipient_id:t,message:e})).data}catch(a){throw console.error("Error al enviar mensaje a usuario:",a),new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al enviar mensaje")}},sendToSede:async(t,e)=>{var n,s;try{if(!kg())throw new Error("No hay token de autenticación");return(await ge.post(`${Cg}/messages/sede`,{sede_id:t,message:e})).data}catch(a){throw console.error("Error al enviar mensaje a sede:",a),new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al enviar mensaje")}},sendToAll:async t=>{var e,n;try{if(!kg())throw new Error("No hay token de autenticación");return(await ge.post(`${Cg}/messages/all`,{message:t})).data}catch(s){throw console.error("Error al enviar mensaje a todos:",s),new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al enviar mensaje")}}},WP=({isOpen:t,onClose:e,initialRecipientId:n=null,initialSedeId:s=null})=>{var V,D,U,Y;const[a,o]=R.useState(""),[c,u]=R.useState(n),[f,m]=R.useState(s),[p,g]=R.useState(!1),[b,v]=R.useState([]),[j,S]=R.useState([]),[N,_]=R.useState("user"),{user:A}=Ut();R.useEffect(()=>{var G,X;t?(k(),O(),n?_("user"):s?_("sede"):((X=(G=A==null?void 0:A.data)==null?void 0:G.rol)==null?void 0:X.nombre)==="Administrador"&&_("all")):(o(""),u(null),m(null))},[t,n,s,(D=(V=A==null?void 0:A.data)==null?void 0:V.rol)==null?void 0:D.nombre]);const k=async()=>{try{g(!0);const X=await(await fetch("http://127.0.0.1:8000/api/usuarios",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).json();X&&X.data&&v(X.data.filter(ne=>{var fe;return ne.id!==((fe=A==null?void 0:A.data)==null?void 0:fe.id)}))}catch(G){console.error("Error al cargar usuarios:",G),we.error("Error al cargar usuarios")}finally{g(!1)}},O=async()=>{try{g(!0);const X=await(await fetch("http://127.0.0.1:8000/api/sedes",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).json();X&&X.data&&S(X.data)}catch(G){console.error("Error al cargar sedes:",G),we.error("Error al cargar sedes")}finally{g(!1)}},M=async G=>{var X,ne;if(G.preventDefault(),!a.trim()){we.error("El mensaje no puede estar vacío");return}try{g(!0);let fe;if(N==="all"){if(((ne=(X=A==null?void 0:A.data)==null?void 0:X.rol)==null?void 0:ne.nombre)!=="Administrador"){we.error("Solo los administradores pueden enviar mensajes a todos");return}fe=await Mg.sendToAll(a)}else if(N==="sede"&&f)fe=await Mg.sendToSede(f,a);else if(N==="user"&&c)fe=await Mg.sendToUser(c,a);else{we.error("Debes seleccionar un destinatario");return}we.success(fe.message||"Mensaje enviado correctamente"),o(""),e()}catch(fe){console.error("Error al enviar mensaje:",fe),we.error(fe.message||"Error al enviar mensaje")}finally{g(!1)}},P=G=>{_(G),u(null),m(null)};return t?l.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e,children:l.jsxs(ye.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-bg-secondary rounded-xl shadow-lg w-full max-w-md overflow-hidden",onClick:G=>G.stopPropagation(),children:[l.jsx("div",{className:"relative bg-gradient-to-r from-solid-color to-solid-color-hover p-6 text-white",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Od,{className:"h-6 w-6"}),l.jsx("h2",{className:"text-xl font-semibold",children:"Enviar mensaje"})]}),l.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-white/20 transition-colors",children:l.jsx(ur,{className:"h-5 w-5"})})]})}),l.jsxs("form",{onSubmit:M,className:"p-6",children:[l.jsxs("div",{className:"flex border-b border-border mb-6",children:[l.jsxs("button",{type:"button",onClick:()=>P("user"),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm transition-colors ${N==="user"?"text-solid-color border-b-2 border-solid-color":"text-text-tertiary hover:text-accessibility-text"}`,children:[l.jsx(ws,{className:"h-4 w-4"}),"Usuario"]}),l.jsxs("button",{type:"button",onClick:()=>P("sede"),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm transition-colors ${N==="sede"?"text-solid-color border-b-2 border-solid-color":"text-text-tertiary hover:text-accessibility-text"}`,children:[l.jsx(Ps,{className:"h-4 w-4"}),"Sede"]}),((Y=(U=A==null?void 0:A.data)==null?void 0:U.rol)==null?void 0:Y.nombre)==="Administrador"&&l.jsxs("button",{type:"button",onClick:()=>P("all"),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm transition-colors ${N==="all"?"text-solid-color border-b-2 border-solid-color":"text-text-tertiary hover:text-accessibility-text"}`,children:[l.jsx(rl,{className:"h-4 w-4"}),"Todos"]})]}),l.jsxs("div",{className:"space-y-6",children:[N==="user"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-accessibility-text",children:"Usuario destinatario"}),l.jsxs("select",{value:c||"",onChange:G=>u(G.target.value?Number(G.target.value):null),disabled:p,className:"w-full p-3 border border-border rounded-lg bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color/20 focus:border-solid-color transition-all",children:[l.jsx("option",{value:"",children:"Seleccionar usuario"}),b.map(G=>l.jsxs("option",{value:G.id,children:[G.nombre," (",G.email,")"]},G.id))]})]}),N==="sede"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-accessibility-text",children:"Sede destinataria"}),l.jsxs("select",{value:f||"",onChange:G=>m(G.target.value?Number(G.target.value):null),disabled:p,className:"w-full p-3 border border-border rounded-lg bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color/20 focus:border-solid-color transition-all",children:[l.jsx("option",{value:"",children:"Seleccionar sede"}),j.map(G=>l.jsx("option",{value:G.id,children:G.nombre},G.id))]})]}),N==="all"&&l.jsx("div",{className:"p-4 bg-solid-color/10 rounded-lg border border-solid-color/20",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rl,{className:"h-5 w-5 text-solid-color"}),l.jsxs("p",{className:"text-sm text-accessibility-text",children:["El mensaje se enviará a ",l.jsx("span",{className:"font-semibold",children:"todos los usuarios"})," del sistema."]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium text-accessibility-text",children:"Mensaje"}),l.jsx("textarea",{value:a,onChange:G=>o(G.target.value),disabled:p,rows:4,className:"w-full p-3 border border-border rounded-lg bg-bg text-accessibility-text resize-none focus:ring-2 focus:ring-solid-color/20 focus:border-solid-color transition-all",placeholder:"Escribe tu mensaje aquí..."})]})]}),l.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[l.jsx("button",{type:"button",onClick:e,disabled:p,className:"px-4 py-2 border border-border rounded-lg text-accessibility-text hover:bg-interactive-component transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:p||!a.trim()||N==="user"&&!c||N==="sede"&&!f,className:"px-4 py-2 bg-solid-color text-white rounded-lg hover:bg-solid-color-hover transition-colors flex items-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:p?l.jsxs(l.Fragment,{children:[l.jsx(Yt,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{children:"Enviando..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(KO,{className:"h-4 w-4"}),l.jsx("span",{children:"Enviar"})]})})]})]})]})}):null},GP=({children:t})=>{var O,M;const[e,n]=R.useState(!1),[s,a]=R.useState(!1),[o,c]=R.useState(!1),[u,f]=R.useState(!1),[m,p]=R.useState(!1),g=Us(),b=Ya(),{user:v,loadUser:j,logout:S}=Ut(),N=g.pathname==="/dashboard/verificacion-pendiente";if(R.useEffect(()=>{j()},[j]),R.useEffect(()=>{f(!1)},[g]),N)return l.jsx(l.Fragment,{children:t});const A=(()=>{var Y,G;const P=[{category:"Principal",items:[{name:"Dashboard",path:"/dashboard",icon:EO}]}],V={Administrador:[{category:"Administración",items:[{name:"Usuarios",path:"/dashboard/usuarios",icon:rl},{name:"Gestiones",path:"/dashboard/gestiones",icon:JO},{name:"Auditoría",path:"/dashboard/auditoria",icon:U3},{name:"Configuración",path:"/dashboard/configuracion",icon:Ld}]},{category:"Gestión",items:[{name:"Inventario",path:"/dashboard/inventario",icon:Bt},{name:"Ventas",path:"/dashboard/ventas",icon:dr},{name:"Compras",path:"/dashboard/compras",icon:Cx},{name:"Sedes",path:"/dashboard/sedes",icon:Ps}]},{category:"Reportes",items:[{name:"Reportes",path:"/dashboard/reportes",icon:pd},{name:"Facturas",path:"/dashboard/facturas",icon:rr}]}],Vendedor:[{category:"Ventas",items:[{name:"Nueva Venta",path:"/dashboard/ventas",icon:Ir},{name:"Catálogo",path:"/dashboard/catalogo",icon:Bt},{name:"Historial",path:"/dashboard/historial-ventas",icon:rr}]},{category:"Compras",items:[{name:"Nueva Compra",path:"/dashboard/compras",icon:Cx}]},{category:"Reportes",items:[{name:"Reportes",path:"/dashboard/reportes",icon:pd},{name:"Facturas",path:"/dashboard/facturas",icon:rr}]}],Almacenista:[{category:"Gestión",items:[{name:"Inventario",path:"/dashboard/inventario",icon:Bt},{name:"Sedes",path:"/dashboard/sedes",icon:Ps},{name:"Historial",path:"/dashboard/historial",icon:rr}]}]},D=((G=(Y=v==null?void 0:v.data)==null?void 0:Y.rol)==null?void 0:G.nombre)||"Vendedor";console.log("Rol del usuario:",D);const U=V[D]||V.Vendedor;return Array.isArray(U)?[...P,...U]:(console.error(`Rol no válido: ${D}, usando opciones por defecto`),[...P,...V.Vendedor])})(),k=()=>{S(),b("/auth/login")};return l.jsxs("div",{className:"flex h-screen bg-bg font-satoshi",children:[l.jsx("button",{onClick:()=>f(!u),className:"lg:hidden fixed top-4 left-4 z-50 p-2 rounded-lg bg-bg-secondary border border-border text-accessibility-text hover:bg-interactive-component transition-colors",children:u?l.jsx(ur,{size:24}):l.jsx(OO,{size:24})}),l.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-40 transform ${u?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out ${e?"w-20":"w-64"} bg-bg-secondary border-r border-border flex flex-col`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[s&&l.jsx("button",{onClick:()=>n(!e),className:"absolute -right-3 top-6 z-10 w-6 h-6 rounded-full bg-solid-color shadow-md flex items-center justify-center text-white transition-transform hover:scale-110 hover:bg-solid-color-hover active:bg-solid-color-active","aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?l.jsx(sO,{size:16}):l.jsx(tO,{size:16})}),l.jsx("div",{className:"p-4 flex items-center justify-between border-b border-border h-16",children:e?l.jsx(ar,{to:"/dashboard",className:"hover:opacity-80 transition-opacity",children:l.jsx("img",{src:"/assets/logo.png",alt:"RobotStock Logo",className:"h-8 w-auto mx-auto"})}):l.jsxs(ar,{to:"/dashboard",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[l.jsx("img",{src:"/assets/logo.png",alt:"RobotStock Logo",className:"h-8 w-auto"}),l.jsx("h1",{className:"text-xl font-bold text-accessibility-text",children:"StockFlow"})]})}),l.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:A.map(P=>l.jsxs("div",{className:"mb-6 last:mb-0",children:[!e&&l.jsx("h2",{className:"px-4 text-xs font-semibold uppercase tracking-wider text-text-tertiary mb-2",children:P.category}),l.jsx("div",{className:"space-y-1",children:P.items.map(V=>{const D=V.icon,U=g.pathname===V.path;return l.jsxs(ar,{to:V.path,className:`flex items-center px-3 py-2.5 rounded-lg mx-2 transition-all ${U?"bg-solid-color text-white shadow-md hover:bg-solid-color-hover active:bg-solid-color-active":"text-accessibility-text hover:bg-interactive-component hover:text-accessibility-text"} ${e?"justify-center":""}`,children:[l.jsx(D,{className:`w-5 h-5 ${U?"text-white":"text-accessibility-text"}`}),!e&&l.jsx("span",{className:"ml-3 text-sm font-medium",children:V.name}),U&&!e&&l.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-white/80"})]},V.name)})})]},P.category))}),l.jsxs("div",{className:"border-t border-border p-4",children:[l.jsxs("div",{onClick:()=>c(!0),className:"flex items-center space-x-3 mb-4 cursor-pointer hover:bg-interactive-component p-2 rounded-lg transition-colors",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-solid-color to-solid-color-secondary flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-white font-semibold",children:((O=v==null?void 0:v.data.nombre)==null?void 0:O.charAt(0).toUpperCase())||"U"})}),!e&&l.jsxs("div",{className:"overflow-hidden",children:[l.jsx("p",{className:"text-sm font-medium text-accessibility-text truncate",children:(v==null?void 0:v.data.nombre)||"Usuario"}),l.jsx("p",{className:"text-xs text-text-tertiary truncate",children:(v==null?void 0:v.data.email)||"usuario@ejemplo.com"})]})]}),l.jsxs("button",{onClick:k,className:`w-full flex items-center px-3 py-2.5 rounded-lg text-accessibility-text hover:bg-interactive-component hover:text-solid-color transition-colors ${e?"justify-center":""}`,children:[l.jsx(Rf,{className:"w-5 h-5"}),!e&&l.jsx("span",{className:"ml-3 text-sm",children:"Cerrar sesión"})]})]})]}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>f(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsxs("header",{className:"h-16 border-b border-border flex items-center justify-between px-6 bg-bg-secondary",children:[l.jsx("h2",{className:"text-lg font-medium text-accessibility-text",children:((M=A.flatMap(P=>P.items).find(P=>g.pathname===P.path))==null?void 0:M.name)||"Dashboard"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>p(!0),className:"p-2 rounded-full bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary transition-colors border border-border",title:"Enviar mensaje",children:l.jsx(Od,{className:"h-6 w-6"})}),l.jsx("div",{className:"mr-12",children:l.jsx(XP,{})})]})]}),l.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-bg",children:l.jsx("div",{className:"w-full mx-auto",children:t})})]}),l.jsx(cP,{isOpen:o,onClose:()=>c(!1),user:v==null?void 0:v.data}),l.jsx(WP,{isOpen:m,onClose:()=>p(!1)})]})},N_=({title:t,subtitle:e,icon:n})=>l.jsxs("div",{className:"text-center mb-8",children:[l.jsx(ye.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},className:"w-16 h-16 bg-interactive-component rounded-full flex items-center justify-center mx-auto mb-4",children:n||l.jsx("div",{className:"h-8 w-8 text-solid-color",children:n})}),l.jsx("h2",{className:"text-3xl font-bold text-accessibility-text mb-2",children:t}),l.jsx("p",{className:"text-accessibility-text-secondary",children:e})]}),KP={email:Of,password:u_,username:ws},Wo=({type:t="text",name:e,label:n,value:s,onChange:a,error:o,placeholder:c,icon:u,delay:f=0})=>{const m=u?KP[u]:null;return l.jsxs(ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:f},className:"mb-4",children:[l.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-accessibility-text mb-2",children:n}),l.jsxs("div",{className:"relative",children:[m&&l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(m,{className:"h-5 w-5 text-border-secondary"})}),l.jsx("input",{type:t,id:e,name:e,value:s,onChange:a,className:`${m?"pl-10":"pl-3"} block w-full rounded-lg border ${o?"border-border-tertiary":"border-border"} bg-bg text-accessibility-text shadow-sm focus:border-solid-color focus:ring-solid-color transition-colors duration-200 py-2 px-3`,placeholder:c})]}),o&&l.jsxs("p",{className:"mt-1 text-sm text-border-tertiary flex items-center",children:[l.jsx(ln,{className:"h-4 w-4 mr-1"}),o]})]})},__=({error:t})=>t?l.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-interactive-component border border-border-tertiary text-accessibility-text px-4 py-3 rounded-lg mb-6 flex items-center",children:[l.jsx(ln,{className:"h-5 w-5 mr-2 text-border-tertiary"}),t]}):null,E_=({isLoading:t,children:e,...n})=>l.jsx(ye.button,{...n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-solid-color hover:bg-solid-color-secondary text-accessibility-text-secondary font-medium py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-solid-color disabled:opacity-50 transition-all duration-200 flex items-center justify-center",children:t?l.jsxs(l.Fragment,{children:[l.jsx(Yt,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),e]}):e}),T_=({text:t,linkText:e,linkTo:n})=>l.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-accessibility-text-secondary",children:[t," ",l.jsx(ar,{to:n,className:"font-medium text-solid-color hover:text-solid-color-secondary transition-colors duration-200",children:e})]})}),QP=()=>{const[t,e]=R.useState({email:"",password:""}),[n,s]=R.useState({}),[a,o]=R.useState(!1),c=Ya(),{login:u,isLoading:f,error:m}=Ut(),p=()=>{const v={};return t.email||(v.email="El correo electrónico es requerido"),t.password||(v.password="La contraseña es requerida"),t.email&&!/\S+@\S+\.\S+/.test(t.email)&&(v.email="El correo electrónico no es válido"),s(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!p())return;await u(t)&&c("/dashboard")},b=v=>{const{name:j,value:S}=v.target;e(N=>({...N,[j]:S})),n[j]&&s(N=>({...N,[j]:""}))};return l.jsx("div",{className:"h-fit flex items-center justify-center py-12 px-4 sm:px-6",children:l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md bg-bg rounded-xl shadow-lg p-8",children:[l.jsx(N_,{title:"Bienvenido de nuevo",subtitle:"Ingresa tus credenciales para continuar",icon:l.jsx(ws,{className:"h-8 w-8 text-solid-color"})}),l.jsx(__,{error:m}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsx(Wo,{type:"email",name:"email",label:"Correo electrónico",value:t.email,onChange:b,error:n.email,placeholder:"ejemplo@correo.com",icon:"email",delay:.1}),l.jsx(Wo,{type:"password",name:"password",label:"Contraseña",value:t.password,onChange:b,error:n.password,placeholder:"••••••••",icon:"password",delay:.2}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"remember-me",checked:a,onChange:v=>o(v.target.checked),className:"h-4 w-4 rounded border-border text-solid-color focus:ring-solid-color"}),l.jsx("label",{htmlFor:"remember-me",className:"text-sm text-accessibility-text",children:"Recordarme"})]}),l.jsx("div",{className:"text-sm",children:l.jsx(ar,{to:"/forgot-password",className:"font-medium text-solid-color hover:text-solid-color-secondary transition-colors duration-200",children:"¿Olvidaste tu contraseña?"})})]}),l.jsx("div",{className:"pt-2",children:l.jsx(E_,{isLoading:f,children:f?"Iniciando sesión...":"Iniciar sesión"})})]}),l.jsx(T_,{text:"¿No tienes una cuenta?",linkText:"Regístrate",linkTo:"/auth/register"})]})})},ZP=()=>{const[t,e]=R.useState({name:"",email:"",password:"",confirmPassword:""}),[n,s]=R.useState({}),[a,o]=R.useState(!1),c=Ya(),{register:u,isLoading:f,error:m}=Ut(),p=()=>{const v={};return t.name||(v.name="El nombre es requerido"),t.email||(v.email="El correo electrónico es requerido"),t.password||(v.password="La contraseña es requerida"),t.confirmPassword||(v.confirmPassword="La confirmación de contraseña es requerida"),t.email&&!/\S+@\S+\.\S+/.test(t.email)&&(v.email="El correo electrónico no es válido"),t.password&&t.password.length<6&&(v.password="La contraseña debe tener al menos 6 caracteres"),t.password!==t.confirmPassword&&(v.confirmPassword="Las contraseñas no coinciden"),a||(v.terms="Debes aceptar los términos y condiciones"),s(v),Object.keys(v).length===0},g=async v=>{if(v.preventDefault(),!!p())try{console.log("Enviando datos de registro:",{nombre:t.name,email:t.email,password:t.password}),await u({nombre:t.name,email:t.email,password:t.password})&&c("/dashboard/verificacion-pendiente")}catch(j){console.error("Error en el registro:",j),s(S=>{var N,_;return{...S,general:((_=(N=j.response)==null?void 0:N.data)==null?void 0:_.message)||"Error al registrar usuario"}})}},b=v=>{const{name:j,value:S}=v.target;e(N=>({...N,[j]:S})),n[j]&&s(N=>({...N,[j]:""}))};return l.jsx("div",{className:"h-fit flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md bg-bg rounded-xl shadow-lg p-8",children:[l.jsx(N_,{title:"Crear una cuenta",subtitle:l.jsxs(l.Fragment,{children:["Regístrate para gestionar el inventario",l.jsxs("div",{className:"mt-2 text-xs text-warning",children:[l.jsx(ln,{className:"h-3 w-3 inline mr-1"}),"Un administrador deberá aprobar tu cuenta y asignarte un rol"]})]}),icon:l.jsx(pL,{className:"h-8 w-8 text-solid-color"})}),l.jsx(__,{error:m}),l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[l.jsx(Wo,{type:"text",name:"name",label:"Nombre completo",value:t.name,onChange:b,error:n.name,placeholder:"Tu nombre completo",icon:"username",delay:.1}),l.jsx(Wo,{type:"email",name:"email",label:"Correo electrónico",value:t.email,onChange:b,error:n.email,placeholder:"ejemplo@correo.com",icon:"email",delay:.2}),l.jsx(Wo,{type:"password",name:"password",label:"Contraseña",value:t.password,onChange:b,error:n.password,placeholder:"••••••••",icon:"password",delay:.3}),l.jsx(Wo,{type:"password",name:"confirmPassword",label:"Confirmar contraseña",value:t.confirmPassword,onChange:b,error:n.confirmPassword,placeholder:"••••••••",icon:"password",delay:.4}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex items-center h-5",children:l.jsx("input",{type:"checkbox",id:"terms",checked:a,onChange:v=>o(v.target.checked),className:"h-4 w-4 rounded border-border text-solid-color focus:ring-solid-color"})}),l.jsxs("div",{className:"ml-3 text-sm",children:[l.jsxs("label",{htmlFor:"terms",className:"font-medium text-accessibility-text",children:["Acepto los"," ",l.jsx(ar,{to:"/terms",className:"text-solid-color hover:text-solid-color-secondary",children:"términos y condiciones"})]}),n.terms&&l.jsxs("p",{className:"mt-1 text-sm text-border-tertiary flex items-center",children:[l.jsx(ln,{className:"h-4 w-4 mr-1"}),n.terms]})]})]}),l.jsx("div",{className:"pt-2",children:l.jsx(E_,{isLoading:f,children:f?"Registrando...":"Registrarse"})})]}),l.jsx(T_,{text:"¿Ya tienes una cuenta?",linkText:"Inicia sesión",linkTo:"/auth/login"})]})})},ji="http://127.0.0.1:8000/api",JP={getDashboardData:async t=>{const e=localStorage.getItem("token"),n=await it.get(`${ji}/dashboard/stats`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),s=await it.get(`${ji}/dashboard/ventas-por-mes`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),a=await it.get(`${ji}/dashboard/productos-mas-vendidos`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),o=await it.get(`${ji}/dashboard/productos-stock-bajo`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),c=await it.get(`${ji}/dashboard/ultimas-ventas`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),u=await it.get(`${ji}/dashboard/ultimas-compras`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),f=await it.get(`${ji}/dashboard/ultimos-movimientos`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}});return{...n.data,ventasPorMes:s.data,productosMasVendidos:a.data,productosStockBajo:o.data,ultimasVentas:c.data,ultimasCompras:u.data,ultimosMovimientos:f.data}}},e8=Pn(t=>({stats:null,isLoading:!1,error:null,fetchDashboardData:async e=>{t({isLoading:!0,error:null});try{const n=await JP.getDashboardData(e);t({stats:n,isLoading:!1})}catch(n){throw t({error:n.message,isLoading:!1}),n}},clearError:()=>t({error:null})})),kc="http://127.0.0.1:8000/api",mh={fetchSedes:async()=>{var t,e;try{return(await ge.get(`${kc}/sedes`)).data.data}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar las sedes")}},createSede:async t=>{var e,n;try{return(await ge.post(`${kc}/sedes`,t)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear la sede")}},updateSede:async(t,e)=>{var n,s;try{return(await ge.put(`${kc}/sedes/${t}`,e)).data.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al actualizar la sede")}},deleteSede:async t=>{var e,n;try{return await ge.delete(`${kc}/sedes/${t}`),!0}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al eliminar la sede")}},getSedeById:async t=>{var e,n;try{return(await ge.get(`${kc}/sedes/${t}`)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al obtener la sede")}}},js=Pn(t=>({sedes:[],isLoading:!1,error:null,fetchSedes:async()=>{t({isLoading:!0,error:null});try{const e=await mh.fetchSedes();t({sedes:e,isLoading:!1})}catch(e){t({error:e.message,isLoading:!1,sedes:[]})}},createSede:async e=>{t({isLoading:!0,error:null});try{const n=await mh.createSede(e);return t(s=>({sedes:[...s.sedes,n],isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},updateSede:async(e,n)=>{t({isLoading:!0,error:null});try{const s=await mh.updateSede(e,n);return t(a=>({sedes:a.sedes.map(o=>o.id===e?s:o),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},deleteSede:async e=>{t({isLoading:!0,error:null});try{return await mh.deleteSede(e),t(n=>({sedes:n.sedes.filter(s=>s.id!==e),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},getSedeById:e=>js.getState().sedes.find(s=>s.id===e),getSedeName:e=>{const s=js.getState().sedes.find(a=>a.id===e);return s?s.nombre:"No asignada"}})),_2=(t,e="EUR")=>new Intl.NumberFormat("es-ES",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(t),en=({variant:t="inline",text:e="Cargando...",colSpan:n=8,className:s=""})=>t==="table"?l.jsx("tr",{children:l.jsx("td",{colSpan:n,className:"px-6 py-8 text-center",children:l.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[l.jsx(Yt,{className:"h-8 w-8 text-solid-color animate-spin"}),l.jsx("span",{className:"text-text-tertiary text-sm font-medium",children:e})]})})}):t==="fullscreen"?l.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-bg/80 backdrop-blur-sm z-50",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx(Yt,{className:"h-12 w-12 text-solid-color animate-spin"}),l.jsx("p",{className:"text-accessibility-text text-lg font-medium",children:e})]})}):t==="button"?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Yt,{className:"h-4 w-4 text-current animate-spin"}),l.jsx("span",{children:e})]}):t==="container"?l.jsx("div",{className:`flex items-center justify-center w-full h-64 ${s}`,children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsx(Yt,{className:"h-10 w-10 text-solid-color animate-spin"}),l.jsx("p",{className:"text-text-tertiary text-base",children:e})]})}):l.jsxs("div",{className:`flex items-center space-x-2 ${s}`,children:[l.jsx(Yt,{className:"h-5 w-5 text-solid-color animate-spin"}),l.jsx("span",{className:"text-text-tertiary",children:e})]}),t8=()=>{var g,b,v,j,S,N,_,A,k;const t=Ya(),{stats:e,isLoading:n,error:s,fetchDashboardData:a}=e8(),{user:o}=Ut(),{fetchSedes:c}=js(),u=(b=(g=o==null?void 0:o.data)==null?void 0:g.sede)==null?void 0:b.id,f=((j=(v=o==null?void 0:o.data)==null?void 0:v.sede)==null?void 0:j.nombre)||"No asignada";if(R.useEffect(()=>{(async()=>{try{u?(await c(),await a(u)):we.error("No se pudo determinar la sede actual")}catch{we.error("Error al cargar los datos del dashboard")}})()},[a,u,c]),s)return l.jsx("div",{className:"p-4",children:l.jsxs("div",{className:"bg-error/10 border border-error text-error px-4 py-3 rounded-lg",children:["Error al cargar los datos: ",s]})});const m=({title:O,value:M,icon:P,trend:V,isLoading:D})=>l.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-text-tertiary",children:O}),D?l.jsx("div",{className:"mt-2",children:l.jsx(en,{text:""})}):l.jsx("p",{className:"text-2xl font-semibold text-accessibility-text mt-2",children:typeof M=="number"?O.includes("Ventas")||O.includes("Compras")?_2(M):M.toLocaleString("es-ES"):M||"0"})]}),l.jsx("div",{className:"p-3 bg-interactive-component rounded-full",children:P&&l.jsx(P,{className:"h-6 w-6 text-solid-color"})})]}),V&&!D&&l.jsxs("div",{className:"mt-4 flex items-center",children:[V.tendencia==="up"?l.jsx(Lf,{className:"h-4 w-4 text-success"}):l.jsx(cL,{className:"h-4 w-4 text-error"}),l.jsxs("span",{className:`text-sm font-medium ml-1 ${V.tendencia==="up"?"text-success":"text-error"}`,children:[Math.abs(V.valor).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1}),"%"]}),l.jsx("span",{className:"text-sm text-text-tertiary ml-1",children:"vs mes anterior"})]})]}),p=({title:O,headers:M,data:P,isLoading:V})=>l.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border",children:[l.jsx("div",{className:"px-6 py-4 border-b border-border",children:l.jsx("h3",{className:"text-lg font-medium text-accessibility-text",children:O})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{className:"bg-interactive-component",children:l.jsx("tr",{children:M.map((D,U)=>l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:D},U))})}),l.jsx("tbody",{className:"bg-bg-secondary divide-y divide-border",children:V?l.jsx(en,{variant:"table",colSpan:M.length,text:`Cargando ${O.toLowerCase()}...`}):P.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:M.length,className:"px-6 py-4 text-center text-text-tertiary",children:"No hay datos disponibles"})}):P.map((D,U)=>l.jsx("tr",{className:"hover:bg-interactive-component/50",children:Object.values(D).map((Y,G)=>l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-accessibility-text",children:typeof Y=="number"?Number.isInteger(Y)?Y.toLocaleString("es-ES"):_2(Y):Y},G))},U))})]})})]});return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold text-accessibility-text",children:"Dashboard"}),l.jsxs("div",{className:"flex items-center mt-1 text-sm text-text-tertiary",children:[l.jsx(Ps,{className:"h-4 w-4 mr-1"}),l.jsxs("span",{children:["Mostrando datos para la sede: ",l.jsx("span",{className:"font-medium",children:f})]})]})]}),l.jsxs("button",{onClick:()=>t("/dashboard/configuracion"),className:"inline-flex items-center px-4 py-2 border border-border rounded-lg shadow-sm text-sm font-medium text-accessibility-text bg-bg-secondary hover:bg-interactive-component transition-colors duration-200",children:[l.jsx(Ld,{className:"h-5 w-5 mr-2 text-text-tertiary"}),"Configuración"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[l.jsx(m,{title:"Productos en Stock",value:e!=null&&e.totalProductos?Number(e.totalProductos):0,icon:Bt,trend:(S=e==null?void 0:e.cambios)==null?void 0:S.productos,isLoading:n}),l.jsx(m,{title:"Ventas Totales",value:e!=null&&e.totalVentas?Number(e.totalVentas):0,icon:dr,trend:(N=e==null?void 0:e.cambios)==null?void 0:N.ventas,isLoading:n}),l.jsx(m,{title:"Compras Totales",value:e!=null&&e.totalCompras?Number(e.totalCompras):0,icon:Ir,isLoading:n}),l.jsx(m,{title:"Usuarios Activos",value:e!=null&&e.totalUsuarios?Number(e.totalUsuarios):0,icon:rl,trend:(_=e==null?void 0:e.cambios)==null?void 0:_.usuarios,isLoading:n})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(p,{title:"Productos Más Vendidos",headers:["Producto","Unidades","Total"],data:((e==null?void 0:e.productosMasVendidos)||[]).map(O=>{const M=typeof O.total_vendido=="number"?O.total_vendido:typeof O.total_vendido=="string"&&!isNaN(O.total_vendido)?Number(O.total_vendido):0,P=typeof O.total_ingresos=="number"?O.total_ingresos:typeof O.total_ingresos=="string"&&!isNaN(O.total_ingresos)?Number(O.total_ingresos):0;return{nombre:O.nombre||"Sin nombre",total_vendido:M,total_ingresos:P}}),isLoading:n}),l.jsx(p,{title:"Productos con Stock Bajo",headers:["Producto","Stock Actual","Stock Mínimo"],data:(((A=e==null?void 0:e.productosStockBajo)==null?void 0:A.data)||[]).map(O=>{const M=typeof O.stock=="number"?O.stock:typeof O.stock=="string"&&!isNaN(O.stock)?Number(O.stock):0,P=typeof O.stock_minimo=="number"?O.stock_minimo:typeof O.stock_minimo=="string"&&!isNaN(O.stock_minimo)?Number(O.stock_minimo):0;return{nombre:O.nombre||"Sin nombre",stock:M,stock_minimo:P}}),isLoading:n})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(p,{title:"Últimas Ventas",headers:["ID","Total","Usuario","Fecha"],data:((e==null?void 0:e.ultimasVentas)||[]).map(O=>{const M=typeof O.total=="number"?O.total:typeof O.total=="string"&&!isNaN(O.total)?Number(O.total):0;return{id:O.id,total:M,usuario:O.usuario||"Sin usuario",fecha:(()=>{try{if(!O.fecha)return"N/A";const P=new Date(O.fecha);return isNaN(P.getTime())?"N/A":P.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha inválida"}})()}}),isLoading:n}),l.jsx(p,{title:"Últimos Movimientos",headers:["Tipo","Cantidad","Producto","Usuario"],data:(((k=e==null?void 0:e.ultimosMovimientos)==null?void 0:k.data)||[]).map(O=>{const M=typeof O.cantidad=="number"?O.cantidad:typeof O.cantidad=="string"&&!isNaN(O.cantidad)?Number(O.cantidad):0;return{tipo:O.tipo||"Sin tipo",cantidad:M,producto:O.producto||"Sin producto",usuario:O.usuario||"Sin usuario"}}),isLoading:n})]})]})]})},Si="http://127.0.0.1:8000/api",Ni={fetchVentas:async()=>{var t,e;try{const n=await ge.get(`${Si}/ventas`);return Array.isArray(n.data)?n.data:Array.isArray(n.data.data)?n.data.data:[]}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar ventas")}},fetchVentasByDateRange:async(t,e)=>{var n,s;try{return(await ge.get(`${Si}/ventas/por-fechas`,{params:{fecha_inicio:t,fecha_fin:e}})).data.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al cargar las ventas por fecha")}},fetchResumen:async(t,e)=>{var n,s;try{if(!(t instanceof Date)||!(e instanceof Date))throw new Error("Las fechas proporcionadas no son válidas");const a={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};console.log("Enviando parámetros:",a);const o=await ge.get(`${Si}/ventas/resumen`,{params:a,headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Respuesta del servidor:",o.data),!o.data||!o.data.data)throw new Error("Formato de respuesta inválido");return o.data.data}catch(a){throw console.error("Error en fetchResumen:",a),new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al obtener el resumen de ventas")}},createVenta:async t=>{var e,n;try{if(!t.productos||!Array.isArray(t.productos)||t.productos.length===0)throw new Error("Los datos de la venta no son válidos");t.productos.forEach((a,o)=>{if(!a.producto_id||!a.cantidad)throw new Error(`Datos inválidos en el producto ${o+1}`)});const s=await ge.post(`${Si}/ventas`,t);return s.data.data||s.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear la venta")}},getVentaById:async t=>{var e,n;try{const s=await ge.get(`${Si}/ventas/${t}`);return s.data.data||s.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al obtener la venta")}},updateVenta:async(t,e)=>{var n,s;try{const a=await ge.put(`${Si}/ventas/${t}`,e);return a.data.data||a.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al actualizar la venta")}},deleteVenta:async t=>{var e,n;try{return await ge.delete(`${Si}/ventas/${t}`),!0}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al eliminar la venta")}}},Bd=Pn((t,e)=>({ventas:[],ventaActual:null,loading:!1,error:null,resumen:null,productosMasVendidos:[],fetchVentas:async()=>{t({loading:!0,error:null});try{const n=await Ni.fetchVentas();t({ventas:n,loading:!1})}catch(n){t({error:n.message,loading:!1,ventas:[]})}},fetchVentasByDateRange:async(n,s)=>{t({loading:!0,error:null});try{const a=await Ni.fetchVentasByDateRange(n,s);t({ventas:a,loading:!1})}catch(a){t({error:a.message,loading:!1})}},fetchResumen:async(n,s)=>{t({loading:!0,error:null});try{const a=await Ni.fetchResumen(n,s);return console.log("Resumen de ventas:",a),t({resumen:a.resumen,productosMasVendidos:a.productos_mas_vendidos||[],loading:!1}),a}catch(a){throw console.error("Error al obtener resumen:",a),t({error:a.message,loading:!1,resumen:null,productosMasVendidos:[]}),a}},createVenta:async n=>{t({loading:!0,error:null});try{const s=await Ni.createVenta(n);return t(a=>({ventas:[...a.ventas,s],ventaActual:s,loading:!1})),s}catch(s){throw t({error:s.message,loading:!1}),s}},fetchVenta:async n=>{t({loading:!0,error:null});try{const s=await Ni.getVentaById(n);return t({ventaActual:s,loading:!1}),s}catch(s){throw t({error:s.message,loading:!1}),s}},updateVenta:async(n,s)=>{t({loading:!0,error:null});try{const a=await Ni.updateVenta(n,s);return t(o=>({ventas:o.ventas.map(c=>c.id===n?a:c),ventaActual:a,loading:!1})),a}catch(a){throw t({error:a.message,loading:!1}),a}},deleteVenta:async n=>{t({loading:!0,error:null});try{await Ni.deleteVenta(n),t(s=>{var a;return{ventas:s.ventas.filter(o=>o.id!==n),ventaActual:((a=s.ventaActual)==null?void 0:a.id)===n?null:s.ventaActual,loading:!1}})}catch(s){throw t({error:s.message,loading:!1}),s}},clearError:()=>t({error:null}),clearVentaActual:()=>t({ventaActual:null}),getVentasStats:()=>{const n=e().ventas||[];if(!Array.isArray(n))return console.error("ventas no es un array:",n),{totalVentas:0,totalVentasHoy:0,ventasPendientes:0,totalProductosVendidos:0};const s=n.reduce((f,m)=>f+(Number(m.total)||0),0),o=n.filter(f=>{try{const m=new Date(f.fecha),p=new Date;return m.toDateString()===p.toDateString()}catch(m){return console.error("Error al procesar fecha de venta:",m),!1}}).reduce((f,m)=>f+(Number(m.total)||0),0),c=n.filter(f=>f.estado==="pendiente").length,u=n.reduce((f,m)=>{var p;try{return f+(((p=m.detalles)==null?void 0:p.reduce((g,b)=>g+(Number(b.cantidad)||0),0))||0)}catch(g){return console.error("Error al procesar detalles de venta:",g),f}},0);return{totalVentas:s,totalVentasHoy:o,ventasPendientes:c,totalProductosVendidos:u}}}));function bt(t){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}const n8=()=>{const{loading:t,error:e,resumen:n,fetchVentas:s,fetchVentasByDateRange:a,fetchResumen:o,productosMasVendidos:c}=Bd(),[u,f]=R.useState(new Date(new Date().setDate(1))),[m,p]=R.useState(new Date),[g,b]=R.useState(!0),[v,j]=R.useState(!1),[S,N]=R.useState(null);R.useEffect(()=>{(async()=>{var O,M;b(!0);try{await Promise.all([s(),o(u,m)]),N(null)}catch(P){console.error("Error al cargar datos iniciales:",P),N(((M=(O=P.response)==null?void 0:O.data)==null?void 0:M.message)||"Error al cargar datos iniciales")}finally{b(!1)}})()},[]),R.useEffect(()=>{(async()=>{var O,M;if(!g){j(!0);try{await Promise.all([a(u,m),o(u,m)]),N(null)}catch(P){console.error("Error al actualizar datos:",P),N(((M=(O=P.response)==null?void 0:O.data)==null?void 0:M.message)||"Error al actualizar datos")}finally{j(!1)}}})()},[u,m]);const _=async(k,O)=>{try{if(!(k instanceof Date)||!(O instanceof Date))throw new Error("Las fechas proporcionadas no son válidas");f(k),p(O)}catch(M){console.error("Error al actualizar rango de fechas:",M),N(M.message)}},A=t||v;return g?l.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:l.jsxs(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center gap-4",children:[l.jsx(Yt,{className:"h-12 w-12 animate-spin text-solid-color"}),l.jsx("p",{className:"text-text-tertiary text-lg",children:"Cargando dashboard..."})]})}):e||S?l.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6 bg-error/10 border border-error text-error rounded-lg flex items-center gap-3",children:[l.jsx(ln,{className:"h-5 w-5"}),l.jsx("p",{children:e||S})]}):l.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:A?Array(4).fill(0).map((k,O)=>l.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:O*.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:l.jsx("div",{className:"flex items-center justify-center h-24",children:l.jsx(Yt,{className:"h-8 w-8 animate-spin text-solid-color"})})},O)):l.jsxs(l.Fragment,{children:[l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(dr,{className:"h-6 w-6 text-success"})}),l.jsx("span",{className:"text-sm font-medium text-success",children:(n==null?void 0:n.total_monto)>0?`+${(n.promedio_venta/n.total_monto*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Total Ventas"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:bt((n==null?void 0:n.total_monto)||0)})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Ir,{className:"h-6 w-6 text-warning"})}),l.jsx("span",{className:"text-sm font-medium text-warning",children:(n==null?void 0:n.total_ventas)>0?`+${(n.total_ventas/100*10).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Ventas Realizadas"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:(n==null?void 0:n.total_ventas)||0})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Lf,{className:"h-6 w-6 text-info"})}),l.jsx("span",{className:"text-sm font-medium text-info",children:(n==null?void 0:n.promedio_venta)>0?`+${(n.promedio_venta/1e3*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Promedio por Venta"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:bt((n==null?void 0:n.promedio_venta)||0)})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Bt,{className:"h-6 w-6 text-solid-color"})}),l.jsx("span",{className:"text-sm font-medium text-solid-color",children:(c==null?void 0:c.length)>0?`+${(c[0].total_vendido/100*15).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Productos Vendidos"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:(c==null?void 0:c.reduce((k,O)=>k+(O.total_vendido||0),0))||0})]})]})}),l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"flex items-center space-x-4 bg-bg p-4 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Fi,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("input",{type:"date",value:Wt(u,"yyyy-MM-dd"),onChange:k=>{const O=new Date(k.target.value);isNaN(O.getTime())||_(O,m)},className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"}),l.jsx("span",{className:"text-text-tertiary",children:"hasta"}),l.jsx("input",{type:"date",value:Wt(m,"yyyy-MM-dd"),onChange:k=>{const O=new Date(k.target.value);isNaN(O.getTime())||_(u,O)},className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]})}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-border",children:l.jsx("h2",{className:"text-lg font-semibold text-accessibility-text",children:"Productos más vendidos"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-interactive-component",children:[l.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad Vendida"}),l.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Total Vendido"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:A?l.jsx(en,{variant:"table",colSpan:3,text:"Cargando productos..."}):(c==null?void 0:c.length)===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"3",className:"px-6 py-8 text-center text-text-tertiary",children:"No hay productos vendidos en este período"})}):c==null?void 0:c.map((k,O)=>l.jsxs(ye.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:O*.05},className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:k.producto.nombre}),l.jsx("div",{className:"text-sm text-text-tertiary",children:k.producto.codigo})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-accessibility-text",children:k.total_vendido.toLocaleString("es-ES")}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-accessibility-text",children:bt(k.total_monto)})]},k.producto.id))})]})})]})]})},Dn="http://127.0.0.1:8000/api",is={fetchProducts:async()=>{var t,e;try{return(await ge.get(`${Dn}/productos`)).data.data}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar los productos")}},getProductById:async(t,e=null)=>{var n,s;try{const a=e?`${Dn}/productos/${t}?sede_id=${e}`:`${Dn}/productos/${t}`;return(await ge.get(a)).data.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al obtener el producto")}},createProduct:async t=>{var e,n;try{return(await ge.post(`${Dn}/productos`,t)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear el producto")}},updateProduct:async(t,e)=>{var n,s;try{return(await ge.put(`${Dn}/productos/${t}`,e)).data.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al actualizar el producto")}},deleteProduct:async t=>{var e,n;try{return await ge.delete(`${Dn}/productos/${t}`),!0}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al eliminar el producto")}},getProductsBySede:async t=>{var e,n;try{return(await ge.get(`${Dn}/productos/por-sede/${t}`)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al cargar los productos por sede")}},getLowStockProducts:async(t=null)=>{var e,n;try{const s=t?`${Dn}/productos/stock-bajo?sede_id=${t}`:`${Dn}/productos/stock-bajo`;return(await ge.get(s)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al cargar los productos con stock bajo")}},getMovementById:async t=>{var e,n;try{return(await ge.get(`${Dn}/movimientos/${t}`)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al obtener el movimiento")}},createMovement:async t=>{var e,n;try{return(await ge.post(`${Dn}/movimientos`,t)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear el movimiento")}},getMovementsByDateRange:async(t,e,n=null)=>{var s,a;try{const o={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};return n&&(o.sede_id=n),(await ge.get(`${Dn}/movimientos/por-fecha`,{params:o})).data.data}catch(o){throw new Error(((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al cargar los movimientos por fecha")}},getMovementsSummary:async(t,e,n=null)=>{var s,a;try{const o={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};n&&(o.sede_id=n);const c=await ge.get(`${Dn}/movimientos/resumen`,{params:o});return console.log("Respuesta del resumen de movimientos:",c),c.data.data||[]}catch(o){throw console.error("Error al obtener resumen de movimientos:",o),new Error(((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al obtener el resumen de movimientos")}},updateProductStock:async(t,e,n)=>{var s,a;try{return(await ge.patch(`${Dn}/productos/${t}/stock`,{sede_id:e,stock:n})).data.data}catch(o){throw new Error(((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al actualizar el stock del producto")}},getProductStockBySede:async(t,e)=>{var n,s;try{return(await ge.get(`${Dn}/productos/${t}/stock/${e}`)).data.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al obtener el stock del producto")}}},Wr=Pn((t,e)=>({products:[],movements:[],isLoading:!1,error:null,loadProducts:async(n=null)=>{t({isLoading:!0,error:null});try{const a=(n?await is.getProductsBySede(n):await is.fetchProducts()).map(o=>{var c,u,f,m,p,g,b,v,j;return{...o,sedes:o.sedes||[],stock:((f=(u=(c=o.sedes)==null?void 0:c.find(S=>S.id===Number(n)))==null?void 0:u.pivot)==null?void 0:f.stock)||0,precio_compra:((g=(p=(m=o.sedes)==null?void 0:m.find(S=>S.id===Number(n)))==null?void 0:p.pivot)==null?void 0:g.precio_compra)||0,precio_venta:((j=(v=(b=o.sedes)==null?void 0:b.find(S=>S.id===Number(n)))==null?void 0:v.pivot)==null?void 0:j.precio_venta)||0}});t({products:a,isLoading:!1})}catch(s){t({error:s.message,isLoading:!1})}},loadMovements:async(n=null)=>{t({isLoading:!0,error:null});try{const s=new Date,a=new Date;a.setDate(a.getDate()-30);const o=new Date(a.toISOString().split("T")[0]),c=new Date(s.toISOString().split("T")[0]),u=await is.getMovementsByDateRange(o,c,n);t({movements:u,isLoading:!1})}catch(s){t({error:s.message,isLoading:!1})}},getProductById:async(n,s=null)=>{t({isLoading:!0,error:null});try{const a=await is.getProductById(n,s);return t({isLoading:!1}),a}catch(a){return t({error:a.message,isLoading:!1}),null}},createProduct:async n=>{t({isLoading:!0,error:null});try{const s=await is.createProduct(n);return t(a=>({products:[...a.products,s],isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},updateProduct:async(n,s)=>{t({isLoading:!0,error:null});try{const a=await is.updateProduct(n,s);return t(o=>({products:o.products.map(c=>c.id===n?a:c),isLoading:!1})),!0}catch(a){return t({error:a.message,isLoading:!1}),!1}},deleteProduct:async n=>{t({isLoading:!0,error:null});try{return await is.deleteProduct(n),t(s=>({products:s.products.filter(a=>a.id!==n),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},getProductsBySede:async n=>{t({isLoading:!0,error:null});try{const a=(await is.getProductsBySede(n)).map(o=>{var c,u,f,m,p,g,b,v,j;return{...o,sedes:o.sedes||[],stock:((f=(u=(c=o.sedes)==null?void 0:c.find(S=>S.id===Number(n)))==null?void 0:u.pivot)==null?void 0:f.stock)||0,precio_compra:((g=(p=(m=o.sedes)==null?void 0:m.find(S=>S.id===Number(n)))==null?void 0:p.pivot)==null?void 0:g.precio_compra)||0,precio_venta:((j=(v=(b=o.sedes)==null?void 0:b.find(S=>S.id===Number(n)))==null?void 0:v.pivot)==null?void 0:j.precio_venta)||0}});t({products:a,isLoading:!1})}catch(s){t({error:s.message,isLoading:!1})}},getLowStockProducts:async(n=null)=>{t({isLoading:!0,error:null});try{const s=await is.getLowStockProducts(n);t({products:s,isLoading:!1})}catch(s){t({error:s.message,isLoading:!1})}},getMovementById:async n=>{t({isLoading:!0,error:null});try{const s=await is.getMovementById(n);return t({isLoading:!1}),s}catch(s){return t({error:s.message,isLoading:!1}),null}},createMovement:async n=>{t({isLoading:!0,error:null});try{const s=await is.createMovement(n);return t(a=>({movements:[...a.movements,s],isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},getMovementsByDateRange:async(n,s)=>{t({isLoading:!0,error:null});try{const a=await is.getMovementsByDateRange(n,s);t({movements:a,isLoading:!1})}catch(a){t({error:a.message,isLoading:!1})}},getMovementsSummary:async(n,s)=>{t({isLoading:!0,error:null});try{const a=await is.getMovementsSummary(n,s);return console.log("Resumen de movimientos obtenido:",a),t({isLoading:!1}),a}catch(a){return console.error("Error en getMovementsSummary:",a),t({error:a.message,isLoading:!1}),[]}},searchProducts:n=>{const{products:s}=e();if(!n)return s;const a=n.toLowerCase();return s.filter(o=>{var c,u,f,m;return((c=o.nombre)==null?void 0:c.toLowerCase().includes(a))||((u=o.descripcion)==null?void 0:u.toLowerCase().includes(a))||((m=(f=o.categoria)==null?void 0:f.nombre)==null?void 0:m.toLowerCase().includes(a))})},filterProductsByCategory:n=>{const{products:s}=e();return n?s.filter(a=>a.categoria_id===n):s},filterMovementsByType:n=>{const{movements:s}=e();return n?s.filter(a=>a.tipo===n):s},getProductStats:(n=null)=>{const{products:s}=e(),a=n?s.filter(o=>{var c;return(c=o.sedes)==null?void 0:c.some(u=>u.id===Number(n))}):s;return{total:a.length,lowStock:a.filter(o=>{var u,f,m;return(((m=(f=(u=o.sedes)==null?void 0:u.find(p=>p.id===Number(n)))==null?void 0:f.pivot)==null?void 0:m.stock)||0)<=o.stock_minimo}).length,outOfStock:a.filter(o=>{var u,f,m;return(((m=(f=(u=o.sedes)==null?void 0:u.find(p=>p.id===Number(n)))==null?void 0:f.pivot)==null?void 0:m.stock)||0)===0}).length,totalValue:a.reduce((o,c)=>{var m,p,g,b,v,j;const u=((g=(p=(m=c.sedes)==null?void 0:m.find(S=>S.id===Number(n)))==null?void 0:p.pivot)==null?void 0:g.stock)||0,f=((j=(v=(b=c.sedes)==null?void 0:b.find(S=>S.id===Number(n)))==null?void 0:v.pivot)==null?void 0:j.precio_venta)||0;return o+f*u},0)}},getProductStockInSede:(n,s)=>{var u;const{products:a}=e(),o=a.find(f=>f.id===n);if(!o)return 0;const c=(u=o.sedes)==null?void 0:u.find(f=>f.id===s);return c?c.pivot.stock:0}})),Aa="http://127.0.0.1:8000/api",E2={fetchMovimientos:async()=>{var t,e;try{return(await ge.get(`${Aa}/movimientos`)).data.data}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar los movimientos")}},getMovimientoById:async t=>{var e,n;try{return(await ge.get(`${Aa}/movimientos/${t}`)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al obtener el movimiento")}},createMovimiento:async t=>{var e,n;try{return(await ge.post(`${Aa}/movimientos`,t)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear el movimiento")}},deleteMovimiento:async t=>{var e,n;try{return await ge.delete(`${Aa}/movimientos/${t}`),!0}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al eliminar el movimiento")}},getMovimientosByDateRange:async(t,e,n=null)=>{var s,a;try{const o={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};n&&(o.sede_id=n);const c=await ge.get(`${Aa}/movimientos/por-fecha`,{params:o});return{movimientos:c.data.data||[],resumen:c.data.resumen||[]}}catch(o){throw new Error(((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al cargar los movimientos por fecha")}},getMovimientosByProducto:async t=>{var e,n;try{return(await ge.get(`${Aa}/movimientos/por-producto/${t}`)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al cargar los movimientos del producto")}},getMovimientosBySede:async t=>{var e,n;try{return(await ge.get(`${Aa}/movimientos/por-sede/${t}`)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al cargar los movimientos de la sede")}},getMovimientosResumen:async(t,e,n=null)=>{var s,a;try{const o={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};return n&&(o.sede_id=n),(await ge.get(`${Aa}/movimientos/resumen`,{params:o})).data.data}catch(o){throw new Error(((a=(s=o.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al obtener el resumen de movimientos")}}},C_=Pn(t=>({movimientos:[],isLoading:!1,error:null,resumen:null,loadMovimientos:async()=>{t({isLoading:!0,error:null});try{const e=new Date,n=new Date;n.setDate(n.getDate()-30),console.log("Cargando movimientos con fechas:",{fechaInicio:n,fechaFin:e});const s=await E2.getMovimientosByDateRange(n,e);if(console.log("Respuesta completa de movimientos:",s),!s)throw console.error("No hay datos en la respuesta:",s),new Error("No se recibieron datos de movimientos");t({movimientos:s.movimientos||[],resumen:s.resumen||[],isLoading:!1})}catch(e){console.error("Error al cargar movimientos:",e),t({error:e.message||"Error al cargar los movimientos",isLoading:!1,movimientos:[],resumen:[]})}},addMovimiento:async e=>{t({isLoading:!0,error:null});try{const n=await E2.createMovimiento(e);return t(s=>({movimientos:[n,...Array.isArray(s.movimientos)?s.movimientos:[]],isLoading:!1})),n}catch(n){throw t({error:n.message||"Error al crear el movimiento",isLoading:!1}),n}},clearError:()=>t({error:null})})),Mc="http://127.0.0.1:8000/api",ph={fetchTransferencias:async()=>(await ge.get(`${Mc}/transferencias`)).data.data,createTransferencia:async t=>(await ge.post(`${Mc}/transferencias`,t)).data.data,updateTransferencia:async(t,e)=>(await ge.put(`${Mc}/transferencias/${t}`,e)).data.data,deleteTransferencia:async t=>(await ge.delete(`${Mc}/transferencias/${t}`),!0),getTransferenciaById:async t=>(await ge.get(`${Mc}/transferencias/${t}`)).data.data},k_=Pn(t=>({transferencias:[],isLoading:!1,error:null,fetchTransferencias:async()=>{t({isLoading:!0,error:null});try{const e=await ph.fetchTransferencias();t({transferencias:e,isLoading:!1})}catch(e){t({error:e.message,isLoading:!1,transferencias:[]})}},createTransferencia:async e=>{t({isLoading:!0,error:null});try{const n=await ph.createTransferencia(e);return t(s=>({transferencias:[n,...s.transferencias],isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},updateTransferencia:async(e,n)=>{t({isLoading:!0,error:null});try{const s=await ph.updateTransferencia(e,n);return t(a=>({transferencias:a.transferencias.map(o=>o.id===e?s:o),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},deleteTransferencia:async e=>{t({isLoading:!0,error:null});try{return await ph.deleteTransferencia(e),t(n=>({transferencias:n.transferencias.filter(s=>s.id!==e),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}}})),s8=()=>{var P,V;const{products:t,loadProducts:e}=Wr(),{movimientos:n,loadMovimientos:s}=C_(),{transferencias:a,fetchTransferencias:o}=k_(),{sedes:c,fetchSedes:u}=js(),{user:f}=Ut(),[m,p]=R.useState(!0),[g,b]=R.useState(null),v=(V=(P=f==null?void 0:f.data)==null?void 0:P.sede)==null?void 0:V.id;R.useEffect(()=>{(async()=>{try{p(!0),await Promise.all([e(),s(),o(),u()])}catch(U){console.error("Error al cargar datos iniciales:",U),b("Error al cargar los datos iniciales")}finally{p(!1)}})()},[e,s,o,u]);const j=Array.isArray(n)?n:[],S=Array.isArray(a)?a:[],N=t.filter(D=>{var U;return(U=D.sedes)==null?void 0:U.some(Y=>Y.id===v)}),_=N.filter(D=>{var Y,G;return(((G=(Y=D.sedes)==null?void 0:Y.find(X=>X.id===v))==null?void 0:G.stock)||0)<5}),A=j.filter(D=>(D.sede_id===v||D.sede_origen_id===v||D.sede_destino_id===v)&&D.tipo!=="transferencia").sort((D,U)=>new Date(U.fecha)-new Date(D.fecha)).slice(0,5),k=S.filter(D=>D.sede_origen_id===v||D.sede_destino_id===v).sort((D,U)=>new Date(U.fecha)-new Date(D.fecha)).slice(0,5);console.log("Transferencias completas:",S),console.log("Transferencias filtradas:",k),console.log("Sede del usuario:",v),console.log("Estructura de una transferencia:",S[0]);const O={totalProductos:N.length,stockBajo:_.length,entradasHoy:j.filter(D=>(D.sede_id===v||D.sede_destino_id===v)&&D.tipo==="entrada"&&new Date(D.fecha).toDateString()===new Date().toDateString()).length,salidasHoy:j.filter(D=>(D.sede_id===v||D.sede_origen_id===v)&&D.tipo==="salida"&&new Date(D.fecha).toDateString()===new Date().toDateString()).length,transferenciasHoy:S.filter(D=>(D.sede_origen_id===v||D.sede_destino_id===v)&&new Date(D.fecha).toDateString()===new Date().toDateString()).length};if(m)return l.jsx("div",{className:"p-6",children:l.jsx(en,{variant:"container",text:"Cargando datos del dashboard..."})});if(g)return l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"bg-error/10 text-error p-4 rounded-lg",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error"}),l.jsx("p",{children:g})]})});const M=c.find(D=>D.id===v);return l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Dashboard Almacenista"}),M&&l.jsxs("p",{className:"text-text-tertiary mt-1",children:[l.jsx(Ps,{className:"inline-block h-4 w-4 mr-1"}),M.nombre]})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-bg-secondary p-6 rounded-lg shadow-md border border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-text-tertiary text-sm",children:"Total Productos"}),l.jsx("h3",{className:"text-2xl font-bold text-accessibility-text",children:O.totalProductos})]}),l.jsx("div",{className:"p-3 bg-interactive-component rounded-lg",children:l.jsx(Bt,{className:"h-6 w-6 text-solid-color"})})]})}),l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-bg-secondary p-6 rounded-lg shadow-md border border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-text-tertiary text-sm",children:"Stock Bajo"}),l.jsx("h3",{className:"text-2xl font-bold text-warning",children:O.stockBajo})]}),l.jsx("div",{className:"p-3 bg-warning/10 rounded-lg",children:l.jsx(m_,{className:"h-6 w-6 text-warning"})})]})}),l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-bg-secondary p-6 rounded-lg shadow-md border border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-text-tertiary text-sm",children:"Entradas Hoy"}),l.jsx("h3",{className:"text-2xl font-bold text-success",children:O.entradasHoy})]}),l.jsx("div",{className:"p-3 bg-success/10 rounded-lg",children:l.jsx(Nx,{className:"h-6 w-6 text-success"})})]})}),l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-bg-secondary p-6 rounded-lg shadow-md border border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-text-tertiary text-sm",children:"Salidas Hoy"}),l.jsx("h3",{className:"text-2xl font-bold text-error",children:O.salidasHoy})]}),l.jsx("div",{className:"p-3 bg-error/10 rounded-lg",children:l.jsx(_x,{className:"h-6 w-6 text-error"})})]})}),l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-bg-secondary p-6 rounded-lg shadow-md border border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-text-tertiary text-sm",children:"Transferencias Hoy"}),l.jsx("h3",{className:"text-2xl font-bold text-info",children:O.transferenciasHoy})]}),l.jsx("div",{className:"p-3 bg-info/10 rounded-lg",children:l.jsx(sl,{className:"h-6 w-6 text-info"})})]})})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-accessibility-text mb-4",children:"Productos con Stock Bajo"}),l.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-bg border-b border-border",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"SKU"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Stock Actual"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:_.map(D=>{var U,Y;return l.jsxs("tr",{className:"hover:bg-bg/50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:D.nombre})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-text-tertiary",children:D.sku||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm text-warning",children:[((Y=(U=D.sedes)==null?void 0:U.find(G=>G.id===v))==null?void 0:Y.stock)||0," unidades"]})})]},D.id)})})]})})})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-semibold text-accessibility-text mb-4",children:"Movimientos Recientes"}),l.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-bg border-b border-border",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:A.map(D=>{var U;return l.jsxs("tr",{className:"hover:bg-bg/50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-text-tertiary",children:new Date(D.fecha).toLocaleDateString()})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.tipo==="entrada"?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:[D.tipo==="entrada"?l.jsx(Nx,{className:"h-4 w-4 mr-1"}):l.jsx(_x,{className:"h-4 w-4 mr-1"}),D.tipo]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:((U=D.producto)==null?void 0:U.nombre)||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm text-text-tertiary",children:[D.cantidad," unidades"]})})]},D.id)})})]})})})]}),l.jsxs("div",{className:"mt-8",children:[l.jsx("h2",{className:"text-xl font-semibold text-accessibility-text mb-4",children:"Transferencias Recientes"}),l.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-bg border-b border-border",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Origen"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Destino"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:k.length>0?k.map(D=>{var U,Y,G;return l.jsxs("tr",{className:"hover:bg-bg/50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-text-tertiary",children:new Date(D.fecha).toLocaleDateString()})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.sede_destino_id===v?"bg-success/10 text-success":"bg-warning/10 text-warning"}`,children:[l.jsx(sl,{className:"h-4 w-4 mr-1"}),D.sede_destino_id===v?"Entrante":"Saliente"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:((U=D.producto)==null?void 0:U.nombre)||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm text-text-tertiary",children:[D.cantidad," unidades"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-text-tertiary",children:((Y=c.find(X=>X.id===D.sede_origen_id))==null?void 0:Y.nombre)||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-text-tertiary",children:((G=c.find(X=>X.id===D.sede_destino_id))==null?void 0:G.nombre)||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.estado==="recibido"?"bg-success/10 text-success":D.estado==="enviado"?"bg-warning/10 text-warning":"bg-info/10 text-info"}`,children:D.estado})})]},D.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-text-tertiary",children:"No hay transferencias recientes"})})})]})})})]})]})},gh="http://127.0.0.1:8000/api",xh={fetchCategories:async()=>{var t,e;try{return(await ge.get(`${gh}/categorias`)).data.data}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar las categorías")}},createCategory:async t=>{var e,n;try{return(await ge.post(`${gh}/categorias`,t)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear la categoría")}},updateCategory:async(t,e)=>{var n,s;try{return(await ge.put(`${gh}/categorias/${t}`,e)).data.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al actualizar la categoría")}},deleteCategory:async t=>{var e,n;try{return await ge.delete(`${gh}/categorias/${t}`),!0}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al eliminar la categoría")}}},Iy=Pn(t=>({categories:[],isLoading:!1,error:null,fetchCategories:async()=>{t({isLoading:!0,error:null});try{const e=await xh.fetchCategories();t({categories:e,isLoading:!1})}catch(e){t({error:e.message,isLoading:!1})}},createCategory:async e=>{t({isLoading:!0,error:null});try{const n=await xh.createCategory(e);return t(s=>({categories:[...s.categories,n],isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},updateCategory:async(e,n)=>{t({isLoading:!0,error:null});try{const s=await xh.updateCategory(e,n);return t(a=>({categories:a.categories.map(o=>o.id===e?s:o),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},deleteCategory:async e=>{t({isLoading:!0,error:null});try{return await xh.deleteCategory(e),t(n=>({categories:n.categories.filter(s=>s.id!==e),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}}})),yh="http://127.0.0.1:8000/api",bh={fetchBrands:async()=>{var t,e;try{return(await ge.get(`${yh}/marcas`)).data.data}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar las marcas")}},createBrand:async t=>{var e,n;try{return(await ge.post(`${yh}/marcas`,t)).data.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear la marca")}},updateBrand:async(t,e)=>{var n,s;try{return(await ge.put(`${yh}/marcas/${t}`,e)).data.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al actualizar la marca")}},deleteBrand:async t=>{var e,n;try{return await ge.delete(`${yh}/marcas/${t}`),!0}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al eliminar la marca")}}},qy=Pn(t=>({brands:[],isLoading:!1,error:null,fetchBrands:async()=>{t({isLoading:!0,error:null});try{const e=await bh.fetchBrands();t({brands:e,isLoading:!1})}catch(e){t({error:e.message,isLoading:!1})}},createBrand:async e=>{t({isLoading:!0,error:null});try{const n=await bh.createBrand(e);return t(s=>({brands:[...s.brands,n],isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},updateBrand:async(e,n)=>{t({isLoading:!0,error:null});try{const s=await bh.updateBrand(e,n);return t(a=>({brands:a.brands.map(o=>o.id===e?s:o),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},deleteBrand:async e=>{t({isLoading:!0,error:null});try{return await bh.deleteBrand(e),t(n=>({brands:n.brands.filter(s=>s.id!==e),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}}})),Xr=({isOpen:t,onClose:e,title:n,children:s,size:a="md",showCloseButton:o=!0,footer:c})=>{const u={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return l.jsx(dS,{children:t&&l.jsxs(R.Fragment,{children:[l.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 h-full w-full"}),l.jsxs(ye.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full ${u[a]} bg-bg rounded-xl shadow-lg border border-border z-50`,children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[l.jsx("h2",{className:"text-xl font-semibold text-accessibility-text",children:n}),o&&l.jsx("button",{onClick:e,className:"p-2 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:l.jsx(ur,{className:"h-5 w-5 text-text-tertiary"})})]}),l.jsx("div",{className:"p-6",children:s}),c&&l.jsx("div",{className:"flex items-center justify-end gap-4 p-6 border-t border-border",children:c})]})]})})},r8=({product:t,onClose:e})=>{var U,Y,G,X;const{createProduct:n,updateProduct:s,products:a}=Wr(),{sedes:o,fetchSedes:c}=js(),{categories:u,fetchCategories:f}=Iy(),{brands:m,fetchBrands:p}=qy(),{user:g}=Ut(),b=((U=g==null?void 0:g.data)==null?void 0:U.sede_id)||((G=(Y=g==null?void 0:g.data)==null?void 0:Y.sede)==null?void 0:G.id),[v,j]=R.useState({nombre:"",descripcion:"",sku:"",tipo_producto:"ROB",categoria_id:"",marca_id:"",stock:0,stock_minimo:0,precio_compra:0,precio_venta:0,sede_id:b||""}),[S,N]=R.useState({}),[_,A]=R.useState(!1),k=[{id:"ROB",nombre:"Robot"},{id:"REP",nombre:"Repuesto"},{id:"ACC",nombre:"Accesorio"},{id:"OTR",nombre:"Otro"}];R.useEffect(()=>{c(),f(),p()},[c,f,p]),R.useEffect(()=>{b&&j(ne=>({...ne,sede_id:b}))},[b]),R.useEffect(()=>{!t&&v.tipo_producto&&O(v.tipo_producto)},[v.tipo_producto,t,a]),R.useEffect(()=>{t&&j({nombre:t.nombre||"",descripcion:t.descripcion||"",sku:t.sku||"",tipo_producto:t.tipo_producto||"ROB",categoria_id:t.categoria_id||"",marca_id:t.marca_id||"",stock:t.stock||0,stock_minimo:t.stock_minimo||0,precio_compra:t.precio_compra||0,precio_venta:t.precio_venta||0,sede_id:b||t.sede_id||""})},[t,b]);const O=ne=>{const fe=a.filter(ee=>(ee.sku?ee.sku.split("-")[0]:"")===ne);let K=0;fe.forEach(ee=>{if(ee.sku){const H=ee.sku.split("-");if(H.length===2){const Z=parseInt(H[1],10);!isNaN(Z)&&Z>K&&(K=Z)}}});const B=K+1,F=String(B).padStart(3,"0"),q=`${ne}-${F}`;j(ee=>({...ee,sku:q}))},M=ne=>{const{name:fe,value:K}=ne.target;j(fe==="tipo_producto"?B=>({...B,[fe]:K}):B=>({...B,[fe]:fe.includes("precio")||fe.includes("stock")?Number(K):K})),S[fe]&&N(B=>({...B,[fe]:null}))},P=()=>{const ne={};return v.nombre||(ne.nombre="El nombre es requerido"),v.categoria_id||(ne.categoria_id="La categoría es requerida"),v.marca_id||(ne.marca_id="La marca es requerida"),v.sede_id||(ne.sede_id="La sede es requerida"),v.sku||(ne.sku="El SKU es requerido"),v.stock<0&&(ne.stock="El stock no puede ser negativo"),v.stock_minimo<0&&(ne.stock_minimo="El stock mínimo no puede ser negativo"),v.precio_compra<0&&(ne.precio_compra="El precio de compra no puede ser negativo"),v.precio_venta<0&&(ne.precio_venta="El precio de venta no puede ser negativo"),v.precio_venta<v.precio_compra&&(ne.precio_venta="El precio de venta debe ser mayor al precio de compra"),N(ne),Object.keys(ne).length===0},V=async ne=>{var fe,K;if(ne.preventDefault(),!!P()){A(!0);try{t?await s(t.id,v):await n(v),e()}catch(B){console.error("Error saving product:",B),N({submit:((K=(fe=B.response)==null?void 0:fe.data)==null?void 0:K.message)||"Error al guardar el producto"})}finally{A(!1)}}},D=b?((X=o.find(ne=>ne.id===parseInt(b)))==null?void 0:X.nombre)||"Tu sede actual":"Sede no determinada";return l.jsxs("form",{onSubmit:V,className:"space-y-4",children:[S.submit&&l.jsx("div",{className:"bg-error/10 text-error p-3 rounded-lg text-sm",children:S.submit}),l.jsx("div",{className:"bg-bg-secondary p-3 rounded-lg mb-4",children:l.jsxs("p",{className:"text-sm text-text-secondary",children:["Este producto se creará en: ",l.jsx("strong",{children:D})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Nombre"}),l.jsx("input",{type:"text",name:"nombre",value:v.nombre,onChange:M,className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.nombre?"border-error":"border-border"}`}),S.nombre&&l.jsx("p",{className:"mt-1 text-sm text-error",children:S.nombre})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Tipo de Producto"}),l.jsx("select",{name:"tipo_producto",value:v.tipo_producto,onChange:M,disabled:!!t,className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.tipo_producto?"border-error":"border-border"} ${t?"opacity-60 cursor-not-allowed":""}`,children:k.map(ne=>l.jsxs("option",{value:ne.id,children:[ne.nombre," (",ne.id,")"]},ne.id))}),t&&l.jsx("p",{className:"mt-1 text-xs text-text-tertiary",children:"El tipo de producto no se puede cambiar una vez creado."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"SKU"}),l.jsx("input",{type:"text",name:"sku",value:v.sku,readOnly:!0,className:`w-full px-3 py-2 bg-bg-secondary border rounded-lg focus:outline-none ${S.sku?"border-error":"border-border"} cursor-not-allowed`}),l.jsx("p",{className:"mt-1 text-xs text-text-tertiary",children:"El SKU se genera automáticamente basado en el tipo de producto."}),S.sku&&l.jsx("p",{className:"mt-1 text-sm text-error",children:S.sku})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Descripción"}),l.jsx("input",{type:"text",name:"descripcion",value:v.descripcion,onChange:M,className:"w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Categoría"}),l.jsxs("select",{name:"categoria_id",value:v.categoria_id,onChange:M,className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.categoria_id?"border-error":"border-border"}`,children:[l.jsx("option",{value:"",children:"Seleccionar categoría"}),u.map(ne=>l.jsx("option",{value:ne.id,children:ne.nombre},ne.id))]}),S.categoria_id&&l.jsx("p",{className:"mt-1 text-sm text-error",children:S.categoria_id})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Marca"}),l.jsxs("select",{name:"marca_id",value:v.marca_id,onChange:M,className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.marca_id?"border-error":"border-border"}`,children:[l.jsx("option",{value:"",children:"Seleccionar marca"}),m.map(ne=>l.jsx("option",{value:ne.id,children:ne.nombre},ne.id))]}),S.marca_id&&l.jsx("p",{className:"mt-1 text-sm text-error",children:S.marca_id})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Stock Actual"}),l.jsx("input",{type:"number",name:"stock",value:v.stock,onChange:M,min:"0",className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.stock?"border-error":"border-border"}`}),S.stock&&l.jsx("p",{className:"mt-1 text-sm text-error",children:S.stock})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Stock Mínimo"}),l.jsx("input",{type:"number",name:"stock_minimo",value:v.stock_minimo,onChange:M,min:"0",className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.stock_minimo?"border-error":"border-border"}`}),S.stock_minimo&&l.jsx("p",{className:"mt-1 text-sm text-error",children:S.stock_minimo})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Precio de Compra (€)"}),l.jsx("input",{type:"number",name:"precio_compra",value:v.precio_compra,onChange:M,min:"0",step:"0.01",className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.precio_compra?"border-error":"border-border"}`}),S.precio_compra&&l.jsx("p",{className:"mt-1 text-sm text-error",children:S.precio_compra})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Precio de Venta (€)"}),l.jsx("input",{type:"number",name:"precio_venta",value:v.precio_venta,onChange:M,min:"0",step:"0.01",className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.precio_venta?"border-error":"border-border"}`}),S.precio_venta&&l.jsx("p",{className:"mt-1 text-sm text-error",children:S.precio_venta})]}),l.jsx("input",{type:"hidden",name:"sede_id",value:v.sede_id})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:_,className:"px-4 py-2 text-sm font-medium text-white bg-solid-color hover:bg-solid-color-hover rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Guardando...":t?"Actualizar":"Crear"})]})]})},a8=()=>{var mn,Cn;const{products:t,isLoading:e,error:n,loadProducts:s,loadMovements:a,deleteProduct:o}=Wr(),{categories:c,fetchCategories:u}=Iy(),{brands:f,fetchBrands:m}=qy(),{user:p}=Ut(),g=(Cn=(mn=p==null?void 0:p.data)==null?void 0:mn.sede)==null?void 0:Cn.id,[b,v]=R.useState(""),[j,S]=R.useState(""),[N,_]=R.useState(""),[A,k]=R.useState(!1),[O,M]=R.useState(!1),[P,V]=R.useState(null),[D,U]=R.useState(!1),[Y,G]=R.useState(null),[X,ne]=R.useState(!1);R.useEffect(()=>{g&&(s(g),a(g)),u(),m()},[g,s,a,u,m]);const fe=t.filter(xe=>{var et,tn,At,bn;const Je=((et=xe.nombre)==null?void 0:et.toLowerCase().includes(b.toLowerCase()))||((tn=xe.descripcion)==null?void 0:tn.toLowerCase().includes(b.toLowerCase()))||((At=xe.sku)==null?void 0:At.toLowerCase().includes(b.toLowerCase())),xt=!j||Number(xe.categoria_id)===Number(j),Mt=(bn=xe.sedes)==null?void 0:bn.some(zn=>zn.id===Number(g)),Ke=!N||Number(xe.marca_id)===Number(N);return Je&&xt&&Mt&&Ke}),K=xe=>{var xt,Mt;const Je=(Mt=(xt=xe.sedes)==null?void 0:xt.find(Ke=>Ke.id===Number(g)))==null?void 0:Mt.pivot;return Je?Je.stock:0},B=(xe,Je="venta")=>{var Mt,Ke;const xt=(Ke=(Mt=xe.sedes)==null?void 0:Mt.find(et=>et.id===Number(g)))==null?void 0:Ke.pivot;return xt?xt[`precio_${Je}`]:0},F=xe=>{const Je=K(xe),xt=Number(xe.stock_minimo);return Je===0?"sin_stock":Je<=xt?"stock_bajo":"en_stock"},q=xe=>{if(!xe)return"N/A";const Je=new Date(xe);return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(Je)},ee=xe=>xe==null?"€0,00":new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(xe),H=[{title:"Productos Totales",value:t.length.toString(),icon:l.jsx(Bt,{className:"h-6 w-6 text-solid-color"}),change:"+12%",trend:"up"},{title:"En Stock",value:t.filter(xe=>F(xe)==="en_stock").length.toString(),icon:l.jsx($a,{className:"h-6 w-6 text-success"}),change:"+8%",trend:"up"},{title:"Stock Bajo",value:t.filter(xe=>F(xe)==="stock_bajo").length.toString(),icon:l.jsx(ln,{className:"h-6 w-6 text-warning"}),change:"-5%",trend:"down"},{title:"Sin Stock",value:t.filter(xe=>F(xe)==="sin_stock").length.toString(),icon:l.jsx($i,{className:"h-6 w-6 text-error"}),change:"+2%",trend:"up"}],Z=xe=>{switch(xe){case"en_stock":return l.jsx($a,{className:"h-4 w-4 text-success"});case"stock_bajo":return l.jsx(ln,{className:"h-4 w-4 text-warning"});case"sin_stock":return l.jsx($i,{className:"h-4 w-4 text-error"});default:return null}},ae=xe=>{switch(xe){case"en_stock":return"En Stock";case"stock_bajo":return"Stock Bajo";case"sin_stock":return"Sin Stock";default:return"Desconocido"}},le=xe=>{switch(xe){case"en_stock":return"bg-success/10 text-success";case"stock_bajo":return"bg-warning/10 text-warning";case"sin_stock":return"bg-error/10 text-error";default:return"bg-text-tertiary/10 text-text-tertiary"}},pe=()=>{V(null),M(!0)},je=xe=>{V(xe),M(!0)},me=xe=>{G(xe),U(!0)},ot=async()=>{Y&&(ne(!0),await o(Y.id)&&(U(!1),G(null),ne(!1)))},Ve=()=>{const xe=fe.map(Ke=>{var et,tn,At,bn;return{Nombre:Ke.nombre,Descripción:Ke.descripcion,Categoría:((et=Ke.categoria)==null?void 0:et.nombre)||"Sin categoría",Marca:((tn=Ke.marca)==null?void 0:tn.nombre)||"Sin marca",Sede:((bn=(At=Ke.sedes)==null?void 0:At.find(zn=>zn.id===Number(g)))==null?void 0:bn.nombre)||"Sin sede",Stock:Ke.stock,"Stock Mínimo":Ke.stock_minimo,"Precio de Compra":Ke.precio_compra,"Precio de Venta":Ke.precio_venta,Estado:ae(F(Ke))}}),Je=[Object.keys(xe[0]).join(","),...xe.map(Ke=>Object.values(Ke).join(","))].join(`
`),xt=new Blob([Je],{type:"text/csv;charset=utf-8;"}),Mt=document.createElement("a");Mt.href=URL.createObjectURL(xt),Mt.download=`inventario_${new Date().toISOString().split("T")[0]}.csv`,Mt.click()},lt=()=>{console.log("Filtros aplicados:",{searchTerm:b,selectedCategory:j,sedeId:g,selectedBrand:N})};return l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Bt,{className:"h-8 w-8 text-solid-color"}),l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Inventario"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:pe,className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Ia,{className:"h-5 w-5"}),l.jsx("span",{children:"Nuevo Producto"})]}),l.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(pd,{className:"h-5 w-5"}),l.jsx("span",{children:"Reportes"})]})]})]}),n&&l.jsx("div",{className:"bg-error/10 text-error p-4 rounded-lg",children:n}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:H.map((xe,Je)=>l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Je*.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:xe.icon}),l.jsx("span",{className:`text-sm font-medium ${xe.trend==="up"?"text-success":"text-error"}`,children:xe.change})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:xe.title}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:xe.value})]},Je))}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(hr,{className:"h-5 w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Buscar productos...",value:b,onChange:xe=>v(xe.target.value),className:"w-full pl-10 pr-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),l.jsxs("select",{value:j,onChange:xe=>S(xe.target.value),className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Todas las categorías"}),c.map(xe=>l.jsx("option",{value:xe.id,children:xe.nombre},xe.id))]}),l.jsxs("select",{value:N,onChange:xe=>_(xe.target.value),className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Todas las marcas"}),f.map(xe=>l.jsx("option",{value:xe.id,children:xe.nombre},xe.id))]}),l.jsxs("button",{onClick:lt,className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Rd,{className:"h-5 w-5"}),l.jsx("span",{children:"Filtrar"})]}),l.jsxs("button",{onClick:Ve,className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Vi,{className:"h-5 w-5"}),l.jsx("span",{children:"Exportar"})]})]}),l.jsx("div",{className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-interactive-component",children:[l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"SKU"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Categoría"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Precio"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Última Actualización"}),l.jsx("th",{className:"px-8 py-4 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:e?l.jsx(en,{variant:"table",colSpan:8,text:"Cargando productos..."}):fe.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"px-8 py-4 text-center text-text-tertiary",children:"No se encontraron productos"})}):fe.map(xe=>{var et,tn;const Je=F(xe),xt=K(xe),Mt=B(xe,"venta"),Ke=B(xe,"compra");return l.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(W3,{className:"h-5 w-5 text-solid-color"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-base font-medium text-accessibility-text",children:xe.nombre}),l.jsx("div",{className:"text-sm text-text-tertiary",children:xe.descripcion})]})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsx("span",{className:"text-base text-text-tertiary",children:xe.sku||"N/A"})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Hy,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("span",{className:"text-base text-text-tertiary",children:((et=xe.categoria)==null?void 0:et.nombre)||xe.categoria||"Sin categoría"})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Bt,{className:"h-5 w-5 text-text-tertiary"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-base text-text-tertiary",children:xt.toLocaleString()}),l.jsxs("span",{className:"text-sm text-text-tertiary",children:["Mín: ",((tn=xe.stock_minimo)==null?void 0:tn.toLocaleString())||"0"]})]})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(dr,{className:"h-5 w-5 text-text-tertiary"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-base text-text-tertiary",children:ee(Mt)}),Ke&&l.jsxs("span",{className:"text-sm text-text-tertiary",children:["Compra: ",ee(Ke)]})]})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[Z(Je),l.jsx("span",{className:`text-base font-medium ${le(Je)} px-3 py-1.5 rounded-full`,children:ae(Je)})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"text-sm text-text-tertiary",children:["Actualizado: ",q(xe.updated_at)]}),l.jsxs("span",{className:"text-sm text-text-tertiary",children:["Creado: ",q(xe.created_at)]})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[l.jsx("button",{onClick:()=>je(xe),className:"p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Editar producto",children:l.jsx(Uy,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>me(xe),className:"p-2 text-error hover:text-error-hover rounded-lg transition-colors duration-200",title:"Eliminar producto",children:l.jsx(Ii,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>k(!A),className:"p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Ver movimientos",children:l.jsx(Ir,{className:"h-5 w-5"})})]})})]},xe.id)})})]})})}),l.jsx(Xr,{isOpen:O,onClose:()=>M(!1),title:P?"Editar Producto":"Nuevo Producto",size:"lg",children:l.jsx(r8,{product:P,onClose:()=>M(!1)})}),l.jsx(Xr,{isOpen:D,onClose:()=>U(!1),title:"Confirmar Eliminación",size:"sm",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-text-secondary",children:["¿Estás seguro de que deseas eliminar el producto ",Y==null?void 0:Y.nombre,"? Esta acción no se puede deshacer."]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:ot,className:"px-4 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-lg transition-colors",children:X?l.jsx(en,{variant:"button",text:"Eliminando..."}):"Eliminar"})]})]})})]})},i8=({onClose:t})=>{var M,P;const{createVenta:e}=Bd(),{products:n,loadProducts:s,isLoading:a,error:o}=Wr(),{user:c}=Ut(),u=(P=(M=c==null?void 0:c.data)==null?void 0:M.sede)==null?void 0:P.id,[f,m]=R.useState([]),[p,g]=R.useState(!1),[b,v]=R.useState(null);R.useEffect(()=>{(async()=>{try{console.log("Iniciando carga de productos..."),await s(),console.log("Productos cargados:",n)}catch(D){console.error("Error al cargar productos:",D),v("Error al cargar los productos. Por favor, intente nuevamente.")}})()},[]);const j=()=>{m([...f,{producto_id:"",cantidad:1,precio_unitario:0}])},S=V=>{m(f.filter((D,U)=>U!==V))},N=V=>{var Y;const D=n.find(G=>G.id===V);if(!D||!u)return 0;const U=(Y=D.sedes)==null?void 0:Y.find(G=>G.id===Number(u));return U?U.pivot.precio_venta:0},_=(V,D,U)=>{const Y=[...f];D==="producto_id"?Y[V]={...Y[V],producto_id:parseInt(U),precio_unitario:N(parseInt(U))}:Y[V]={...Y[V],[D]:D==="cantidad"?parseInt(U)||0:U},m(Y)},A=V=>{var Y;const D=n.find(G=>G.id===V);if(!D||!u)return 0;const U=(Y=D.sedes)==null?void 0:Y.find(G=>G.id===Number(u));return console.log(U),U?U.pivot.stock:0},k=()=>f.reduce((V,D)=>V+D.cantidad*D.precio_unitario,0),O=async()=>{var V,D,U,Y;try{if(g(!0),v(null),f.length===0)throw new Error("Debe seleccionar al menos un producto");for(const ne of f){if(!ne.producto_id)throw new Error("Todos los productos deben estar seleccionados");if(!ne.cantidad||ne.cantidad<=0)throw new Error("La cantidad debe ser mayor a 0");const fe=A(ne.producto_id);if(console.log(fe),fe<ne.cantidad){const K=n.find(B=>B.id===ne.producto_id);throw new Error(`Stock insuficiente para ${(K==null?void 0:K.nombre)||"el producto"}. Stock disponible: ${fe}`)}}const G={productos:f.map(ne=>({producto_id:parseInt(ne.producto_id),cantidad:parseInt(ne.cantidad)})),sede_id:u,fecha:new Date().toLocaleString("sv",{timeZone:"America/Mexico_City"}).replace(" ","T")};console.log("Enviando datos de venta:",G);const X=await e(G);console.log("Respuesta del servidor:",X),X&&(console.log("Venta creada exitosamente"),t(),m([]))}catch(G){console.error("Error al crear venta:",G);const X=((D=(V=G.response)==null?void 0:V.data)==null?void 0:D.message)||((Y=(U=G.response)==null?void 0:U.data)==null?void 0:Y.error)||G.message||"Error al registrar la venta";v(X)}finally{g(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-bg rounded-lg w-full max-w-3xl max-h-[90vh] flex flex-col border border-border",children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border",children:[l.jsx("h2",{className:"text-xl font-semibold text-accessibility-text",children:"Nueva Venta"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-interactive-component rounded-full transition-colors",children:l.jsx(ur,{className:"h-5 w-5 text-text-tertiary"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[o&&l.jsx("div",{className:"bg-error/10 border border-error text-error px-4 py-3 rounded mb-4",children:o}),b&&l.jsx("div",{className:"bg-error/10 border border-error text-error px-4 py-3 rounded mb-4",children:b}),a?l.jsx("div",{className:"flex justify-center items-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-solid-color border-t-transparent"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"space-y-3",children:f.map((V,D)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-bg-secondary rounded-lg border border-border",children:[l.jsxs("select",{className:"flex-1 px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",value:V.producto_id,onChange:U=>_(D,"producto_id",U.target.value),children:[l.jsx("option",{value:"",children:"Seleccionar producto"}),Array.isArray(n)&&n.map(U=>l.jsxs("option",{value:U.id,disabled:A(U.id)<=0,children:[U.nombre," - Stock: ",A(U.id)]},U.id))]}),l.jsxs("div",{className:"flex items-center gap-2 bg-bg rounded-lg border border-border",children:[l.jsx("button",{type:"button",className:"p-2 hover:bg-interactive-component disabled:opacity-50 disabled:cursor-not-allowed rounded-l-lg",onClick:()=>_(D,"cantidad",V.cantidad-1),disabled:V.cantidad<=1,children:l.jsx(h_,{className:"h-4 w-4 text-text-tertiary"})}),l.jsx("input",{type:"number",min:"1",value:V.cantidad,onChange:U=>_(D,"cantidad",U.target.value),className:"w-16 px-2 py-1 text-center border-x border-border focus:outline-none bg-bg"}),l.jsx("button",{type:"button",className:"p-2 hover:bg-interactive-component disabled:opacity-50 disabled:cursor-not-allowed rounded-r-lg",onClick:()=>_(D,"cantidad",V.cantidad+1),disabled:V.cantidad>=A(V.producto_id),children:l.jsx(Ia,{className:"h-4 w-4 text-text-tertiary"})})]}),l.jsx("div",{className:"w-32 text-right font-medium text-accessibility-text",children:bt(V.cantidad*V.precio_unitario)}),l.jsx("button",{type:"button",className:"p-2 text-text-tertiary hover:text-error hover:bg-error/10 rounded-lg transition-colors",onClick:()=>S(D),children:l.jsx(ur,{className:"h-4 w-4"})})]},D))}),l.jsxs("button",{type:"button",className:"w-full p-3 border-2 border-dashed border-border rounded-lg flex items-center justify-center gap-2 text-text-tertiary hover:border-solid-color hover:text-solid-color hover:bg-interactive-component transition-colors",onClick:j,children:[l.jsx(Ia,{className:"h-5 w-5"}),"Agregar Producto"]})]})]}),l.jsxs("div",{className:"border-t border-border p-4 bg-bg-secondary",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-lg font-medium text-accessibility-text",children:"Total:"}),l.jsx("span",{className:"text-2xl font-bold text-solid-color",children:bt(k())})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{type:"button",className:"px-4 py-2 border border-border rounded-lg bg-bg hover:bg-interactive-component text-accessibility-text disabled:opacity-50 disabled:cursor-not-allowed transition-colors",onClick:t,disabled:p,children:"Cancelar"}),l.jsx("button",{type:"button",className:"px-4 py-2 border border-transparent rounded-lg bg-solid-color hover:bg-solid-color-hover text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",onClick:O,disabled:p||f.length===0,children:p?"Registrando...":"Registrar Venta"})]})]})]})})},o8=({venta:t,isOpen:e,onClose:n})=>{var m;const[s,a]=R.useState(!1),[o,c]=R.useState(null);if(R.useEffect(()=>{if(e&&t){a(!0),c(null);const p=setTimeout(()=>{a(!1)},300);return()=>clearTimeout(p)}},[e,t]),!t||!e)return null;const u=p=>{try{if(!p)return"Fecha no disponible";const g=new Date(p);return isNaN(g.getTime())?"Fecha inválida":Wt(g,"dd/MM/yyyy HH:mm",{locale:Qn})}catch(g){return console.error("Error formatting date:",g),"Error al formatear fecha"}},f=Array.isArray(t.detalles)?t.detalles.map(p=>({...p,cantidad:Number(p.cantidad)||0,precio_unitario:Number(p.precio_unitario)||0,producto:p.producto||{nombre:"Producto no disponible"}})):[];return l.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:l.jsxs(ye.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-bg rounded-lg p-6 w-full max-w-[600px] max-h-[90vh] overflow-y-auto border border-border",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold text-accessibility-text",children:["Detalles de la Venta #",t.id]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-interactive-component rounded-lg transition-colors",children:l.jsx(ur,{className:"h-5 w-5 text-text-tertiary"})})]}),s?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[l.jsx(Yt,{className:"h-8 w-8 animate-spin text-solid-color mb-2"}),l.jsx("p",{className:"text-text-tertiary",children:"Cargando detalles..."})]}):o?l.jsx("div",{className:"bg-error/10 border border-error text-error p-4 rounded",children:o}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-text-tertiary",children:"Fecha"}),l.jsx("p",{className:"font-medium text-accessibility-text",children:u(t.fecha)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-text-tertiary",children:"Vendedor"}),l.jsx("p",{className:"font-medium text-accessibility-text",children:((m=t.usuario)==null?void 0:m.nombre)||"No especificado"})]})]}),l.jsx("div",{className:"border border-border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{className:"bg-interactive-component",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-text-tertiary",children:"Producto"}),l.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-text-tertiary",children:"Cantidad"}),l.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-text-tertiary",children:"Precio Unit."}),l.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-text-tertiary",children:"Subtotal"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:f.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"px-4 py-4 text-center text-text-tertiary",children:"No hay productos en esta venta"})}):f.map((p,g)=>{var b;return l.jsxs(ye.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:g*.05},className:"hover:bg-bg-secondary",children:[l.jsx("td",{className:"px-4 py-2 text-accessibility-text",children:((b=p.producto)==null?void 0:b.nombre)||"Producto no disponible"}),l.jsx("td",{className:"px-4 py-2 text-right text-accessibility-text",children:p.cantidad}),l.jsx("td",{className:"px-4 py-2 text-right text-accessibility-text",children:bt(p.precio_unitario)}),l.jsx("td",{className:"px-4 py-2 text-right text-accessibility-text font-medium",children:bt(p.cantidad*p.precio_unitario)})]},g)})})]})}),l.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border",children:[l.jsx("span",{className:"font-medium text-accessibility-text",children:"Total:"}),l.jsx("span",{className:"text-xl font-bold text-solid-color",children:bt(t.total)})]})]})]})})},l8=()=>{const{ventas:t,loading:e,error:n,resumen:s,productosMasVendidos:a,fetchVentas:o,fetchVentasByDateRange:c,fetchResumen:u,fetchVenta:f}=Bd(),[m,p]=R.useState(""),[g,b]=R.useState(new Date(new Date().setDate(1))),[v,j]=R.useState(new Date),[S,N]=R.useState(!1),[_,A]=R.useState(null),[k,O]=R.useState(!1),[M,P]=R.useState(null),[V,D]=R.useState(!0),[U,Y]=R.useState(!1);R.useEffect(()=>{(async()=>{D(!0);try{await Promise.all([o(),u(g,v)]),P(null)}catch(B){console.error("Error al cargar datos iniciales:",B),P(B.message)}finally{D(!1)}})()},[]),R.useEffect(()=>{(async()=>{if(!V){Y(!0);try{await Promise.all([c(g,v),u(g,v)]),P(null)}catch(B){console.error("Error al actualizar datos:",B),P(B.message)}finally{Y(!1)}}})()},[g,v]);const G=async(K,B)=>{try{if(!(K instanceof Date)||!(B instanceof Date))throw new Error("Las fechas proporcionadas no son válidas");b(K),j(B)}catch(F){console.error("Error al actualizar rango de fechas:",F),P(F.message)}},X=e||U,ne=t.filter(K=>{var F,q,ee;const B=m.toLowerCase();return K.id.toString().includes(B)||((q=(F=K.usuario)==null?void 0:F.nombre)==null?void 0:q.toLowerCase().includes(B))||((ee=K.detalles)==null?void 0:ee.some(H=>{var Z,ae;return(ae=(Z=H.producto)==null?void 0:Z.nombre)==null?void 0:ae.toLowerCase().includes(B)}))}),fe=async K=>{try{if(K.detalles&&K.detalles.length>0){A(K),O(!0);return}const B=await f(K.id);A(B),O(!0)}catch(B){console.error("Error al cargar los detalles de la venta:",B)}};return V?l.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:l.jsxs(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col items-center gap-4",children:[l.jsx(ye.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:1,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},children:l.jsx(Yt,{className:"h-12 w-12 text-solid-color"})}),l.jsx(ye.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-text-tertiary text-lg",children:"Cargando ventas..."})]})}):n?l.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6 bg-error/10 border border-error text-error rounded-lg flex items-center gap-3",children:[l.jsx(ln,{className:"h-5 w-5"}),l.jsx("p",{children:n})]}):l.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Ir,{className:"h-8 w-8 text-solid-color"}),l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Ventas"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Ia,{className:"h-5 w-5"}),l.jsx("span",{children:"Nueva Venta"})]}),l.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(pd,{className:"h-5 w-5"}),l.jsx("span",{children:"Reportes"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:X?Array(4).fill(0).map((K,B)=>l.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:B*.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:l.jsx("div",{className:"flex items-center justify-center h-24",children:l.jsx(Yt,{className:"h-8 w-8 animate-spin text-solid-color"})})},B)):M?l.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"col-span-4 bg-error/10 border border-error text-error p-4 rounded-lg flex items-center gap-3",children:[l.jsx(ln,{className:"h-5 w-5"}),l.jsxs("p",{children:["Error al cargar el resumen: ",M]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(dr,{className:"h-6 w-6 text-success"})}),l.jsx("span",{className:"text-sm font-medium text-success",children:(s==null?void 0:s.total_monto)>0?`+${(s.promedio_venta/s.total_monto*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Total Ventas"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:bt((s==null?void 0:s.total_monto)||0)})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Ir,{className:"h-6 w-6 text-warning"})}),l.jsx("span",{className:"text-sm font-medium text-warning",children:(s==null?void 0:s.total_ventas)>0?`+${(s.total_ventas/100*10).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Ventas Realizadas"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:s!=null&&s.total_ventas?s.total_ventas.toLocaleString("es-ES"):0})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Lf,{className:"h-6 w-6 text-info"})}),l.jsx("span",{className:"text-sm font-medium text-info",children:(s==null?void 0:s.promedio_venta)>0?`+${(s.promedio_venta/1e3*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Promedio por Venta"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:bt((s==null?void 0:s.promedio_venta)||0)})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Bt,{className:"h-6 w-6 text-solid-color"})}),l.jsx("span",{className:"text-sm font-medium text-solid-color",children:(a==null?void 0:a.length)>0?`+${(a[0].total_vendido/100*15).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Productos Vendidos"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:((a==null?void 0:a.reduce((K,B)=>K+(B.total_vendido||0),0))||0).toLocaleString("es-ES")})]})]})}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"flex items-center space-x-4 bg-bg p-4 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(hr,{className:"h-5 w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Buscar ventas...",value:m,onChange:K=>p(K.target.value),className:"w-full pl-10 pr-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Fi,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("input",{type:"date",value:Wt(g,"yyyy-MM-dd"),onChange:K=>{const B=new Date(K.target.value);isNaN(B.getTime())||G(B,v)},className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"}),l.jsx("span",{className:"text-text-tertiary",children:"hasta"}),l.jsx("input",{type:"date",value:Wt(v,"yyyy-MM-dd"),onChange:K=>{const B=new Date(K.target.value);isNaN(B.getTime())||G(g,B)},className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]})]}),l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-interactive-component",children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"ID"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Vendedor"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Productos"}),l.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:X?l.jsx(en,{variant:"table",colSpan:6,text:U?"Actualizando datos...":"Cargando ventas..."}):ne.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-text-tertiary",children:"No se encontraron ventas"})}):ne.map((K,B)=>{var F,q;return l.jsxs(ye.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:B*.05},className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-accessibility-text",children:["#",K.id]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-accessibility-text",children:(()=>{const ee=K.fecha||K.created_at;if(!ee)return"N/A";const H=new Date(ee);return isNaN(H)?"N/A":Wt(H,"dd/MM/yyyy HH:mm",{locale:Qn})})()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-accessibility-text",children:((F=K.usuario)==null?void 0:F.nombre)||"No especificado"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-accessibility-text",children:[(((q=K.detalles)==null?void 0:q.length)||0).toLocaleString("es-ES")," productos"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-accessibility-text font-medium",children:bt(K.total)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsx("button",{onClick:()=>fe(K),className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",children:"Ver detalles"})})]},K.id)})})]})})}),S&&l.jsx(i8,{isOpen:S,onClose:async()=>{N(!1),Y(!0);try{await Promise.all([o(),u(g,v)])}catch(K){console.error("Error al actualizar después de nueva venta:",K)}finally{Y(!1)}}}),k&&_&&l.jsx(o8,{venta:_,isOpen:k,onClose:()=>{O(!1)}})]})},_i="http://127.0.0.1:8000/api",La={getCompras:async()=>{var t,e;try{const n=await ge.get(`${_i}/compras`);return Array.isArray(n.data)?n.data:Array.isArray(n.data.data)?n.data.data:[]}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al obtener las compras")}},getComprasByDateRange:async(t,e)=>{var n,s;try{if(!(t instanceof Date)||!(e instanceof Date))throw new Error("Las fechas proporcionadas no son válidas");const a={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]},o=await ge.get(`${_i}/compras/date-range`,{params:a});return Array.isArray(o.data)?o.data:Array.isArray(o.data.data)?o.data.data:[]}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al obtener las compras por fecha")}},getCompra:async t=>{var e,n;try{const s=await ge.get(`${_i}/compras/${t}`);return s.data.data||s.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al obtener la compra")}},getResumen:async(t,e)=>{var n,s;try{if(!(t instanceof Date)||!(e instanceof Date))throw new Error("Las fechas proporcionadas no son válidas");const a={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]},o=await ge.get(`${_i}/compras/resumen`,{params:a});return o.data.data||o.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al obtener el resumen de compras")}},createCompra:async t=>{var e,n;try{const s=await ge.post(`${_i}/compras`,t);return s.data.data||s.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear la compra")}},updateCompraEstado:async(t,e)=>{var n,s;try{const a=await ge.patch(`${_i}/compras/${t}`,{estado:e});return a.data.data||a.data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al actualizar el estado de la compra")}},deleteCompra:async t=>{var e,n;try{const s=await ge.delete(`${_i}/compras/${t}`);return s.data.data||s.data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al eliminar la compra")}},cancelarCompra:async t=>La.updateCompraEstado(t,"cancelada"),completarCompra:async t=>La.updateCompraEstado(t,"completada")},Bf=Pn(t=>({compras:[],loading:!1,error:null,selectedCompra:null,resumen:null,productosMasComprados:[],fetchCompras:async()=>{t({loading:!0,error:null});try{const e=await La.getCompras();t({compras:e,loading:!1})}catch(e){t({error:e.message,loading:!1})}},fetchComprasByDateRange:async(e,n)=>{t({loading:!0,error:null});try{const s=await La.getComprasByDateRange(e,n);t({compras:s,loading:!1})}catch(s){t({error:s.message,loading:!1})}},fetchResumen:async(e,n)=>{t({loading:!0,error:null});try{const s=await La.getResumen(e,n);return console.log("Resumen de compras:",s),t({resumen:s.resumen,productosMasComprados:s.productos_mas_comprados||[],loading:!1}),{resumen:s.resumen,productosMasComprados:s.productos_mas_comprados}}catch(s){throw console.error("Error al obtener resumen:",s),t({error:s.message,loading:!1,resumen:null,productosMasComprados:[]}),s}},createCompra:async e=>{t({loading:!0,error:null});try{const n=await La.createCompra(e);return t(s=>({compras:[n,...s.compras],loading:!1})),n}catch(n){throw t({error:n.message,loading:!1}),n}},updateCompraEstado:async(e,n)=>{t({loading:!0,error:null});try{const s=await La.updateCompraEstado(e,n);return t(a=>({compras:a.compras.map(o=>o.id===e?s:o),loading:!1})),s}catch(s){throw t({error:s.message,loading:!1}),s}},deleteCompra:async e=>{t({loading:!0,error:null});try{await La.deleteCompra(e),t(n=>({compras:n.compras.filter(s=>s.id!==e),loading:!1}))}catch(n){throw t({error:n.message,loading:!1}),n}},setSelectedCompra:e=>{t({selectedCompra:e})},clearSelectedCompra:()=>{t({selectedCompra:null})},clearError:()=>{t({error:null})}})),Uo="http://127.0.0.1:8000/api",Ac={getProveedores:async(t=null)=>{var e,n;try{const s=t?`${Uo}/proveedores?_=${t}`:`${Uo}/proveedores`;return console.log("Consultando proveedores en:",s),(await ge.get(s)).data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al obtener los proveedores")}},getProveedor:async t=>{var e,n;try{return(await ge.get(`${Uo}/proveedores/${t}`)).data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al obtener el proveedor")}},createProveedor:async t=>{var e,n;try{return(await ge.post(`${Uo}/proveedores`,t)).data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al crear el proveedor")}},updateProveedor:async(t,e)=>{var n,s;try{return(await ge.put(`${Uo}/proveedores/${t}`,e)).data}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al actualizar el proveedor")}},deleteProveedor:async t=>{try{const e=await ge.delete(`${Uo}/proveedores/${t}`);if(console.log("Respuesta al eliminar proveedor:",e),e.data&&e.data.message&&e.status!==200)throw new Error(e.data.message);return!0}catch(e){throw console.error("Error completo al eliminar proveedor:",e),e.response&&e.response.data?(console.error("Datos de error del servidor:",e.response.data),new Error(e.response.data.message||"Error al eliminar el proveedor")):e}}},M_=Pn(t=>({proveedores:[],proveedorActual:null,loading:!1,error:null,setProveedores:e=>t({proveedores:Array.isArray(e)?e:[]}),setProveedorActual:e=>t({proveedorActual:e}),setLoading:e=>t({loading:e}),setError:e=>t({error:e}),fetchProveedores:async()=>{t({loading:!0,error:null});try{const e=new Date().getTime(),n=await Ac.getProveedores(e);console.log("Respuesta API proveedores:",n);const s=n!=null&&n.data?n.data:Array.isArray(n)?n:[];return console.log("Proveedores procesados:",s),t({proveedores:s,loading:!1}),s}catch(e){throw console.error("Error al cargar proveedores:",e),t({error:e.message,loading:!1,proveedores:[]}),e}},fetchProveedor:async e=>{t({loading:!0,error:null});try{const n=await Ac.getProveedor(e),s=n.data||n;return t({proveedorActual:s,loading:!1}),s}catch(n){throw t({error:n.message,loading:!1}),n}},createProveedor:async e=>{t({loading:!0,error:null});try{const n=await Ac.createProveedor(e),s=n.data||n;return t(a=>({proveedores:[s,...Array.isArray(a.proveedores)?a.proveedores:[]],loading:!1})),s}catch(n){throw t({error:n.message,loading:!1}),n}},updateProveedor:async(e,n)=>{t({loading:!0,error:null});try{const s=await Ac.updateProveedor(e,n),a=s.data||s;return t(o=>{var c;return{proveedores:(Array.isArray(o.proveedores)?o.proveedores:[]).map(u=>u.id===e?a:u),proveedorActual:((c=o.proveedorActual)==null?void 0:c.id)===e?a:o.proveedorActual,loading:!1}}),a}catch(s){throw t({error:s.message,loading:!1}),s}},deleteProveedor:async e=>{t({loading:!0,error:null});try{return await Ac.deleteProveedor(e),t(n=>{var a;const s=n.proveedores.filter(o=>o.id!==e);return console.log(`Proveedor ${e} eliminado. Proveedores restantes: ${s.length}`),{proveedores:s,proveedorActual:((a=n.proveedorActual)==null?void 0:a.id)===e?null:n.proveedorActual,loading:!1}}),!0}catch(n){throw console.error("Error completo al eliminar proveedor:",n),t({error:n.message,loading:!1}),n}}})),c8=({isOpen:t,onClose:e})=>{var K,B;const{createCompra:n,loading:s}=Bf(),{products:a,loadProducts:o,isLoading:c}=Wr(),{proveedores:u,fetchProveedores:f,loading:m}=M_(),p=Ut(F=>F.user),g=(B=(K=p==null?void 0:p.data)==null?void 0:K.sede)==null?void 0:B.id;console.log(g);const[b,v]=R.useState(""),[j,S]=R.useState([]),[N,_]=R.useState(""),[A,k]=R.useState(null),[O,M]=R.useState(!0);R.useEffect(()=>{t&&(async()=>{M(!0);try{await Promise.all([o(g),f()]),k(null)}catch(q){console.error("Error al cargar datos:",q),k("Error al cargar los datos necesarios")}finally{M(!1)}})()},[t,g]);const P=()=>{S([...j,{producto_id:"",cantidad:1,precio_unitario:0}])},V=F=>{S(j.filter((q,ee)=>ee!==F))},D=(F,q)=>{var le,pe;const ee=a.find(je=>je.id===parseInt(q)),H=(le=ee==null?void 0:ee.sedes)==null?void 0:le.find(je=>je.id===g),Z=((pe=H==null?void 0:H.pivot)==null?void 0:pe.precio_compra)||0;console.log("Producto seleccionado:",ee),console.log("Sede ID:",g),console.log("Relación sede:",H),console.log("Precio compra:",Z);const ae=[...j];ae[F]={...ae[F],producto_id:q,precio_unitario:Z},S(ae)},U=(F,q)=>{const ee=[...j];ee[F]={...ee[F],cantidad:Math.max(1,parseInt(q)||1)},S(ee)},Y=F=>F.cantidad*F.precio_unitario,G=()=>j.reduce((F,q)=>F+Y(q),0),X=async F=>{if(F.preventDefault(),k(null),!b){k("Debe seleccionar un proveedor");return}if(j.length===0){k("Debe agregar al menos un producto");return}if(j.some(q=>!q.producto_id)){k("Todos los productos deben estar seleccionados");return}try{const q={proveedor_id:parseInt(b),productos:j.map(ee=>({producto_id:parseInt(ee.producto_id),cantidad:ee.cantidad,precio_unitario:ee.precio_unitario})),sede_id:g,fecha:new Date().toISOString()};await n(q),e()}catch(q){console.error("Error al crear la compra:",q),k(q.message)}},ne=Array.isArray(a)?a.filter(F=>F.nombre.toLowerCase().includes(N.toLowerCase())||F.codigo.toLowerCase().includes(N.toLowerCase())):[];if(!t)return null;const fe=Array.isArray(u)?u:[];return l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[l.jsx("h2",{className:"text-xl font-semibold text-accessibility-text",children:"Nueva Compra"}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:l.jsx(ur,{className:"h-5 w-5 text-text-tertiary"})})]}),l.jsx("form",{onSubmit:X,className:"p-6 overflow-y-auto max-h-[calc(90vh-8rem)]",children:O||c||m?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[l.jsx(Yt,{className:"h-8 w-8 animate-spin text-solid-color mb-4"}),l.jsx("p",{className:"text-text-tertiary",children:"Cargando datos..."})]}):A?l.jsxs("div",{className:"bg-error/10 border border-error text-error p-4 rounded-lg flex items-center gap-3 mb-6",children:[l.jsx(ln,{className:"h-5 w-5"}),l.jsx("p",{children:A})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(ws,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("h3",{className:"font-medium text-accessibility-text",children:"Proveedor"})]}),l.jsxs("select",{value:b,onChange:F=>v(F.target.value),className:"w-full px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",required:!0,children:[l.jsx("option",{value:"",children:"Seleccione un proveedor"}),fe.map(F=>l.jsx("option",{value:F.id,children:F.nombre},F.id))]})]}),l.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Bt,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("h3",{className:"font-medium text-accessibility-text",children:"Productos"})]}),l.jsxs("button",{type:"button",onClick:P,className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Ia,{className:"h-4 w-4"}),l.jsx("span",{children:"Agregar Producto"})]})]}),l.jsxs("div",{className:"relative mb-4",children:[l.jsx(hr,{className:"h-5 w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Buscar productos...",value:N,onChange:F=>_(F.target.value),className:"w-full pl-10 pr-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-interactive-component",children:[l.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"}),l.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Precio Unitario"}),l.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Subtotal"}),l.jsx("th",{className:"px-6 py-3 text-center text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:j.map((F,q)=>l.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("select",{value:F.producto_id,onChange:ee=>D(q,ee.target.value),className:"w-full px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",required:!0,children:[l.jsx("option",{value:"",children:"Seleccione un producto"}),ne.map(ee=>{var ae,le;const H=(ae=ee.sedes)==null?void 0:ae.find(pe=>pe.id===g),Z=((le=H==null?void 0:H.pivot)==null?void 0:le.precio_compra)||0;return l.jsxs("option",{value:ee.id,children:[ee.nombre," (",ee.codigo,") - ",bt(Z)]},ee.id)})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>U(q,F.cantidad-1),className:"p-1 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:l.jsx(h_,{className:"h-4 w-4 text-text-tertiary"})}),l.jsx("input",{type:"number",value:F.cantidad,onChange:ee=>U(q,ee.target.value),min:"1",className:"w-20 px-2 py-1 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent text-right"}),l.jsx("button",{type:"button",onClick:()=>U(q,F.cantidad+1),className:"p-1 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:l.jsx(Ia,{className:"h-4 w-4 text-text-tertiary"})})]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"flex items-center justify-end",children:l.jsx("div",{className:"w-32 px-4 py-2 bg-interactive-component border border-border rounded-lg text-right cursor-not-allowed text-accessibility-text",children:bt(F.precio_unitario)})})}),l.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-accessibility-text",children:bt(Y(F))}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("button",{type:"button",onClick:()=>V(q),className:"p-2 text-error hover:bg-error/10 rounded-lg transition-colors duration-200",children:l.jsx(Ii,{className:"h-4 w-4"})})})]},q))})]})})]}),l.jsx("div",{className:"bg-bg rounded-lg p-4 border border-border",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(dr,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("h3",{className:"font-medium text-accessibility-text",children:"Total"})]}),l.jsx("p",{className:"text-2xl font-semibold text-accessibility-text",children:bt(G())})]})}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-border rounded-lg text-text-tertiary hover:bg-interactive-component transition-colors duration-200",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Yt,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{children:"Guardando..."})]}):l.jsx("span",{children:"Guardar Compra"})})]})]})})]})})},d8=({compra:t,isOpen:e,onClose:n})=>{var N,_;const{updateCompraEstado:s,loading:a,fetchCompras:o}=Bf(),[c,u]=R.useState(!0),[f,m]=R.useState(null),[p,g]=R.useState(null);R.useEffect(()=>{if(e&&t){u(!0),m(null);const A=setTimeout(()=>{var k;try{const O=((k=t.detalles)==null?void 0:k.map(M=>{let P="Fecha no disponible";try{if(M.created_at){const V=new Date(M.created_at);isNaN(V.getTime())||(P=Wt(V,"dd/MM/yyyy HH:mm",{locale:Qn}))}}catch(V){console.error("Error al formatear fecha:",V)}return{...M,subtotal:M.cantidad*M.precio_unitario,fecha_formateada:P}}))||[];g(O),u(!1)}catch(O){console.error("Error al procesar los detalles:",O),m("Error al procesar los detalles de la compra"),u(!1)}},300);return()=>clearTimeout(A)}},[e,t]);const b=async A=>{var k,O,M,P;try{if(u(!0),m(null),t.estado!=="pendiente"){m("No se puede cambiar el estado de una compra que no está pendiente");return}await s(t.id,A),await o(),n()}catch(V){console.error("Error al actualizar el estado:",V);const D=((O=(k=V.response)==null?void 0:k.data)==null?void 0:O.message)||((P=(M=V.response)==null?void 0:M.data)==null?void 0:P.error)||"Error al actualizar el estado de la compra";m(D)}finally{u(!1)}},v=A=>{switch(A){case"completada":return l.jsx($a,{className:"h-5 w-5 text-success"});case"pendiente":return l.jsx($i,{className:"h-5 w-5 text-warning"});case"cancelada":return l.jsx(Ex,{className:"h-5 w-5 text-error"});default:return null}},j=A=>{switch(A){case"completada":return"Completada";case"pendiente":return"Pendiente";case"cancelada":return"Cancelada";default:return"Desconocido"}},S=A=>{try{if(!A)return"Fecha no disponible";const k=new Date(A);return isNaN(k.getTime())?"Fecha inválida":Wt(k,"dd 'de' MMMM 'de' yyyy 'a las' HH:mm",{locale:Qn})}catch(k){return console.error("Error al formatear fecha de compra:",k),"Error al formatear fecha"}};return e?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsxs(ye.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-bg rounded-xl shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Bt,{className:"h-6 w-6 text-solid-color"}),l.jsxs("h2",{className:"text-xl font-semibold text-accessibility-text",children:["Detalles de la Compra #",t.id]})]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:l.jsx(ur,{className:"h-5 w-5 text-text-tertiary"})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-8rem)]",children:c?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[l.jsx(Yt,{className:"h-8 w-8 animate-spin text-solid-color mb-4"}),l.jsx("p",{className:"text-text-tertiary",children:"Cargando detalles..."})]}):f?l.jsxs("div",{className:"bg-error/10 border border-error text-error p-4 rounded-lg flex items-center gap-3",children:[l.jsx(ln,{className:"h-5 w-5"}),l.jsx("p",{children:f})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(ws,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("h3",{className:"font-medium text-accessibility-text",children:"Proveedor"})]}),l.jsx("p",{className:"text-accessibility-text",children:((N=t.proveedor)==null?void 0:N.nombre)||"No especificado"}),((_=t.proveedor)==null?void 0:_.email)&&l.jsx("p",{className:"text-text-tertiary mt-1",children:t.proveedor.email})]}),l.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(sl,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("h3",{className:"font-medium text-accessibility-text",children:"Estado"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[v(t.estado),l.jsx("span",{className:`font-medium ${t.estado==="completada"?"text-success":t.estado==="pendiente"?"text-warning":"text-error"}`,children:j(t.estado)})]})]}),l.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx($i,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("h3",{className:"font-medium text-accessibility-text",children:"Fecha"})]}),l.jsx("p",{className:"text-accessibility-text",children:S(t.fecha)})]}),l.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx(dr,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("h3",{className:"font-medium text-accessibility-text",children:"Total"})]}),l.jsx("p",{className:"text-2xl font-semibold text-accessibility-text",children:bt(t.total)})]})]}),l.jsx("div",{className:"bg-bg rounded-lg border border-border overflow-hidden",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-interactive-component",children:[l.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"}),l.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Precio Unitario"}),l.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Subtotal"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:p==null?void 0:p.map((A,k)=>{var O,M;return l.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[l.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:(O=A.producto)==null?void 0:O.nombre}),l.jsx("div",{className:"text-sm text-text-tertiary",children:(M=A.producto)==null?void 0:M.codigo})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-accessibility-text",children:A.cantidad}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-accessibility-text",children:bt(A.precio_unitario)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-accessibility-text",children:bt(A.subtotal)})]},k)})})]})}),t.estado==="pendiente"&&l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsxs("button",{onClick:()=>b("cancelada"),disabled:a||c,className:"px-4 py-2 bg-error/10 hover:bg-error/20 text-error rounded-lg transition-colors duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a||c?l.jsx(Yt,{className:"h-4 w-4 animate-spin"}):l.jsx(Ex,{className:"h-4 w-4"}),l.jsx("span",{children:"Cancelar Compra"})]}),l.jsxs("button",{onClick:()=>b("completada"),disabled:a||c,className:"px-4 py-2 bg-success/10 hover:bg-success/20 text-success rounded-lg transition-colors duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a||c?l.jsx(Yt,{className:"h-4 w-4 animate-spin"}):l.jsx($a,{className:"h-4 w-4"}),l.jsx("span",{children:"Completar Compra"})]})]})]})})]})}):null},u8=()=>{const{compras:t,loading:e,error:n,resumen:s,productosMasComprados:a,fetchCompras:o,fetchComprasByDateRange:c,fetchResumen:u,fetchCompra:f}=Bf(),[m,p]=R.useState(""),[g,b]=R.useState(new Date(new Date().setDate(1))),[v,j]=R.useState(new Date),[S,N]=R.useState(!1),[_,A]=R.useState(null),[k,O]=R.useState(!1),[M,P]=R.useState(null),[V,D]=R.useState(!0),[U,Y]=R.useState(!1),[G,X]=R.useState(null);R.useEffect(()=>{(async()=>{var q,ee,H,Z;D(!0);try{await Promise.all([o(),u(g,v)]),P(null),X(null)}catch(ae){console.error("Error al cargar datos iniciales:",ae),P(((ee=(q=ae.response)==null?void 0:q.data)==null?void 0:ee.message)||"Error al cargar datos iniciales"),X(((Z=(H=ae.response)==null?void 0:H.data)==null?void 0:Z.message)||"Error al cargar datos iniciales")}finally{D(!1)}})()},[]),R.useEffect(()=>{(async()=>{var q,ee,H,Z;if(!V){Y(!0);try{await Promise.all([c(g,v),u(g,v)]),P(null),X(null)}catch(ae){console.error("Error al actualizar datos:",ae),P(((ee=(q=ae.response)==null?void 0:q.data)==null?void 0:ee.message)||"Error al actualizar datos"),X(((Z=(H=ae.response)==null?void 0:H.data)==null?void 0:Z.message)||"Error al actualizar datos")}finally{Y(!1)}}})()},[g,v]);const ne=async(F,q)=>{try{if(!(F instanceof Date)||!(q instanceof Date))throw new Error("Las fechas proporcionadas no son válidas");b(F),j(q)}catch(ee){console.error("Error al actualizar rango de fechas:",ee),P(ee.message),X(ee.message)}},fe=e||U,K=t.filter(F=>{var ee,H,Z;const q=m.toLowerCase();return F.id.toString().includes(q)||((H=(ee=F.proveedor)==null?void 0:ee.nombre)==null?void 0:H.toLowerCase().includes(q))||((Z=F.detalles)==null?void 0:Z.some(ae=>{var le,pe;return(pe=(le=ae.producto)==null?void 0:le.nombre)==null?void 0:pe.toLowerCase().includes(q)}))}),B=async F=>{var q,ee;try{if(Y(!0),F.detalles&&F.detalles.length>0){A(F),O(!0);return}const H=await f(F.id);A(H),O(!0)}catch(H){console.error("Error al cargar los detalles de la compra:",H),X(((ee=(q=H.response)==null?void 0:q.data)==null?void 0:ee.message)||"Error al cargar los detalles de la compra")}finally{Y(!1)}};return V?l.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:l.jsxs(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col items-center gap-4",children:[l.jsx(ye.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:1,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},children:l.jsx(Yt,{className:"h-12 w-12 text-solid-color"})}),l.jsx(ye.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-text-tertiary text-lg",children:"Cargando compras..."})]})}):n||G?l.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6 bg-error/10 border border-error text-error rounded-lg flex items-center gap-3",children:[l.jsx(ln,{className:"h-5 w-5"}),l.jsx("p",{children:n||G})]}):l.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-6 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(sl,{className:"h-8 w-8 text-solid-color"}),l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Compras"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Ia,{className:"h-5 w-5"}),l.jsx("span",{children:"Nueva Compra"})]}),l.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(pd,{className:"h-5 w-5"}),l.jsx("span",{children:"Reportes"})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:fe?Array(4).fill(0).map((F,q)=>l.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:q*.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:l.jsx("div",{className:"flex items-center justify-center h-24",children:l.jsx(Yt,{className:"h-8 w-8 animate-spin text-solid-color"})})},q)):M?l.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"col-span-4 bg-error/10 border border-error text-error p-4 rounded-lg flex items-center gap-3",children:[l.jsx(ln,{className:"h-5 w-5"}),l.jsxs("p",{children:["Error al cargar el resumen: ",M]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(dr,{className:"h-6 w-6 text-success"})}),l.jsx("span",{className:"text-sm font-medium text-success",children:(s==null?void 0:s.total_monto)>0?`+${(s.promedio_compra/s.total_monto*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Total Compras"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:bt((s==null?void 0:s.total_monto)||0)})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Ir,{className:"h-6 w-6 text-solid-color"})})}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Compras Realizadas"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:s!=null&&s.total_compras?s.total_compras.toLocaleString("es-ES"):0})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Lf,{className:"h-6 w-6 text-solid-color"})})}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Promedio por Compra"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:bt((s==null?void 0:s.promedio_compra)||0)})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Bt,{className:"h-6 w-6 text-solid-color"})})}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:"Productos Comprados"}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:((a==null?void 0:a.reduce((F,q)=>F+q.total_comprado,0))||0).toLocaleString("es-ES")})]})]})}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"flex items-center space-x-4 bg-bg p-4 rounded-lg border border-border",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(hr,{className:"h-5 w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Buscar compras...",value:m,onChange:F=>p(F.target.value),className:"w-full pl-10 pr-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Fi,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("input",{type:"date",value:Wt(g,"yyyy-MM-dd"),onChange:F=>{const q=new Date(F.target.value);isNaN(q.getTime())||ne(q,v)},className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"}),l.jsx("span",{className:"text-text-tertiary",children:"hasta"}),l.jsx("input",{type:"date",value:Wt(v,"yyyy-MM-dd"),onChange:F=>{const q=new Date(F.target.value);isNaN(q.getTime())||ne(g,q)},className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]})]}),l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-interactive-component",children:[l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"ID"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Proveedor"}),l.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Productos"}),l.jsx("th",{className:"px-6 py-4 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"}),l.jsx("th",{className:"px-6 py-4 text-center text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:fe?l.jsx(en,{variant:"table",colSpan:7,text:U?"Actualizando datos...":"Cargando compras..."}):K.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-6 py-8 text-center text-text-tertiary",children:"No se encontraron compras"})}):K.map((F,q)=>{var ee,H;return l.jsxs(ye.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:q*.05},className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-accessibility-text",children:["#",F.id]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-accessibility-text",children:(()=>{try{const Z=F.created_at||F.fecha;if(!Z)return"N/A";const ae=new Date(Z);return isNaN(ae.getTime())?"N/A":Wt(ae,"dd/MM/yyyy HH:mm",{locale:Qn})}catch{return"Fecha inválida"}})()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-accessibility-text",children:((ee=F.proveedor)==null?void 0:ee.nombre)||"No especificado"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-accessibility-text",children:[(((H=F.detalles)==null?void 0:H.length)||0).toLocaleString("es-ES")," productos"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-accessibility-text font-medium",children:bt(F.total)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${F.estado==="pendiente"?"bg-warning/10 text-warning":F.estado==="completada"?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:F.estado==="pendiente"?"Pendiente":F.estado==="completada"?"Completada":"Cancelada"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsx("button",{onClick:()=>B(F),className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",children:"Ver detalles"})})]},F.id)})})]})})}),S&&l.jsx(c8,{isOpen:S,onClose:async()=>{var F,q;N(!1),Y(!0);try{await Promise.all([o(),u(g,v)])}catch(ee){console.error("Error al actualizar después de nueva compra:",ee),X(((q=(F=ee.response)==null?void 0:F.data)==null?void 0:q.message)||"Error al actualizar después de nueva compra")}finally{Y(!1)}}}),k&&_&&l.jsx(d8,{compra:_,isOpen:k,onClose:async()=>{var F,q;O(!1),Y(!0);try{await Promise.all([o(),u(g,v)])}catch(ee){console.error("Error al actualizar después de cambiar estado:",ee),X(((q=(F=ee.response)==null?void 0:F.data)==null?void 0:q.message)||"Error al actualizar después de cambiar estado")}finally{Y(!1)}}})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Vd(t){return t+.5|0}const za=(t,e,n)=>Math.max(Math.min(t,n),e);function $c(t){return za(Vd(t*2.55),0,255)}function Ua(t){return za(Vd(t*255),0,255)}function Br(t){return za(Vd(t/2.55)/100,0,1)}function T2(t){return za(Vd(t*100),0,100)}const xs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ox=[..."0123456789ABCDEF"],h8=t=>Ox[t&15],f8=t=>Ox[(t&240)>>4]+Ox[t&15],vh=t=>(t&240)>>4===(t&15),m8=t=>vh(t.r)&&vh(t.g)&&vh(t.b)&&vh(t.a);function p8(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&xs[t[1]]*17,g:255&xs[t[2]]*17,b:255&xs[t[3]]*17,a:e===5?xs[t[4]]*17:255}:(e===7||e===9)&&(n={r:xs[t[1]]<<4|xs[t[2]],g:xs[t[3]]<<4|xs[t[4]],b:xs[t[5]]<<4|xs[t[6]],a:e===9?xs[t[7]]<<4|xs[t[8]]:255})),n}const g8=(t,e)=>t<255?e(t):"";function x8(t){var e=m8(t)?h8:f8;return t?"#"+e(t.r)+e(t.g)+e(t.b)+g8(t.a,e):void 0}const y8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A_(t,e,n){const s=e*Math.min(n,1-n),a=(o,c=(o+t/30)%12)=>n-s*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function b8(t,e,n){const s=(a,o=(a+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function v8(t,e,n){const s=A_(t,1,.5);let a;for(e+n>1&&(a=1/(e+n),e*=a,n*=a),a=0;a<3;a++)s[a]*=1-e-n,s[a]+=e;return s}function w8(t,e,n,s,a){return t===a?(e-n)/s+(e<n?6:0):e===a?(n-t)/s+2:(t-e)/s+4}function Yy(t){const n=t.r/255,s=t.g/255,a=t.b/255,o=Math.max(n,s,a),c=Math.min(n,s,a),u=(o+c)/2;let f,m,p;return o!==c&&(p=o-c,m=u>.5?p/(2-o-c):p/(o+c),f=w8(n,s,a,p,o),f=f*60+.5),[f|0,m||0,u]}function Xy(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Ua)}function Wy(t,e,n){return Xy(A_,t,e,n)}function j8(t,e,n){return Xy(v8,t,e,n)}function S8(t,e,n){return Xy(b8,t,e,n)}function D_(t){return(t%360+360)%360}function N8(t){const e=y8.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?$c(+e[5]):Ua(+e[5]));const a=D_(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?s=j8(a,o,c):e[1]==="hsv"?s=S8(a,o,c):s=Wy(a,o,c),{r:s[0],g:s[1],b:s[2],a:n}}function _8(t,e){var n=Yy(t);n[0]=D_(n[0]+e),n=Wy(n),t.r=n[0],t.g=n[1],t.b=n[2]}function E8(t){if(!t)return;const e=Yy(t),n=e[0],s=T2(e[1]),a=T2(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${a}%, ${Br(t.a)})`:`hsl(${n}, ${s}%, ${a}%)`}const C2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},k2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function T8(){const t={},e=Object.keys(k2),n=Object.keys(C2);let s,a,o,c,u;for(s=0;s<e.length;s++){for(c=u=e[s],a=0;a<n.length;a++)o=n[a],u=u.replace(o,C2[o]);o=parseInt(k2[c],16),t[u]=[o>>16&255,o>>8&255,o&255]}return t}let wh;function C8(t){wh||(wh=T8(),wh.transparent=[0,0,0,0]);const e=wh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const k8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function M8(t){const e=k8.exec(t);let n=255,s,a,o;if(e){if(e[7]!==s){const c=+e[7];n=e[8]?$c(c):za(c*255,0,255)}return s=+e[1],a=+e[3],o=+e[5],s=255&(e[2]?$c(s):za(s,0,255)),a=255&(e[4]?$c(a):za(a,0,255)),o=255&(e[6]?$c(o):za(o,0,255)),{r:s,g:a,b:o,a:n}}}function A8(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Br(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Ag=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ho=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function D8(t,e,n){const s=Ho(Br(t.r)),a=Ho(Br(t.g)),o=Ho(Br(t.b));return{r:Ua(Ag(s+n*(Ho(Br(e.r))-s))),g:Ua(Ag(a+n*(Ho(Br(e.g))-a))),b:Ua(Ag(o+n*(Ho(Br(e.b))-o))),a:t.a+n*(e.a-t.a)}}function jh(t,e,n){if(t){let s=Yy(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Wy(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function R_(t,e){return t&&Object.assign(e||{},t)}function M2(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ua(t[3]))):(e=R_(t,{r:0,g:0,b:0,a:1}),e.a=Ua(e.a)),e}function R8(t){return t.charAt(0)==="r"?M8(t):N8(t)}class xd{constructor(e){if(e instanceof xd)return e;const n=typeof e;let s;n==="object"?s=M2(e):n==="string"&&(s=p8(e)||C8(e)||R8(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=R_(this._rgb);return e&&(e.a=Br(e.a)),e}set rgb(e){this._rgb=M2(e)}rgbString(){return this._valid?A8(this._rgb):void 0}hexString(){return this._valid?x8(this._rgb):void 0}hslString(){return this._valid?E8(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,a=e.rgb;let o;const c=n===o?.5:n,u=2*c-1,f=s.a-a.a,m=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-m,s.r=255&m*s.r+o*a.r+.5,s.g=255&m*s.g+o*a.g+.5,s.b=255&m*s.b+o*a.b+.5,s.a=c*s.a+(1-c)*a.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=D8(this._rgb,e._rgb,n)),this}clone(){return new xd(this.rgb)}alpha(e){return this._rgb.a=Ua(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Vd(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return jh(this._rgb,2,e),this}darken(e){return jh(this._rgb,2,-e),this}saturate(e){return jh(this._rgb,1,e),this}desaturate(e){return jh(this._rgb,1,-e),this}rotate(e){return _8(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Lr(){}const O8=(()=>{let t=0;return()=>t++})();function mt(t){return t==null}function an(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ge(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ss(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Js(t,e){return Ss(t)?t:e}function Ye(t,e){return typeof t>"u"?e:t}const L8=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,O_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function yt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function at(t,e,n,s){let a,o,c;if(an(t))for(o=t.length,a=0;a<o;a++)e.call(n,t[a],a);else if(Ge(t))for(c=Object.keys(t),o=c.length,a=0;a<o;a++)e.call(n,t[c[a]],c[a])}function df(t,e){let n,s,a,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(a=t[n],o=e[n],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function uf(t){if(an(t))return t.map(uf);if(Ge(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let a=0;for(;a<s;++a)e[n[a]]=uf(t[n[a]]);return e}return t}function L_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function P8(t,e,n,s){if(!L_(t))return;const a=e[t],o=n[t];Ge(a)&&Ge(o)?yd(a,o,s):e[t]=uf(o)}function yd(t,e,n){const s=an(e)?e:[e],a=s.length;if(!Ge(t))return t;n=n||{};const o=n.merger||P8;let c;for(let u=0;u<a;++u){if(c=s[u],!Ge(c))continue;const f=Object.keys(c);for(let m=0,p=f.length;m<p;++m)o(f[m],t,c,n)}return t}function td(t,e){return yd(t,e,{merger:z8})}function z8(t,e,n){if(!L_(t))return;const s=e[t],a=n[t];Ge(s)&&Ge(a)?td(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=uf(a))}const A2={"":t=>t,x:t=>t.x,y:t=>t.y};function B8(t){const e=t.split("."),n=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function V8(t){const e=B8(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function qi(t,e){return(A2[e]||(A2[e]=V8(e)))(t)}function Gy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const bd=t=>typeof t<"u",qa=t=>typeof t=="function",D2=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function U8(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Vt=Math.PI,zt=2*Vt,H8=zt+Vt,hf=Number.POSITIVE_INFINITY,F8=Vt/180,on=Vt/2,Ei=Vt/4,R2=Vt*2/3,P_=Math.log10,cr=Math.sign;function nd(t,e,n){return Math.abs(t-e)<n}function O2(t){const e=Math.round(t);t=nd(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(P_(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function $8(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((a,o)=>a-o).pop(),e}function I8(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function ff(t){return!I8(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function q8(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Y8(t,e,n){let s,a,o;for(s=0,a=t.length;s<a;s++)o=t[s][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Vr(t){return t*(Vt/180)}function X8(t){return t*(180/Vt)}function L2(t){if(!Ss(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function z_(t,e){const n=e.x-t.x,s=e.y-t.y,a=Math.sqrt(n*n+s*s);let o=Math.atan2(s,n);return o<-.5*Vt&&(o+=zt),{angle:o,distance:a}}function Lx(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function W8(t,e){return(t-e+H8)%zt-Vt}function Oa(t){return(t%zt+zt)%zt}function vd(t,e,n,s){const a=Oa(t),o=Oa(e),c=Oa(n),u=Oa(o-a),f=Oa(c-a),m=Oa(a-o),p=Oa(a-c);return a===o||a===c||s&&o===c||u>f&&m<p}function Wn(t,e,n){return Math.max(e,Math.min(n,t))}function G8(t){return Wn(t,-32768,32767)}function Ba(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Ky(t,e,n){n=n||(c=>t[c]<e);let s=t.length-1,a=0,o;for(;s-a>1;)o=a+s>>1,n(o)?a=o:s=o;return{lo:a,hi:s}}const Px=(t,e,n,s)=>Ky(t,n,s?a=>{const o=t[a][e];return o<n||o===n&&t[a+1][e]===n}:a=>t[a][e]<n),K8=(t,e,n)=>Ky(t,n,s=>t[s][e]>=n);function Q8(t,e,n){let s=0,a=t.length;for(;s<a&&t[s]<e;)s++;for(;a>s&&t[a-1]>n;)a--;return s>0||a<t.length?t.slice(s,a):t}const B_=["push","pop","shift","splice","unshift"];function Z8(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),B_.forEach(n=>{const s="_onData"+Gy(n),a=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return t._chartjs.listeners.forEach(u=>{typeof u[s]=="function"&&u[s](...o)}),c}})})}function P2(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(B_.forEach(o=>{delete t[o]}),delete t._chartjs)}function V_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const U_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function H_(t,e){let n=[],s=!1;return function(...a){n=a,s||(s=!0,U_.call(window,()=>{s=!1,t.apply(e,n)}))}}function J8(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const Qy=t=>t==="start"?"left":t==="end"?"right":"center",Sn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,ez=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e,Sh=t=>t===0||t===1,z2=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*zt/n)),B2=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*zt/n)+1,sd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*on)+1,easeOutSine:t=>Math.sin(t*on),easeInOutSine:t=>-.5*(Math.cos(Vt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Sh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Sh(t)?t:z2(t,.075,.3),easeOutElastic:t=>Sh(t)?t:B2(t,.075,.3),easeInOutElastic(t){return Sh(t)?t:t<.5?.5*z2(t*2,.1125,.45):.5+.5*B2(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-sd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?sd.easeInBounce(t*2)*.5:sd.easeOutBounce(t*2-1)*.5+.5};function Zy(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function V2(t){return Zy(t)?t:new xd(t)}function Dg(t){return Zy(t)?t:new xd(t).saturate(.5).darken(.1).hexString()}const tz=["x","y","borderWidth","radius","tension"],nz=["color","borderColor","backgroundColor"];function sz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:nz},numbers:{type:"number",properties:tz}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function rz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const U2=new Map;function az(t,e){e=e||{};const n=t+JSON.stringify(e);let s=U2.get(n);return s||(s=new Intl.NumberFormat(t,e),U2.set(n,s)),s}function Jy(t,e,n){return az(e,n).format(t)}const iz={values(t){return an(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let a,o=t;if(n.length>1){const m=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=oz(t,n)}const c=P_(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),Jy(t,s,f)}};function oz(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var F_={formatters:iz};function lz(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:F_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Yi=Object.create(null),zx=Object.create(null);function rd(t,e){if(!e)return t;const n=e.split(".");for(let s=0,a=n.length;s<a;++s){const o=n[s];t=t[o]||(t[o]=Object.create(null))}return t}function Rg(t,e,n){return typeof e=="string"?yd(rd(t,e),n):yd(rd(t,""),e)}class cz{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>Dg(a.backgroundColor),this.hoverBorderColor=(s,a)=>Dg(a.borderColor),this.hoverColor=(s,a)=>Dg(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Rg(this,e,n)}get(e){return rd(this,e)}describe(e,n){return Rg(zx,e,n)}override(e,n){return Rg(Yi,e,n)}route(e,n,s,a){const o=rd(this,e),c=rd(this,s),u="_"+n;Object.defineProperties(o,{[u]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[u],m=c[a];return Ge(f)?Object.assign({},m,f):Ye(f,m)},set(f){this[u]=f}}})}apply(e){e.forEach(n=>n(this))}}var Xt=new cz({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sz,rz,lz]);function dz(t){return!t||mt(t.size)||mt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function H2(t,e,n,s,a){let o=e[a];return o||(o=e[a]=t.measureText(a).width,n.push(a)),o>s&&(s=o),s}function Ti(t,e,n){const s=t.currentDevicePixelRatio,a=n!==0?Math.max(n/2,.5):0;return Math.round((e-a)*s)/s+a}function F2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Bx(t,e,n,s){$_(t,e,n,s,null)}function $_(t,e,n,s,a){let o,c,u,f,m,p,g,b;const v=e.pointStyle,j=e.rotation,S=e.radius;let N=(j||0)*F8;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(N),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:a?t.ellipse(n,s,a/2,S,0,0,zt):t.arc(n,s,S,0,zt),t.closePath();break;case"triangle":p=a?a/2:S,t.moveTo(n+Math.sin(N)*p,s-Math.cos(N)*S),N+=R2,t.lineTo(n+Math.sin(N)*p,s-Math.cos(N)*S),N+=R2,t.lineTo(n+Math.sin(N)*p,s-Math.cos(N)*S),t.closePath();break;case"rectRounded":m=S*.516,f=S-m,c=Math.cos(N+Ei)*f,g=Math.cos(N+Ei)*(a?a/2-m:f),u=Math.sin(N+Ei)*f,b=Math.sin(N+Ei)*(a?a/2-m:f),t.arc(n-g,s-u,m,N-Vt,N-on),t.arc(n+b,s-c,m,N-on,N),t.arc(n+g,s+u,m,N,N+on),t.arc(n-b,s+c,m,N+on,N+Vt),t.closePath();break;case"rect":if(!j){f=Math.SQRT1_2*S,p=a?a/2:f,t.rect(n-p,s-f,2*p,2*f);break}N+=Ei;case"rectRot":g=Math.cos(N)*(a?a/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,b=Math.sin(N)*(a?a/2:S),t.moveTo(n-g,s-u),t.lineTo(n+b,s-c),t.lineTo(n+g,s+u),t.lineTo(n-b,s+c),t.closePath();break;case"crossRot":N+=Ei;case"cross":g=Math.cos(N)*(a?a/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,b=Math.sin(N)*(a?a/2:S),t.moveTo(n-g,s-u),t.lineTo(n+g,s+u),t.moveTo(n+b,s-c),t.lineTo(n-b,s+c);break;case"star":g=Math.cos(N)*(a?a/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,b=Math.sin(N)*(a?a/2:S),t.moveTo(n-g,s-u),t.lineTo(n+g,s+u),t.moveTo(n+b,s-c),t.lineTo(n-b,s+c),N+=Ei,g=Math.cos(N)*(a?a/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,b=Math.sin(N)*(a?a/2:S),t.moveTo(n-g,s-u),t.lineTo(n+g,s+u),t.moveTo(n+b,s-c),t.lineTo(n-b,s+c);break;case"line":c=a?a/2:Math.cos(N)*S,u=Math.sin(N)*S,t.moveTo(n-c,s-u),t.lineTo(n+c,s+u);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(N)*(a?a/2:S),s+Math.sin(N)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function wd(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function eb(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function tb(t){t.restore()}function uz(t,e,n,s,a){if(!e)return t.lineTo(n.x,n.y);if(a==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else a==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function hz(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function fz(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),mt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function mz(t,e,n,s,a){if(a.strikethrough||a.underline){const o=t.measureText(s),c=e-o.actualBoundingBoxLeft,u=e+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,m=n+o.actualBoundingBoxDescent,p=a.strikethrough?(f+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(c,p),t.lineTo(u,p),t.stroke()}}function pz(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function jd(t,e,n,s,a,o={}){const c=an(e)?e:[e],u=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(t.save(),t.font=a.string,fz(t,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&pz(t,o.backdrop),u&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),mt(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(m,n,s,o.maxWidth)),t.fillText(m,n,s,o.maxWidth),mz(t,n,s,m,o),s+=Number(a.lineHeight);t.restore()}function mf(t,e){const{x:n,y:s,w:a,h:o,radius:c}=e;t.arc(n+c.topLeft,s+c.topLeft,c.topLeft,1.5*Vt,Vt,!0),t.lineTo(n,s+o-c.bottomLeft),t.arc(n+c.bottomLeft,s+o-c.bottomLeft,c.bottomLeft,Vt,on,!0),t.lineTo(n+a-c.bottomRight,s+o),t.arc(n+a-c.bottomRight,s+o-c.bottomRight,c.bottomRight,on,0,!0),t.lineTo(n+a,s+c.topRight),t.arc(n+a-c.topRight,s+c.topRight,c.topRight,0,-on,!0),t.lineTo(n+c.topLeft,s)}const gz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yz(t,e){const n=(""+t).match(gz);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const bz=t=>+t||0;function nb(t,e){const n={},s=Ge(e),a=s?Object.keys(e):e,o=Ge(t)?s?c=>Ye(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of a)n[c]=bz(o(c));return n}function I_(t){return nb(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Zo(t){return nb(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ns(t){const e=I_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Tn(t,e){t=t||{},e=e||Xt.font;let n=Ye(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Ye(t.style,e.style);s&&!(""+s).match(xz)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Ye(t.family,e.family),lineHeight:yz(Ye(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Ye(t.weight,e.weight),string:""};return a.string=dz(a),a}function Nh(t,e,n,s){let a,o,c;for(a=0,o=t.length;a<o;++a)if(c=t[a],c!==void 0&&c!==void 0)return c}function vz(t,e,n){const{min:s,max:a}=t,o=O_(e,(a-s)/2),c=(u,f)=>n&&u===0?0:u+f;return{min:c(s,-Math.abs(o)),max:c(a,o)}}function Xi(t,e){return Object.assign(Object.create(t),e)}function sb(t,e=[""],n,s,a=()=>t[0]){const o=n||t;typeof s>"u"&&(s=W_("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:a,override:u=>sb([u,...t],e,o,s)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete t[0][f],!0},get(u,f){return Y_(u,f,()=>Cz(f,e,t,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,f){return I2(u).includes(f)},ownKeys(u){return I2(u)},set(u,f,m){const p=u._storage||(u._storage=a());return u[f]=p[f]=m,delete u._keys,!0}})}function al(t,e,n,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:q_(t,s),setContext:o=>al(t,o,n,s),override:o=>al(t.override(o),e,n,s)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,u){return Y_(o,c,()=>jz(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,u){return t[c]=u,delete o[c],!0}})}function q_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:n,indexable:s,isScriptable:qa(n)?n:()=>n,isIndexable:qa(s)?s:()=>s}}const wz=(t,e)=>t?t+Gy(e):e,rb=(t,e)=>Ge(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Y_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function jz(t,e,n){const{_proxy:s,_context:a,_subProxy:o,_descriptors:c}=t;let u=s[e];return qa(u)&&c.isScriptable(e)&&(u=Sz(e,u,t,n)),an(u)&&u.length&&(u=Nz(e,u,t,c.isIndexable)),rb(e,u)&&(u=al(u,a,o&&o[e],c)),u}function Sz(t,e,n,s){const{_proxy:a,_context:o,_subProxy:c,_stack:u}=n;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let f=e(o,c||s);return u.delete(t),rb(t,f)&&(f=ab(a._scopes,a,t,f)),f}function Nz(t,e,n,s){const{_proxy:a,_context:o,_subProxy:c,_descriptors:u}=n;if(typeof o.index<"u"&&s(t))return e[o.index%e.length];if(Ge(e[0])){const f=e,m=a._scopes.filter(p=>p!==f);e=[];for(const p of f){const g=ab(m,a,t,p);e.push(al(g,o,c&&c[t],u))}}return e}function X_(t,e,n){return qa(t)?t(e,n):t}const _z=(t,e)=>t===!0?e:typeof t=="string"?qi(e,t):void 0;function Ez(t,e,n,s,a){for(const o of e){const c=_z(n,o);if(c){t.add(c);const u=X_(c._fallback,n,a);if(typeof u<"u"&&u!==n&&u!==s)return u}else if(c===!1&&typeof s<"u"&&n!==s)return null}return!1}function ab(t,e,n,s){const a=e._rootScopes,o=X_(e._fallback,n,s),c=[...t,...a],u=new Set;u.add(s);let f=$2(u,c,n,o||n,s);return f===null||typeof o<"u"&&o!==n&&(f=$2(u,c,o,f,s),f===null)?!1:sb(Array.from(u),[""],a,o,()=>Tz(e,n,s))}function $2(t,e,n,s,a){for(;n;)n=Ez(t,e,n,s,a);return n}function Tz(t,e,n){const s=t._getTarget();e in s||(s[e]={});const a=s[e];return an(a)&&Ge(n)?n:a||{}}function Cz(t,e,n,s){let a;for(const o of e)if(a=W_(wz(o,t),n),typeof a<"u")return rb(t,a)?ab(n,s,t,a):a}function W_(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function I2(t){let e=t._keys;return e||(e=t._keys=kz(t._scopes)),e}function kz(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}const Mz=Number.EPSILON||1e-14,il=(t,e)=>e<t.length&&!t[e].skip&&t[e],G_=t=>t==="x"?"y":"x";function Az(t,e,n,s){const a=t.skip?e:t,o=e,c=n.skip?e:n,u=Lx(o,a),f=Lx(c,o);let m=u/(u+f),p=f/(u+f);m=isNaN(m)?0:m,p=isNaN(p)?0:p;const g=s*m,b=s*p;return{previous:{x:o.x-g*(c.x-a.x),y:o.y-g*(c.y-a.y)},next:{x:o.x+b*(c.x-a.x),y:o.y+b*(c.y-a.y)}}}function Dz(t,e,n){const s=t.length;let a,o,c,u,f,m=il(t,0);for(let p=0;p<s-1;++p)if(f=m,m=il(t,p+1),!(!f||!m)){if(nd(e[p],0,Mz)){n[p]=n[p+1]=0;continue}a=n[p]/e[p],o=n[p+1]/e[p],u=Math.pow(a,2)+Math.pow(o,2),!(u<=9)&&(c=3/Math.sqrt(u),n[p]=a*c*e[p],n[p+1]=o*c*e[p])}}function Rz(t,e,n="x"){const s=G_(n),a=t.length;let o,c,u,f=il(t,0);for(let m=0;m<a;++m){if(c=u,u=f,f=il(t,m+1),!u)continue;const p=u[n],g=u[s];c&&(o=(p-c[n])/3,u[`cp1${n}`]=p-o,u[`cp1${s}`]=g-o*e[m]),f&&(o=(f[n]-p)/3,u[`cp2${n}`]=p+o,u[`cp2${s}`]=g+o*e[m])}}function Oz(t,e="x"){const n=G_(e),s=t.length,a=Array(s).fill(0),o=Array(s);let c,u,f,m=il(t,0);for(c=0;c<s;++c)if(u=f,f=m,m=il(t,c+1),!!f){if(m){const p=m[e]-f[e];a[c]=p!==0?(m[n]-f[n])/p:0}o[c]=u?m?cr(a[c-1])!==cr(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}Dz(t,a,o),Rz(t,o,e)}function _h(t,e,n){return Math.max(Math.min(t,n),e)}function Lz(t,e){let n,s,a,o,c,u=wd(t[0],e);for(n=0,s=t.length;n<s;++n)c=o,o=u,u=n<s-1&&wd(t[n+1],e),o&&(a=t[n],c&&(a.cp1x=_h(a.cp1x,e.left,e.right),a.cp1y=_h(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=_h(a.cp2x,e.left,e.right),a.cp2y=_h(a.cp2y,e.top,e.bottom)))}function Pz(t,e,n,s,a){let o,c,u,f;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")Oz(t,a);else{let m=s?t[t.length-1]:t[0];for(o=0,c=t.length;o<c;++o)u=t[o],f=Az(m,u,t[Math.min(o+1,c-(s?0:1))%c],e.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,m=u}e.capBezierPoints&&Lz(t,n)}function ib(){return typeof window<"u"&&typeof document<"u"}function ob(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function pf(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Vf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function zz(t,e){return Vf(t).getPropertyValue(e)}const Bz=["top","right","bottom","left"];function Ui(t,e,n){const s={};n=n?"-"+n:"";for(let a=0;a<4;a++){const o=Bz[a];s[o]=parseFloat(t[e+"-"+o+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Vz=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Uz(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:a,offsetY:o}=s;let c=!1,u,f;if(Vz(a,o,t.target))u=a,f=o;else{const m=e.getBoundingClientRect();u=s.clientX-m.left,f=s.clientY-m.top,c=!0}return{x:u,y:f,box:c}}function Ai(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,a=Vf(n),o=a.boxSizing==="border-box",c=Ui(a,"padding"),u=Ui(a,"border","width"),{x:f,y:m,box:p}=Uz(t,n),g=c.left+(p&&u.left),b=c.top+(p&&u.top);let{width:v,height:j}=e;return o&&(v-=c.width+u.width,j-=c.height+u.height),{x:Math.round((f-g)/v*n.width/s),y:Math.round((m-b)/j*n.height/s)}}function Hz(t,e,n){let s,a;if(e===void 0||n===void 0){const o=t&&ob(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const c=o.getBoundingClientRect(),u=Vf(o),f=Ui(u,"border","width"),m=Ui(u,"padding");e=c.width-m.width-f.width,n=c.height-m.height-f.height,s=pf(u.maxWidth,o,"clientWidth"),a=pf(u.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:s||hf,maxHeight:a||hf}}const Eh=t=>Math.round(t*10)/10;function Fz(t,e,n,s){const a=Vf(t),o=Ui(a,"margin"),c=pf(a.maxWidth,t,"clientWidth")||hf,u=pf(a.maxHeight,t,"clientHeight")||hf,f=Hz(t,e,n);let{width:m,height:p}=f;if(a.boxSizing==="content-box"){const b=Ui(a,"border","width"),v=Ui(a,"padding");m-=v.width+b.width,p-=v.height+b.height}return m=Math.max(0,m-o.width),p=Math.max(0,s?m/s:p-o.height),m=Eh(Math.min(m,c,f.maxWidth)),p=Eh(Math.min(p,u,f.maxHeight)),m&&!p&&(p=Eh(m/2)),(e!==void 0||n!==void 0)&&s&&f.height&&p>f.height&&(p=f.height,m=Eh(Math.floor(p*s))),{width:m,height:p}}function q2(t,e,n){const s=e||1,a=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||c.height!==a||c.width!==o?(t.currentDevicePixelRatio=s,c.height=a,c.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const $z=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ib()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Y2(t,e){const n=zz(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Di(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Iz(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function qz(t,e,n,s){const a={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},c=Di(t,a,n),u=Di(a,o,n),f=Di(o,e,n),m=Di(c,u,n),p=Di(u,f,n);return Di(m,p,n)}const Yz=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},Xz=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Jo(t,e,n){return t?Yz(e,n):Xz()}function K_(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Q_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Z_(t){return t==="angle"?{between:vd,compare:W8,normalize:Oa}:{between:Ba,compare:(e,n)=>e-n,normalize:e=>e}}function X2({start:t,end:e,count:n,loop:s,style:a}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:a}}function Wz(t,e,n){const{property:s,start:a,end:o}=n,{between:c,normalize:u}=Z_(s),f=e.length;let{start:m,end:p,loop:g}=t,b,v;if(g){for(m+=f,p+=f,b=0,v=f;b<v&&c(u(e[m%f][s]),a,o);++b)m--,p--;m%=f,p%=f}return p<m&&(p+=f),{start:m,end:p,loop:g,style:t.style}}function Gz(t,e,n){if(!n)return[t];const{property:s,start:a,end:o}=n,c=e.length,{compare:u,between:f,normalize:m}=Z_(s),{start:p,end:g,loop:b,style:v}=Wz(t,e,n),j=[];let S=!1,N=null,_,A,k;const O=()=>f(a,k,_)&&u(a,k)!==0,M=()=>u(o,_)===0||f(o,k,_),P=()=>S||O(),V=()=>!S||M();for(let D=p,U=p;D<=g;++D)A=e[D%c],!A.skip&&(_=m(A[s]),_!==k&&(S=f(_,a,o),N===null&&P()&&(N=u(_,a)===0?D:U),N!==null&&V()&&(j.push(X2({start:N,end:D,loop:b,count:c,style:v})),N=null),U=D,k=_));return N!==null&&j.push(X2({start:N,end:g,loop:b,count:c,style:v})),j}function Kz(t,e){const n=[],s=t.segments;for(let a=0;a<s.length;a++){const o=Gz(s[a],t.points,e);o.length&&n.push(...o)}return n}function Qz(t,e,n,s){let a=0,o=e-1;if(n&&!s)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,n&&(o+=a);o>a&&t[o%e].skip;)o--;return o%=e,{start:a,end:o}}function Zz(t,e,n,s){const a=t.length,o=[];let c=e,u=t[e],f;for(f=e+1;f<=n;++f){const m=t[f%a];m.skip||m.stop?u.skip||(s=!1,o.push({start:e%a,end:(f-1)%a,loop:s}),e=c=m.stop?f:null):(c=f,u.skip&&(e=f)),u=m}return c!==null&&o.push({start:e%a,end:c%a,loop:s}),o}function Jz(t,e){const n=t.points,s=t.options.spanGaps,a=n.length;if(!a)return[];const o=!!t._loop,{start:c,end:u}=Qz(n,a,o,s);if(s===!0)return W2(t,[{start:c,end:u,loop:o}],n,e);const f=u<c?u+a:u,m=!!t._fullLoop&&c===0&&u===a-1;return W2(t,Zz(n,c,f,m),n,e)}function W2(t,e,n,s){return!s||!s.setContext||!n?e:eB(t,e,n,s)}function eB(t,e,n,s){const a=t._chart.getContext(),o=G2(t.options),{_datasetIndex:c,options:{spanGaps:u}}=t,f=n.length,m=[];let p=o,g=e[0].start,b=g;function v(j,S,N,_){const A=u?-1:1;if(j!==S){for(j+=f;n[j%f].skip;)j-=A;for(;n[S%f].skip;)S+=A;j%f!==S%f&&(m.push({start:j%f,end:S%f,loop:N,style:_}),p=_,g=S%f)}}for(const j of e){g=u?g:j.start;let S=n[g%f],N;for(b=g+1;b<=j.end;b++){const _=n[b%f];N=G2(s.setContext(Xi(a,{type:"segment",p0:S,p1:_,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),tB(N,p)&&v(g,b-1,j.loop,p),S=_,p=N}g<b-1&&v(g,b-1,j.loop,p)}return m}function G2(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function tB(t,e){if(!e)return!1;const n=[],s=function(a,o){return Zy(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Th(t,e,n){return t.options.clip?t[n]:e[n]}function nB(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:Th(n,e,"left"),right:Th(n,e,"right"),top:Th(s,e,"top"),bottom:Th(s,e,"bottom")}:e}function sB(t,e){const n=e._clip;if(n.disabled)return!1;const s=nB(e,t.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class rB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,a){const o=n.listeners[a],c=n.duration;o.forEach(u=>u({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(s-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=U_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const o=s.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>s.duration&&(s.duration=f._total),f.tick(e),u=!0):(o[c]=o[o.length-1],o.pop());u&&(a.draw(),this._notify(a,s,e,"progress")),o.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Pr=new rB;const K2="transparent",aB={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=V2(t||K2),a=s.valid&&V2(e||K2);return a&&a.valid?a.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class iB{constructor(e,n,s,a){const o=n[s];a=Nh([e.to,a,o,e.from]);const c=Nh([e.from,o,a]);this._active=!0,this._fn=e.fn||aB[e.type||typeof c],this._easing=sd[e.easing]||sd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const a=this._target[this._prop],o=s-this._start,c=this._duration-o;this._start=s,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Nh([e.to,n,a,e.from]),this._from=Nh([e.from,a,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,a=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||n<s),!this._active){this._target[a]=u,this._notify(!0);return}if(n<0){this._target[a]=o;return}f=n/s%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,u,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][n]()}}class J_{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ge(e))return;const n=Object.keys(Xt.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const o=e[a];if(!Ge(o))return;const c={};for(const u of n)c[u]=o[u];(an(o.properties)&&o.properties||[a]).forEach(u=>{(u===a||!s.has(u))&&s.set(u,c)})})}_animateOptions(e,n){const s=n.options,a=lB(e,s);if(!a)return[];const o=this._createAnimations(a,s);return s.$shared&&oB(e.options.$animations,s).then(()=>{e.options=s},()=>{}),o}_createAnimations(e,n){const s=this._properties,a=[],o=e.$animations||(e.$animations={}),c=Object.keys(n),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,n));continue}const p=n[m];let g=o[m];const b=s.get(m);if(g)if(b&&g.active()){g.update(b,p,u);continue}else g.cancel();if(!b||!b.duration){e[m]=p;continue}o[m]=g=new iB(b,e,m,p),a.push(g)}return a}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Pr.add(this._chart,s),!0}}function oB(t,e){const n=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const o=t[s[a]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function lB(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Q2(t,e){const n=t&&t.options||{},s=n.reverse,a=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:s?o:a,end:s?a:o}}function cB(t,e,n){if(n===!1)return!1;const s=Q2(t,n),a=Q2(e,n);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function dB(t){let e,n,s,a;return Ge(t)?(e=t.top,n=t.right,s=t.bottom,a=t.left):e=n=s=a=t,{top:e,right:n,bottom:s,left:a,disabled:t===!1}}function eE(t,e){const n=[],s=t._getSortedDatasetMetas(e);let a,o;for(a=0,o=s.length;a<o;++a)n.push(s[a].index);return n}function Z2(t,e,n,s={}){const a=t.keys,o=s.mode==="single";let c,u,f,m;if(e===null)return;let p=!1;for(c=0,u=a.length;c<u;++c){if(f=+a[c],f===n){if(p=!0,s.all)continue;break}m=t.values[f],Ss(m)&&(o||e===0||cr(e)===cr(m))&&(e+=m)}return!p&&!s.all?0:e}function uB(t,e){const{iScale:n,vScale:s}=e,a=n.axis==="x"?"x":"y",o=s.axis==="x"?"x":"y",c=Object.keys(t),u=new Array(c.length);let f,m,p;for(f=0,m=c.length;f<m;++f)p=c[f],u[f]={[a]:p,[o]:t[p]};return u}function Og(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function hB(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function fB(t){const{min:e,max:n,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?n:Number.POSITIVE_INFINITY}}function mB(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function J2(t,e,n,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const o=t[a.index];if(n&&o>0||!n&&o<0)return a.index}return null}function ej(t,e){const{chart:n,_cachedMeta:s}=t,a=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:u}=s,f=o.axis,m=c.axis,p=hB(o,c,s),g=e.length;let b;for(let v=0;v<g;++v){const j=e[v],{[f]:S,[m]:N}=j,_=j._stacks||(j._stacks={});b=_[m]=mB(a,p,S),b[u]=N,b._top=J2(b,c,!0,s.type),b._bottom=J2(b,c,!1,s.type);const A=b._visualValues||(b._visualValues={});A[u]=N}}function Lg(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function pB(t,e){return Xi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function gB(t,e,n){return Xi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Dc(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const a of e){const o=a._stacks;if(!o||o[s]===void 0||o[s][n]===void 0)return;delete o[s][n],o[s]._visualValues!==void 0&&o[s]._visualValues[n]!==void 0&&delete o[s]._visualValues[n]}}}const Pg=t=>t==="reset"||t==="none",tj=(t,e)=>e?t:Object.assign({},t),xB=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:eE(n,!0),values:null};class el{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Og(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Dc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),a=(g,b,v,j)=>g==="x"?b:g==="r"?j:v,o=n.xAxisID=Ye(s.xAxisID,Lg(e,"x")),c=n.yAxisID=Ye(s.yAxisID,Lg(e,"y")),u=n.rAxisID=Ye(s.rAxisID,Lg(e,"r")),f=n.indexAxis,m=n.iAxisID=a(f,o,c,u),p=n.vAxisID=a(f,c,o,u);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(u),n.iScale=this.getScaleForId(m),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&P2(this._data,this),e._stacked&&Dc(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Ge(n)){const a=this._cachedMeta;this._data=uB(n,a)}else if(s!==n){if(s){P2(s,this);const a=this._cachedMeta;Dc(a),a._parsed=[]}n&&Object.isExtensible(n)&&Z8(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const o=n._stacked;n._stacked=Og(n.vScale,n),n.stack!==s.stack&&(a=!0,Dc(n),n.stack=s.stack),this._resyncElements(e),(a||o!==n._stacked)&&(ej(this,n._parsed),n._stacked=Og(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:a}=this,{iScale:o,_stacked:c}=s,u=o.axis;let f=e===0&&n===a.length?!0:s._sorted,m=e>0&&s._parsed[e-1],p,g,b;if(this._parsing===!1)s._parsed=a,s._sorted=!0,b=a;else{an(a[e])?b=this.parseArrayData(s,a,e,n):Ge(a[e])?b=this.parseObjectData(s,a,e,n):b=this.parsePrimitiveData(s,a,e,n);const v=()=>g[u]===null||m&&g[u]<m[u];for(p=0;p<n;++p)s._parsed[p+e]=g=b[p],f&&(v()&&(f=!1),m=g);s._sorted=f}c&&ej(this,b)}parsePrimitiveData(e,n,s,a){const{iScale:o,vScale:c}=e,u=o.axis,f=c.axis,m=o.getLabels(),p=o===c,g=new Array(a);let b,v,j;for(b=0,v=a;b<v;++b)j=b+s,g[b]={[u]:p||o.parse(m[j],j),[f]:c.parse(n[j],j)};return g}parseArrayData(e,n,s,a){const{xScale:o,yScale:c}=e,u=new Array(a);let f,m,p,g;for(f=0,m=a;f<m;++f)p=f+s,g=n[p],u[f]={x:o.parse(g[0],p),y:c.parse(g[1],p)};return u}parseObjectData(e,n,s,a){const{xScale:o,yScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let p,g,b,v;for(p=0,g=a;p<g;++p)b=p+s,v=n[b],m[p]={x:o.parse(qi(v,u),b),y:c.parse(qi(v,f),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const a=this.chart,o=this._cachedMeta,c=n[e.axis],u={keys:eE(a,!0),values:n._stacks[e.axis]._visualValues};return Z2(u,c,o.index,{mode:s})}updateRangeFromParsed(e,n,s,a){const o=s[n.axis];let c=o===null?NaN:o;const u=a&&s._stacks[n.axis];a&&u&&(a.values=u,c=Z2(a,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const s=this._cachedMeta,a=s._parsed,o=s._sorted&&e===s.iScale,c=a.length,u=this._getOtherScale(e),f=xB(n,s,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=fB(u);let b,v;function j(){v=a[b];const S=v[u.axis];return!Ss(v[e.axis])||p>S||g<S}for(b=0;b<c&&!(!j()&&(this.updateRangeFromParsed(m,e,v,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!j()){this.updateRangeFromParsed(m,e,v,f);break}}return m}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let a,o,c;for(a=0,o=n.length;a<o;++a)c=n[a][e.axis],Ss(c)&&s.push(c);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,a=n.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=dB(Ye(this.options.clip,cB(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,a=s.data||[],o=n.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||a.length-u,m=this.options.drawActiveElementsOnTop;let p;for(s.dataset&&s.dataset.draw(e,o,u,f),p=u;p<u+f;++p){const g=a[p];g.hidden||(g.active&&m?c.push(g):g.draw(e,o))}for(p=0;p<c.length;++p)c[p].draw(e,o)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const a=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=gB(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=a.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=pB(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const a=n==="active",o=this._cachedDataOpts,c=e+"-"+n,u=o[c],f=this.enableOptionSharing&&bd(s);if(u)return tj(u,f);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,e),g=a?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),p),v=Object.keys(Xt.elements[e]),j=()=>this.getContext(s,a,n),S=m.resolveNamedOptions(b,v,j,g);return S.$shared&&(S.$shared=f,o[c]=Object.freeze(tj(S,f))),S}_resolveAnimations(e,n,s){const a=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,u=o[c];if(u)return u;let f;if(a.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,n),b=p.getOptionScopes(this.getDataset(),g);f=p.createResolver(b,this.getContext(e,s,n))}const m=new J_(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Pg(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),a=this._sharedOptions,o=this.getSharedOptions(s),c=this.includeOptions(n,o)||o!==a;return this.updateSharedOptions(o,n,s),{sharedOptions:o,includeOptions:c}}updateElement(e,n,s,a){Pg(a)?Object.assign(e,s):this._resolveAnimations(n,a).update(e,s)}updateSharedOptions(e,n,s){e&&!Pg(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,a){e.active=a;const o=this.getStyle(n,a);this._resolveAnimations(n,s,a).update(e,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[u,f,m]of this._syncList)this[u](f,m);this._syncList=[];const a=s.length,o=n.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,e):o<a&&this._removeElements(o,a-o)}_insertElements(e,n,s=!0){const a=this._cachedMeta,o=a.data,c=e+n;let u;const f=m=>{for(m.length+=n,u=m.length-1;u>=c;u--)m[u]=m[u-n]};for(f(o),u=e;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(e,n),s&&this.updateElements(o,e,n,"reset")}updateElements(e,n,s,a){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,n);s._stacked&&Dc(s,a)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,a]=e;this[n](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Me(el,"defaults",{}),Me(el,"datasetElementType",null),Me(el,"dataElementType",null);function yB(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let a=0,o=n.length;a<o;a++)s=s.concat(n[a].controller.getAllParsedValues(t));t._cache.$bar=V_(s.sort((a,o)=>a-o))}return t._cache.$bar}function bB(t){const e=t.iScale,n=yB(e,t.type);let s=e._length,a,o,c,u;const f=()=>{c===32767||c===-32768||(bd(u)&&(s=Math.min(s,Math.abs(c-u)||s)),u=c)};for(a=0,o=n.length;a<o;++a)c=e.getPixelForValue(n[a]),f();for(u=void 0,a=0,o=e.ticks.length;a<o;++a)c=e.getPixelForTick(a),f();return s}function vB(t,e,n,s){const a=n.barThickness;let o,c;return mt(a)?(o=e.min*n.categoryPercentage,c=n.barPercentage):(o=a*s,c=1),{chunk:o/s,ratio:c,start:e.pixels[t]-o/2}}function wB(t,e,n,s){const a=e.pixels,o=a[t];let c=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const f=n.categoryPercentage;c===null&&(c=o-(u===null?e.end-e.start:u-o)),u===null&&(u=o+o-c);const m=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/s,ratio:n.barPercentage,start:m}}function jB(t,e,n,s){const a=n.parse(t[0],s),o=n.parse(t[1],s),c=Math.min(a,o),u=Math.max(a,o);let f=c,m=u;Math.abs(c)>Math.abs(u)&&(f=u,m=c),e[n.axis]=m,e._custom={barStart:f,barEnd:m,start:a,end:o,min:c,max:u}}function tE(t,e,n,s){return an(t)?jB(t,e,n,s):e[n.axis]=n.parse(t,s),e}function nj(t,e,n,s){const a=t.iScale,o=t.vScale,c=a.getLabels(),u=a===o,f=[];let m,p,g,b;for(m=n,p=n+s;m<p;++m)b=e[m],g={},g[a.axis]=u||a.parse(c[m],m),f.push(tE(b,g,o,m));return f}function zg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function SB(t,e,n){return t!==0?cr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function NB(t){let e,n,s,a,o;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(a="end",o="start"):(a="start",o="end"),{start:n,end:s,reverse:e,top:a,bottom:o}}function _B(t,e,n,s){let a=e.borderSkipped;const o={};if(!a){t.borderSkipped=o;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:m,bottom:p}=NB(t);a==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?a=m:(n._bottom||0)===s?a=p:(o[sj(p,c,u,f)]=!0,a=m)),o[sj(a,c,u,f)]=!0,t.borderSkipped=o}function sj(t,e,n,s){return s?(t=EB(t,e,n),t=rj(t,n,e)):t=rj(t,e,n),t}function EB(t,e,n){return t===e?n:t===n?e:t}function rj(t,e,n){return t==="start"?e:t==="end"?n:t}function TB(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Wh extends el{parsePrimitiveData(e,n,s,a){return nj(e,n,s,a)}parseArrayData(e,n,s,a){return nj(e,n,s,a)}parseObjectData(e,n,s,a){const{iScale:o,vScale:c}=e,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,m=o.axis==="x"?u:f,p=c.axis==="x"?u:f,g=[];let b,v,j,S;for(b=s,v=s+a;b<v;++b)S=n[b],j={},j[o.axis]=o.parse(qi(S,m),b),g.push(tE(qi(S,p),j,c,b));return g}updateRangeFromParsed(e,n,s,a){super.updateRangeFromParsed(e,n,s,a);const o=s._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:a}=n,o=this.getParsed(e),c=o._custom,u=zg(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),m=u.isHorizontal(),p=this._getRuler(),{sharedOptions:g,includeOptions:b}=this._getSharedOptions(n,a);for(let v=n;v<n+s;v++){const j=this.getParsed(v),S=o||mt(j[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(v),N=this._calculateBarIndexPixels(v,p),_=(j._stacks||{})[u.axis],A={horizontal:m,base:S.base,enableBorderRadius:!_||zg(j._custom)||c===_._top||c===_._bottom,x:m?S.head:N.center,y:m?N.center:S.head,height:m?N.size:Math.abs(S.size),width:m?Math.abs(S.size):N.size};b&&(A.options=g||this.resolveDataElementOptions(v,e[v].active?"active":a));const k=A.options||e[v].options;_B(A,k,_,c),TB(A,k,p.ratio),this.updateElement(e[v],v,A,a)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=s.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(n),f=u&&u[s.axis],m=p=>{const g=p._parsed.find(v=>v[s.axis]===f),b=g&&g[p.vScale.axis];if(mt(b)||isNaN(b))return!0};for(const p of a)if(!(n!==void 0&&m(p))&&((o===!1||c.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const a=this._getStacks(e,s),o=n!==void 0?a.indexOf(n):-1;return o===-1?a.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,a=[];let o,c;for(o=0,c=n.data.length;o<c;++o)a.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const u=e.barThickness;return{min:u||bB(n),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:a},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(e),m=f._custom,p=zg(m);let g=f[n.axis],b=0,v=s?this.applyStack(n,f,s):g,j,S;v!==g&&(b=v-g,v=g),p&&(g=m.barStart,v=m.barEnd-m.barStart,g!==0&&cr(g)!==cr(m.barEnd)&&(b=0),b+=g);const N=!mt(o)&&!p?o:b;let _=n.getPixelForValue(N);if(this.chart.getDataVisibility(e)?j=n.getPixelForValue(b+v):j=_,S=j-_,Math.abs(S)<c){S=SB(S,n,u)*c,g===u&&(_-=S/2);const A=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),O=Math.min(A,k),M=Math.max(A,k);_=Math.max(Math.min(_,M),O),j=_+S,s&&!p&&(f._stacks[n.axis]._visualValues[a]=n.getValueForPixel(j)-n.getValueForPixel(_))}if(_===n.getPixelForValue(u)){const A=cr(S)*n.getLineWidthForValue(u)/2;_+=A,S-=A}return{size:S,base:_,head:j,center:j+S/2}}_calculateBarIndexPixels(e,n){const s=n.scale,a=this.options,o=a.skipNull,c=Ye(a.maxBarThickness,1/0);let u,f;if(n.grouped){const m=o?this._getStackCount(e):n.stackCount,p=a.barThickness==="flex"?wB(e,n,a,m):vB(e,n,a,m),g=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);u=p.start+p.chunk*g+p.chunk/2,f=Math.min(c,p.chunk*p.ratio)}else u=s.getPixelForValue(this.getParsed(e)[s.axis],e),f=Math.min(c,n.min*n.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,a=s.length;let o=0;for(;o<a;++o)this.getParsed(o)[n.axis]!==null&&!s[o].hidden&&s[o].draw(this._ctx)}}Me(Wh,"id","bar"),Me(Wh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Me(Wh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function CB(t,e,n){let s=1,a=1,o=0,c=0;if(e<zt){const u=t,f=u+e,m=Math.cos(u),p=Math.sin(u),g=Math.cos(f),b=Math.sin(f),v=(k,O,M)=>vd(k,u,f,!0)?1:Math.max(O,O*n,M,M*n),j=(k,O,M)=>vd(k,u,f,!0)?-1:Math.min(O,O*n,M,M*n),S=v(0,m,g),N=v(on,p,b),_=j(Vt,m,g),A=j(Vt+on,p,b);s=(S-_)/2,a=(N-A)/2,o=-(S+_)/2,c=-(N+A)/2}return{ratioX:s,ratioY:a,offsetX:o,offsetY:c}}class Ic extends el{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let o=f=>+s[f];if(Ge(s[e])){const{key:f="value"}=this._parsing;o=m=>+qi(s[m],f)}let c,u;for(c=e,u=e+n;c<u;++c)a._parsed[c]=o(c)}}_getRotation(){return Vr(this.options.rotation-90)}_getCircumference(){return Vr(this.options.circumference)}_getRotationExtents(){let e=zt,n=-zt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,o=a._getRotation(),c=a._getCircumference();e=Math.min(e,o),n=Math.max(n,o+c)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(s.width,s.height)-c)/2,0),f=Math.min(L8(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:p,rotation:g}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:j,offsetY:S}=CB(g,p,f),N=(s.width-c)/b,_=(s.height-c)/v,A=Math.max(Math.min(N,_)/2,0),k=O_(this.options.radius,A),O=Math.max(k*f,0),M=(k-O)/this._getVisibleDatasetWeightTotal();this.offsetX=j*k,this.offsetY=S*k,a.total=this.calculateTotal(),this.outerRadius=k-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*m,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const s=this.options,a=this._cachedMeta,o=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*o/zt)}updateElements(e,n,s,a){const o=a==="reset",c=this.chart,u=c.chartArea,m=c.options.animation,p=(u.left+u.right)/2,g=(u.top+u.bottom)/2,b=o&&m.animateScale,v=b?0:this.innerRadius,j=b?0:this.outerRadius,{sharedOptions:S,includeOptions:N}=this._getSharedOptions(n,a);let _=this._getRotation(),A;for(A=0;A<n;++A)_+=this._circumference(A,o);for(A=n;A<n+s;++A){const k=this._circumference(A,o),O=e[A],M={x:p+this.offsetX,y:g+this.offsetY,startAngle:_,endAngle:_+k,circumference:k,outerRadius:j,innerRadius:v};N&&(M.options=S||this.resolveDataElementOptions(A,O.active?"active":a)),_+=k,this.updateElement(O,A,M,a)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,a;for(a=0;a<n.length;a++){const o=e._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!n[a].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?zt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,a=s.data.labels||[],o=Jy(n._parsed[e],s.options.locale);return{label:a[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const s=this.chart;let a,o,c,u,f;if(!e){for(a=0,o=s.data.datasets.length;a<o;++a)if(s.isDatasetVisible(a)){c=s.getDatasetMeta(a),e=c.data,u=c.controller;break}}if(!e)return 0;for(a=0,o=e.length;a<o;++a)f=u.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,a=e.length;s<a;++s){const o=this.resolveDataElementOptions(s);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(Ye(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Me(Ic,"id","doughnut"),Me(Ic,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Me(Ic,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Me(Ic,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:a}}=e.legend.options;return n.labels.map((o,c)=>{const f=e.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class Vx extends Ic{}Me(Vx,"id","pie"),Me(Vx,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ci(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lb{constructor(e){Me(this,"options");this.options=e||{}}static override(e){Object.assign(lb.prototype,e)}init(){}formats(){return Ci()}parse(){return Ci()}format(){return Ci()}add(){return Ci()}diff(){return Ci()}startOf(){return Ci()}endOf(){return Ci()}}var kB={_date:lb};function MB(t,e,n,s){const{controller:a,data:o,_sorted:c}=t,u=a._cachedMeta.iScale,f=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&o.length){const m=u._reversePixels?K8:Px;if(s){if(a._sharedOptions){const p=o[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const b=m(o,e,n-g),v=m(o,e,n+g);return{lo:b.lo,hi:v.hi}}}}else{const p=m(o,e,n);if(f){const{vScale:g}=a._cachedMeta,{_parsed:b}=t,v=b.slice(0,p.lo+1).reverse().findIndex(S=>!mt(S[g.axis]));p.lo-=Math.max(0,v);const j=b.slice(p.hi).findIndex(S=>!mt(S[g.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:o.length-1}}function Uf(t,e,n,s,a){const o=t.getSortedVisibleDatasetMetas(),c=n[e];for(let u=0,f=o.length;u<f;++u){const{index:m,data:p}=o[u],{lo:g,hi:b}=MB(o[u],e,c,a);for(let v=g;v<=b;++v){const j=p[v];j.skip||s(j,m,v)}}}function AB(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,a){const o=e?Math.abs(s.x-a.x):0,c=n?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Bg(t,e,n,s,a){const o=[];return!a&&!t.isPointInArea(e)||Uf(t,n,e,function(u,f,m){!a&&!wd(u,t.chartArea,0)||u.inRange(e.x,e.y,s)&&o.push({element:u,datasetIndex:f,index:m})},!0),o}function DB(t,e,n,s){let a=[];function o(c,u,f){const{startAngle:m,endAngle:p}=c.getProps(["startAngle","endAngle"],s),{angle:g}=z_(c,{x:e.x,y:e.y});vd(g,m,p)&&a.push({element:c,datasetIndex:u,index:f})}return Uf(t,n,e,o),a}function RB(t,e,n,s,a,o){let c=[];const u=AB(n);let f=Number.POSITIVE_INFINITY;function m(p,g,b){const v=p.inRange(e.x,e.y,a);if(s&&!v)return;const j=p.getCenterPoint(a);if(!(!!o||t.isPointInArea(j))&&!v)return;const N=u(e,j);N<f?(c=[{element:p,datasetIndex:g,index:b}],f=N):N===f&&c.push({element:p,datasetIndex:g,index:b})}return Uf(t,n,e,m),c}function Vg(t,e,n,s,a,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!s?DB(t,e,n,a):RB(t,e,n,s,a,o)}function aj(t,e,n,s,a){const o=[],c=n==="x"?"inXRange":"inYRange";let u=!1;return Uf(t,n,e,(f,m,p)=>{f[c]&&f[c](e[n],a)&&(o.push({element:f,datasetIndex:m,index:p}),u=u||f.inRange(e.x,e.y,a))}),s&&!u?[]:o}var OB={modes:{index(t,e,n,s){const a=Ai(e,t),o=n.axis||"x",c=n.includeInvisible||!1,u=n.intersect?Bg(t,a,o,s,c):Vg(t,a,o,!1,s,c),f=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const p=u[0].index,g=m.data[p];g&&!g.skip&&f.push({element:g,datasetIndex:m.index,index:p})}),f):[]},dataset(t,e,n,s){const a=Ai(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;let u=n.intersect?Bg(t,a,o,s,c):Vg(t,a,o,!1,s,c);if(u.length>0){const f=u[0].datasetIndex,m=t.getDatasetMeta(f).data;u=[];for(let p=0;p<m.length;++p)u.push({element:m[p],datasetIndex:f,index:p})}return u},point(t,e,n,s){const a=Ai(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return Bg(t,a,o,s,c)},nearest(t,e,n,s){const a=Ai(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return Vg(t,a,o,n.intersect,s,c)},x(t,e,n,s){const a=Ai(e,t);return aj(t,a,"x",n.intersect,s)},y(t,e,n,s){const a=Ai(e,t);return aj(t,a,"y",n.intersect,s)}}};const nE=["left","top","right","bottom"];function Rc(t,e){return t.filter(n=>n.pos===e)}function ij(t,e){return t.filter(n=>nE.indexOf(n.pos)===-1&&n.box.axis===e)}function Oc(t,e){return t.sort((n,s)=>{const a=e?s:n,o=e?n:s;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function LB(t){const e=[];let n,s,a,o,c,u;for(n=0,s=(t||[]).length;n<s;++n)a=t[n],{position:o,options:{stack:c,stackWeight:u=1}}=a,e.push({index:n,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:u});return e}function PB(t){const e={};for(const n of t){const{stack:s,pos:a,stackWeight:o}=n;if(!s||!nE.includes(a))continue;const c=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function zB(t,e){const n=PB(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let o,c,u;for(o=0,c=t.length;o<c;++o){u=t[o];const{fullSize:f}=u.box,m=n[u.stack],p=m&&u.stackWeight/m.weight;u.horizontal?(u.width=p?p*s:f&&e.availableWidth,u.height=a):(u.width=s,u.height=p?p*a:f&&e.availableHeight)}return n}function BB(t){const e=LB(t),n=Oc(e.filter(m=>m.box.fullSize),!0),s=Oc(Rc(e,"left"),!0),a=Oc(Rc(e,"right")),o=Oc(Rc(e,"top"),!0),c=Oc(Rc(e,"bottom")),u=ij(e,"x"),f=ij(e,"y");return{fullSize:n,leftAndTop:s.concat(o),rightAndBottom:a.concat(f).concat(c).concat(u),chartArea:Rc(e,"chartArea"),vertical:s.concat(a).concat(f),horizontal:o.concat(c).concat(u)}}function oj(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function sE(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function VB(t,e,n,s){const{pos:a,box:o}=n,c=t.maxPadding;if(!Ge(a)){n.size&&(t[a]-=n.size);const g=s[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,t[a]+=n.size}o.getPadding&&sE(c,o.getPadding());const u=Math.max(0,e.outerWidth-oj(c,t,"left","right")),f=Math.max(0,e.outerHeight-oj(c,t,"top","bottom")),m=u!==t.w,p=f!==t.h;return t.w=u,t.h=f,n.horizontal?{same:m,other:p}:{same:p,other:m}}function UB(t){const e=t.maxPadding;function n(s){const a=Math.max(e[s]-t[s],0);return t[s]+=a,a}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function HB(t,e){const n=e.maxPadding;function s(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(e[c],n[c])}),o}return s(t?["left","right"]:["top","bottom"])}function qc(t,e,n,s){const a=[];let o,c,u,f,m,p;for(o=0,c=t.length,m=0;o<c;++o){u=t[o],f=u.box,f.update(u.width||e.w,u.height||e.h,HB(u.horizontal,e));const{same:g,other:b}=VB(e,n,u,s);m|=g&&a.length,p=p||b,f.fullSize||a.push(u)}return m&&qc(a,e,n,s)||p}function Ch(t,e,n,s,a){t.top=n,t.left=e,t.right=e+s,t.bottom=n+a,t.width=s,t.height=a}function lj(t,e,n,s){const a=n.padding;let{x:o,y:c}=e;for(const u of t){const f=u.box,m=s[u.stack]||{placed:0,weight:1},p=u.stackWeight/m.weight||1;if(u.horizontal){const g=e.w*p,b=m.size||f.height;bd(m.start)&&(c=m.start),f.fullSize?Ch(f,a.left,c,n.outerWidth-a.right-a.left,b):Ch(f,e.left+m.placed,c,g,b),m.start=c,m.placed+=g,c=f.bottom}else{const g=e.h*p,b=m.size||f.width;bd(m.start)&&(o=m.start),f.fullSize?Ch(f,o,a.top,b,n.outerHeight-a.bottom-a.top):Ch(f,o,e.top+m.placed,b,g),m.start=o,m.placed+=g,o=f.right}}e.x=o,e.y=c}var bs={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const a=Ns(t.options.layout.padding),o=Math.max(e-a.width,0),c=Math.max(n-a.height,0),u=BB(t.boxes),f=u.vertical,m=u.horizontal;at(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=f.reduce((S,N)=>N.box.options&&N.box.options.display===!1?S:S+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),b=Object.assign({},a);sE(b,Ns(s));const v=Object.assign({maxPadding:b,w:o,h:c,x:a.left,y:a.top},a),j=zB(f.concat(m),g);qc(u.fullSize,v,g,j),qc(f,v,g,j),qc(m,v,g,j)&&qc(f,v,g,j),UB(v),lj(u.leftAndTop,v,g,j),v.x+=v.w,v.y+=v.h,lj(u.rightAndBottom,v,g,j),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},at(u.chartArea,S=>{const N=S.box;Object.assign(N,t.chartArea),N.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class rE{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,a){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,a?Math.floor(n/a):s)}}isAttached(e){return!0}updateConfig(e){}}class FB extends rE{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Gh="$chartjs",$B={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cj=t=>t===null||t==="";function IB(t,e){const n=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[Gh]={initial:{height:s,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",cj(a)){const o=Y2(t,"width");o!==void 0&&(t.width=o)}if(cj(s))if(t.style.height==="")t.height=t.width/(e||2);else{const o=Y2(t,"height");o!==void 0&&(t.height=o)}return t}const aE=$z?{passive:!0}:!1;function qB(t,e,n){t&&t.addEventListener(e,n,aE)}function YB(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,aE)}function XB(t,e){const n=$B[t.type]||t.type,{x:s,y:a}=Ai(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:a!==void 0?a:null}}function gf(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function WB(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||gf(u.addedNodes,s),c=c&&!gf(u.removedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}function GB(t,e,n){const s=t.canvas,a=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||gf(u.removedNodes,s),c=c&&!gf(u.addedNodes,s);c&&n()});return a.observe(document,{childList:!0,subtree:!0}),a}const Sd=new Map;let dj=0;function iE(){const t=window.devicePixelRatio;t!==dj&&(dj=t,Sd.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function KB(t,e){Sd.size||window.addEventListener("resize",iE),Sd.set(t,e)}function QB(t){Sd.delete(t),Sd.size||window.removeEventListener("resize",iE)}function ZB(t,e,n){const s=t.canvas,a=s&&ob(s);if(!a)return;const o=H_((u,f)=>{const m=a.clientWidth;n(u,f),m<a.clientWidth&&n()},window),c=new ResizeObserver(u=>{const f=u[0],m=f.contentRect.width,p=f.contentRect.height;m===0&&p===0||o(m,p)});return c.observe(a),KB(t,o),c}function Ug(t,e,n){n&&n.disconnect(),e==="resize"&&QB(t)}function JB(t,e,n){const s=t.canvas,a=H_(o=>{t.ctx!==null&&n(XB(o,t))},t);return qB(s,e,a),a}class eV extends rE{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(IB(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[Gh])return!1;const s=n[Gh].initial;["height","width"].forEach(o=>{const c=s[o];mt(c)?n.removeAttribute(o):n.setAttribute(o,c)});const a=s.style||{};return Object.keys(a).forEach(o=>{n.style[o]=a[o]}),n.width=n.width,delete n[Gh],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const a=e.$proxies||(e.$proxies={}),c={attach:WB,detach:GB,resize:ZB}[n]||JB;a[n]=c(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),a=s[n];if(!a)return;({attach:Ug,detach:Ug,resize:Ug}[n]||YB)(e,n,a),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,a){return Fz(e,n,s,a)}isAttached(e){const n=e&&ob(e);return!!(n&&n.isConnected)}}function tV(t){return!ib()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?FB:eV}var zh;let Gr=(zh=class{constructor(){Me(this,"x");Me(this,"y");Me(this,"active",!1);Me(this,"options");Me(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return ff(this.x)&&ff(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const a={};return e.forEach(o=>{a[o]=s[o]&&s[o].active()?s[o]._to:this[o]}),a}},Me(zh,"defaults",{}),Me(zh,"defaultRoutes"),zh);function nV(t,e){const n=t.options.ticks,s=sV(t),a=Math.min(n.maxTicksLimit||s,s),o=n.major.enabled?aV(e):[],c=o.length,u=o[0],f=o[c-1],m=[];if(c>a)return iV(e,m,o,c/a),m;const p=rV(o,e,a);if(c>0){let g,b;const v=c>1?Math.round((f-u)/(c-1)):null;for(kh(e,m,p,mt(v)?0:u-v,u),g=0,b=c-1;g<b;g++)kh(e,m,p,o[g],o[g+1]);return kh(e,m,p,f,mt(v)?e.length:f+v),m}return kh(e,m,p),m}function sV(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),a=t._maxLength/n;return Math.floor(Math.min(s,a))}function rV(t,e,n){const s=oV(t),a=e.length/n;if(!s)return Math.max(a,1);const o=$8(s);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function aV(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function iV(t,e,n,s){let a=0,o=n[0],c;for(s=Math.ceil(s),c=0;c<t.length;c++)c===o&&(e.push(t[c]),a++,o=n[a*s])}function kh(t,e,n,s,a){const o=Ye(s,0),c=Math.min(Ye(a,t.length),t.length);let u=0,f,m,p;for(n=Math.ceil(n),a&&(f=a-s,n=f/Math.floor(f/n)),p=o;p<0;)u++,p=Math.round(o+u*n);for(m=Math.max(o,0);m<c;m++)m===p&&(e.push(t[m]),u++,p=Math.round(o+u*n))}function oV(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const lV=t=>t==="left"?"right":t==="right"?"left":t,uj=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,hj=(t,e)=>Math.min(e||t,t);function fj(t,e){const n=[],s=t.length/e,a=t.length;let o=0;for(;o<a;o+=s)n.push(t[Math.floor(o)]);return n}function cV(t,e,n){const s=t.ticks.length,a=Math.min(e,s-1),o=t._startPixel,c=t._endPixel,u=1e-6;let f=t.getPixelForTick(a),m;if(!(n&&(s===1?m=Math.max(f-o,c-f):e===0?m=(t.getPixelForTick(1)-f)/2:m=(f-t.getPixelForTick(a-1))/2,f+=a<e?m:-m,f<o-u||f>c+u)))return f}function dV(t,e){at(t,n=>{const s=n.gc,a=s.length/2;let o;if(a>e){for(o=0;o<a;++o)delete n.data[s[o]];s.splice(0,a)}})}function Lc(t){return t.drawTicks?t.tickLength:0}function mj(t,e){if(!t.display)return 0;const n=Tn(t.font,e),s=Ns(t.padding);return(an(t.text)?t.text.length:1)*n.lineHeight+s.height}function uV(t,e){return Xi(t,{scale:e,type:"scale"})}function hV(t,e,n){return Xi(t,{tick:n,index:e,type:"tick"})}function fV(t,e,n){let s=Qy(t);return(n&&e!=="right"||!n&&e==="right")&&(s=lV(s)),s}function mV(t,e,n,s){const{top:a,left:o,bottom:c,right:u,chart:f}=t,{chartArea:m,scales:p}=f;let g=0,b,v,j;const S=c-a,N=u-o;if(t.isHorizontal()){if(v=Sn(s,o,u),Ge(n)){const _=Object.keys(n)[0],A=n[_];j=p[_].getPixelForValue(A)+S-e}else n==="center"?j=(m.bottom+m.top)/2+S-e:j=uj(t,n,e);b=u-o}else{if(Ge(n)){const _=Object.keys(n)[0],A=n[_];v=p[_].getPixelForValue(A)-N+e}else n==="center"?v=(m.left+m.right)/2-N+e:v=uj(t,n,e);j=Sn(s,c,a),g=n==="left"?-on:on}return{titleX:v,titleY:j,maxWidth:b,rotation:g}}class pl extends Gr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:a}=this;return e=Js(e,Number.POSITIVE_INFINITY),n=Js(n,Number.NEGATIVE_INFINITY),s=Js(s,Number.POSITIVE_INFINITY),a=Js(a,Number.NEGATIVE_INFINITY),{min:Js(e,s),max:Js(n,a),minDefined:Ss(e),maxDefined:Ss(n)}}getMinMax(e){let{min:n,max:s,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:n,max:s};const u=this.getMatchingVisibleMetas();for(let f=0,m=u.length;f<m;++f)c=u[f].controller.getMinMax(this,e),a||(n=Math.min(n,c.min)),o||(s=Math.max(s,c.max));return n=o&&n>s?s:n,s=a&&n>s?n:s,{min:Js(n,Js(s,n)),max:Js(s,Js(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){yt(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:a,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=vz(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?fj(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=nV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){yt(this.options.afterUpdate,[this])}beforeSetDimensions(){yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){yt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),yt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,a,o;for(s=0,a=e.length;s<a;s++)o=e[s],o.label=yt(n.callback,[o.value,s,e],this)}afterTickToLabelConversion(){yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=hj(this.ticks.length,e.ticks.maxTicksLimit),a=n.minRotation||0,o=n.maxRotation;let c=a,u,f,m;if(!this._isVisible()||!n.display||a>=o||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),g=p.widest.width,b=p.highest.height,v=Wn(this.chart.width-g,0,this.maxWidth);u=e.offset?this.maxWidth/s:v/(s-1),g+6>u&&(u=v/(s-(e.offset?.5:1)),f=this.maxHeight-Lc(e.grid)-n.padding-mj(e.title,this.chart.options.font),m=Math.sqrt(g*g+b*b),c=X8(Math.min(Math.asin(Wn((p.highest.height+6)/u,-1,1)),Math.asin(Wn(f/m,-1,1))-Math.asin(Wn(b/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){yt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:a,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=mj(a,n.options.font);if(u?(e.width=this.maxWidth,e.height=Lc(o)+f):(e.height=this.maxHeight,e.width=Lc(o)+f),s.display&&this.ticks.length){const{first:m,last:p,widest:g,highest:b}=this._getLabelSizes(),v=s.padding*2,j=Vr(this.labelRotation),S=Math.cos(j),N=Math.sin(j);if(u){const _=s.mirror?0:N*g.width+S*b.height;e.height=Math.min(this.maxHeight,e.height+_+v)}else{const _=s.mirror?0:S*g.width+N*b.height;e.width=Math.min(this.maxWidth,e.width+_+v)}this._calculatePadding(m,p,N,S)}}this._handleMargins(),u?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,a){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,v=0;f?m?(b=a*e.width,v=s*n.height):(b=s*e.height,v=a*n.width):o==="start"?v=n.width:o==="end"?b=e.width:o!=="inner"&&(b=e.width/2,v=n.width/2),this.paddingLeft=Math.max((b-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-g+c)*this.width/(this.width-g),0)}else{let p=n.height/2,g=e.height/2;o==="start"?(p=0,g=e.height):o==="end"&&(p=n.height,g=0),this.paddingTop=p+c,this.paddingBottom=g+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){yt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)mt(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=fj(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:a,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(n/hj(n,s));let m=0,p=0,g,b,v,j,S,N,_,A,k,O,M;for(g=0;g<n;g+=f){if(j=e[g].label,S=this._resolveTickFontOptions(g),a.font=N=S.string,_=o[N]=o[N]||{data:{},gc:[]},A=S.lineHeight,k=O=0,!mt(j)&&!an(j))k=H2(a,_.data,_.gc,k,j),O=A;else if(an(j))for(b=0,v=j.length;b<v;++b)M=j[b],!mt(M)&&!an(M)&&(k=H2(a,_.data,_.gc,k,M),O+=A);c.push(k),u.push(O),m=Math.max(k,m),p=Math.max(O,p)}dV(o,n);const P=c.indexOf(m),V=u.indexOf(p),D=U=>({width:c[U]||0,height:u[U]||0});return{first:D(0),last:D(n-1),widest:D(P),highest:D(V),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return G8(this._alignToPixels?Ti(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=hV(this.getContext(),e,s))}return this.$context||(this.$context=uV(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Vr(this.labelRotation),s=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*s>u*a?u/s:f/a:f*a<u*s?f/s:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,a=this.options,{grid:o,position:c,border:u}=a,f=o.offset,m=this.isHorizontal(),g=this.ticks.length+(f?1:0),b=Lc(o),v=[],j=u.setContext(this.getContext()),S=j.display?j.width:0,N=S/2,_=function(B){return Ti(s,B,S)};let A,k,O,M,P,V,D,U,Y,G,X,ne;if(c==="top")A=_(this.bottom),V=this.bottom-b,U=A-N,G=_(e.top)+N,ne=e.bottom;else if(c==="bottom")A=_(this.top),G=e.top,ne=_(e.bottom)-N,V=A+N,U=this.top+b;else if(c==="left")A=_(this.right),P=this.right-b,D=A-N,Y=_(e.left)+N,X=e.right;else if(c==="right")A=_(this.left),Y=e.left,X=_(e.right)-N,P=A+N,D=this.left+b;else if(n==="x"){if(c==="center")A=_((e.top+e.bottom)/2+.5);else if(Ge(c)){const B=Object.keys(c)[0],F=c[B];A=_(this.chart.scales[B].getPixelForValue(F))}G=e.top,ne=e.bottom,V=A+N,U=V+b}else if(n==="y"){if(c==="center")A=_((e.left+e.right)/2);else if(Ge(c)){const B=Object.keys(c)[0],F=c[B];A=_(this.chart.scales[B].getPixelForValue(F))}P=A-N,D=P-b,Y=e.left,X=e.right}const fe=Ye(a.ticks.maxTicksLimit,g),K=Math.max(1,Math.ceil(g/fe));for(k=0;k<g;k+=K){const B=this.getContext(k),F=o.setContext(B),q=u.setContext(B),ee=F.lineWidth,H=F.color,Z=q.dash||[],ae=q.dashOffset,le=F.tickWidth,pe=F.tickColor,je=F.tickBorderDash||[],me=F.tickBorderDashOffset;O=cV(this,k,f),O!==void 0&&(M=Ti(s,O,ee),m?P=D=Y=X=M:V=U=G=ne=M,v.push({tx1:P,ty1:V,tx2:D,ty2:U,x1:Y,y1:G,x2:X,y2:ne,width:ee,color:H,borderDash:Z,borderDashOffset:ae,tickWidth:le,tickColor:pe,tickBorderDash:je,tickBorderDashOffset:me}))}return this._ticksLength=g,this._borderValue=A,v}_computeLabelItems(e){const n=this.axis,s=this.options,{position:a,ticks:o}=s,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:m,padding:p,mirror:g}=o,b=Lc(s.grid),v=b+p,j=g?-p:v,S=-Vr(this.labelRotation),N=[];let _,A,k,O,M,P,V,D,U,Y,G,X,ne="middle";if(a==="top")P=this.bottom-j,V=this._getXAxisLabelAlignment();else if(a==="bottom")P=this.top+j,V=this._getXAxisLabelAlignment();else if(a==="left"){const K=this._getYAxisLabelAlignment(b);V=K.textAlign,M=K.x}else if(a==="right"){const K=this._getYAxisLabelAlignment(b);V=K.textAlign,M=K.x}else if(n==="x"){if(a==="center")P=(e.top+e.bottom)/2+v;else if(Ge(a)){const K=Object.keys(a)[0],B=a[K];P=this.chart.scales[K].getPixelForValue(B)+v}V=this._getXAxisLabelAlignment()}else if(n==="y"){if(a==="center")M=(e.left+e.right)/2-v;else if(Ge(a)){const K=Object.keys(a)[0],B=a[K];M=this.chart.scales[K].getPixelForValue(B)}V=this._getYAxisLabelAlignment(b).textAlign}n==="y"&&(f==="start"?ne="top":f==="end"&&(ne="bottom"));const fe=this._getLabelSizes();for(_=0,A=u.length;_<A;++_){k=u[_],O=k.label;const K=o.setContext(this.getContext(_));D=this.getPixelForTick(_)+o.labelOffset,U=this._resolveTickFontOptions(_),Y=U.lineHeight,G=an(O)?O.length:1;const B=G/2,F=K.color,q=K.textStrokeColor,ee=K.textStrokeWidth;let H=V;c?(M=D,V==="inner"&&(_===A-1?H=this.options.reverse?"left":"right":_===0?H=this.options.reverse?"right":"left":H="center"),a==="top"?m==="near"||S!==0?X=-G*Y+Y/2:m==="center"?X=-fe.highest.height/2-B*Y+Y:X=-fe.highest.height+Y/2:m==="near"||S!==0?X=Y/2:m==="center"?X=fe.highest.height/2-B*Y:X=fe.highest.height-G*Y,g&&(X*=-1),S!==0&&!K.showLabelBackdrop&&(M+=Y/2*Math.sin(S))):(P=D,X=(1-G)*Y/2);let Z;if(K.showLabelBackdrop){const ae=Ns(K.backdropPadding),le=fe.heights[_],pe=fe.widths[_];let je=X-ae.top,me=0-ae.left;switch(ne){case"middle":je-=le/2;break;case"bottom":je-=le;break}switch(V){case"center":me-=pe/2;break;case"right":me-=pe;break;case"inner":_===A-1?me-=pe:_>0&&(me-=pe/2);break}Z={left:me,top:je,width:pe+ae.width,height:le+ae.height,color:K.backdropColor}}N.push({label:O,font:U,textOffset:X,options:{rotation:S,color:F,strokeColor:q,strokeWidth:ee,textAlign:H,textBaseline:ne,translation:[M,P],backdrop:Z}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Vr(this.labelRotation))return e==="top"?"left":"right";let a="center";return n.align==="start"?a="left":n.align==="end"?a="right":n.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),u=e+o,f=c.widest.width;let m,p;return n==="left"?a?(p=this.right+o,s==="near"?m="left":s==="center"?(m="center",p+=f/2):(m="right",p+=f)):(p=this.right-u,s==="near"?m="right":s==="center"?(m="center",p-=f/2):(m="left",p=this.left)):n==="right"?a?(p=this.left+o,s==="near"?m="right":s==="center"?(m="center",p-=f/2):(m="left",p-=f)):(p=this.left+u,s==="near"?m="left":s==="center"?(m="center",p+=f/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:a,width:o,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,a,o,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const a=this.ticks.findIndex(o=>o.value===e);return a>=0?n.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const u=(f,m,p)=>{!p.width||!p.color||(s.save(),s.lineWidth=p.width,s.strokeStyle=p.color,s.setLineDash(p.borderDash||[]),s.lineDashOffset=p.borderDashOffset,s.beginPath(),s.moveTo(f.x,f.y),s.lineTo(m.x,m.y),s.stroke(),s.restore())};if(n.display)for(o=0,c=a.length;o<c;++o){const f=a[o];n.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:a}}=this,o=s.setContext(this.getContext()),c=s.display?o.width:0;if(!c)return;const u=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,p,g,b;this.isHorizontal()?(m=Ti(e,this.left,c)-c/2,p=Ti(e,this.right,u)+u/2,g=b=f):(g=Ti(e,this.top,c)-c/2,b=Ti(e,this.bottom,u)+u/2,m=p=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(m,g),n.lineTo(p,b),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&eb(s,a);const o=this.getLabelItems(e);for(const c of o){const u=c.options,f=c.font,m=c.label,p=c.textOffset;jd(s,m,0,p,f,u)}a&&tb(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:a}}=this;if(!s.display)return;const o=Tn(s.font),c=Ns(s.padding),u=s.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Ge(n)?(f+=c.bottom,an(s.text)&&(f+=o.lineHeight*(s.text.length-1))):f+=c.top;const{titleX:m,titleY:p,maxWidth:g,rotation:b}=mV(this,f,n,u);jd(e,s.text,0,0,o,{color:s.color,maxWidth:g,rotation:b,textAlign:fV(u,n,a),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=Ye(e.grid&&e.grid.z,-1),a=Ye(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==pl.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:s,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let o,c;for(o=0,c=n.length;o<c;++o){const u=n[o];u[s]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Tn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mh{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;xV(n)&&(s=this.register(n));const a=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in a||(a[o]=e,pV(e,c,s),this.override&&Xt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,a=this.scope;s in n&&delete n[s],a&&s in Xt[a]&&(delete Xt[a][s],this.override&&delete Yi[s])}}function pV(t,e,n){const s=yd(Object.create(null),[n?Xt.get(n):{},Xt.get(e),t.defaults]);Xt.set(e,s),t.defaultRoutes&&gV(e,t.defaultRoutes),t.descriptors&&Xt.describe(e,t.descriptors)}function gV(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),a=s.pop(),o=[t].concat(s).join("."),c=e[n].split("."),u=c.pop(),f=c.join(".");Xt.route(o,a,f,u)})}function xV(t){return"id"in t&&"defaults"in t}class yV{constructor(){this.controllers=new Mh(el,"datasets",!0),this.elements=new Mh(Gr,"elements"),this.plugins=new Mh(Object,"plugins"),this.scales=new Mh(pl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(a=>{const o=s||this._getRegistryForType(a);s||o.isForType(a)||o===this.plugins&&a.id?this._exec(e,o,a):at(a,c=>{const u=s||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,n,s){const a=Gy(e);yt(s["before"+a],[],s),n[e](s),yt(s["after"+a],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const a=n.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var tr=new yV;class bV{constructor(){this._init=[]}notify(e,n,s,a){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(o,e,n,s);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,s,a){a=a||{};for(const o of e){const c=o.plugin,u=c[s],f=[n,a,o.options];if(yt(u,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){mt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,a=Ye(s.options&&s.options.plugins,{}),o=vV(s);return a===!1&&!n?[]:jV(e,o,a,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,a=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(a(n,s),e,"stop"),this._notify(a(s,n),e,"start")}}function vV(t){const e={},n=[],s=Object.keys(tr.plugins.items);for(let o=0;o<s.length;o++)n.push(tr.getPlugin(s[o]));const a=t.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function wV(t,e){return!e&&t===!1?null:t===!0?{}:t}function jV(t,{plugins:e,localIds:n},s,a){const o=[],c=t.getContext();for(const u of e){const f=u.id,m=wV(s[f],a);m!==null&&o.push({plugin:u,options:SV(t.config,{plugin:u,local:n[f]},m,c)})}return o}function SV(t,{plugin:e,local:n},s,a){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(s,o);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ux(t,e){const n=Xt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function NV(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function _V(t,e){return t===e?"_index_":"_value_"}function pj(t){if(t==="x"||t==="y"||t==="r")return t}function EV(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Hx(t,...e){if(pj(t))return t;for(const n of e){const s=n.axis||EV(n.position)||t.length>1&&pj(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function gj(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function TV(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return gj(t,"x",n[0])||gj(t,"y",n[0])}return{}}function CV(t,e){const n=Yi[t.type]||{scales:{}},s=e.scales||{},a=Ux(t.type,e),o=Object.create(null);return Object.keys(s).forEach(c=>{const u=s[c];if(!Ge(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Hx(c,u,TV(c,t),Xt.scales[u.type]),m=_V(f,a),p=n.scales||{};o[c]=td(Object.create(null),[{axis:f},u,p[f],p[m]])}),t.data.datasets.forEach(c=>{const u=c.type||t.type,f=c.indexAxis||Ux(u,e),p=(Yi[u]||{}).scales||{};Object.keys(p).forEach(g=>{const b=NV(g,f),v=c[b+"AxisID"]||b;o[v]=o[v]||Object.create(null),td(o[v],[{axis:b},s[v],p[g]])})}),Object.keys(o).forEach(c=>{const u=o[c];td(u,[Xt.scales[u.type],Xt.scale])}),o}function oE(t){const e=t.options||(t.options={});e.plugins=Ye(e.plugins,{}),e.scales=CV(t,e)}function lE(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function kV(t){return t=t||{},t.data=lE(t.data),oE(t),t}const xj=new Map,cE=new Set;function Ah(t,e){let n=xj.get(t);return n||(n=e(),xj.set(t,n),cE.add(n)),n}const Pc=(t,e,n)=>{const s=qi(e,n);s!==void 0&&t.add(s)};class MV{constructor(e){this._config=kV(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=lE(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),oE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ah(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Ah(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Ah(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return Ah(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let a=s.get(e);return(!a||n)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,n,s){const{options:a,type:o}=this,c=this._cachedScopes(e,s),u=c.get(n);if(u)return u;const f=new Set;n.forEach(p=>{e&&(f.add(e),p.forEach(g=>Pc(f,e,g))),p.forEach(g=>Pc(f,a,g)),p.forEach(g=>Pc(f,Yi[o]||{},g)),p.forEach(g=>Pc(f,Xt,g)),p.forEach(g=>Pc(f,zx,g))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),cE.has(n)&&c.set(n,m),m}chartOptionScopes(){const{options:e,type:n}=this;return[e,Yi[n]||{},Xt.datasets[n]||{},{type:n},Xt,zx]}resolveNamedOptions(e,n,s,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=yj(this._resolverCache,e,a);let f=c;if(DV(c,n)){o.$shared=!1,s=qa(s)?s():s;const m=this.createResolver(e,s,u);f=al(c,s,m)}for(const m of n)o[m]=f[m];return o}createResolver(e,n,s=[""],a){const{resolver:o}=yj(this._resolverCache,e,s);return Ge(n)?al(o,n,void 0,a):o}}function yj(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const a=n.join();let o=s.get(a);return o||(o={resolver:sb(e,n),subPrefixes:n.filter(u=>!u.toLowerCase().includes("hover"))},s.set(a,o)),o}const AV=t=>Ge(t)&&Object.getOwnPropertyNames(t).some(e=>qa(t[e]));function DV(t,e){const{isScriptable:n,isIndexable:s}=q_(t);for(const a of e){const o=n(a),c=s(a),u=(c||o)&&t[a];if(o&&(qa(u)||AV(u))||c&&an(u))return!0}return!1}var RV="4.4.9";const OV=["top","bottom","left","right","chartArea"];function bj(t,e){return t==="top"||t==="bottom"||OV.indexOf(t)===-1&&e==="x"}function vj(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function wj(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),yt(n&&n.onComplete,[t],e)}function LV(t){const e=t.chart,n=e.options.animation;yt(n&&n.onProgress,[t],e)}function dE(t){return ib()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Kh={},jj=t=>{const e=dE(t);return Object.values(Kh).filter(n=>n.canvas===e).pop()};function PV(t,e,n){const s=Object.keys(t);for(const a of s){const o=+a;if(o>=e){const c=t[a];delete t[a],(n>0||o>e)&&(t[o+n]=c)}}}function zV(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}var Da;let Hf=(Da=class{static register(...e){tr.add(...e),Sj()}static unregister(...e){tr.remove(...e),Sj()}constructor(e,n){const s=this.config=new MV(n),a=dE(e),o=jj(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||tV(a)),this.platform.updateConfig(s);const u=this.platform.acquireContext(a,c.aspectRatio),f=u&&u.canvas,m=f&&f.height,p=f&&f.width;if(this.id=O8(),this.ctx=u,this.canvas=f,this.width=p,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new bV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=J8(g=>this.update(g),c.resizeDelay||0),this._dataChanges=[],Kh[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Pr.listen(this,"complete",wj),Pr.listen(this,"progress",LV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:a,_aspectRatio:o}=this;return mt(e)?n&&o?o:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return tr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():q2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return F2(this.canvas,this.ctx),this}stop(){return Pr.stop(this),this}resize(e,n){Pr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,a=this.canvas,o=s.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,n,o),u=s.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,q2(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),yt(s.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};at(n,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,a=Object.keys(s).reduce((c,u)=>(c[u]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const u=n[c],f=Hx(c,u),m=f==="r",p=f==="x";return{options:u,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),at(o,c=>{const u=c.options,f=u.id,m=Hx(f,u),p=Ye(u.type,c.dtype);(u.position===void 0||bj(u.position,m)!==bj(c.dposition))&&(u.position=c.dposition),a[f]=!0;let g=null;if(f in s&&s[f].type===p)g=s[f];else{const b=tr.getScale(p);g=new b({id:f,type:p,ctx:this.ctx,chart:this}),s[g.id]=g}g.init(u,e)}),at(a,(c,u)=>{c||delete s[u]}),at(s,c=>{bs.configure(this,c,c.options),bs.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((a,o)=>a.index-o.index),s>n){for(let a=n;a<s;++a)this._destroyDatasetMeta(a);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(vj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,a)=>{n.filter(o=>o===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=n.length;s<a;s++){const o=n[s];let c=this.getDatasetMeta(s);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(s),c=this.getDatasetMeta(s)),c.type=u,c.indexAxis=o.indexAxis||Ux(u,this.options),c.order=o.order||0,c.index=s,c.label=""+o.label,c.visible=this.isDatasetVisible(s),c.controller)c.controller.updateIndex(s),c.controller.linkScales();else{const f=tr.getController(u),{datasetElementType:m,dataElementType:p}=Xt.datasets[u];Object.assign(f,{dataElementType:tr.getElement(p),datasetElementType:m&&tr.getElement(m)}),c.controller=new f(this,s),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){at(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:g}=this.getDatasetMeta(m),b=!a&&o.indexOf(g)===-1;g.buildOrUpdateElements(b),c=Math.max(+g.getMaxOverflow(),c)}c=this._minPadding=s.layout.autoPadding?c:0,this._updateLayout(c),a||at(o,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vj("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){at(this.scales,e=>{bs.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!D2(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:o}of n){const c=s==="_removeElements"?-o:o;PV(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=o=>new Set(e.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),a=s(0);for(let o=1;o<n;o++)if(!D2(a,s(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;bs.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],at(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,qa(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(n),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pr.has(this)?this.attached&&!Pr.running(this)&&Pr.start(this):(this.draw(),wj({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let a,o;for(a=0,o=n.length;a<o;++a){const c=n[a];(!e||c.visible)&&s.push(c)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=sB(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&eb(n,a),e.controller.draw(),a&&tb(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return wd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,a){const o=OB.modes[n];return typeof o=="function"?o(this,e,s,a):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let a=s.filter(o=>o&&o._dataset===n).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Xi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const a=s?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,a);bd(n)?(o.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),c.update(o,{visible:s}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Pr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),F2(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Kh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(o,c)=>{n.addEventListener(this,o,c),e[o]=c},a=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};at(this.options.events,o=>s(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(f,m)=>{n.addEventListener(this,f,m),e[f]=m},a=(f,m)=>{e[f]&&(n.removeEventListener(this,f,m),delete e[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),s("resize",o),s("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),s("attach",u)},n.isAttached(this.canvas)?u():c()}unbindEvents(){at(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},at(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const a=s?"set":"remove";let o,c,u,f;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),u=0,f=e.length;u<f;++u){c=e[u];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!df(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const a=this.options.hover,o=(f,m)=>f.filter(p=>!m.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),c=o(n,e),u=s?e:o(e,n);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const o=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(o||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:a=[],options:o}=this,c=n,u=this._getActiveElements(e,a,s,c),f=U8(e),m=zV(e,this._lastEvent,s,f);s&&(this._lastEvent=null,yt(o.onHover,[e,u,this],this),f&&yt(o.onClick,[e,u,this],this));const p=!df(u,a);return(p||n)&&(this._active=u,this._updateHoverStyles(u,a,n)),this._lastEvent=m,p}_getActiveElements(e,n,s,a){if(e.type==="mouseout")return[];if(!s)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,a)}},Me(Da,"defaults",Xt),Me(Da,"instances",Kh),Me(Da,"overrides",Yi),Me(Da,"registry",tr),Me(Da,"version",RV),Me(Da,"getChart",jj),Da);function Sj(){return at(Hf.instances,t=>t._plugins.invalidate())}function BV(t,e,n){const{startAngle:s,pixelMargin:a,x:o,y:c,outerRadius:u,innerRadius:f}=e;let m=a/u;t.beginPath(),t.arc(o,c,u,s-m,n+m),f>a?(m=a/f,t.arc(o,c,f,n+m,s-m,!0)):t.arc(o,c,a,n+on,s-on),t.closePath(),t.clip()}function VV(t){return nb(t,["outerStart","outerEnd","innerStart","innerEnd"])}function UV(t,e,n,s){const a=VV(t.options.borderRadius),o=(n-e)/2,c=Math.min(o,s*e/2),u=f=>{const m=(n-Math.min(o,f))*s/2;return Wn(f,0,Math.min(o,m))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Wn(a.innerStart,0,c),innerEnd:Wn(a.innerEnd,0,c)}}function Fo(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function xf(t,e,n,s,a,o){const{x:c,y:u,startAngle:f,pixelMargin:m,innerRadius:p}=e,g=Math.max(e.outerRadius+s+n-m,0),b=p>0?p+s+n+m:0;let v=0;const j=a-f;if(s){const K=p>0?p-s:0,B=g>0?g-s:0,F=(K+B)/2,q=F!==0?j*F/(F+s):j;v=(j-q)/2}const S=Math.max(.001,j*g-n/Vt)/g,N=(j-S)/2,_=f+N+v,A=a-N-v,{outerStart:k,outerEnd:O,innerStart:M,innerEnd:P}=UV(e,b,g,A-_),V=g-k,D=g-O,U=_+k/V,Y=A-O/D,G=b+M,X=b+P,ne=_+M/G,fe=A-P/X;if(t.beginPath(),o){const K=(U+Y)/2;if(t.arc(c,u,g,U,K),t.arc(c,u,g,K,Y),O>0){const ee=Fo(D,Y,c,u);t.arc(ee.x,ee.y,O,Y,A+on)}const B=Fo(X,A,c,u);if(t.lineTo(B.x,B.y),P>0){const ee=Fo(X,fe,c,u);t.arc(ee.x,ee.y,P,A+on,fe+Math.PI)}const F=(A-P/b+(_+M/b))/2;if(t.arc(c,u,b,A-P/b,F,!0),t.arc(c,u,b,F,_+M/b,!0),M>0){const ee=Fo(G,ne,c,u);t.arc(ee.x,ee.y,M,ne+Math.PI,_-on)}const q=Fo(V,_,c,u);if(t.lineTo(q.x,q.y),k>0){const ee=Fo(V,U,c,u);t.arc(ee.x,ee.y,k,_-on,U)}}else{t.moveTo(c,u);const K=Math.cos(U)*g+c,B=Math.sin(U)*g+u;t.lineTo(K,B);const F=Math.cos(Y)*g+c,q=Math.sin(Y)*g+u;t.lineTo(F,q)}t.closePath()}function HV(t,e,n,s,a){const{fullCircles:o,startAngle:c,circumference:u}=e;let f=e.endAngle;if(o){xf(t,e,n,s,f,a);for(let m=0;m<o;++m)t.fill();isNaN(u)||(f=c+(u%zt||zt))}return xf(t,e,n,s,f,a),t.fill(),f}function FV(t,e,n,s,a){const{fullCircles:o,startAngle:c,circumference:u,options:f}=e,{borderWidth:m,borderJoinStyle:p,borderDash:g,borderDashOffset:b}=f,v=f.borderAlign==="inner";if(!m)return;t.setLineDash(g||[]),t.lineDashOffset=b,v?(t.lineWidth=m*2,t.lineJoin=p||"round"):(t.lineWidth=m,t.lineJoin=p||"bevel");let j=e.endAngle;if(o){xf(t,e,n,s,j,a);for(let S=0;S<o;++S)t.stroke();isNaN(u)||(j=c+(u%zt||zt))}v&&BV(t,e,j),o||(xf(t,e,n,s,j,a),t.stroke())}class Yc extends Gr{constructor(n){super();Me(this,"circumference");Me(this,"endAngle");Me(this,"fullCircles");Me(this,"innerRadius");Me(this,"outerRadius");Me(this,"pixelMargin");Me(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.getProps(["x","y"],a),{angle:c,distance:u}=z_(o,{x:n,y:s}),{startAngle:f,endAngle:m,innerRadius:p,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),v=(this.options.spacing+this.options.borderWidth)/2,j=Ye(b,m-f),S=vd(c,f,m)&&f!==m,N=j>=zt||S,_=Ba(u,p+v,g+v);return N&&_}getCenterPoint(n){const{x:s,y:a,startAngle:o,endAngle:c,innerRadius:u,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:m,spacing:p}=this.options,g=(o+c)/2,b=(u+f+p+m)/2;return{x:s+Math.cos(g)*b,y:a+Math.sin(g)*b}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:a}=this,o=(s.offset||0)/4,c=(s.spacing||0)/2,u=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=a>zt?Math.floor(a/zt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*o,Math.sin(f)*o);const m=1-Math.sin(Math.min(Vt,a||0)),p=o*m;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,HV(n,this,p,c,u),FV(n,this,p,c,u),n.restore()}}Me(Yc,"id","arc"),Me(Yc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Me(Yc,"defaultRoutes",{backgroundColor:"backgroundColor"}),Me(Yc,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function uE(t,e,n=e){t.lineCap=Ye(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ye(n.borderDash,e.borderDash)),t.lineDashOffset=Ye(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ye(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ye(n.borderWidth,e.borderWidth),t.strokeStyle=Ye(n.borderColor,e.borderColor)}function $V(t,e,n){t.lineTo(n.x,n.y)}function IV(t){return t.stepped?uz:t.tension||t.cubicInterpolationMode==="monotone"?hz:$V}function hE(t,e,n={}){const s=t.length,{start:a=0,end:o=s-1}=n,{start:c,end:u}=e,f=Math.max(a,c),m=Math.min(o,u),p=a<c&&o<c||a>u&&o>u;return{count:s,start:f,loop:e.loop,ilen:m<f&&!p?s+m-f:m-f}}function qV(t,e,n,s){const{points:a,options:o}=e,{count:c,start:u,loop:f,ilen:m}=hE(a,n,s),p=IV(o);let{move:g=!0,reverse:b}=s||{},v,j,S;for(v=0;v<=m;++v)j=a[(u+(b?m-v:v))%c],!j.skip&&(g?(t.moveTo(j.x,j.y),g=!1):p(t,S,j,b,o.stepped),S=j);return f&&(j=a[(u+(b?m:0))%c],p(t,S,j,b,o.stepped)),!!f}function YV(t,e,n,s){const a=e.points,{count:o,start:c,ilen:u}=hE(a,n,s),{move:f=!0,reverse:m}=s||{};let p=0,g=0,b,v,j,S,N,_;const A=O=>(c+(m?u-O:O))%o,k=()=>{S!==N&&(t.lineTo(p,N),t.lineTo(p,S),t.lineTo(p,_))};for(f&&(v=a[A(0)],t.moveTo(v.x,v.y)),b=0;b<=u;++b){if(v=a[A(b)],v.skip)continue;const O=v.x,M=v.y,P=O|0;P===j?(M<S?S=M:M>N&&(N=M),p=(g*p+O)/++g):(k(),t.lineTo(O,M),j=P,g=0,S=N=M),_=M}k()}function Fx(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?YV:qV}function XV(t){return t.stepped?Iz:t.tension||t.cubicInterpolationMode==="monotone"?qz:Di}function WV(t,e,n,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,n,s)&&a.closePath()),uE(t,e.options),t.stroke(a)}function GV(t,e,n,s){const{segments:a,options:o}=e,c=Fx(e);for(const u of a)uE(t,o,u.style),t.beginPath(),c(t,e,u,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const KV=typeof Path2D=="function";function QV(t,e,n,s){KV&&!e.options.segment?WV(t,e,n,s):GV(t,e,n,s)}class Xc extends Gr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;Pz(this._points,s,e,a,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Jz(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,a=e[n],o=this.points,c=Kz(this,{property:n,start:a,end:a});if(!c.length)return;const u=[],f=XV(s);let m,p;for(m=0,p=c.length;m<p;++m){const{start:g,end:b}=c[m],v=o[g],j=o[b];if(v===j){u.push(v);continue}const S=Math.abs((a-v[n])/(j[n]-v[n])),N=f(v,j,S,s.stepped);N[n]=e[n],u.push(N)}return u.length===1?u[0]:u}pathSegment(e,n,s){return Fx(this)(e,this,n,s)}path(e,n,s){const a=this.segments,o=Fx(this);let c=this._loop;n=n||0,s=s||this.points.length-n;for(const u of a)c&=o(e,this,u,{start:n,end:n+s-1});return!!c}draw(e,n,s,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),QV(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Me(Xc,"id","line"),Me(Xc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Me(Xc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Me(Xc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Nj(t,e,n,s){const a=t.options,{[n]:o}=t.getProps([n],s);return Math.abs(e-o)<a.radius+a.hitRadius}class Qh extends Gr{constructor(n){super();Me(this,"parsed");Me(this,"skip");Me(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,a){const o=this.options,{x:c,y:u}=this.getProps(["x","y"],a);return Math.pow(n-c,2)+Math.pow(s-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,s){return Nj(this,n,"x",s)}inYRange(n,s){return Nj(this,n,"y",s)}getCenterPoint(n){const{x:s,y:a}=this.getProps(["x","y"],n);return{x:s,y:a}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const a=s&&n.borderWidth||0;return(s+a)*2}draw(n,s){const a=this.options;this.skip||a.radius<.1||!wd(this,s,this.size(a)/2)||(n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.fillStyle=a.backgroundColor,Bx(n,a,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Me(Qh,"id","point"),Me(Qh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Me(Qh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function fE(t,e){const{x:n,y:s,base:a,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let u,f,m,p,g;return t.horizontal?(g=c/2,u=Math.min(n,a),f=Math.max(n,a),m=s-g,p=s+g):(g=o/2,u=n-g,f=n+g,m=Math.min(s,a),p=Math.max(s,a)),{left:u,top:m,right:f,bottom:p}}function Va(t,e,n,s){return t?0:Wn(e,n,s)}function ZV(t,e,n){const s=t.options.borderWidth,a=t.borderSkipped,o=I_(s);return{t:Va(a.top,o.top,0,n),r:Va(a.right,o.right,0,e),b:Va(a.bottom,o.bottom,0,n),l:Va(a.left,o.left,0,e)}}function JV(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,o=Zo(a),c=Math.min(e,n),u=t.borderSkipped,f=s||Ge(a);return{topLeft:Va(!f||u.top||u.left,o.topLeft,0,c),topRight:Va(!f||u.top||u.right,o.topRight,0,c),bottomLeft:Va(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:Va(!f||u.bottom||u.right,o.bottomRight,0,c)}}function e7(t){const e=fE(t),n=e.right-e.left,s=e.bottom-e.top,a=ZV(t,n/2,s/2),o=JV(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:o},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Hg(t,e,n,s){const a=e===null,o=n===null,u=t&&!(a&&o)&&fE(t,s);return u&&(a||Ba(e,u.left,u.right))&&(o||Ba(n,u.top,u.bottom))}function t7(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function n7(t,e){t.rect(e.x,e.y,e.w,e.h)}function Fg(t,e,n={}){const s=t.x!==n.x?-e:0,a=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-s,c=(t.y+t.h!==n.y+n.h?e:0)-a;return{x:t.x+s,y:t.y+a,w:t.w+o,h:t.h+c,radius:t.radius}}class Zh extends Gr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:a}}=this,{inner:o,outer:c}=e7(this),u=t7(c.radius)?mf:n7;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),u(e,Fg(c,n,o)),e.clip(),u(e,Fg(o,-n,c)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),u(e,Fg(o,n)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,n,s){return Hg(this,e,n,s)}inXRange(e,n){return Hg(this,e,null,n)}inYRange(e,n){return Hg(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+a)/2:n,y:o?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Me(Zh,"id","bar"),Me(Zh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Me(Zh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const _j=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},s7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ej extends Gr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=yt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=Tn(s.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=_j(s,o);let m,p;n.font=a.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(c,o,u,f)+10):(p=this.maxHeight,m=this._fitCols(c,a,u,f)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,a){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],p=a+u;let g=e;o.textAlign="left",o.textBaseline="middle";let b=-1,v=-p;return this.legendItems.forEach((j,S)=>{const N=s+n/2+o.measureText(j.text).width;(S===0||m[m.length-1]+N+2*u>c)&&(g+=p,m[m.length-(S>0?0:1)]=0,v+=p,b++),f[S]={left:0,top:v,row:b,width:N,height:a},m[m.length-1]+=N+u}),g}_fitCols(e,n,s,a){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],p=c-e;let g=u,b=0,v=0,j=0,S=0;return this.legendItems.forEach((N,_)=>{const{itemWidth:A,itemHeight:k}=r7(s,n,o,N,a);_>0&&v+k+2*u>p&&(g+=b+u,m.push({width:b,height:v}),j+=b+u,S++,b=v=0),f[_]={left:j,top:v,col:S,width:A,height:k},b=Math.max(b,A),v+=k+u}),g+=b,m.push({width:b,height:v}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:a},rtl:o}}=this,c=Jo(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=Sn(s,this.left+a,this.right-this.lineWidths[u]);for(const m of n)u!==m.row&&(u=m.row,f=Sn(s,this.left+a,this.right-this.lineWidths[u])),m.top+=this.top+e+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let u=0,f=Sn(s,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const m of n)m.col!==u&&(u=m.col,f=Sn(s,this.top+e+a,this.bottom-this.columnSizes[u].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;eb(e,this),this._draw(),tb(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:a}=this,{align:o,labels:c}=e,u=Xt.color,f=Jo(e.rtl,this.left,this.width),m=Tn(c.font),{padding:p}=c,g=m.size,b=g/2;let v;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:j,boxHeight:S,itemHeight:N}=_j(c,g),_=function(P,V,D){if(isNaN(j)||j<=0||isNaN(S)||S<0)return;a.save();const U=Ye(D.lineWidth,1);if(a.fillStyle=Ye(D.fillStyle,u),a.lineCap=Ye(D.lineCap,"butt"),a.lineDashOffset=Ye(D.lineDashOffset,0),a.lineJoin=Ye(D.lineJoin,"miter"),a.lineWidth=U,a.strokeStyle=Ye(D.strokeStyle,u),a.setLineDash(Ye(D.lineDash,[])),c.usePointStyle){const Y={radius:S*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:U},G=f.xPlus(P,j/2),X=V+b;$_(a,Y,G,X,c.pointStyleWidth&&j)}else{const Y=V+Math.max((g-S)/2,0),G=f.leftForLtr(P,j),X=Zo(D.borderRadius);a.beginPath(),Object.values(X).some(ne=>ne!==0)?mf(a,{x:G,y:Y,w:j,h:S,radius:X}):a.rect(G,Y,j,S),a.fill(),U!==0&&a.stroke()}a.restore()},A=function(P,V,D){jd(a,D.text,P,V+N/2,m,{strikethrough:D.hidden,textAlign:f.textAlign(D.textAlign)})},k=this.isHorizontal(),O=this._computeTitleHeight();k?v={x:Sn(o,this.left+p,this.right-s[0]),y:this.top+p+O,line:0}:v={x:this.left+p,y:Sn(o,this.top+O+p,this.bottom-n[0].height),line:0},K_(this.ctx,e.textDirection);const M=N+p;this.legendItems.forEach((P,V)=>{a.strokeStyle=P.fontColor,a.fillStyle=P.fontColor;const D=a.measureText(P.text).width,U=f.textAlign(P.textAlign||(P.textAlign=c.textAlign)),Y=j+b+D;let G=v.x,X=v.y;f.setWidth(this.width),k?V>0&&G+Y+p>this.right&&(X=v.y+=M,v.line++,G=v.x=Sn(o,this.left+p,this.right-s[v.line])):V>0&&X+M>this.bottom&&(G=v.x=G+n[v.line].width+p,v.line++,X=v.y=Sn(o,this.top+O+p,this.bottom-n[v.line].height));const ne=f.x(G);if(_(ne,X,P),G=ez(U,G+j+b,k?G+Y:this.right,e.rtl),A(f.x(G),X,P),k)v.x+=Y+p;else if(typeof P.text!="string"){const fe=m.lineHeight;v.y+=mE(P,fe)+p}else v.y+=M}),Q_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=Tn(n.font),a=Ns(n.padding);if(!n.display)return;const o=Jo(e.rtl,this.left,this.width),c=this.ctx,u=n.position,f=s.size/2,m=a.top+f;let p,g=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+m,g=Sn(e.align,g,this.right-b);else{const j=this.columnSizes.reduce((S,N)=>Math.max(S,N.height),0);p=m+Sn(e.align,this.top,this.bottom-j-e.labels.padding-this._computeTitleHeight())}const v=Sn(u,g,g+b);c.textAlign=o.textAlign(Qy(u)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=s.string,jd(c,n.text,v,p,s)}_computeTitleHeight(){const e=this.options.title,n=Tn(e.font),s=Ns(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,a,o;if(Ba(e,this.left,this.right)&&Ba(n,this.top,this.bottom)){for(o=this.legendHitBoxes,s=0;s<o.length;++s)if(a=o[s],Ba(e,a.left,a.left+a.width)&&Ba(n,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!o7(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,o=s7(a,s);a&&!o&&yt(n.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!o&&yt(n.onHover,[e,s,this],this)}else s&&yt(n.onClick,[e,s,this],this)}}function r7(t,e,n,s,a){const o=a7(s,t,e,n),c=i7(a,s,e.lineHeight);return{itemWidth:o,itemHeight:c}}function a7(t,e,n,s){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),e+n.size/2+s.measureText(a).width}function i7(t,e,n){let s=t;return typeof e.text!="string"&&(s=mE(e,n)),s}function mE(t,e){const n=t.text?t.text.length:0;return e*n}function o7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var l7={id:"legend",_element:Ej,start(t,e,n){const s=t.legend=new Ej({ctx:t.ctx,options:n,chart:t});bs.configure(t,s,n),bs.addBox(t,s)},stop(t){bs.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;bs.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,a=n.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:a,color:o,useBorderRadius:c,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(n?0:void 0),p=Ns(m.borderWidth);return{text:e[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:s||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(u||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class pE extends Gr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const a=an(s.text)?s.text.length:1;this._padding=Ns(s.padding);const o=a*Tn(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:a,right:o,options:c}=this,u=c.align;let f=0,m,p,g;return this.isHorizontal()?(p=Sn(u,s,o),g=n+e,m=o-s):(c.position==="left"?(p=s+e,g=Sn(u,a,n),f=Vt*-.5):(p=o-e,g=Sn(u,n,a),f=Vt*.5),m=a-n),{titleX:p,titleY:g,maxWidth:m,rotation:f}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=Tn(n.font),o=s.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:f,rotation:m}=this._drawArgs(o);jd(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:m,textAlign:Qy(n.align),textBaseline:"middle",translation:[c,u]})}}function c7(t,e){const n=new pE({ctx:t.ctx,options:e,chart:t});bs.configure(t,n,e),bs.addBox(t,n),t.titleBlock=n}var d7={id:"title",_element:pE,start(t,e,n){c7(t,n)},stop(t){const e=t.titleBlock;bs.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;bs.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wc={average(t){if(!t.length)return!1;let e,n,s=new Set,a=0,o=0;for(e=0,n=t.length;e<n;++e){const u=t[e].element;if(u&&u.hasValue()){const f=u.tooltipPosition();s.add(f.x),a+=f.y,++o}}return o===0||s.size===0?!1:{x:[...s].reduce((u,f)=>u+f)/s.size,y:a/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,a=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=t.length;o<c;++o){const f=t[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),p=Lx(e,m);p<a&&(a=p,u=f)}}if(u){const f=u.tooltipPosition();n=f.x,s=f.y}return{x:n,y:s}}};function er(t,e){return e&&(an(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function zr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function u7(t,e){const{element:n,datasetIndex:s,index:a}=e,o=t.getDatasetMeta(s).controller,{label:c,value:u}=o.getLabelAndValue(a);return{chart:t,label:c,parsed:o.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:u,dataset:o.getDataset(),dataIndex:a,datasetIndex:s,element:n}}function Tj(t,e){const n=t.chart.ctx,{body:s,footer:a,title:o}=t,{boxWidth:c,boxHeight:u}=e,f=Tn(e.bodyFont),m=Tn(e.titleFont),p=Tn(e.footerFont),g=o.length,b=a.length,v=s.length,j=Ns(e.padding);let S=j.height,N=0,_=s.reduce((O,M)=>O+M.before.length+M.lines.length+M.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,g&&(S+=g*m.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),_){const O=e.displayColors?Math.max(u,f.lineHeight):f.lineHeight;S+=v*O+(_-v)*f.lineHeight+(_-1)*e.bodySpacing}b&&(S+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let A=0;const k=function(O){N=Math.max(N,n.measureText(O).width+A)};return n.save(),n.font=m.string,at(t.title,k),n.font=f.string,at(t.beforeBody.concat(t.afterBody),k),A=e.displayColors?c+2+e.boxPadding:0,at(s,O=>{at(O.before,k),at(O.lines,k),at(O.after,k)}),A=0,n.font=p.string,at(t.footer,k),n.restore(),N+=j.width,{width:N,height:S}}function h7(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function f7(t,e,n,s){const{x:a,width:o}=s,c=n.caretSize+n.caretPadding;if(t==="left"&&a+o+c>e.width||t==="right"&&a-o-c<0)return!0}function m7(t,e,n,s){const{x:a,width:o}=n,{width:c,chartArea:{left:u,right:f}}=t;let m="center";return s==="center"?m=a<=(u+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),f7(m,t,e,n)&&(m="center"),m}function Cj(t,e,n){const s=n.yAlign||e.yAlign||h7(t,n);return{xAlign:n.xAlign||e.xAlign||m7(t,e,n,s),yAlign:s}}function p7(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function g7(t,e,n){let{y:s,height:a}=t;return e==="top"?s+=n:e==="bottom"?s-=a+n:s-=a/2,s}function kj(t,e,n,s){const{caretSize:a,caretPadding:o,cornerRadius:c}=t,{xAlign:u,yAlign:f}=n,m=a+o,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:v}=Zo(c);let j=p7(e,u);const S=g7(e,f,m);return f==="center"?u==="left"?j+=m:u==="right"&&(j-=m):u==="left"?j-=Math.max(p,b)+a:u==="right"&&(j+=Math.max(g,v)+a),{x:Wn(j,0,s.width-e.width),y:Wn(S,0,s.height-e.height)}}function Dh(t,e,n){const s=Ns(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Mj(t){return er([],zr(t))}function x7(t,e,n){return Xi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Aj(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const gE={beforeTitle:Lr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Lr,beforeBody:Lr,beforeLabel:Lr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return mt(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Lr,afterBody:Lr,beforeFooter:Lr,footer:Lr,afterFooter:Lr};function In(t,e,n,s){const a=t[e].call(n,s);return typeof a>"u"?gE[e].call(n,s):a}class $x extends Gr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&n.options.animation&&s.animations,o=new J_(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=x7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,a=In(s,"beforeTitle",this,e),o=In(s,"title",this,e),c=In(s,"afterTitle",this,e);let u=[];return u=er(u,zr(a)),u=er(u,zr(o)),u=er(u,zr(c)),u}getBeforeBody(e,n){return Mj(In(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,a=[];return at(e,o=>{const c={before:[],lines:[],after:[]},u=Aj(s,o);er(c.before,zr(In(u,"beforeLabel",this,o))),er(c.lines,In(u,"label",this,o)),er(c.after,zr(In(u,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(e,n){return Mj(In(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,a=In(s,"beforeFooter",this,e),o=In(s,"footer",this,e),c=In(s,"afterFooter",this,e);let u=[];return u=er(u,zr(a)),u=er(u,zr(o)),u=er(u,zr(c)),u}_createItems(e){const n=this._active,s=this.chart.data,a=[],o=[],c=[];let u=[],f,m;for(f=0,m=n.length;f<m;++f)u.push(u7(this.chart,n[f]));return e.filter&&(u=u.filter((p,g,b)=>e.filter(p,g,b,s))),e.itemSort&&(u=u.sort((p,g)=>e.itemSort(p,g,s))),at(u,p=>{const g=Aj(e.callbacks,p);a.push(In(g,"labelColor",this,p)),o.push(In(g,"labelPointStyle",this,p)),c.push(In(g,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(e,n){const s=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const u=Wc[s.position].call(this,a,this._eventPosition);c=this._createItems(s),this.title=this.getTitle(c,s),this.beforeBody=this.getBeforeBody(c,s),this.body=this.getBody(c,s),this.afterBody=this.getAfterBody(c,s),this.footer=this.getFooter(c,s);const f=this._size=Tj(this,s),m=Object.assign({},u,f),p=Cj(this.chart,s,m),g=kj(s,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,a){const o=this.getCaretPosition(e,s,a);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,s){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:u}=s,{topLeft:f,topRight:m,bottomLeft:p,bottomRight:g}=Zo(u),{x:b,y:v}=e,{width:j,height:S}=n;let N,_,A,k,O,M;return o==="center"?(O=v+S/2,a==="left"?(N=b,_=N-c,k=O+c,M=O-c):(N=b+j,_=N+c,k=O-c,M=O+c),A=N):(a==="left"?_=b+Math.max(f,p)+c:a==="right"?_=b+j-Math.max(m,g)-c:_=this.caretX,o==="top"?(k=v,O=k-c,N=_-c,A=_+c):(k=v+S,O=k+c,N=_+c,A=_-c),M=k),{x1:N,x2:_,x3:A,y1:k,y2:O,y3:M}}drawTitle(e,n,s){const a=this.title,o=a.length;let c,u,f;if(o){const m=Jo(s.rtl,this.x,this.width);for(e.x=Dh(this,s.titleAlign,s),n.textAlign=m.textAlign(s.titleAlign),n.textBaseline="middle",c=Tn(s.titleFont),u=s.titleSpacing,n.fillStyle=s.titleColor,n.font=c.string,f=0;f<o;++f)n.fillText(a[f],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,f+1===o&&(e.y+=s.titleMarginBottom-u)}}_drawColorBox(e,n,s,a,o){const c=this.labelColors[s],u=this.labelPointStyles[s],{boxHeight:f,boxWidth:m}=o,p=Tn(o.bodyFont),g=Dh(this,"left",o),b=a.x(g),v=f<p.lineHeight?(p.lineHeight-f)/2:0,j=n.y+v;if(o.usePointStyle){const S={radius:Math.min(m,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},N=a.leftForLtr(b,m)+m/2,_=j+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Bx(e,S,N,_),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,Bx(e,S,N,_)}else{e.lineWidth=Ge(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const S=a.leftForLtr(b,m),N=a.leftForLtr(a.xPlus(b,1),m-2),_=Zo(c.borderRadius);Object.values(_).some(A=>A!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,mf(e,{x:S,y:j,w:m,h:f,radius:_}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),mf(e,{x:N,y:j+1,w:m-2,h:f-2,radius:_}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,j,m,f),e.strokeRect(S,j,m,f),e.fillStyle=c.backgroundColor,e.fillRect(N,j+1,m-2,f-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:m,boxPadding:p}=s,g=Tn(s.bodyFont);let b=g.lineHeight,v=0;const j=Jo(s.rtl,this.x,this.width),S=function(D){n.fillText(D,j.x(e.x+v),e.y+b/2),e.y+=b+o},N=j.textAlign(c);let _,A,k,O,M,P,V;for(n.textAlign=c,n.textBaseline="middle",n.font=g.string,e.x=Dh(this,N,s),n.fillStyle=s.bodyColor,at(this.beforeBody,S),v=u&&N!=="right"?c==="center"?m/2+p:m+2+p:0,O=0,P=a.length;O<P;++O){for(_=a[O],A=this.labelTextColors[O],n.fillStyle=A,at(_.before,S),k=_.lines,u&&k.length&&(this._drawColorBox(n,e,O,j,s),b=Math.max(g.lineHeight,f)),M=0,V=k.length;M<V;++M)S(k[M]),b=g.lineHeight;at(_.after,S)}v=0,b=g.lineHeight,at(this.afterBody,S),e.y-=o}drawFooter(e,n,s){const a=this.footer,o=a.length;let c,u;if(o){const f=Jo(s.rtl,this.x,this.width);for(e.x=Dh(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=f.textAlign(s.footerAlign),n.textBaseline="middle",c=Tn(s.footerFont),n.fillStyle=s.footerColor,n.font=c.string,u=0;u<o;++u)n.fillText(a[u],f.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+s.footerSpacing}}drawBackground(e,n,s,a){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=e,{width:m,height:p}=s,{topLeft:g,topRight:b,bottomLeft:v,bottomRight:j}=Zo(a.cornerRadius);n.fillStyle=a.backgroundColor,n.strokeStyle=a.borderColor,n.lineWidth=a.borderWidth,n.beginPath(),n.moveTo(u+g,f),c==="top"&&this.drawCaret(e,n,s,a),n.lineTo(u+m-b,f),n.quadraticCurveTo(u+m,f,u+m,f+b),c==="center"&&o==="right"&&this.drawCaret(e,n,s,a),n.lineTo(u+m,f+p-j),n.quadraticCurveTo(u+m,f+p,u+m-j,f+p),c==="bottom"&&this.drawCaret(e,n,s,a),n.lineTo(u+v,f+p),n.quadraticCurveTo(u,f+p,u,f+p-v),c==="center"&&o==="left"&&this.drawCaret(e,n,s,a),n.lineTo(u,f+g),n.quadraticCurveTo(u,f,u+g,f),n.closePath(),n.fill(),a.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,a=s&&s.x,o=s&&s.y;if(a||o){const c=Wc[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Tj(this,e),f=Object.assign({},c,this._size),m=Cj(n,e,f),p=kj(e,f,m,n);(a._to!==p.x||o._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const c=Ns(n.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&u&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,a,n),K_(e,n.textDirection),o.y+=c.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),Q_(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,a=e.map(({datasetIndex:u,index:f})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[f],index:f}}),o=!df(s,a),c=this._positionChanged(a,n);(o||c)&&(this._active=a,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(e,o,n,s),u=this._positionChanged(c,e),f=n||!df(c,o)||u;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,s,a){const o=this.options;if(e.type==="mouseout")return[];if(!a)return n.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:s,caretY:a,options:o}=this,c=Wc[o.position].call(this,e,n);return c!==!1&&(s!==c.x||a!==c.y)}}Me($x,"positioners",Wc);var y7={id:"tooltip",_element:$x,positioners:Wc,afterInit(t,e,n){n&&(t.tooltip=new $x({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:gE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const b7=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function v7(t,e,n,s){const a=t.indexOf(e);if(a===-1)return b7(t,e,n,s);const o=t.lastIndexOf(e);return a!==o?n:a}const w7=(t,e)=>t===null?null:Wn(Math.round(t),0,e);function Dj(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ix extends pl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:a,label:o}of n)s[a]===o&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(mt(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:v7(s,e,Ye(n,e),this._addedLabels),w7(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,a=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let c=e;c<=n;c++)a.push({value:c});return a}getLabelForValue(e){return Dj.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Me(Ix,"id","category"),Me(Ix,"defaults",{ticks:{callback:Dj}});function j7(t,e){const n=[],{bounds:a,step:o,min:c,max:u,precision:f,count:m,maxTicks:p,maxDigits:g,includeBounds:b}=t,v=o||1,j=p-1,{min:S,max:N}=e,_=!mt(c),A=!mt(u),k=!mt(m),O=(N-S)/(g+1);let M=O2((N-S)/j/v)*v,P,V,D,U;if(M<1e-14&&!_&&!A)return[{value:S},{value:N}];U=Math.ceil(N/M)-Math.floor(S/M),U>j&&(M=O2(U*M/j/v)*v),mt(f)||(P=Math.pow(10,f),M=Math.ceil(M*P)/P),a==="ticks"?(V=Math.floor(S/M)*M,D=Math.ceil(N/M)*M):(V=S,D=N),_&&A&&o&&q8((u-c)/o,M/1e3)?(U=Math.round(Math.min((u-c)/M,p)),M=(u-c)/U,V=c,D=u):k?(V=_?c:V,D=A?u:D,U=m-1,M=(D-V)/U):(U=(D-V)/M,nd(U,Math.round(U),M/1e3)?U=Math.round(U):U=Math.ceil(U));const Y=Math.max(L2(M),L2(V));P=Math.pow(10,mt(f)?Y:f),V=Math.round(V*P)/P,D=Math.round(D*P)/P;let G=0;for(_&&(b&&V!==c?(n.push({value:c}),V<c&&G++,nd(Math.round((V+G*M)*P)/P,c,Rj(c,O,t))&&G++):V<c&&G++);G<U;++G){const X=Math.round((V+G*M)*P)/P;if(A&&X>u)break;n.push({value:X})}return A&&b&&D!==u?n.length&&nd(n[n.length-1].value,u,Rj(u,O,t))?n[n.length-1].value=u:n.push({value:u}):(!A||D===u)&&n.push({value:D}),n}function Rj(t,e,{horizontal:n,minRotation:s}){const a=Vr(s),o=(n?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class S7 extends pl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return mt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=n?a:f,u=f=>o=s?o:f;if(e){const f=cr(a),m=cr(o);f<0&&m<0?u(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);u(o+f),e||c(a-f)}this.min=a,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),n=n||11),n&&(a=Math.min(n,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=j7(a,o);return e.bounds==="ticks"&&Y8(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-n)/Math.max(e.length-1,1)/2;n-=a,s+=a}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Jy(e,this.chart.options.locale,this.options.ticks.format)}}class qx extends S7{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ss(e)?e:0,this.max=Ss(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Vr(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Me(qx,"id","linear"),Me(qx,"defaults",{ticks:{callback:F_.formatters.numeric}});const Ff={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Yn=Object.keys(Ff);function Oj(t,e){return t-e}function Lj(t,e){if(mt(e))return null;const n=t._adapter,{parser:s,round:a,isoWeekday:o}=t._parseOpts;let c=e;return typeof s=="function"&&(c=s(c)),Ss(c)||(c=typeof s=="string"?n.parse(c,s):n.parse(c)),c===null?null:(a&&(c=a==="week"&&(ff(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,a)),+c)}function Pj(t,e,n,s){const a=Yn.length;for(let o=Yn.indexOf(t);o<a-1;++o){const c=Ff[Yn[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(u*c.size))<=s)return Yn[o]}return Yn[a-1]}function N7(t,e,n,s,a){for(let o=Yn.length-1;o>=Yn.indexOf(n);o--){const c=Yn[o];if(Ff[c].common&&t._adapter.diff(a,s,c)>=e-1)return c}return Yn[n?Yn.indexOf(n):0]}function _7(t){for(let e=Yn.indexOf(t)+1,n=Yn.length;e<n;++e)if(Ff[Yn[e]].common)return Yn[e]}function zj(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:a}=Ky(n,e),o=n[s]>=e?n[s]:n[a];t[o]=!0}}function E7(t,e,n,s){const a=t._adapter,o=+a.startOf(e[0].value,s),c=e[e.length-1].value;let u,f;for(u=o;u<=c;u=+a.add(u,1,s))f=n[u],f>=0&&(e[f].major=!0);return e}function Bj(t,e,n){const s=[],a={},o=e.length;let c,u;for(c=0;c<o;++c)u=e[c],a[u]=c,s.push({value:u,major:!1});return o===0||!n?s:E7(t,s,a,n)}class yf extends pl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),a=this._adapter=new kB._date(e.adapters.date);a.init(n),td(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Lj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!u&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!u)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Ss(a)&&!isNaN(a)?a:+n.startOf(Date.now(),s),o=Ss(o)&&!isNaN(o)?o:+n.endOf(Date.now(),s)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,u=Q8(a,o,c);return this._unit=n.unit||(s.autoSkip?Pj(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):N7(this,u.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:_7(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Bj(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,a,o;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?n=1-a:n=(this.getDecimalForValue(e[1])-a)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?s=o:s=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=Wn(n,0,c),s=Wn(s,0,c),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,a=this.options,o=a.time,c=o.unit||Pj(o.minUnit,n,s,this._getLabelCapacity(n)),u=Ye(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=ff(f)||f===!0,p={};let g=n,b,v;if(m&&(g=+e.startOf(g,"isoWeek",f)),g=+e.startOf(g,m?"day":c),e.diff(s,n,c)>1e5*u)throw new Error(n+" and "+s+" are too far apart with stepSize of "+u+" "+c);const j=a.ticks.source==="data"&&this.getDataTimestamps();for(b=g,v=0;b<s;b=+e.add(b,u,c),v++)zj(p,b,j);return(b===s||a.bounds==="ticks"||v===1)&&zj(p,b,j),Object.keys(p).sort(Oj).map(S=>+S)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const a=this.options.time.displayFormats,o=this._unit,c=n||a[o];return this._adapter.format(e,c)}_tickFormatFunction(e,n,s,a){const o=this.options,c=o.ticks.callback;if(c)return yt(c,[e,n,s],this);const u=o.time.displayFormats,f=this._unit,m=this._majorUnit,p=f&&u[f],g=m&&u[m],b=s[n],v=m&&g&&b&&b.major;return this._adapter.format(e,a||(v?g:p))}generateTickLabels(e){let n,s,a;for(n=0,s=e.length;n<s;++n)a=e[n],a.label=this._tickFormatFunction(a.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,a=Vr(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:s*o+u*c,h:s*c+u*o}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,a=s[n.unit]||s.millisecond,o=this._tickFormatFunction(e,0,Bj(this,[e],this._majorUnit),a),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(n=0,s=a.length;n<s;++n)e=e.concat(a[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const a=this.getLabels();for(n=0,s=a.length;n<s;++n)e.push(Lj(this,a[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return V_(e.sort(Oj))}}Me(yf,"id","time"),Me(yf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Rh(t,e,n){let s=0,a=t.length-1,o,c,u,f;n?(e>=t[s].pos&&e<=t[a].pos&&({lo:s,hi:a}=Px(t,"pos",e)),{pos:o,time:u}=t[s],{pos:c,time:f}=t[a]):(e>=t[s].time&&e<=t[a].time&&({lo:s,hi:a}=Px(t,"time",e)),{time:o,pos:u}=t[s],{time:c,pos:f}=t[a]);const m=c-o;return m?u+(f-u)*(e-o)/m:u}class Vj extends yf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Rh(n,this.min),this._tableRange=Rh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,a=[],o=[];let c,u,f,m,p;for(c=0,u=e.length;c<u;++c)m=e[c],m>=n&&m<=s&&a.push(m);if(a.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(c=0,u=a.length;c<u;++c)p=a[c+1],f=a[c-1],m=a[c],Math.round((p+f)/2)!==m&&o.push({time:m,pos:c/(u-1)});return o}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((a,o)=>a-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Rh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Rh(this._table,s*this._tableRange+this._minPos,!0)}}Me(Vj,"id","timeseries"),Me(Vj,"defaults",yf.defaults);const xE="label";function Uj(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function T7(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function yE(t,e){t.labels=e}function bE(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xE;const s=[];t.datasets=e.map(a=>{const o=t.datasets.find(c=>c[n]===a[n]);return!o||!a.data||s.includes(o)?{...a}:(s.push(o),Object.assign(o,a),o)})}function C7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xE;const n={labels:[],datasets:[]};return yE(n,t.labels),bE(n,t.datasets,e),n}function k7(t,e){const{height:n=150,width:s=300,redraw:a=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:m=[],fallbackContent:p,updateMode:g,...b}=t,v=R.useRef(null),j=R.useRef(null),S=()=>{v.current&&(j.current=new Hf(v.current,{type:c,data:C7(u,o),options:f&&{...f},plugins:m}),Uj(e,j.current))},N=()=>{Uj(e,null),j.current&&(j.current.destroy(),j.current=null)};return R.useEffect(()=>{!a&&j.current&&f&&T7(j.current,f)},[a,f]),R.useEffect(()=>{!a&&j.current&&yE(j.current.config.data,u.labels)},[a,u.labels]),R.useEffect(()=>{!a&&j.current&&u.datasets&&bE(j.current.config.data,u.datasets,o)},[a,u.datasets]),R.useEffect(()=>{j.current&&(a?(N(),setTimeout(S)):j.current.update(g))},[a,f,u.labels,u.datasets,g]),R.useEffect(()=>{j.current&&(N(),setTimeout(S))},[c]),R.useEffect(()=>(S(),()=>N()),[]),ve.createElement("canvas",{ref:v,role:"img",height:n,width:s,...b},p)}const M7=R.forwardRef(k7);function vE(t,e){return Hf.register(e),R.forwardRef((n,s)=>ve.createElement(M7,{...n,ref:s,type:t}))}const $g=vE("bar",Wh),Ig=vE("pie",Vx);Hf.register(Ix,qx,Zh,d7,y7,l7,Yc,Qh,Xc);const A7=()=>{const{fetchResumen:t}=Bd(),{fetchResumen:e}=Bf(),{getMovementsSummary:n}=Wr(),[s,a]=R.useState("ventas"),[o,c]=R.useState(new Date(new Date().setDate(new Date().getDate()-30))),[u,f]=R.useState(new Date),[m,p]=R.useState(!1),[g,b]=R.useState(null),[v,j]=R.useState(null),[S,N]=R.useState(null),[_,A]=R.useState(null);R.useEffect(()=>{k()},[o,u]);const k=async()=>{try{p(!0),b(null),console.log("Cargando resúmenes con fechas:",{fechaInicio:o,fechaFin:u});const[D,U,Y]=await Promise.all([t(o,u),e(o,u),n(o,u)]);console.log("Datos recibidos:",{ventasData:D,comprasData:U,movimientosData:Y}),j(D),N(U),A(Y)}catch(D){console.error("Error al cargar resúmenes:",D),b(D.message),we.error("Error al cargar los resúmenes")}finally{p(!1)}},O=()=>{we.error("Función de exportación no implementada aún")},M=()=>{if(!v)return console.log("No hay datos de resumen de ventas"),null;console.log("Renderizando resumen de ventas:",v);const{resumen:D,productos_mas_vendidos:U}=v;if(!D||!U)return console.log("Datos incompletos en resumen de ventas"),null;const Y={labels:["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],datasets:[{label:"Ventas por día",data:[65,59,80,81,56,55,40],backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},G={labels:U.map(X=>X.producto.nombre),datasets:[{label:"Unidades vendidas",data:U.map(X=>X.total_vendido),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary",children:"Total Ventas"}),l.jsxs("p",{className:"text-2xl font-bold text-success",children:["€",D.total_monto.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsxs("p",{className:"text-sm text-text-tertiary",children:[D.total_ventas," ventas"]})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary",children:"Promedio por Venta"}),l.jsxs("p",{className:"text-2xl font-bold text-solid-color",children:["€",D.promedio_venta.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary",children:"Productos Vendidos"}),l.jsx("p",{className:"text-2xl font-bold text-solid-color",children:U.reduce((X,ne)=>X+ne.total_vendido,0)})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:"Ventas por Día"}),l.jsx($g,{data:Y,options:{plugins:{legend:{labels:{color:"#6B7280"}}},scales:{y:{ticks:{color:"#6B7280"},grid:{color:"#374151"}},x:{ticks:{color:"#6B7280"},grid:{color:"#374151"}}}}})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:"Productos Más Vendidos"}),l.jsx(Ig,{data:G,options:{plugins:{legend:{labels:{color:"#6B7280"}}}}})]})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:"Detalle de Productos Más Vendidos"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{className:"bg-interactive-component",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Unidades Vendidas"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total Vendido"})]})}),l.jsx("tbody",{className:"bg-bg divide-y divide-border",children:U.map((X,ne)=>l.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-accessibility-text",children:X.producto.nombre}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:X.total_vendido}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:["€",X.total_monto.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},ne))})]})})]})]})},P=()=>{if(!S)return null;console.log("Resumen de compras en reportes:",S);const{resumen:D,productosMasComprados:U}=S;if(!D||!U)return console.log("Datos incompletos en resumen de compras"),null;const Y={labels:["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],datasets:[{label:"Compras por día",data:[45,39,60,71,46,45,30],backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},G={labels:U.map(X=>X.producto.nombre),datasets:[{label:"Unidades compradas",data:U.map(X=>X.total_comprado),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary",children:"Total Compras"}),l.jsxs("p",{className:"text-2xl font-bold text-error",children:["€",D.total_monto.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsxs("p",{className:"text-sm text-text-tertiary",children:[D.total_compras," compras"]})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary",children:"Promedio por Compra"}),l.jsxs("p",{className:"text-2xl font-bold text-solid-color",children:["€",D.promedio_compra.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary",children:"Productos Comprados"}),l.jsx("p",{className:"text-2xl font-bold text-solid-color",children:U.reduce((X,ne)=>X+ne.total_comprado,0)})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:"Compras por Día"}),l.jsx($g,{data:Y,options:{plugins:{legend:{labels:{color:"#6B7280"}}},scales:{y:{ticks:{color:"#6B7280"},grid:{color:"#374151"}},x:{ticks:{color:"#6B7280"},grid:{color:"#374151"}}}}})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:"Productos Más Comprados"}),l.jsx(Ig,{data:G,options:{plugins:{legend:{labels:{color:"#6B7280"}}}}})]})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:"Detalle de Productos Más Comprados"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{className:"bg-interactive-component",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Unidades Compradas"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total Comprado"})]})}),l.jsx("tbody",{className:"bg-bg divide-y divide-border",children:U.map((X,ne)=>l.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-accessibility-text",children:X.producto.nombre}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:X.total_comprado}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:["€",X.total_monto.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},ne))})]})})]})]})},V=()=>{var Y,G,X,ne,fe,K;if(!_)return console.log("No hay datos de resumen de movimientos"),null;console.log("Renderizando resumen de movimientos:",_);const D={labels:["Entradas","Salidas"],datasets:[{label:"Movimientos por tipo",data:[((Y=_.find(B=>B.tipo==="entrada"))==null?void 0:Y.total_movimientos)||0,((G=_.find(B=>B.tipo==="salida"))==null?void 0:G.total_movimientos)||0],backgroundColor:["rgba(75, 192, 192, 0.5)","rgba(255, 99, 132, 0.5)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]},U={labels:["Entradas","Salidas"],datasets:[{label:"Cantidad por tipo",data:[((X=_.find(B=>B.tipo==="entrada"))==null?void 0:X.total_cantidad)||0,((ne=_.find(B=>B.tipo==="salida"))==null?void 0:ne.total_cantidad)||0],backgroundColor:"rgba(153, 102, 255, 0.5)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]};return console.log("Datos procesados para gráficos:",{movimientosPorTipo:D,cantidadPorTipo:U}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary",children:"Total Movimientos"}),l.jsx("p",{className:"text-2xl font-bold text-solid-color",children:_.reduce((B,F)=>B+F.total_movimientos,0)})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary",children:"Total Entradas"}),l.jsx("p",{className:"text-2xl font-bold text-success",children:((fe=_.find(B=>B.tipo==="entrada"))==null?void 0:fe.total_cantidad)||0})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary",children:"Total Salidas"}),l.jsx("p",{className:"text-2xl font-bold text-error",children:((K=_.find(B=>B.tipo==="salida"))==null?void 0:K.total_cantidad)||0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:"Movimientos por Tipo"}),l.jsx(Ig,{data:D,options:{plugins:{legend:{labels:{color:"#6B7280"}}}}})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:"Cantidad por Tipo de Movimiento"}),l.jsx($g,{data:U,options:{plugins:{legend:{labels:{color:"#6B7280"}}},scales:{y:{ticks:{color:"#6B7280"},grid:{color:"#374151"}},x:{ticks:{color:"#6B7280"},grid:{color:"#374151"}}}}})]})]}),l.jsxs("div",{className:"bg-bg p-4 rounded-lg border border-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-text-secondary mb-4",children:"Detalle de Movimientos"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{className:"bg-interactive-component",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total Movimientos"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total Cantidad"})]})}),l.jsx("tbody",{className:"bg-bg divide-y divide-border",children:_.map((B,F)=>l.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-accessibility-text",children:B.tipo==="entrada"?"Entrada":B.tipo==="salida"?"Salida":B.tipo.charAt(0).toUpperCase()+B.tipo.slice(1)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:B.total_movimientos}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:B.total_cantidad})]},F))})]})})]})]})};return l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text mb-4",children:"Reportes"}),l.jsx("div",{className:"bg-bg p-4 rounded-lg border border-border mb-6",children:l.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Fecha Inicio"}),l.jsx("input",{type:"date",value:Wt(o,"yyyy-MM-dd"),onChange:D=>c(new Date(D.target.value)),className:"mt-1 block w-full rounded-lg bg-bg border border-border shadow-sm focus:border-solid-color focus:ring-2 focus:ring-solid-color focus:ring-opacity-50 sm:text-sm"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Fecha Fin"}),l.jsx("input",{type:"date",value:Wt(u,"yyyy-MM-dd"),onChange:D=>f(new Date(D.target.value)),className:"mt-1 block w-full rounded-lg bg-bg border border-border shadow-sm focus:border-solid-color focus:ring-2 focus:ring-solid-color focus:ring-opacity-50 sm:text-sm"})]}),l.jsx("div",{className:"flex-grow"}),l.jsx("button",{onClick:()=>O(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-solid-color hover:bg-solid-color-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-solid-color transition-colors duration-200",children:"Exportar Reporte"})]})}),l.jsx("div",{className:"border-b border-border",children:l.jsxs("nav",{className:"-mb-px flex space-x-8",children:[l.jsx("button",{onClick:()=>a("ventas"),className:`${s==="ventas"?"border-solid-color text-solid-color":"border-transparent text-text-tertiary hover:text-accessibility-text hover:border-border"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200`,children:"Ventas"}),l.jsx("button",{onClick:()=>a("compras"),className:`${s==="compras"?"border-solid-color text-solid-color":"border-transparent text-text-tertiary hover:text-accessibility-text hover:border-border"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200`,children:"Compras"}),l.jsx("button",{onClick:()=>a("inventario"),className:`${s==="inventario"?"border-solid-color text-solid-color":"border-transparent text-text-tertiary hover:text-accessibility-text hover:border-border"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200`,children:"Inventario"})]})})]}),l.jsx("div",{className:"mt-6",children:m?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-solid-color"})}):g?l.jsx("div",{className:"bg-error/10 border-l-4 border-error p-4",children:l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("svg",{className:"h-5 w-5 text-error",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),l.jsx("div",{className:"ml-3",children:l.jsx("p",{className:"text-sm text-error",children:g})})]})}):l.jsxs(l.Fragment,{children:[s==="ventas"&&M(),s==="compras"&&P(),s==="inventario"&&V()]})})]})},zc="http://127.0.0.1:8000/api",Bc={getFacturas:async(t={})=>{try{return(await ge.get(`${zc}/facturas`,{params:t})).data.data||[]}catch(e){throw console.error("Error en getFacturas:",e),e.response?(console.error("Respuesta del servidor:",e.response.data),new Error(e.response.data.message||"Error al obtener las facturas")):e.request?(console.error("No se recibió respuesta del servidor"),new Error("No se pudo conectar con el servidor")):(console.error("Error al configurar la petición:",e.message),new Error("Error al configurar la petición: "+e.message))}},generarFacturaVenta:async t=>{var e,n;try{return(await ge.get(`${zc}/facturas/venta/${t}`,{responseType:"blob"})).data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al generar la factura de venta")}},generarFacturaCompra:async t=>{var e,n;try{return(await ge.get(`${zc}/facturas/compra/${t}`,{responseType:"blob"})).data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al generar la factura de compra")}},descargarFactura:async(t,e)=>{var n,s;try{const a=await ge.get(`${zc}/facturas/descargar/${t}/${e}`,{responseType:"blob"}),o=new Blob([a.data],{type:"application/pdf"}),c=window.URL.createObjectURL(o),u=document.createElement("a");return u.href=c,u.setAttribute("download",`factura-${t}-${e}.pdf`),document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(c),document.body.removeChild(u),!0}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al descargar la factura")}},abrirFactura:async(t,e)=>{var n,s;try{const a=await ge.get(`${zc}/facturas/descargar/${t}/${e}`,{responseType:"blob"}),o=new Blob([a.data],{type:"application/pdf"}),c=window.URL.createObjectURL(o);return window.open(c,"_blank"),!0}catch(a){throw new Error(((s=(n=a.response)==null?void 0:n.data)==null?void 0:s.message)||"Error al abrir la factura")}}},D7=Pn(t=>({facturas:[],loading:!1,error:null,fetchFacturas:async(e={})=>{t({loading:!0,error:null});try{const n=await Bc.getFacturas(e);t({facturas:n,loading:!1})}catch(n){console.error("Error al obtener facturas:",n),t({error:n.message,loading:!1})}},generarFacturaVenta:async e=>{t({loading:!0,error:null});try{return await Bc.generarFacturaVenta(e),t({loading:!1}),!0}catch(n){return console.error("Error al generar factura de venta:",n),t({error:n.message,loading:!1}),!1}},generarFacturaCompra:async e=>{t({loading:!0,error:null});try{return await Bc.generarFacturaCompra(e),t({loading:!1}),!0}catch(n){return console.error("Error al generar factura de compra:",n),t({error:n.message,loading:!1}),!1}},descargarFactura:async(e,n)=>{t({loading:!0,error:null});try{return await Bc.descargarFactura(e,n),t({loading:!1}),!0}catch(s){return console.error("Error al descargar factura:",s),t({error:s.message,loading:!1}),!1}},abrirFactura:async(e,n)=>{t({loading:!0,error:null});try{return await Bc.abrirFactura(e,n),t({loading:!1}),!0}catch(s){return console.error("Error al abrir factura:",s),t({error:s.message,loading:!1}),!1}},clearError:()=>{t({error:null})}})),qg=t=>{if(!t)return"N/A";const e=new Date(t);return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(e)},Oh=t=>t==null?"€0,00":new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),Hj=t=>{switch(t){case"completada":return l.jsx($a,{className:"h-4 w-4 text-success"});case"pendiente":return l.jsx($i,{className:"h-4 w-4 text-warning"});case"cancelada":return l.jsx(Ex,{className:"h-4 w-4 text-error"});default:return null}},Yg=t=>{switch(t){case"completada":return"Completada";case"pendiente":return"Pendiente";case"cancelada":return"Cancelada";default:return"Desconocido"}},Fj=t=>{switch(t){case"completada":return"bg-success/10 text-success";case"pendiente":return"bg-warning/10 text-warning";case"cancelada":return"bg-error/10 text-error";default:return"bg-text-tertiary/10 text-text-tertiary"}},$j=t=>{switch(t){case"venta":return l.jsx(Ir,{className:"h-4 w-4 text-success"});case"compra":return l.jsx(Bt,{className:"h-4 w-4 text-warning"});default:return l.jsx(rr,{className:"h-4 w-4 text-text-tertiary"})}},Xg=t=>{switch(t){case"venta":return"Venta";case"compra":return"Compra";default:return"Desconocido"}},Ij=t=>{switch(t){case"venta":return"bg-success/10 text-success";case"compra":return"bg-warning/10 text-warning";default:return"bg-text-tertiary/10 text-text-tertiary"}},R7=()=>{var B,F;const{facturas:t,loading:e,error:n,fetchFacturas:s,descargarFactura:a,abrirFactura:o}=D7(),{sedes:c,fetchSedes:u}=js(),[f,m]=R.useState(""),[p,g]=R.useState(""),[b,v]=R.useState(""),[j,S]=R.useState(""),[N,_]=R.useState({start:"",end:""}),[A,k]=R.useState(!1),[O,M]=R.useState(null),[P,V]=R.useState(!1),[D,U]=R.useState(!1);R.useEffect(()=>{(async()=>{try{await Promise.all([s({fecha_inicio:N.start||void 0,fecha_fin:N.end||void 0}),u()])}catch(ee){we.error("Error al cargar las facturas: "+(ee.message||"Error desconocido"))}})()},[s,u,N]);const Y=[{title:"Total Facturas",value:t.length.toString(),icon:l.jsx(rr,{className:"h-6 w-6 text-solid-color"}),change:"+12%",trend:"up"},{title:"Total Facturado",value:Oh(t.reduce((q,ee)=>q+Number(ee.total),0)),icon:l.jsx(dr,{className:"h-6 w-6 text-success"}),change:"+8%",trend:"up"},{title:"Facturas Pendientes",value:t.filter(q=>q.estado==="pendiente").length.toString(),icon:l.jsx($i,{className:"h-6 w-6 text-warning"}),change:"-5%",trend:"down"}],G=t.filter(q=>{var pe,je,me,ot,Ve;const ee=((pe=q.numero)==null?void 0:pe.toLowerCase().includes(f.toLowerCase()))||((me=(je=q.usuario)==null?void 0:je.nombre)==null?void 0:me.toLowerCase().includes(f.toLowerCase()))||((Ve=(ot=q.proveedor)==null?void 0:ot.nombre)==null?void 0:Ve.toLowerCase().includes(f.toLowerCase())),H=!p||Number(q.sede_id)===Number(p),Z=!b||q.tipo===b,ae=!j||q.estado===j,le=(!N.start||new Date(q.fecha)>=new Date(N.start))&&(!N.end||new Date(q.fecha)<=new Date(N.end));return ee&&H&&Z&&ae&&le}),X=q=>{M(q),k(!0)},ne=async q=>{try{U(!0),await a(q.tipo,q.id),we.success("Factura descargada correctamente")}catch(ee){we.error("Error al descargar la factura: "+(ee.message||"Error desconocido"))}finally{U(!1)}},fe=async q=>{try{V(!0),await o(q.tipo,q.id)}catch(ee){we.error("Error al abrir la factura: "+(ee.message||"Error desconocido"))}finally{V(!1)}},K=()=>{const q=G.map(ae=>{var le,pe;return{Número:ae.numero,Tipo:Xg(ae.tipo),Fecha:qg(ae.fecha),Total:Oh(ae.total),Estado:Yg(ae.estado),Sede:((le=ae.sede)==null?void 0:le.nombre)||"N/A",Usuario:((pe=ae.usuario)==null?void 0:pe.nombre)||"N/A"}}),ee=[Object.keys(q[0]).join(","),...q.map(ae=>Object.values(ae).join(","))].join(`
`),H=new Blob([ee],{type:"text/csv;charset=utf-8;"}),Z=document.createElement("a");Z.href=URL.createObjectURL(H),Z.download=`facturas_${new Date().toISOString().split("T")[0]}.csv`,Z.click()};return l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(rr,{className:"h-8 w-8 text-solid-color"}),l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Facturas"})]}),l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("button",{onClick:K,className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Vi,{className:"h-5 w-5"}),l.jsx("span",{children:"Exportar"})]})})]}),n&&l.jsx("div",{className:"bg-error/10 text-error p-4 rounded-lg",children:n}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Y.map((q,ee)=>l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ee*.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:q.icon}),l.jsx("span",{className:`text-sm font-medium ${q.trend==="up"?"text-success":"text-error"}`,children:q.change})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:q.title}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:q.value})]},ee))}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-[200px] relative",children:[l.jsx(hr,{className:"h-5 w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Buscar facturas...",value:f,onChange:q=>m(q.target.value),className:"w-full pl-10 pr-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),l.jsxs("select",{value:p,onChange:q=>g(q.target.value),className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Todas las sedes"}),c.map(q=>l.jsx("option",{value:q.id,children:q.nombre},q.id))]}),l.jsxs("select",{value:b,onChange:q=>v(q.target.value),className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Todos los tipos"}),l.jsx("option",{value:"venta",children:"Ventas"}),l.jsx("option",{value:"compra",children:"Compras"})]}),l.jsxs("select",{value:j,onChange:q=>S(q.target.value),className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Todos los estados"}),l.jsx("option",{value:"completada",children:"Completada"}),l.jsx("option",{value:"pendiente",children:"Pendiente"}),l.jsx("option",{value:"cancelada",children:"Cancelada"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"date",value:N.start,onChange:q=>_(ee=>({...ee,start:q.target.value})),className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"}),l.jsx("input",{type:"date",value:N.end,onChange:q=>_(ee=>({...ee,end:q.target.value})),className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),l.jsxs("button",{onClick:()=>{m(""),g(""),v(""),S(""),_({start:"",end:""})},className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Rd,{className:"h-5 w-5"}),l.jsx("span",{children:"Limpiar Filtros"})]})]}),l.jsx("div",{className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-interactive-component",children:[l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Factura"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Sede"}),l.jsx("th",{className:"px-8 py-4 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:e?l.jsx(en,{variant:"table",colSpan:7,text:"Cargando facturas..."}):G.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-8 py-4 text-center text-text-tertiary",children:"No se encontraron facturas"})}):G.map(q=>{var ee;return l.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(rr,{className:"h-5 w-5 text-solid-color"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-base font-medium text-accessibility-text",children:q.numero}),l.jsxs("div",{className:"text-sm text-text-tertiary",children:["ID: ",q.id]})]})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[$j(q.tipo),l.jsx("span",{className:`text-base font-medium ${Ij(q.tipo)} px-3 py-1.5 rounded-full`,children:Xg(q.tipo)})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Fi,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("span",{className:"text-base text-text-tertiary",children:qg(q.fecha)})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(dr,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("span",{className:"text-base font-medium text-accessibility-text",children:Oh(q.total)})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[Hj(q.estado),l.jsx("span",{className:`text-base font-medium ${Fj(q.estado)} px-3 py-1.5 rounded-full`,children:Yg(q.estado)})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(By,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("span",{className:"text-base text-text-tertiary",children:((ee=q.sede)==null?void 0:ee.nombre)||"N/A"})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[l.jsx("button",{onClick:()=>X(q),className:"p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Ver factura",children:l.jsx(Dd,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>fe(q),className:"p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Ver PDF",disabled:P,children:P?l.jsx(en,{variant:"button",text:"Cargando PDF..."}):l.jsx(Tx,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>ne(q),className:"p-2 text-success hover:text-success-hover rounded-lg transition-colors duration-200",title:"Descargar factura",disabled:D,children:D?l.jsx(en,{variant:"button",text:"Descargando..."}):l.jsx(Vi,{className:"h-5 w-5"})})]})})]},`${q.tipo}-${q.id}`)})})]})})}),l.jsx(Xr,{isOpen:A,onClose:()=>k(!1),title:`Factura ${O==null?void 0:O.numero}`,size:"lg",children:O&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Tipo"}),l.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium ${Ij(O.tipo)}`,children:[$j(O.tipo),l.jsx("span",{className:"ml-2",children:Xg(O.tipo)})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Fecha"}),l.jsx("p",{className:"text-base text-accessibility-text",children:qg(O.fecha)})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Estado"}),l.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium ${Fj(O.estado)}`,children:[Hj(O.estado),l.jsx("span",{className:"ml-2",children:Yg(O.estado)})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Total"}),l.jsx("p",{className:"text-xl font-semibold text-accessibility-text",children:Oh(O.total)})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Sede"}),l.jsx("p",{className:"text-base text-accessibility-text",children:((B=O.sede)==null?void 0:B.nombre)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Usuario"}),l.jsx("p",{className:"text-base text-accessibility-text",children:((F=O.usuario)==null?void 0:F.nombre)||"N/A"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>fe(O),className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",disabled:P,children:P?l.jsx(en,{variant:"button",text:"Cargando PDF..."}):l.jsxs(l.Fragment,{children:[l.jsx(Tx,{className:"h-5 w-5"}),l.jsx("span",{children:"Ver PDF"})]})}),l.jsx("button",{onClick:()=>ne(O),className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",disabled:D,children:D?l.jsx(en,{variant:"button",text:"Descargando..."}):l.jsxs(l.Fragment,{children:[l.jsx(Vi,{className:"h-5 w-5"}),l.jsx("span",{children:"Descargar"})]})})]})]})})]})},wE=Pn((t,e)=>({users:[],roles:[],isLoading:!1,error:null,loadUsers:async()=>{t({isLoading:!0,error:null});try{const n=await Ls.fetchUsers();t({users:n,isLoading:!1})}catch(n){t({error:n.message,isLoading:!1,users:[]})}},createUser:async n=>{t({isLoading:!0,error:null});try{const s=await Ls.createUser(n);return t(a=>({users:[...a.users,s],isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},updateUser:async(n,s)=>{t({isLoading:!0,error:null});try{const a=await Ls.updateUser(n,s);return t(o=>({users:o.users.map(c=>c.id===n?a:c),isLoading:!1})),!0}catch(a){return t({error:a.message,isLoading:!1}),!1}},deleteUser:async n=>{t({isLoading:!0,error:null});try{return await Ls.deleteUser(n),t(s=>({users:s.users.filter(a=>a.id!==n),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},searchUsers:n=>{const{users:s}=e();if(!n)return s;const a=n.toLowerCase();return s.filter(o=>{var c,u,f,m;return((c=o.nombre)==null?void 0:c.toLowerCase().includes(a))||((u=o.email)==null?void 0:u.toLowerCase().includes(a))||((m=(f=o.rol)==null?void 0:f.nombre)==null?void 0:m.toLowerCase().includes(a))})},filterUsersByRole:n=>{const{users:s}=e();return n?s.filter(a=>a.rol_id===n):s},loadRoles:async()=>{t({isLoading:!0,error:null});try{const n=await Ls.loadRoles();t({roles:n,isLoading:!1})}catch(n){t({error:n.message,isLoading:!1,roles:[]})}},getUserById:async n=>{t({isLoading:!0,error:null});try{const s=await Ls.getUserById(n);return t({isLoading:!1}),s}catch(s){return t({error:s.message,isLoading:!1}),null}},restoreUser:async n=>{t({isLoading:!0,error:null});try{return await Ls.restoreUser(n),t(s=>({isLoading:!1,users:s.users.map(a=>a.id===n?{...a,deleted_at:null}:a)})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},updateUserStatus:async(n,s)=>{t({isLoading:!0,error:null});try{const a=await Ls.updateUserStatus(n,s);return t(o=>({users:o.users.map(c=>c.id===n?a:c),isLoading:!1})),!0}catch(a){return t({error:a.message,isLoading:!1}),!1}}})),O7=({user:t=null,onClose:e})=>{const{createUser:n,updateUser:s,cambiarEstado:a}=wE(),{sedes:o,fetchSedes:c}=js(),[u,f]=R.useState({nombre:"",email:"",password:"",rol_id:2,sede_id:1,activo:1}),[m,p]=R.useState({}),[g,b]=R.useState(!1);R.useEffect(()=>{c(),t&&f({nombre:t.nombre||"",email:t.email||"",password:"",rol_id:t.rol_id||2,sede_id:t.sede_id||1,activo:t.activo??1})},[t,c]);const v=()=>{const _={};return u.nombre||(_.nombre="El nombre es requerido"),u.email||(_.email="El email es requerido"),!t&&!u.password&&(_.password="La contraseña es requerida"),u.password&&u.password.length<6&&(_.password="La contraseña debe tener al menos 6 caracteres"),p(_),Object.keys(_).length===0},j=async _=>{var A,k;if(_.preventDefault(),!!v())try{b(!0);const O={nombre:u.nombre,email:u.email,password:u.password,rol_id:parseInt(u.rol_id),sede_id:parseInt(u.sede_id)};t&&!O.password&&delete O.password,console.log("Enviando datos:",O),t?await s(t.id,O):await n(O),e()}catch(O){console.error("Error al guardar usuario:",O),p({general:((k=(A=O.response)==null?void 0:A.data)==null?void 0:k.message)||"Error al procesar la solicitud"})}finally{b(!1)}},S=async _=>{var k,O;const A=_.target.checked?1:0;try{b(!0),await a(t.id,A),f(M=>({...M,activo:A}))}catch(M){console.error("Error al cambiar estado:",M),p({general:((O=(k=M.response)==null?void 0:k.data)==null?void 0:O.message)||"Error al cambiar el estado"})}finally{b(!1)}},N=_=>{const{name:A,value:k}=_.target;f(O=>({...O,[A]:k}))};return l.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m.general&&l.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 text-sm",children:m.general}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-accessibility-text",children:"Nombre"}),l.jsx("input",{type:"text",id:"nombre",name:"nombre",value:u.nombre,onChange:N,required:!0,className:`mt-1 block w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.nombre?"border-red-500":""}`}),m.nombre&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.nombre})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-accessibility-text",children:"Email"}),l.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:N,required:!0,className:`mt-1 block w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.email?"border-red-500":""}`}),m.email&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.email})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-accessibility-text",children:["Contraseña ",t&&"(dejar en blanco para mantener)"]}),l.jsx("input",{type:"password",id:"password",name:"password",value:u.password,onChange:N,required:!t,className:`mt-1 block w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.password?"border-red-500":""}`}),m.password&&l.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.password})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"rol_id",className:"block text-sm font-medium text-accessibility-text",children:"Rol"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Vy,{className:"h-5 w-5 text-text-tertiary"})}),l.jsxs("select",{id:"rol_id",name:"rol_id",value:u.rol_id,onChange:N,required:!0,className:`block w-full pl-10 pr-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.rol_id?"border-red-500":""}`,children:[l.jsx("option",{value:"1",children:"Administrador"}),l.jsx("option",{value:"2",children:"Vendedor"}),l.jsx("option",{value:"3",children:"Almacén"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"sede_id",className:"block text-sm font-medium text-accessibility-text",children:"Sede"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(By,{className:"h-5 w-5 text-text-tertiary"})}),l.jsx("select",{id:"sede_id",name:"sede_id",value:u.sede_id,onChange:N,required:!0,className:`block w-full pl-10 pr-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.sede_id?"border-red-500":""}`,children:o.map(_=>l.jsx("option",{value:_.id,children:_.nombre},_.id))})]})]}),t&&l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"activo",name:"activo",checked:u.activo===1,onChange:S,disabled:g,className:"h-4 w-4 rounded border-border text-solid-color focus:ring-solid-color disabled:opacity-50"}),l.jsx("label",{htmlFor:"activo",className:"ml-2 block text-sm text-accessibility-text",children:"Usuario Activo"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 text-sm font-medium text-white bg-solid-color hover:bg-solid-color-hover rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Guardando...":"Guardar"})]})]})},L7="http://127.0.0.1:8000/api",P7=()=>{const{users:t,loadUsers:e,deleteUser:n}=wE(),{sedes:s,fetchSedes:a}=js(),[o,c]=R.useState(""),[u,f]=R.useState(""),[m,p]=R.useState(!1),[g,b]=R.useState(!1),[v,j]=R.useState(null),[S,N]=R.useState(null);R.useEffect(()=>{(async()=>{try{await Promise.all([e(),a()])}catch(B){console.error("Error loading data:",B)}})()},[e,a]);const _=async(K,B)=>{try{const F=localStorage.getItem("token");await it.patch(`${L7}/users/${K}/status`,{activo:B},{headers:{Authorization:`Bearer ${F}`}}),e()}catch(F){console.error("Error al cambiar estado:",F)}},A=K=>K===1?l.jsx(_g,{className:"h-4 w-4 text-success"}):l.jsx(Eg,{className:"h-4 w-4 text-error"}),k=K=>K===1?"bg-success/10 text-success":"bg-error/10 text-error",O=K=>K===1?"Activo":"Inactivo",M=K=>{const B=s.find(F=>F.id===K);return B?B.nombre:"No asignada"},P=K=>{switch(K){case 1:return"Administrador";case 2:return"Vendedor";case 3:return"Almacén";default:return"Desconocido"}},V=K=>{if(!K)return"";const B=K.trim().split(" ");return B.length===1?B[0][0].toUpperCase():(B[0][0]+B[B.length-1][0]).toUpperCase()},D=K=>{if(!K)return"Nunca";try{const B=new Date(K);return`${Wt(B,"dd/MM/yyyy HH:mm",{locale:Qn})} (${D6(B,{addSuffix:!0,locale:Qn})})`}catch{return K}},U=t.filter(K=>{var q,ee;const B=((q=K.nombre)==null?void 0:q.toLowerCase().includes(o.toLowerCase()))||((ee=K.email)==null?void 0:ee.toLowerCase().includes(o.toLowerCase())),F=!u||K.rol_id===parseInt(u);return B&&F}),Y=[{title:"Usuarios Totales",value:t.length.toString(),icon:l.jsx(rl,{className:"h-6 w-6 text-solid-color"}),change:"+12%",trend:"up"},{title:"Usuarios Activos",value:t.filter(K=>K.activo===1).length.toString(),icon:l.jsx(_g,{className:"h-6 w-6 text-success"}),change:"+5%",trend:"up"},{title:"Usuarios Inactivos",value:t.filter(K=>K.activo===0).length.toString(),icon:l.jsx(Eg,{className:"h-6 w-6 text-error"}),change:"-2%",trend:"down"}],G=()=>{j(null),p(!0)},X=K=>{j(K),p(!0)},ne=K=>{N(K),b(!0)},fe=async()=>{S&&(await n(S.id),b(!1),N(null))};return l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(rl,{className:"h-8 w-8 text-solid-color"}),l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Usuarios"})]}),l.jsxs("button",{onClick:G,className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Ia,{className:"h-5 w-5"}),l.jsx("span",{children:"Nuevo Usuario"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Y.map((K,B)=>l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:B*.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:K.icon}),l.jsx("span",{className:`text-sm font-medium ${K.trend==="up"?"text-success":"text-error"}`,children:K.change})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:K.title}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:K.value})]},B))}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(hr,{className:"h-5 w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:o,onChange:K=>c(K.target.value),className:"w-full pl-10 pr-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),l.jsxs("select",{value:u,onChange:K=>f(K.target.value),className:"px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Todos los roles"}),l.jsx("option",{value:"1",children:"Administrador"}),l.jsx("option",{value:"2",children:"Vendedor"}),l.jsx("option",{value:"3",children:"Almacén"})]}),l.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Rd,{className:"h-5 w-5"}),l.jsx("span",{children:"Filtrar"})]})]}),l.jsx("div",{className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-interactive-component",children:[l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Usuario"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Rol"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Sede"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Contacto"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Último Acceso"}),l.jsx("th",{className:"px-8 py-4 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:U.map(K=>l.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-solid-color/20 flex items-center justify-center text-xl font-bold text-solid-color",children:V(K.nombre)}),l.jsxs("div",{children:[l.jsx("div",{className:"text-base font-medium text-accessibility-text",children:K.nombre}),l.jsx("div",{className:"text-sm text-text-tertiary",children:K.email})]})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Vy,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("span",{className:"text-base text-text-tertiary",children:P(K.rol_id)})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(By,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("span",{className:"text-base text-text-tertiary",children:M(K.sede_id)})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Of,{className:"h-5 w-5 text-text-tertiary"}),l.jsx("span",{className:"text-base text-text-tertiary",children:K.email})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[A(K.activo),l.jsx("span",{className:`text-base font-medium ${k(K.activo)} px-3 py-1.5 rounded-full`,children:O(K.activo)})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsx("div",{className:"text-base text-text-tertiary",children:D(K.ultimo_acceso)})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-right",children:l.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[l.jsx("button",{onClick:()=>_(K.id,K.activo===1?0:1),className:`p-2 ${K.activo===1?"text-error hover:text-error-hover":"text-success hover:text-success-hover"} rounded-lg transition-colors duration-200`,children:K.activo===1?l.jsx(Eg,{className:"h-5 w-5"}):l.jsx(_g,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>X(K),className:"p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",children:l.jsx(Uy,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>ne(K),className:"p-2 text-error hover:text-error-hover rounded-lg transition-colors duration-200",children:l.jsx(Ii,{className:"h-5 w-5"})}),l.jsx("button",{className:"p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",children:l.jsx(xO,{className:"h-5 w-5"})})]})})]},K.id))})]})})}),l.jsx(Xr,{isOpen:m,onClose:()=>p(!1),title:v?"Editar Usuario":"Nuevo Usuario",size:"md",children:l.jsx(O7,{user:v,onClose:()=>p(!1)})}),l.jsx(Xr,{isOpen:g,onClose:()=>b(!1),title:"Confirmar Eliminación",size:"sm",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-text-secondary",children:["¿Estás seguro de que deseas eliminar al usuario ",S==null?void 0:S.nombre,"? Esta acción no se puede deshacer."]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:fe,className:"px-4 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-lg transition-colors",children:"Eliminar"})]})]})})]})},z7=()=>{const[t,e]=R.useState(!1),[n,s]=R.useState(null),[a,o]=R.useState(null),{userData:c,logout:u}=Ut(),[f,m]=R.useState({perfil:{nombre:"",email:""},seguridad:{currentPassword:"",newPassword:"",confirmPassword:""}});R.useEffect(()=>{p()},[]);const p=async()=>{try{e(!0),s(null),c&&m(k=>({...k,perfil:{nombre:c.nombre||"",email:c.email||""}}))}catch(k){s(k.message||"Error al cargar el perfil"),we.error("Error al cargar el perfil")}finally{e(!1)}},g=(k,O,M)=>{m(P=>({...P,[k]:{...P[k],[O]:M}}))},b=k=>{o(k),we.success(k),setTimeout(()=>{o(null)},4e3)},v=async k=>{try{if(e(!0),s(null),o(null),k==="seguridad"){if(f.seguridad.newPassword!==f.seguridad.confirmPassword){we.error("Las contraseñas no coinciden");return}if(f.seguridad.newPassword.length<6){we.error("La contraseña debe tener al menos 6 caracteres");return}await Ls.updatePassword({current_password:f.seguridad.currentPassword,password:f.seguridad.newPassword,password_confirmation:f.seguridad.confirmPassword}),b("Contraseña actualizada correctamente"),m(O=>({...O,seguridad:{currentPassword:"",newPassword:"",confirmPassword:""}}))}else if(k==="perfil"){if(!f.perfil.nombre||!f.perfil.email){we.error("El nombre y el correo electrónico son obligatorios");return}await Ls.updateProfile({nombre:f.perfil.nombre,email:f.perfil.email}),b("Perfil actualizado correctamente")}}catch(O){s(O.message||"Error al actualizar la configuración"),we.error(O.message||"Error al actualizar la configuración")}finally{e(!1)}},j=()=>{u()},S=[{title:"Perfil",icon:l.jsx(ws,{className:"h-5 w-5 text-solid-color"}),items:[{label:"Nombre",value:f.perfil.nombre||"",type:"text",placeholder:"Tu nombre completo",required:!0,onChange:k=>g("perfil","nombre",k.target.value)},{label:"Correo Electrónico",value:f.perfil.email||"",type:"email",placeholder:"correo@ejemplo.com",required:!0,onChange:k=>g("perfil","email",k.target.value)}],onSubmit:()=>v("perfil")},{title:"Seguridad",icon:l.jsx(u_,{className:"h-5 w-5 text-solid-color"}),items:[{label:"Contraseña Actual",value:f.seguridad.currentPassword,type:"password",placeholder:"Ingresa tu contraseña actual",required:!0,onChange:k=>g("seguridad","currentPassword",k.target.value)},{label:"Nueva Contraseña",value:f.seguridad.newPassword,type:"password",placeholder:"Mínimo 6 caracteres",required:!0,onChange:k=>g("seguridad","newPassword",k.target.value)},{label:"Confirmar Contraseña",value:f.seguridad.confirmPassword,type:"password",placeholder:"Confirma tu nueva contraseña",required:!0,onChange:k=>g("seguridad","confirmPassword",k.target.value)}],onSubmit:()=>v("seguridad")}],N=[{label:"Versión",value:"1.0.0"},{label:"Última Actualización",value:new Date().toLocaleDateString()},{label:"Base de Datos",value:"MySQL 8.0"}],_=[{title:"Primeros pasos con StockFlow",icon:l.jsx(Y3,{className:"h-5 w-5"}),description:"Aprende lo básico para comenzar a utilizar la plataforma de manera efectiva."},{title:"Gestión de inventario",icon:l.jsx(p2,{className:"h-5 w-5"}),description:"Cómo realizar un seguimiento eficiente de tus productos y existencias."},{title:"Transferencias entre sedes",icon:l.jsx(rr,{className:"h-5 w-5"}),description:"Guía para gestionar movimientos de inventario entre diferentes ubicaciones."},{title:"Gestión de compras y ventas",icon:l.jsx(rL,{className:"h-5 w-5"}),description:"Procedimientos para registrar y dar seguimiento a transacciones comerciales."}],A=[{title:"Contactar Soporte",icon:l.jsx(Of,{className:"h-5 w-5"}),description:"Envía un correo a nuestro equipo de soporte para resolver dudas."},{title:"Ayuda telefónica",icon:l.jsx(f_,{className:"h-5 w-5"}),description:"Llama a nuestro centro de atención al cliente: 01-800-123-4567"},{title:"Tutoriales en video",icon:l.jsx(BO,{className:"h-5 w-5"}),description:"Visualiza guías paso a paso para sacar el máximo provecho."},{title:"Actualizaciones",icon:l.jsx(Vi,{className:"h-5 w-5"}),description:"Revisa las novedades y mejoras más recientes del sistema."}];return l.jsxs("div",{className:"h-screen overflow-auto p-6",children:[l.jsx("div",{className:"flex items-center justify-between mb-8",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-3 bg-solid-color/10 rounded-full",children:l.jsx(Ld,{className:"h-7 w-7 text-solid-color"})}),l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Configuración"})]})}),n&&l.jsx("div",{className:"mb-8 bg-error/10 border border-error text-error px-4 py-3 rounded-lg",children:n}),a&&l.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-8 bg-green-100 border border-green-600 text-green-700 px-4 py-3 rounded-lg flex items-center",children:[l.jsx($a,{className:"h-5 w-5 mr-2 text-green-600"}),l.jsx("span",{children:a})]}),l.jsxs("div",{className:"grid grid-cols-12 gap-6 min-h-[calc(100vh-10rem)]",children:[l.jsxs("div",{className:"col-span-12 xl:col-span-8 space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:S.map((k,O)=>l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:O*.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border hover:border-solid-color/40 transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"p-2 bg-solid-color/10 rounded-lg",children:k.icon}),l.jsx("h2",{className:"text-lg font-semibold text-accessibility-text",children:k.title})]}),l.jsx("button",{onClick:k.onSubmit,disabled:t,className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200 disabled:opacity-50",children:t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),l.jsx("span",{children:"Guardando..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(XO,{className:"h-4 w-4"}),l.jsx("span",{children:"Guardar"})]})})]}),l.jsx("div",{className:"space-y-5",children:k.items.map((M,P)=>l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-text-tertiary flex items-center",children:[M.label,M.required&&l.jsx("span",{className:"text-error ml-1",children:"*"})]}),l.jsx("input",{type:M.type,value:M.value,onChange:M.onChange,placeholder:M.placeholder,className:"w-full px-4 py-2.5 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent transition-all"})]},P))})]},O))}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"bg-bg rounded-xl shadow-md p-6 border border-border hover:border-solid-color/40 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-solid-color/10 rounded-lg",children:l.jsx(oO,{className:"h-5 w-5 text-solid-color"})}),l.jsx("h2",{className:"text-lg font-semibold text-accessibility-text",children:"Centro de Ayuda"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map((k,O)=>l.jsx("div",{className:"p-4 border border-border rounded-lg hover:bg-bg-secondary transition-colors cursor-pointer",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"p-2 bg-solid-color/10 rounded-lg text-solid-color shrink-0",children:k.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-accessibility-text mb-1",children:k.title}),l.jsx("p",{className:"text-sm text-text-tertiary",children:k.description})]})]})},O))})]})]}),l.jsxs("div",{className:"col-span-12 xl:col-span-4 space-y-6",children:[l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"bg-bg rounded-xl shadow-md p-6 border border-border hover:border-solid-color/40 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-solid-color/10 rounded-lg",children:l.jsx(p2,{className:"h-5 w-5 text-solid-color"})}),l.jsx("h2",{className:"text-lg font-semibold text-accessibility-text",children:"Información del Sistema"})]}),l.jsx("div",{className:"space-y-4",children:N.map((k,O)=>l.jsxs("div",{className:"flex justify-between py-2 border-b border-border last:border-0",children:[l.jsx("span",{className:"text-sm text-text-tertiary",children:k.label}),l.jsx("span",{className:"text-sm font-medium text-accessibility-text",children:k.value})]},O))})]}),l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"bg-bg rounded-xl shadow-md p-6 border border-border hover:border-solid-color/40 transition-colors",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[l.jsx("div",{className:"p-2 bg-solid-color/10 rounded-lg",children:l.jsx(fO,{className:"h-5 w-5 text-solid-color"})}),l.jsx("h2",{className:"text-lg font-semibold text-accessibility-text",children:"Enlaces Rápidos"})]}),l.jsxs("div",{className:"space-y-3",children:[A.map((k,O)=>l.jsx("div",{className:"p-3 border border-border rounded-lg hover:bg-bg-secondary transition-colors cursor-pointer",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx("div",{className:"p-1.5 bg-solid-color/10 rounded-lg text-solid-color shrink-0",children:k.icon}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-accessibility-text text-sm",children:k.title}),l.jsx("p",{className:"text-xs text-text-tertiary mt-0.5",children:k.description})]})]})},O)),l.jsxs("button",{onClick:j,className:"w-full mt-3 px-4 py-3 bg-error/10 hover:bg-error/20 text-error rounded-lg flex items-center justify-center space-x-2 transition-colors duration-200",children:[l.jsx(Rf,{className:"h-5 w-5"}),l.jsx("span",{children:"Cerrar Sesión"})]})]})]})]})]})]})},B7=()=>{const[t,e]=R.useState("productos"),[n,s]=R.useState(!1),[a,o]=R.useState(!1),[c,u]=R.useState(null),[f,m]=R.useState(""),[p,g]=R.useState({}),[b,v]=R.useState([]),[j,S]=R.useState(!1),{products:N,isLoading:_,error:A,loadProducts:k,deleteProduct:O,createProduct:M,updateProduct:P}=Wr(),{proveedores:V,isLoading:D,error:U,fetchProveedores:Y,deleteProveedor:G,createProveedor:X,updateProveedor:ne}=M_(),{brands:fe,isLoading:K,error:B,fetchBrands:F,deleteBrand:q,createBrand:ee,updateBrand:H}=qy(),{sedes:Z,isLoading:ae,error:le,fetchSedes:pe,deleteSede:je,createSede:me,updateSede:ot}=js(),{categories:Ve,isLoading:lt,error:mn,fetchCategories:Cn,deleteCategory:xe,createCategory:Je,updateCategory:xt}=Iy();ve.useEffect(()=>{k(),Y(),F(),pe(),Cn()},[k,Y,F,pe,Cn]);const Mt=oe=>{if(m(oe),u(null),g({}),oe==="productos"){const _e=Z.map(Se=>({sede_id:Se.id,stock:0,precio_compra:0,precio_venta:0}));v(_e)}s(!0)},Ke=(oe,_e)=>{if(m(oe),u(_e),oe==="productos"&&_e.sedes){const Se=_e.sedes.map(Ce=>({sede_id:Ce.id,stock:Ce.pivot.stock,precio_compra:Ce.pivot.precio_compra,precio_venta:Ce.pivot.precio_venta}));v(Se);const ke={id:_e.id,nombre:_e.nombre,descripcion:_e.descripcion,sku:_e.sku,stock_minimo:_e.stock_minimo,categoria_id:_e.categoria_id,marca_id:_e.marca_id,tipo_producto:_e.tipo_producto};g(ke)}else g(_e);s(!0)},et=(oe,_e)=>{m(oe),u(_e),o(!0)},tn=async(oe,_e=null)=>{let Se;switch(oe){case"productos":await k();break;case"proveedores":console.log("Recargando lista de proveedores..."),Se=await Y(),console.log("Proveedores recargados:",Se),_e&&Se.some(ke=>ke.id===_e.id)&&console.warn(`¡Advertencia! El proveedor ${_e.id} sigue apareciendo en la lista`);break;case"marcas":await F();break;case"sedes":await pe();break;case"categorias":await Cn();break}return Se},At=async()=>{var oe,_e;S(!0);try{let Se=!1,ke=(c==null?void 0:c.nombre)||"";switch(f){case"productos":Se=await O(c.id);break;case"proveedores":console.log("Intentando eliminar proveedor con ID:",c.id),Se=await G(c.id),console.log("Resultado de eliminar proveedor:",Se);break;case"marcas":Se=await q(c.id);break;case"sedes":Se=await je(c.id);break;case"categorias":Se=await xe(c.id);break;default:break}Se?(we.success(`"${ke}" eliminado correctamente`),o(!1),await tn(f,c)):we.error(`Error al eliminar "${ke}"`)}catch(Se){console.error("Error detallado al eliminar:",Se);let ke;(_e=(oe=Se.response)==null?void 0:oe.data)!=null&&_e.message?ke=Se.response.data.message:Se.message?ke=Se.message:ke="Error al eliminar el elemento",we.error(ke)}finally{S(!1)}},bn=(oe,_e,Se)=>{v(ke=>ke.map(Ce=>Ce.sede_id===oe?{...Ce,[_e]:Se}:Ce))},zn=async oe=>{var _e,Se;oe.preventDefault(),S(!0);try{let ke=!1,Ce={...p},St=p.nombre||"";if(f==="productos"){if(!Ce.sku){we.error("El SKU es obligatorio");return}if(!Ce.categoria_id){we.error("Debe seleccionar una categoría");return}if(!Ce.marca_id){we.error("Debe seleccionar una marca");return}if(!Ce.tipo_producto){we.error("Debe seleccionar un tipo de producto");return}Ce.sedes=b}const _s=c?"actualizado":"creado";switch(f){case"productos":c?ke=await P(c.id,Ce):ke=await M(Ce);break;case"proveedores":c?ke=await ne(c.id,Ce):ke=await X(Ce);break;case"marcas":c?ke=await H(c.id,Ce):ke=await ee(Ce);break;case"sedes":c?ke=await ot(c.id,Ce):ke=await me(Ce);break;case"categorias":c?ke=await xt(c.id,Ce):ke=await Je(Ce);break;default:break}ke?(we.success(`"${St}" ${_s} correctamente`),s(!1),await tn(f,c)):we.error(`Error al ${_s} "${St}"`)}catch(ke){console.error("Error al guardar:",ke);const Ce=((Se=(_e=ke.response)==null?void 0:_e.data)==null?void 0:Se.message)||ke.message||"Error al procesar la solicitud";we.error(Ce)}finally{S(!1)}},Dt=oe=>{const{name:_e,value:Se,type:ke,checked:Ce}=oe.target,St=ke==="checkbox"?Ce:Se;g(_s=>({..._s,[_e]:St}))},vn=()=>{switch(f){case"productos":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"sku",label:"SKU",type:"text",required:!0},{name:"tipo_producto",label:"Tipo de Producto",type:"select",required:!0,options:[{value:"ROB",label:"Robot (ROB)"},{value:"REP",label:"Repuesto (REP)"},{value:"ACC",label:"Accesorio (ACC)"},{value:"OTR",label:"Otro (OTR)"}]},{name:"descripcion",label:"Descripción",type:"textarea"},{name:"categoria_id",label:"Categoría",type:"select",required:!0,options:Ve.map(oe=>({value:oe.id,label:oe.nombre}))},{name:"marca_id",label:"Marca",type:"select",required:!0,options:fe.map(oe=>({value:oe.id,label:oe.nombre}))},{name:"stock_minimo",label:"Stock Mínimo",type:"number",required:!0,min:0}];case"proveedores":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"contacto",label:"Persona de Contacto",type:"text"},{name:"email",label:"Email",type:"email"},{name:"telefono",label:"Teléfono",type:"tel"}];case"marcas":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"descripcion",label:"Descripción",type:"textarea"}];case"sedes":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"direccion",label:"Dirección",type:"text"},{name:"telefono",label:"Teléfono",type:"tel"},{name:"email",label:"Email",type:"email"}];case"categorias":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"descripcion",label:"Descripción",type:"textarea"}];default:return[]}},Kr=[{id:"productos",name:"Productos",icon:Bt,data:N,isLoading:_,error:A,columns:[{header:"Nombre",accessor:"nombre"},{header:"SKU",accessor:"sku"},{header:"Categoría",accessor:"categoria_id",render:oe=>{const _e=Ve.find(Se=>Se.id===oe);return _e?_e.nombre:"Sin categoría"}},{header:"Marca",accessor:"marca_id",render:oe=>{const _e=fe.find(Se=>Se.id===oe);return _e?_e.nombre:"Sin marca"}},{header:"Stock",accessor:"sedes",render:oe=>((oe==null?void 0:oe.reduce((Se,ke)=>{var Ce;return Se+(((Ce=ke.pivot)==null?void 0:Ce.stock)||0)},0))||0).toLocaleString("es-ES")},{header:"Precio Compra",accessor:"sedes",render:oe=>{if(!oe||oe.length===0)return bt(0);const _e=oe.length,Se=oe.reduce((ke,Ce)=>{var St;return ke+(((St=Ce.pivot)==null?void 0:St.precio_compra)||0)},0);return bt(Se/_e)}},{header:"Precio Venta",accessor:"sedes",render:oe=>{if(!oe||oe.length===0)return bt(0);const _e=oe.length,Se=oe.reduce((ke,Ce)=>{var St;return ke+(((St=Ce.pivot)==null?void 0:St.precio_venta)||0)},0);return bt(Se/_e)}}]},{id:"proveedores",name:"Proveedores",icon:sl,data:V,isLoading:D,error:U,columns:[{header:"Nombre",accessor:"nombre"},{header:"Contacto",accessor:"contacto"},{header:"Teléfono",accessor:"telefono"},{header:"Email",accessor:"email"},{header:"Ciudad",accessor:"ciudad"},{header:"País",accessor:"pais"}]},{id:"marcas",name:"Marcas",icon:Hy,data:fe,isLoading:K,error:B,columns:[{header:"Nombre",accessor:"nombre"},{header:"Descripción",accessor:"descripcion"}]},{id:"sedes",name:"Sedes",icon:Ps,data:Z,isLoading:ae,error:le,columns:[{header:"Nombre",accessor:"nombre"},{header:"Dirección",accessor:"direccion"},{header:"Teléfono",accessor:"telefono"}]},{id:"categorias",name:"Categorías",icon:NO,data:Ve,isLoading:lt,error:mn,columns:[{header:"Nombre",accessor:"nombre"},{header:"Descripción",accessor:"descripcion"}]}];return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Ld,{className:"h-8 w-8 text-solid-color"}),l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Gestión del Sistema"})]})}),l.jsx("div",{className:"border-b border-border",children:l.jsx("nav",{className:"-mb-px flex space-x-8",children:Kr.map(oe=>l.jsxs("button",{onClick:()=>e(oe.id),className:`${t===oe.id?"border-solid-color text-solid-color":"border-transparent text-text-tertiary hover:text-accessibility-text hover:border-border"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 flex items-center space-x-2`,children:[l.jsx(oe.icon,{className:"h-5 w-5"}),l.jsx("span",{children:oe.name})]},oe.id))})}),l.jsx("div",{className:"mt-6",children:Kr.map(oe=>{var _e,Se;return l.jsx("div",{className:t===oe.id?"block":"hidden",children:l.jsxs("div",{className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:[l.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-semibold text-accessibility-text",children:oe.name}),l.jsx("button",{onClick:()=>Mt(oe.id),className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",children:l.jsxs("span",{children:["Agregar ",oe.name.slice(0,-1)]})})]}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{className:"bg-bg-secondary",children:l.jsxs("tr",{children:[oe.columns.map((ke,Ce)=>l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:ke.header},Ce)),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"bg-bg divide-y divide-border",children:oe.isLoading?l.jsx(en,{variant:"table",colSpan:oe.columns.length+1,text:`Cargando ${oe.name.toLowerCase()}...`}):oe.error?l.jsx("tr",{children:l.jsxs("td",{colSpan:oe.columns.length+1,className:"px-6 py-4 text-center text-error",children:["Error: ",oe.error]})}):((_e=oe.data)==null?void 0:_e.length)===0?l.jsx("tr",{children:l.jsx("td",{colSpan:oe.columns.length+1,className:"px-6 py-4 text-center text-text-tertiary",children:"No hay datos disponibles"})}):(Se=oe.data)==null?void 0:Se.map(ke=>l.jsxs("tr",{className:"hover:bg-interactive-component/50",children:[oe.columns.map((Ce,St)=>l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-accessibility-text",children:Ce.render?Ce.render(ke[Ce.accessor],ke):ke[Ce.accessor]},St)),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[l.jsx("button",{onClick:()=>Ke(oe.id,ke),className:"p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Editar",children:l.jsx(Uy,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>et(oe.id,ke),className:"p-2 text-error hover:text-error-hover rounded-lg transition-colors duration-200",title:"Eliminar",children:l.jsx(Ii,{className:"h-5 w-5"})})]})})]},ke.id))})]})})]})},oe.id)})}),l.jsx(Xr,{isOpen:n,onClose:()=>!j&&s(!1),title:`${c?"Editar":"Agregar"} ${f.slice(0,-1)}`,size:"lg",children:l.jsxs("form",{onSubmit:zn,className:"p-4 space-y-4",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:vn().map(oe=>l.jsxs("div",{className:oe.type==="textarea"?"col-span-2":"",children:[l.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:[oe.label," ",oe.required&&l.jsx("span",{className:"text-error",children:"*"})]}),oe.type==="select"?l.jsxs("select",{name:oe.name,value:p[oe.name]||"",onChange:Dt,required:oe.required,className:"w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Seleccionar..."}),oe.options.map(_e=>l.jsx("option",{value:_e.value,children:_e.label},_e.value))]}):oe.type==="textarea"?l.jsx("textarea",{name:oe.name,value:p[oe.name]||"",onChange:Dt,required:oe.required,rows:3,className:"w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"}):oe.type==="checkbox"?l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",name:oe.name,checked:!!p[oe.name],onChange:Dt,className:"h-4 w-4 text-solid-color focus:ring-solid-color border-border rounded"}),l.jsx("span",{className:"ml-2 text-sm text-text-secondary",children:oe.checkboxLabel||`¿${oe.label}?`})]}):l.jsx("input",{type:oe.type,name:oe.name,value:p[oe.name]||"",onChange:Dt,required:oe.required,step:oe.step,min:oe.min,max:oe.max,className:"w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]},oe.name))}),f==="productos"&&Z.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-lg font-medium text-accessibility-text mb-4",children:"Stock y Precios por Sede"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{className:"bg-bg-secondary",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Sede"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Precio Compra (€)"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Precio Venta (€)"})]})}),l.jsx("tbody",{className:"bg-bg divide-y divide-border",children:b.map(oe=>{const _e=Z.find(Se=>Se.id===oe.sede_id);return l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:l.jsx("span",{className:"font-medium text-accessibility-text",children:(_e==null?void 0:_e.nombre)||"Sede desconocida"})}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:l.jsx("input",{type:"number",min:"0",value:oe.stock||0,onChange:Se=>bn(oe.sede_id,"stock",parseInt(Se.target.value)||0),className:"w-24 px-2 py-1 bg-bg border border-border rounded focus:outline-none focus:ring-1 focus:ring-solid-color"})}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:l.jsx("input",{type:"number",min:"0",step:"0.01",value:oe.precio_compra||0,onChange:Se=>bn(oe.sede_id,"precio_compra",parseFloat(Se.target.value)||0),className:"w-24 px-2 py-1 bg-bg border border-border rounded focus:outline-none focus:ring-1 focus:ring-solid-color"})}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:l.jsx("input",{type:"number",min:"0",step:"0.01",value:oe.precio_venta||0,onChange:Se=>bn(oe.sede_id,"precio_venta",parseFloat(Se.target.value)||0),className:"w-24 px-2 py-1 bg-bg border border-border rounded focus:outline-none focus:ring-1 focus:ring-solid-color"})})]},oe.sede_id)})})]})})]}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[l.jsx("button",{type:"button",onClick:()=>s(!1),disabled:j,className:"px-4 py-2 text-text-tertiary hover:text-accessibility-text disabled:opacity-50",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:j,className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg disabled:opacity-50 flex items-center space-x-1",children:j?l.jsx(en,{variant:"button",text:c?"Guardando...":"Agregando..."}):l.jsx("span",{children:c?"Guardar cambios":"Agregar"})})]})]})}),l.jsx(Xr,{isOpen:a,onClose:()=>!j&&o(!1),title:"Confirmar eliminación",size:"md",children:l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 text-error mb-4",children:[l.jsx(m_,{className:"h-6 w-6"}),l.jsx("p",{className:"text-lg font-medium",children:"¿Estás seguro de que deseas eliminar este elemento?"})]}),l.jsx("p",{className:"text-text-tertiary mb-6",children:"Esta acción no se puede deshacer. Se eliminará permanentemente el elemento seleccionado."}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{onClick:()=>o(!1),disabled:j,className:"px-4 py-2 text-text-tertiary hover:text-accessibility-text disabled:opacity-50",children:"Cancelar"}),l.jsx("button",{onClick:At,disabled:j,className:"px-4 py-2 bg-error hover:bg-error-hover text-white rounded-lg disabled:opacity-50 flex items-center space-x-1",children:j?l.jsx(en,{variant:"button",text:"Eliminando..."}):l.jsx("span",{children:"Eliminar"})})]})]})})]})},V7=()=>{var G;const{sedes:t,isLoading:e,error:n,fetchSedes:s}=js(),{products:a,loadProducts:o}=Wr(),{createTransferencia:c,updateTransferencia:u,transferencias:f,fetchTransferencias:m,isLoading:p,error:g}=k_(),{user:b}=Ut(),[v,j]=R.useState(""),[S,N]=R.useState(!1),[_,A]=R.useState({origen:"",destino:"",producto:"",cantidad:""}),k=(G=b==null?void 0:b.data)==null?void 0:G.sede_id;R.useEffect(()=>{s(),o(),m()},[s,o,m]);const O=X=>a.reduce((ne,fe)=>{var B,F;const K=(B=fe.sedes)==null?void 0:B.find(q=>q.id===X);return ne+(((F=K==null?void 0:K.pivot)==null?void 0:F.stock)||0)},0),M=t.reduce((X,ne)=>X+O(ne.id),0),P=[{title:"Total de Sedes",value:t.length,icon:l.jsx(Ps,{className:"h-6 w-6 text-solid-color"}),trend:"up",change:"+2"},{title:"Total de Inventario",value:M.toLocaleString(),icon:l.jsx(Bt,{className:"h-6 w-6 text-solid-color"}),trend:"up",change:"+5%"},{title:"Transferencias Pendientes",value:"3",icon:l.jsx(Ko,{className:"h-6 w-6 text-solid-color"}),trend:"down",change:"-2"}],V=X=>f.filter(ne=>ne.sede_destino_id===X&&ne.estado==="pendiente"),D=async X=>{try{const ne=f.find(fe=>fe.id===X);if(!ne){we.error("Transferencia no encontrada");return}if(k!==ne.sede_destino_id){we.error("Solo la sede destino puede aceptar transferencias");return}await u(X,{estado:"recibido"}),we.success("Transferencia aceptada correctamente"),m()}catch(ne){console.error("Error al aceptar transferencia:",ne),we.error("Error al aceptar la transferencia")}},U=async()=>{var B,F,q;if(!_.origen||!_.destino||!_.producto||!_.cantidad){we.error("Completa todos los campos de la transferencia");return}if(_.origen===_.destino){we.error("La sede origen y destino deben ser diferentes");return}const X=a.find(ee=>ee.id===Number(_.producto)),ne=((q=(F=(B=X==null?void 0:X.sedes)==null?void 0:B.find(ee=>ee.id===Number(_.origen)))==null?void 0:F.pivot)==null?void 0:q.stock)||0;if(Number(_.cantidad)>ne){we.error(`Stock insuficiente. Solo hay ${ne} unidades disponibles en la sede origen.`);return}const fe={producto_id:_.producto,cantidad:Number(_.cantidad),sede_origen_id:_.origen,sede_destino_id:_.destino,estado:"pendiente",fecha:new Date().toISOString().slice(0,19).replace("T"," ")};await c(fe)?(we.success("Transferencia iniciada correctamente"),N(!1),A({origen:"",destino:"",producto:"",cantidad:""})):we.error("Error al iniciar la transferencia")},Y=t.filter(X=>X.nombre.toLowerCase().includes(v.toLowerCase())||X.direccion.toLowerCase().includes(v.toLowerCase()));return l.jsxs("div",{className:"space-y-6 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Ps,{className:"h-8 w-8 text-solid-color"}),l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Gestión de Sedes"})]}),l.jsx("div",{className:"flex space-x-4",children:l.jsxs("button",{onClick:()=>N(!0),className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Ko,{className:"h-5 w-5"}),l.jsx("span",{children:"Nueva Transferencia"})]})})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:P.map((X,ne)=>l.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ne*.1},className:"bg-bg rounded-xl shadow-md p-6 border border-border",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:X.icon}),l.jsx("span",{className:`text-sm font-medium ${X.trend==="up"?"text-success":"text-error"}`,children:X.change})]}),l.jsx("h3",{className:"mt-4 text-sm text-text-tertiary",children:X.title}),l.jsx("p",{className:"mt-1 text-2xl font-semibold text-accessibility-text",children:X.value})]},ne))}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(hr,{className:"h-5 w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Buscar sede...",value:v,onChange:X=>j(X.target.value),className:"w-full pl-10 pr-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),l.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Rd,{className:"h-5 w-5"}),l.jsx("span",{children:"Filtrar"})]}),l.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Vi,{className:"h-5 w-5"}),l.jsx("span",{children:"Exportar"})]}),l.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[l.jsx(Tx,{className:"h-5 w-5"}),l.jsx("span",{children:"Imprimir"})]})]}),l.jsx("div",{className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-interactive-component",children:[l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Nombre"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Dirección"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Teléfono"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Stock Total"}),l.jsx("th",{className:"px-8 py-4 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Transferencias"}),l.jsx("th",{className:"px-8 py-4 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:e?l.jsx(en,{variant:"table",colSpan:6,text:"Cargando sedes..."}):n?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-8 py-4 text-center text-error",children:n})}):Y.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"px-8 py-4 text-center text-text-tertiary",children:"No se encontraron sedes"})}):Y.map(X=>{const ne=V(X.id);return l.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"p-2 bg-interactive-component rounded-lg",children:l.jsx(Ps,{className:"h-5 w-5 text-solid-color"})}),l.jsx("div",{children:l.jsx("div",{className:"text-base font-medium text-accessibility-text",children:X.nombre})})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-accessibility-text",children:X.direccion}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-accessibility-text",children:X.telefono}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Bt,{className:"h-5 w-5 text-text-tertiary"}),l.jsxs("span",{className:"text-base text-text-tertiary",children:[O(X.id)," unidades"]})]})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap",children:ne.length>0?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ln,{className:"h-5 w-5 text-warning"}),l.jsxs("span",{className:"text-warning",children:[ne.length," pendientes"]}),l.jsx("div",{className:"flex space-x-2",children:ne.map(fe=>l.jsx("div",{children:k===X.id?l.jsx("button",{onClick:()=>D(fe.id),className:"p-1 rounded-full hover:bg-success/20 text-success",title:`Aceptar transferencia #${fe.id} - ${fe.cantidad} unidades`,children:l.jsx(d_,{className:"h-4 w-4"})}):l.jsx("span",{className:"text-xs text-text-tertiary italic",title:"Solo la sede destino puede aceptar transferencias",children:"Pendiente"})},fe.id))})]}):l.jsx("span",{className:"text-text-tertiary",children:"Sin transferencias pendientes"})}),l.jsx("td",{className:"px-8 py-5 whitespace-nowrap text-right",children:l.jsx("div",{className:"flex items-center justify-end space-x-3",children:l.jsx("button",{onClick:()=>{N(!0)},className:"p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Transferir stock",children:l.jsx(Ko,{className:"h-5 w-5"})})})})]},X.id)})})]})})}),l.jsxs(Xr,{isOpen:S,onClose:()=>N(!1),title:"Nueva Transferencia",size:"md",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-tertiary mb-1",children:"Sede Origen"}),l.jsxs("select",{value:_.origen,onChange:X=>A({..._,origen:X.target.value}),className:"w-full rounded-lg border border-border bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Seleccionar sede origen"}),t.map(X=>l.jsx("option",{value:X.id,children:X.nombre},X.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-tertiary mb-1",children:"Sede Destino"}),l.jsxs("select",{value:_.destino,onChange:X=>A({..._,destino:X.target.value}),className:"w-full rounded-lg border border-border bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Seleccionar sede destino"}),t.map(X=>l.jsx("option",{value:X.id,children:X.nombre},X.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-tertiary mb-1",children:"Producto"}),l.jsxs("select",{value:_.producto,onChange:X=>A({..._,producto:X.target.value}),className:"w-full rounded-lg border border-border bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Seleccionar producto"}),a.map(X=>{var fe,K,B;const ne=((B=(K=(fe=X.sedes)==null?void 0:fe.find(F=>F.id===Number(_.origen)))==null?void 0:K.pivot)==null?void 0:B.stock)||0;return l.jsxs("option",{value:X.id,children:[X.nombre," - Stock en sede: ",ne]},X.id)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-tertiary mb-1",children:"Cantidad"}),l.jsx("input",{type:"number",value:_.cantidad,onChange:X=>A({..._,cantidad:X.target.value}),className:"w-full rounded-lg border border-border bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent",placeholder:"Ingrese la cantidad"})]})]}),l.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[l.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-accessibility-text hover:bg-interactive-component rounded-lg transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:U,disabled:p,className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg transition-colors",children:p?l.jsx(en,{variant:"button",text:"Enviando..."}):"Iniciar Transferencia"})]}),g&&l.jsx("div",{className:"mt-4 text-center text-error",children:g})]})]})},U7=({children:t})=>{const{isAuthenticated:e}=Ut(),n=Us();return e?t:l.jsx(Go,{to:"/auth/login",state:{from:n},replace:!0})},Rn=({children:t,allowedRoles:e=[]})=>{var c,u;const{user:n,isAuthenticated:s}=Ut(),a=Us();if(!s)return l.jsx(Go,{to:"/auth/login",state:{from:a},replace:!0});const o=(u=(c=n==null?void 0:n.data)==null?void 0:c.rol)==null?void 0:u.nombre;return o?e.includes(o)?t:(console.warn(`Acceso denegado: El rol ${o} no tiene permiso para acceder a esta ruta`),l.jsx(Go,{to:"/dashboard",replace:!0})):l.jsx(Go,{to:"/dashboard/verificacion-pendiente",replace:!0})},Vc="http://127.0.0.1:8000/api",Lh={async fetchRegistros(t={}){var e,n;try{return(await ge.get(`${Vc}/auditoria`,{params:t})).data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al cargar registros de auditoría")}},async fetchAcciones(){var t,e;try{return(await ge.get(`${Vc}/auditoria/acciones`)).data}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar acciones de auditoría")}},async fetchTablas(){var t,e;try{return(await ge.get(`${Vc}/auditoria/tablas`)).data}catch(n){throw new Error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar tablas de auditoría")}},async fetchLogNames(){try{return(await ge.get(`${Vc}/auditoria/log-names`)).data}catch(t){return console.warn("Error al cargar log_names, usando valores predefinidos:",t),{success:!0,data:["sistema","autenticacion","ventas","compras","transferencias","inventario"]}}},async getRegistroById(t){var e,n;try{return(await ge.get(`${Vc}/auditoria/${t}`)).data}catch(s){throw new Error(((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Error al cargar registro de auditoría")}}},H7=Pn(t=>({registros:[],acciones:[],tablas:[],logNames:[],isLoading:!1,error:null,pagination:{total:0,perPage:15,currentPage:1,lastPage:1},fetchRegistros:async(e={})=>{t({isLoading:!0,error:null});try{const n=await Lh.fetchRegistros(e);if(n.success){const s=n.data.data.map(o=>{var f;let c=o.subject_type?o.subject_type.split("\\").pop():null,u=((f=o.properties)==null?void 0:f.tipo)||null;return{...o,usuario:o.causer,accion:o.description,tabla:c,registro_id:o.subject_id,fecha:o.created_at,tipo:u}});t({registros:s,pagination:{total:n.data.total,perPage:n.data.per_page,currentPage:n.data.current_page,lastPage:n.data.last_page}});const a=[...new Set(s.map(o=>o.log_name))].filter(Boolean);t({logNames:a})}else throw new Error(n.message||"Error al cargar registros")}catch(n){throw console.error("Error en fetchRegistros:",n),t({error:n.message}),n}finally{t({isLoading:!1})}},fetchAcciones:async()=>{t({isLoading:!0,error:null});try{const e=await Lh.fetchAcciones();if(e.success)t({acciones:e.data||[]});else throw new Error(e.message||"Error al cargar acciones")}catch(e){throw console.error("Error en fetchAcciones:",e),t({error:e.message}),e}finally{t({isLoading:!1})}},fetchTablas:async()=>{t({isLoading:!0,error:null});try{const e=await Lh.fetchTablas();if(e.success)t({tablas:e.data||[]});else throw new Error(e.message||"Error al cargar tablas")}catch(e){throw console.error("Error en fetchTablas:",e),t({error:e.message}),e}finally{t({isLoading:!1})}},fetchLogNames:async()=>{t({isLoading:!0,error:null});try{const e=await Lh.fetchLogNames();if(e.success)t({logNames:e.data||[]});else throw new Error(e.message||"Error al cargar tipos de logs")}catch(e){throw console.error("Error en fetchLogNames:",e),t({error:e.message}),e}finally{t({isLoading:!1})}}})),F7=()=>{var k,O;const{registros:t=[],tablas:e=[],isLoading:n,error:s,fetchRegistros:a,fetchAcciones:o,fetchTablas:c,fetchLogNames:u}=H7(),[f,m]=R.useState({usuario_id:"",accion:"",tabla:"",log_name:"",fecha_inicio:"",fecha_fin:""}),[p,g]=R.useState({isOpen:!1,data:null});R.useEffect(()=>{(async()=>{try{await Promise.all([a(f),o(),c(),u()])}catch(P){console.error("Error al cargar datos:",P),we.error(P.message||"Error al cargar los datos de auditoría")}})()},[f,a,o,c,u]);const b=M=>{const{name:P,value:V}=M.target;m(D=>({...D,[P]:V}))},v=(M,P)=>{if(P==="autenticacion")return M.toLowerCase().includes("sesión")?"text-info":"text-warning";if(P==="ventas")return"text-success";if(P==="compras")return"text-warning";if(P==="transferencias")return"text-info";const V=M.toLowerCase();return V.includes("crear")||V.includes("create")||V.includes("registr")?"text-success":V.includes("actualizar")||V.includes("update")||V.includes("modific")?"text-warning":V.includes("eliminar")||V.includes("delete")||V.includes("borr")?"text-error":"text-text-tertiary"},j=(M,P,V)=>{var U;if(P==="autenticacion")return M.toLowerCase().includes("iniciado")?l.jsx(MO,{className:"h-4 w-4"}):M.toLowerCase().includes("cerrado")?l.jsx(Rf,{className:"h-4 w-4"}):l.jsx(ws,{className:"h-4 w-4"});if(P==="ventas")return l.jsx(Ir,{className:"h-4 w-4"});if(P==="compras")return l.jsx(Bt,{className:"h-4 w-4"});if(P==="transferencias")return l.jsx(Ko,{className:"h-4 w-4"});if(P==="inventario")return l.jsx(dO,{className:"h-4 w-4"});if(P==="sistema")return l.jsx(ln,{className:"h-4 w-4"});const D=((U=V==null?void 0:V.subject_type)==null?void 0:U.split("\\").pop())||"";return D.toLowerCase().includes("usuario")?l.jsx(ws,{className:"h-4 w-4"}):D.toLowerCase().includes("sede")?l.jsx(Ps,{className:"h-4 w-4"}):D.toLowerCase().includes("producto")?l.jsx(Bt,{className:"h-4 w-4"}):D.toLowerCase().includes("mensaje")?l.jsx(Od,{className:"h-4 w-4"}):l.jsx(rr,{className:"h-4 w-4"})},S=M=>{var U,Y;if(!M)return null;if(M.tipo)switch(M.tipo){case"login":case"logout":return[{campo:"Usuario",nuevo:M.email},{campo:"IP",nuevo:M.ip}];case"venta_creada":return[{campo:"Total",nuevo:`$${M.total}`},{campo:"Sede",nuevo:`ID: ${M.sede_id}`},{campo:"Productos",nuevo:`${((U=M.productos)==null?void 0:U.length)||0} productos`}];case"compra_creada":return[{campo:"Total",nuevo:`$${M.total}`},{campo:"Sede",nuevo:`ID: ${M.sede_id}`},{campo:"Proveedor",nuevo:`ID: ${M.proveedor_id}`},{campo:"Productos",nuevo:`${((Y=M.productos)==null?void 0:Y.length)||0} productos`}];case"compra_estado_actualizado":return[{campo:"Estado Anterior",anterior:M.estado_anterior},{campo:"Estado Nuevo",nuevo:M.estado_nuevo}]}const{attributes:P,old:V}=M,D=[];return P&&Object.entries(P).forEach(([G,X])=>{const ne=V==null?void 0:V[G];ne!==X&&D.push({campo:G,anterior:ne,nuevo:X})}),D.length>0?D:null},N=M=>M||"",_=M=>M?M.split("_").map(P=>P.charAt(0).toUpperCase()+P.slice(1)).join(" "):"",A=M=>{if(!M)return"Sistema";switch(M){case"autenticacion":return"Autenticación";case"ventas":return"Ventas";case"compras":return"Compras";case"transferencias":return"Transferencias";case"inventario":return"Inventario";case"sistema":return"Sistema";default:return M.charAt(0).toUpperCase()+M.slice(1)}};return s?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"bg-error/10 border border-error text-error px-4 py-3 rounded-lg",children:["Error: ",s]})}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl font-semibold text-accessibility-text mb-4",children:"Registro de Auditoría"}),l.jsx("div",{className:"bg-bg-secondary p-4 rounded-lg shadow-md border border-border mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-tertiary mb-1",children:"Tipo"}),l.jsxs("select",{name:"log_name",value:f.log_name,onChange:b,className:"w-full rounded-lg border border-border bg-bg-secondary text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"autenticacion",children:"Autenticación"}),l.jsx("option",{value:"ventas",children:"Ventas"}),l.jsx("option",{value:"compras",children:"Compras"}),l.jsx("option",{value:"transferencias",children:"Transferencias"}),l.jsx("option",{value:"inventario",children:"Inventario"}),l.jsx("option",{value:"sistema",children:"Sistema"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-tertiary mb-1",children:"Tabla"}),l.jsxs("select",{name:"tabla",value:f.tabla,onChange:b,className:"w-full rounded-lg border border-border bg-bg-secondary text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[l.jsx("option",{value:"",children:"Todas"}),Array.isArray(e)&&e.map(M=>l.jsx("option",{value:M,children:M},M))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-tertiary mb-1",children:"Fecha Inicio"}),l.jsx("input",{type:"date",name:"fecha_inicio",value:f.fecha_inicio,onChange:b,className:"w-full rounded-lg border border-border bg-bg-secondary text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-text-tertiary mb-1",children:"Fecha Fin"}),l.jsx("input",{type:"date",name:"fecha_fin",value:f.fecha_fin,onChange:b,className:"w-full rounded-lg border border-border bg-bg-secondary text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent"})]})]})}),l.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{className:"bg-interactive-component",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Usuario"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Acción"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Detalles"})]})}),l.jsx("tbody",{className:"bg-bg-secondary divide-y divide-border",children:n?l.jsx(en,{variant:"table",colSpan:5,text:"Cargando registros de auditoría..."}):!Array.isArray(t)||t.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-text-tertiary",children:"No hay registros de auditoría"})}):t.map(M=>{var P;return l.jsxs("tr",{className:"hover:bg-interactive-component/50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-accessibility-text",children:Wt(new Date(M.created_at),"dd/MM/yyyy HH:mm",{locale:Qn})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-accessibility-text",children:((P=M.usuario)==null?void 0:P.nombre)||"Sistema"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-accessibility-text",children:A(M.log_name)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`p-1 rounded-full ${v(M.accion,M.log_name)} bg-opacity-20`,children:j(M.accion,M.log_name,M.properties)}),l.jsx("span",{className:`font-medium ${v(M.accion,M.log_name)}`,children:N(M.accion)})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-accessibility-text",children:l.jsx("button",{onClick:()=>g({isOpen:!0,data:M}),className:"text-primary hover:text-primary-dark transition-colors",title:"Ver detalles",children:l.jsx(Dd,{className:"w-5 h-5"})})})]},M.id)})})]})})})]}),l.jsx(Xr,{isOpen:p.isOpen,onClose:()=>g({isOpen:!1,data:null}),title:"Detalles de la Auditoría",children:p.data&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-bg-primary p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Fecha"}),l.jsx("p",{className:"text-sm text-accessibility-text",children:Wt(new Date(p.data.created_at),"dd/MM/yyyy HH:mm",{locale:Qn})})]}),l.jsxs("div",{className:"bg-bg-primary p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Usuario"}),l.jsx("p",{className:"text-sm text-accessibility-text",children:((k=p.data.usuario)==null?void 0:k.nombre)||"Sistema"})]}),l.jsxs("div",{className:"bg-bg-primary p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Tipo"}),l.jsx("p",{className:"text-sm text-accessibility-text",children:A(p.data.log_name)})]}),l.jsxs("div",{className:"bg-bg-primary p-4 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Acción"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:`p-1 rounded-full ${v(p.data.accion,p.data.log_name)} bg-opacity-20`,children:j(p.data.accion,p.data.log_name,p.data.properties)}),l.jsx("p",{className:`text-sm font-medium ${v(p.data.accion,p.data.log_name)}`,children:N(p.data.accion)})]})]})]}),p.data.properties&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-text-tertiary mb-3",children:"Detalles"}),l.jsx("div",{className:"bg-bg-primary rounded-lg p-4",children:l.jsxs("div",{className:"space-y-4",children:[(O=S(p.data.properties))==null?void 0:O.map((M,P)=>l.jsx("div",{className:"flex items-start space-x-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-text-tertiary mb-2",children:_(M.campo)}),l.jsxs("div",{className:"space-y-2",children:[M.anterior!==void 0&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-xs font-medium text-text-tertiary",children:"Anterior:"}),l.jsx("p",{className:"text-sm text-error",children:String(M.anterior)})]}),M.nuevo!==void 0&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-xs font-medium text-text-tertiary",children:"Nuevo:"}),l.jsx("p",{className:"text-sm text-success",children:String(M.nuevo)})]})]})]})},P)),!S(p.data.properties)&&l.jsx("p",{className:"text-sm text-text-tertiary",children:"No hay detalles adicionales disponibles"})]})})]})]})})]})},$7=()=>{const{products:t,isLoading:e,error:n,loadProducts:s}=Wr(),{sedes:a,fetchSedes:o}=js(),[c,u]=R.useState(""),[f,m]=R.useState(""),[p,g]=R.useState("");R.useEffect(()=>{s(),o()},[s,o]);const b=(S,N)=>{if(!S.sedes)return 0;const _=S.sedes.find(A=>A.id===Number(N));return Number(_==null?void 0:_.stock)||0},v=(S,N)=>{if(!S.sedes)return Number(S.precio_venta)||0;const _=S.sedes.find(A=>A.id===Number(N));return Number(_==null?void 0:_.precio_venta)||Number(S.precio_venta)||0},j=t.filter(S=>{const N=S.nombre.toLowerCase().includes(c.toLowerCase())||S.descripcion.toLowerCase().includes(c.toLowerCase()),_=!f||S.categoria_id===f;return N&&_});return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Catálogo de Productos"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Buscar productos...",value:c,onChange:S=>u(S.target.value),className:"pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text"}),l.jsx(hr,{className:"absolute left-3 top-2.5 text-text-tertiary",size:20})]}),l.jsxs("select",{value:p,onChange:S=>g(S.target.value),className:"px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text",children:[l.jsx("option",{value:"",children:"Todas las sedes"}),a.map(S=>l.jsx("option",{value:S.id,children:S.nombre},S.id))]}),l.jsx("select",{value:f,onChange:S=>m(S.target.value),className:"px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text",children:l.jsx("option",{value:"",children:"Todas las categorías"})})]})]}),n&&l.jsx("div",{className:"mb-4 p-4 bg-error/10 text-error rounded-lg",children:n}),e?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-solid-color"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:j.map(S=>{var A,k,O;const N=p?b(S,p):((A=S.sedes)==null?void 0:A.reduce((M,P)=>M+(Number(P.stock)||0),0))||0,_=p?v(S,p):Number(S.precio_venta)||0;return l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-bg-secondary rounded-lg shadow-md overflow-hidden border border-border hover:shadow-lg transition-shadow duration-200",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"p-3 bg-interactive-component rounded-lg",children:l.jsx(Bt,{className:"h-6 w-6 text-solid-color"})}),l.jsxs("span",{className:"text-sm font-medium text-text-tertiary",children:["SKU: ",S.sku||"N/A"]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-accessibility-text line-clamp-1",children:S.nombre}),l.jsx("p",{className:"text-text-tertiary text-sm line-clamp-2",children:S.descripcion}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-tertiary",children:[l.jsx(Hy,{className:"h-4 w-4"}),l.jsx("span",{children:((k=S.categoria)==null?void 0:k.nombre)||"Sin categoría"})]}),p&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-tertiary",children:[l.jsx(Ps,{className:"h-4 w-4"}),l.jsx("span",{children:(O=a.find(M=>M.id===Number(p)))==null?void 0:O.nombre})]}),l.jsx("div",{className:"pt-4 border-t border-border",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-xl font-bold text-solid-color",children:["€",_.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:`text-sm font-medium ${N>5?"text-success":N>0?"text-warning":"text-error"}`,children:N>0?`${N} unidades disponibles`:"Sin stock"})})]})})]})]})},S.id)})})]})},I7=()=>{var P,V;const{ventas:t,fetchVentas:e,downloadFactura:n}=Bd(),[s,a]=R.useState(!0),[o,c]=R.useState(null),[u,f]=R.useState(""),[m,p]=R.useState({start:"",end:""}),[g,b]=R.useState(null),[v,j]=R.useState(!1),[S,N]=R.useState(!1);R.useEffect(()=>{(async()=>{try{a(!0),await e()}catch(U){c("Error al cargar el historial de ventas"),console.error("Error al cargar ventas:",U)}finally{a(!1)}})()},[e]);const _=(t||[]).filter(D=>{var G,X,ne;if(!D)return!1;const U=(((G=D.id)==null?void 0:G.toString())||"").includes(u)||(((ne=(X=D.usuario)==null?void 0:X.nombre)==null?void 0:ne.toLowerCase())||"").includes(u.toLowerCase()),Y=(!m.start||new Date(D.fecha)>=new Date(m.start))&&(!m.end||new Date(D.fecha)<=new Date(m.end));return U&&Y}),A=D=>{if(!D)return"N/A";try{return Wt(new Date(D),"dd/MM/yyyy HH:mm",{locale:Qn})}catch(U){return console.error("Error al formatear fecha:",U),"Fecha inválida"}},k=D=>D==null?"€0,00":new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(D),O=D=>{D&&(b(D),j(!0))},M=async D=>{if(D)try{N(!0),await n(D)}catch(U){c("Error al descargar la factura"),console.error("Error al descargar factura:",U)}finally{N(!1)}};return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Historial de Ventas"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Buscar por ID o vendedor...",value:u,onChange:D=>f(D.target.value),className:"pl-10 pr-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text"}),l.jsx(hr,{className:"absolute left-3 top-2.5 text-text-tertiary",size:20})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"date",value:m.start,onChange:D=>p(U=>({...U,start:D.target.value})),className:"px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text"}),l.jsx("input",{type:"date",value:m.end,onChange:D=>p(U=>({...U,end:D.target.value})),className:"px-4 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text"})]})]})]}),o&&l.jsx("div",{className:"mb-4 p-4 bg-error/10 text-error rounded-lg",children:o}),s?l.jsx("div",{className:"flex justify-center items-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-solid-color"})}):_.length===0?l.jsx("div",{className:"text-center py-8 text-text-tertiary",children:"No se encontraron ventas"}):l.jsx("div",{className:"bg-bg-secondary rounded-lg shadow overflow-hidden border border-border",children:l.jsxs("table",{className:"min-w-full divide-y divide-border",children:[l.jsx("thead",{className:"bg-bg",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Vendedor"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Productos"}),l.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),l.jsx("tbody",{className:"bg-bg-secondary divide-y divide-border",children:_.map(D=>{var U,Y;return l.jsxs(ye.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-accessibility-text",children:["#",(D==null?void 0:D.id)||"N/A"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:A(D==null?void 0:D.fecha)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-accessibility-text",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ws,{size:16,className:"text-text-tertiary"}),((U=D==null?void 0:D.usuario)==null?void 0:U.nombre)||"Vendedor no especificado"]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-accessibility-text",children:k(D==null?void 0:D.total)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-text-tertiary",children:[((Y=D==null?void 0:D.detalles)==null?void 0:Y.length)||0," productos"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{onClick:()=>O(D),className:"text-solid-color hover:text-solid-color-hover transition-colors",title:"Ver detalles",children:l.jsx(Dd,{size:20})}),l.jsx("button",{onClick:()=>M(D==null?void 0:D.id),disabled:S,className:`text-text-tertiary hover:text-accessibility-text transition-colors ${S?"opacity-50 cursor-not-allowed":""}`,title:"Descargar factura",children:l.jsx(Vi,{size:20})})]})})]},(D==null?void 0:D.id)||Math.random())})})]})}),v&&g&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-lg w-full max-w-2xl mx-4",children:l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-accessibility-text",children:["Detalles de la Venta #",(g==null?void 0:g.id)||"N/A"]}),l.jsx("button",{onClick:()=>j(!1),className:"text-text-tertiary hover:text-accessibility-text transition-colors",children:l.jsx(ur,{size:24})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-text-tertiary",children:"Fecha"}),l.jsx("p",{className:"text-accessibility-text",children:A(g==null?void 0:g.fecha)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-text-tertiary",children:"Vendedor"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ws,{size:16,className:"text-text-tertiary"}),l.jsx("p",{className:"text-accessibility-text",children:((P=g==null?void 0:g.usuario)==null?void 0:P.nombre)||"Vendedor no especificado"})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-text-tertiary",children:"Total"}),l.jsx("p",{className:"text-accessibility-text font-semibold",children:k(g==null?void 0:g.total)})]})]}),l.jsxs("div",{className:"border-t border-border pt-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-accessibility-text mb-4",children:"Productos"}),l.jsx("div",{className:"space-y-3",children:((V=g==null?void 0:g.detalles)==null?void 0:V.map((D,U)=>{var Y;return l.jsxs("div",{className:"flex justify-between items-center p-3 bg-bg rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-accessibility-text font-medium",children:((Y=D==null?void 0:D.producto)==null?void 0:Y.nombre)||"Producto no especificado"}),l.jsxs("p",{className:"text-sm text-text-tertiary",children:[(D==null?void 0:D.cantidad)||0," x ",k(D==null?void 0:D.precio_unitario)]})]}),l.jsx("p",{className:"text-accessibility-text font-semibold",children:k(((D==null?void 0:D.cantidad)||0)*((D==null?void 0:D.precio_unitario)||0))})]},U)}))||l.jsx("p",{className:"text-text-tertiary text-center py-4",children:"No hay productos disponibles"})})]})]})]})})})]})},q7=()=>{var O,M;const{movimientos:t,loadMovimientos:e,isLoading:n,error:s}=C_(),{sedes:a,fetchSedes:o}=js(),{user:c}=Ut(),[u,f]=R.useState(""),[m,p]=R.useState(""),[g,b]=R.useState("todos"),[v,j]=R.useState(""),S=(M=(O=c==null?void 0:c.data)==null?void 0:O.sede)==null?void 0:M.id;R.useEffect(()=>{(async()=>{try{await Promise.all([e(),o()])}catch(V){console.error("Error al cargar datos:",V)}})()},[e,o]);const _=(Array.isArray(t)?t:[]).filter(P=>{var ne,fe,K;const V=P.sede_id===S||P.sede_origen_id===S||P.sede_destino_id===S,D=g==="todos"||P.tipo===g,U=v===""||((fe=(ne=P.producto)==null?void 0:ne.nombre)==null?void 0:fe.toLowerCase().includes(v.toLowerCase()))||((K=P.descripcion)==null?void 0:K.toLowerCase().includes(v.toLowerCase())),Y=new Date(P.fecha),G=!u||Y>=new Date(u),X=!m||Y<=new Date(m+"T23:59:59");return V&&D&&U&&G&&X}).sort((P,V)=>new Date(V.fecha)-new Date(P.fecha)),A=P=>{switch(P){case"entrada":return l.jsx(Nx,{className:"h-4 w-4 mr-1"});case"salida":return l.jsx(_x,{className:"h-4 w-4 mr-1"});case"transferencia":return l.jsx(sl,{className:"h-4 w-4 mr-1"});default:return l.jsx(qO,{className:"h-4 w-4 mr-1"})}},k=P=>{switch(P){case"entrada":return"bg-success/10 text-success";case"salida":return"bg-error/10 text-error";case"transferencia":return"bg-info/10 text-info";default:return"bg-warning/10 text-warning"}};return n?l.jsx("div",{className:"p-6",children:l.jsx(en,{variant:"container",text:"Cargando historial de movimientos..."})}):s?l.jsx("div",{className:"p-6",children:l.jsxs("div",{className:"bg-error/10 text-error p-4 rounded-lg",children:[l.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error"}),l.jsx("p",{children:s})]})}):l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"flex justify-between items-center mb-6",children:l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Historial de Movimientos"})}),l.jsx("div",{className:"bg-bg-secondary p-4 rounded-lg shadow-md border border-border mb-6",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx(hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),l.jsx("input",{type:"text",placeholder:"Buscar por producto o descripción...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-bg text-accessibility-text",value:v,onChange:P=>j(P.target.value)})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Rd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),l.jsxs("select",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-bg text-accessibility-text",value:g,onChange:P=>b(P.target.value),children:[l.jsx("option",{value:"todos",children:"Todos los tipos"}),l.jsx("option",{value:"entrada",children:"Entradas"}),l.jsx("option",{value:"salida",children:"Salidas"}),l.jsx("option",{value:"transferencia",children:"Transferencias"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),l.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-bg text-accessibility-text",value:u,onChange:P=>f(P.target.value)})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),l.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-bg text-accessibility-text",value:m,onChange:P=>p(P.target.value)})]})]})}),l.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-bg border-b border-border",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Descripción"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Sede"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Usuario"})]})}),l.jsx("tbody",{className:"divide-y divide-border",children:_.length>0?_.map(P=>{var V,D,U,Y;return l.jsxs("tr",{className:"hover:bg-bg/50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-text-tertiary",children:new Date(P.fecha).toLocaleDateString()})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(P.tipo)}`,children:[A(P.tipo),P.tipo]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:((V=P.producto)==null?void 0:V.nombre)||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"text-sm text-text-tertiary",children:[P.cantidad," unidades"]})}),l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"text-sm text-text-tertiary",children:P.descripcion||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-text-tertiary",children:(D=P.sede)!=null&&D.nombre||P.sede_origen_id===S?"Esta sede":((U=a.find(G=>G.id===P.sede_origen_id))==null?void 0:U.nombre)||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm text-text-tertiary",children:((Y=P.usuario)==null?void 0:Y.nombre)||"N/A"})})]},P.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-text-tertiary",children:"No se encontraron movimientos"})})})]})})})]})},Y7=()=>{const{notifications:t,fetchNotifications:e,markAsRead:n,markAllAsRead:s,deleteNotification:a,deleteAllNotifications:o,isLoading:c,error:u,clearError:f,pagination:m}=$y(),[p,g]=R.useState("all"),[b,v]=R.useState(1),[j,S]=R.useState(!1);R.useEffect(()=>{u?(S(!0),console.error("Error en notificaciones:",u)):S(!1)},[u]),R.useEffect(()=>{(async()=>{try{await e({page:b,perPage:15,unread:p==="unread"})}catch(Y){console.error("Error al cargar notificaciones:",Y),S(!0)}})()},[e,p,b]);const N=async U=>{try{await n(U),we.success("Notificación marcada como leída")}catch(Y){console.error("Error al marcar como leída:",Y),we.error("Error al marcar como leída")}},_=async U=>{try{await a(U),we.success("Notificación eliminada")}catch(Y){console.error("Error al eliminar notificación:",Y),we.error("Error al eliminar notificación")}},A=async()=>{try{await s(),we.success("Todas las notificaciones marcadas como leídas")}catch(U){console.error("Error al marcar todas como leídas:",U),we.error("Error al marcar notificaciones")}},k=async()=>{if(window.confirm("¿Estás seguro de que deseas eliminar todas las notificaciones?"))try{await o(),we.success("Todas las notificaciones eliminadas")}catch(U){console.error("Error al eliminar todas las notificaciones:",U),we.error("Error al eliminar notificaciones")}},O=()=>{S(!1),f(),console.log("Reintentando carga de notificaciones..."),e({page:b,perPage:15,unread:p==="unread"}).catch(()=>{S(!0)})},M=U=>{try{return Wt(new Date(U),"dd/MM/yyyy HH:mm",{locale:Qn})}catch{return U}},P=U=>{var G;const Y=((G=U.data)==null?void 0:G.type)||"";return Y.includes("stock")?l.jsx(Bt,{className:"h-5 w-5 text-warning shrink-0 mt-0.5"}):Y.includes("transfer")?l.jsx(Ko,{className:"h-5 w-5 text-info shrink-0 mt-0.5"}):Y.includes("message")?l.jsx(Od,{className:"h-5 w-5 text-solid-color shrink-0 mt-0.5"}):l.jsx(ed,{className:"h-5 w-5 text-solid-color shrink-0 mt-0.5"})},V=Math.ceil(m.total/m.perPage)||1,D=U=>{v(U)};return l.jsxs("div",{className:"container mx-auto py-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Notificaciones"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex items-center bg-bg-secondary border border-border rounded-lg overflow-hidden",children:[l.jsx("button",{className:`px-3 py-1.5 text-sm ${p==="all"?"bg-solid-color text-white":"hover:bg-interactive-component"}`,onClick:()=>g("all"),children:"Todas"}),l.jsx("button",{className:`px-3 py-1.5 text-sm ${p==="unread"?"bg-solid-color text-white":"hover:bg-interactive-component"}`,onClick:()=>g("unread"),children:"No leídas"}),l.jsx("button",{className:`px-3 py-1.5 text-sm ${p==="read"?"bg-solid-color text-white":"hover:bg-interactive-component"}`,onClick:()=>g("read"),children:"Leídas"})]}),l.jsxs("button",{onClick:A,className:"flex items-center gap-1 px-3 py-1.5 bg-info/20 text-info hover:bg-info/30 rounded-lg text-sm",disabled:c,children:[l.jsx(d_,{className:"h-4 w-4"}),l.jsx("span",{children:"Marcar todas como leídas"})]}),l.jsxs("button",{onClick:k,className:"flex items-center gap-1 px-3 py-1.5 bg-error/20 text-error hover:bg-error/30 rounded-lg text-sm",disabled:c,children:[l.jsx(Ii,{className:"h-4 w-4"}),l.jsx("span",{children:"Eliminar todas"})]})]})]}),l.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl overflow-hidden",children:[c&&l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsx(Yt,{className:"animate-spin h-8 w-8 text-solid-color"})}),j&&!c&&l.jsxs("div",{className:"p-12 text-error text-center",children:[l.jsx(ln,{className:"h-12 w-12 mx-auto mb-3"}),l.jsx("p",{className:"text-lg mb-4",children:"Error al cargar notificaciones"}),l.jsxs("button",{onClick:O,className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center mx-auto gap-2",children:[l.jsx(Yh,{className:"h-4 w-4"}),l.jsx("span",{children:"Reintentar"})]})]}),!c&&!j&&t.length===0&&l.jsxs("div",{className:"p-12 text-text-tertiary text-center",children:[l.jsx(ed,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),l.jsx("p",{className:"text-lg",children:"No hay notificaciones"}),l.jsx("p",{className:"text-sm mt-2",children:p==="unread"?"No tienes notificaciones sin leer":p==="read"?"No tienes notificaciones leídas":"No tienes notificaciones"})]}),!c&&!j&&t.length>0&&l.jsx("div",{className:"divide-y divide-border",children:t.map(U=>{if(!U)return null;const Y=!U.read_at,G=U.data||{};return l.jsx("div",{className:`p-5 hover:bg-interactive-component/10 transition-colors ${Y?"bg-interactive-component/5":""}`,children:l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsx("div",{className:`flex-1 ${Y?"font-medium text-accessibility-text":"text-text-tertiary"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[P(U),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-base mb-1",children:G.title||"Notificación"}),l.jsx("p",{className:"text-sm",children:G.message||U.data}),l.jsxs("div",{className:"mt-3 text-xs text-text-tertiary flex items-center justify-between",children:[l.jsxs("div",{children:[G.sender_name&&l.jsxs("span",{className:"mr-3",children:["De: ",G.sender_name]}),l.jsx("span",{children:M(U.created_at)})]}),G.url&&l.jsx(ar,{to:G.url,className:"text-solid-color hover:underline",onClick:()=>{Y&&N(U.id)},children:"Ver detalles →"})]})]})]})}),l.jsxs("div",{className:"flex gap-2 shrink-0",children:[Y&&l.jsx("button",{onClick:()=>N(U.id),className:"p-2 rounded-full hover:bg-info/20 text-info",title:"Marcar como leída",children:l.jsx(Dd,{className:"h-5 w-5"})}),l.jsx("button",{onClick:()=>_(U.id),className:"p-2 rounded-full hover:bg-error/20 text-error",title:"Eliminar notificación",children:l.jsx(Ii,{className:"h-5 w-5"})})]})]})},U.id)})})]}),V>1&&l.jsx("div",{className:"flex justify-center mt-6",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>D(1),disabled:b===1,className:`px-3 py-1 rounded-md ${b===1?"bg-bg-secondary text-text-tertiary cursor-not-allowed":"bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary"}`,children:"Primera"}),l.jsx("button",{onClick:()=>D(b-1),disabled:b===1,className:`px-3 py-1 rounded-md ${b===1?"bg-bg-secondary text-text-tertiary cursor-not-allowed":"bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary"}`,children:"Anterior"}),l.jsxs("span",{className:"px-3 py-1",children:["Página ",b," de ",V]}),l.jsx("button",{onClick:()=>D(b+1),disabled:b===V,className:`px-3 py-1 rounded-md ${b===V?"bg-bg-secondary text-text-tertiary cursor-not-allowed":"bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary"}`,children:"Siguiente"}),l.jsx("button",{onClick:()=>D(V),disabled:b===V,className:`px-3 py-1 rounded-md ${b===V?"bg-bg-secondary text-text-tertiary cursor-not-allowed":"bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary"}`,children:"Última"})]})})]})},X7=()=>{var a,o;const{user:t,logout:e}=Ut(),n=Ya();R.useEffect(()=>{var c,u;(u=(c=t==null?void 0:t.data)==null?void 0:c.rol)!=null&&u.nombre&&n("/dashboard")},[t,n]);const s=()=>{e(),n("/auth/login")};return l.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 bg-bg",children:l.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-2xl bg-bg-secondary rounded-xl shadow-lg p-8 border border-border",children:l.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[l.jsx("div",{className:"p-4 bg-warning/10 rounded-full mb-4",children:l.jsx($i,{className:"h-12 w-12 text-warning"})}),l.jsx("h1",{className:"text-2xl font-bold text-accessibility-text mb-2",children:"Verificación Pendiente"}),l.jsx("p",{className:"text-text-tertiary mb-6 max-w-md",children:"Tu cuenta ha sido creada exitosamente pero necesita ser verificada por un administrador."}),l.jsxs("div",{className:"w-full bg-bg rounded-lg p-6 mb-6 border border-border",children:[l.jsxs("h2",{className:"text-lg font-medium text-accessibility-text mb-4 flex items-center",children:[l.jsx(ws,{className:"h-5 w-5 mr-2 text-solid-color"}),"Información de tu cuenta"]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-text-tertiary",children:[l.jsx("span",{className:"font-medium",children:"Nombre:"})," ",((a=t==null?void 0:t.data)==null?void 0:a.nombre)||"No disponible"]}),l.jsxs("p",{className:"text-text-tertiary",children:[l.jsx("span",{className:"font-medium",children:"Email:"})," ",((o=t==null?void 0:t.data)==null?void 0:o.email)||"No disponible"]}),l.jsxs("p",{className:"text-text-tertiary",children:[l.jsx("span",{className:"font-medium",children:"Estado:"})," ",l.jsx("span",{className:"text-warning",children:"Pendiente de verificación"})]})]})]}),l.jsxs("div",{className:"space-y-4 w-full",children:[l.jsxs("div",{className:"flex items-start p-4 bg-info/10 rounded-lg border border-info/20",children:[l.jsx(ln,{className:"h-5 w-5 text-info mr-3 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-accessibility-text",children:"¿Qué sucede ahora?"}),l.jsx("p",{className:"text-sm text-text-tertiary mt-1",children:"Un administrador necesita asignarte un rol y una sede antes de que puedas acceder al sistema. Este proceso puede tomar algún tiempo."})]})]}),l.jsxs("div",{className:"flex items-start p-4 bg-success/10 rounded-lg border border-success/20",children:[l.jsx($a,{className:"h-5 w-5 text-success mr-3 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-accessibility-text",children:"Próximos pasos"}),l.jsx("p",{className:"text-sm text-text-tertiary mt-1",children:"Una vez que tu cuenta sea verificada, podrás iniciar sesión normalmente y acceder a todas las funciones del sistema según tu rol asignado."})]})]})]}),l.jsx("button",{onClick:s,className:"mt-8 px-6 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors",children:"Volver al inicio de sesión"})]})})})},W7=()=>{var n,s;const{user:t}=Ut(),e=(s=(n=t==null?void 0:t.data)==null?void 0:n.rol)==null?void 0:s.nombre;return e==="Vendedor"?l.jsx(n8,{}):e==="Almacenista"?l.jsx(s8,{}):l.jsx(t8,{})},On=({children:t})=>{var n,s;const{user:e}=Ut();return(s=(n=e==null?void 0:e.data)==null?void 0:n.rol)!=null&&s.nombre?t:l.jsx(Go,{to:"/dashboard/verificacion-pendiente",replace:!0})},G7=()=>l.jsxs(R1,{children:[l.jsx(Lt,{path:"/",element:l.jsx(Go,{to:"/auth/login",replace:!0})}),l.jsxs(Lt,{path:"/auth",element:l.jsx(JR,{}),children:[l.jsx(Lt,{path:"login",element:l.jsx(QP,{})}),l.jsx(Lt,{path:"register",element:l.jsx(ZP,{})})]}),l.jsx(Lt,{path:"/dashboard/*",element:l.jsx(U7,{children:l.jsx(GP,{children:l.jsxs(R1,{children:[l.jsx(Lt,{path:"verificacion-pendiente",element:l.jsx(X7,{})}),l.jsx(Lt,{index:!0,element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Almacenista","Vendedor"],children:l.jsx(W7,{})})})}),l.jsx(Lt,{path:"historial",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Almacenista"],children:l.jsx(q7,{})})})}),l.jsx(Lt,{path:"inventario",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Almacenista"],children:l.jsx(a8,{})})})}),l.jsx(Lt,{path:"usuarios",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador"],children:l.jsx(P7,{})})})}),l.jsx(Lt,{path:"configuracion",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador"],children:l.jsx(z7,{})})})}),l.jsx(Lt,{path:"facturas",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Vendedor"],children:l.jsx(R7,{})})})}),l.jsx(Lt,{path:"gestiones",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador"],children:l.jsx(B7,{})})})}),l.jsx(Lt,{path:"auditoria",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador"],children:l.jsx(F7,{})})})}),l.jsx(Lt,{path:"sedes",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Almacenista"],children:l.jsx(V7,{})})})}),l.jsx(Lt,{path:"ventas",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Vendedor"],children:l.jsx(l8,{})})})}),l.jsx(Lt,{path:"compras",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Vendedor"],children:l.jsx(u8,{})})})}),l.jsx(Lt,{path:"reportes",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Vendedor"],children:l.jsx(A7,{})})})}),l.jsx(Lt,{path:"catalogo",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Vendedor"],children:l.jsx($7,{})})})}),l.jsx(Lt,{path:"historial-ventas",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Vendedor"],children:l.jsx(I7,{})})})}),l.jsx(Lt,{path:"notificaciones",element:l.jsx(On,{children:l.jsx(Rn,{allowedRoles:["Administrador","Vendedor","Almacenista"],children:l.jsx(Y7,{})})})})]})})})})]}),K7=()=>{const[t,e]=R.useState(()=>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches);R.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},[t]);const n=()=>{e(!t)};return l.jsx("button",{onClick:n,className:"fixed top-3 right-4 p-2 rounded-full bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary transition-colors duration-200 border border-border","aria-label":"Cambiar modo oscuro",children:l.jsx(ye.div,{animate:{rotate:t?180:0},transition:{duration:.3},children:t?l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})})},Q7=()=>l.jsx(ye.div,{className:"fixed inset-0 bg-bg z-50 flex items-center justify-center",exit:{opacity:0},transition:{duration:.5},children:l.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-solid-color border-t-transparent rounded-full"})});class cb{listenForWhisper(e,n){return this.listen(".client-"+e,n)}notification(e){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",e)}stopListeningForWhisper(e,n){return this.stopListening(".client-"+e,n)}}class jE{constructor(e){this.namespace=e}format(e){return[".","\\"].includes(e.charAt(0))?e.substring(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}setNamespace(e){this.namespace=e}}function Z7(t){try{new t}catch(e){if(e instanceof Error&&e.message.includes("is not a constructor"))return!1}return!0}class db extends cb{constructor(e,n,s){super(),this.name=n,this.pusher=e,this.options=s,this.eventFormatter=new jE(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(e,n){return this.on(this.eventFormatter.format(e),n),this}listenToAll(e){return this.subscription.bind_global((n,s)=>{if(n.startsWith("pusher:"))return;let a=String(this.options.namespace??"").replace(/\./g,"\\"),o=n.startsWith(a)?n.substring(a.length+1):"."+n;e(o,s)}),this}stopListening(e,n){return n?this.subscription.unbind(this.eventFormatter.format(e),n):this.subscription.unbind(this.eventFormatter.format(e)),this}stopListeningToAll(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}subscribed(e){return this.on("pusher:subscription_succeeded",()=>{e()}),this}error(e){return this.on("pusher:subscription_error",n=>{e(n)}),this}on(e,n){return this.subscription.bind(e,n),this}}class SE extends db{whisper(e,n){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,n),this}}class J7 extends db{whisper(e,n){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,n),this}}class eU extends SE{here(e){return this.on("pusher:subscription_succeeded",n=>{e(Object.keys(n.members).map(s=>n.members[s]))}),this}joining(e){return this.on("pusher:member_added",n=>{e(n.info)}),this}whisper(e,n){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,n),this}leaving(e){return this.on("pusher:member_removed",n=>{e(n.info)}),this}}class NE extends cb{constructor(e,n,s){super(),this.events={},this.listeners={},this.name=n,this.socket=e,this.options=s,this.eventFormatter=new jE(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(e,n){return this.on(this.eventFormatter.format(e),n),this}stopListening(e,n){return this.unbindEvent(this.eventFormatter.format(e),n),this}subscribed(e){return this.on("connect",n=>{e(n)}),this}error(e){return this}on(e,n){return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=(s,a)=>{this.name===s&&this.listeners[e]&&this.listeners[e].forEach(o=>o(a))},this.socket.on(e,this.events[e])),this.listeners[e].push(n),this}unbind(){Object.keys(this.events).forEach(e=>{this.unbindEvent(e)})}unbindEvent(e,n){this.listeners[e]=this.listeners[e]||[],n&&(this.listeners[e]=this.listeners[e].filter(s=>s!==n)),(!n||this.listeners[e].length===0)&&(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}class _E extends NE{whisper(e,n){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:n}),this}}class tU extends _E{here(e){return this.on("presence:subscribed",n=>{e(n.map(s=>s.user_info))}),this}joining(e){return this.on("presence:joining",n=>e(n.user_info)),this}whisper(e,n){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:n}),this}leaving(e){return this.on("presence:leaving",n=>e(n.user_info)),this}}class bf extends cb{subscribe(){}unsubscribe(){}listen(e,n){return this}listenToAll(e){return this}stopListening(e,n){return this}subscribed(e){return this}error(e){return this}on(e,n){return this}}class EE extends bf{whisper(e,n){return this}}class nU extends bf{whisper(e,n){return this}}class sU extends EE{here(e){return this}joining(e){return this}whisper(e,n){return this}leaving(e){return this}}const TE=class CE{constructor(e){this.setOptions(e),this.connect()}setOptions(e){this.options={...CE._defaultOptions,...e,broadcaster:e.broadcaster};let n=this.csrfToken();n&&(this.options.auth.headers["X-CSRF-TOKEN"]=n,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=n),n=this.options.bearerToken,n&&(this.options.auth.headers.Authorization="Bearer "+n,this.options.userAuthentication.headers.Authorization="Bearer "+n)}csrfToken(){var e,n;return((e=window==null?void 0:window.Laravel)==null?void 0:e.csrfToken)??this.options.csrfToken??((n=document==null?void 0:document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content"))??null}};TE._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let ub=TE;class Ph extends ub{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(e,n,s){return this.channel(e).listen(n,s)}channel(e){return this.channels[e]||(this.channels[e]=new db(this.pusher,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new SE(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}encryptedPrivateChannel(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new J7(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new eU(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach(n=>{this.leaveChannel(n)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class rU extends ub{constructor(){super(...arguments),this.channels={}}connect(){let e=this.getSocketIO();this.socket=e(this.options.host??void 0,this.options),this.socket.on("reconnect",()=>{Object.values(this.channels).forEach(n=>{n.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(e,n,s){return this.channel(e).listen(n,s)}channel(e){return this.channels[e]||(this.channels[e]=new NE(this.socket,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new _E(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new tU(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"presence-"+e].forEach(n=>{this.leaveChannel(n)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class qj extends ub{constructor(){super(...arguments),this.channels={}}connect(){}listen(e,n,s){return new bf}channel(e){return new bf}privateChannel(e){return new EE}encryptedPrivateChannel(e){return new nU}presenceChannel(e){return new sU}leave(e){}leaveChannel(e){}socketId(){return"fake-socket-id"}disconnect(){}}class aU{constructor(e){this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(e){return this.connector.channel(e)}connect(){if(this.options.broadcaster==="reverb")this.connector=new Ph({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new Ph(this.options);else if(this.options.broadcaster==="ably")this.connector=new Ph({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new rU(this.options);else if(this.options.broadcaster==="null")this.connector=new qj(this.options);else if(typeof this.options.broadcaster=="function"&&Z7(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(e){return this.connector.presenceChannel(e)}leave(e){this.connector.leave(e)}leaveChannel(e){this.connector.leaveChannel(e)}leaveAllChannels(){for(const e in this.connector.channels)this.leaveChannel(e)}listen(e,n,s){return this.connector.listen(e,n,s)}private(e){return this.connector.privateChannel(e)}encryptedPrivate(e){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(e);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(e){return e instanceof Ph||e instanceof qj}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((e,n)=>{this.socketId()&&e.headers.set("X-Socket-ID",this.socketId()),n()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(e=>(this.socketId()&&(e.headers["X-Socket-Id"]=this.socketId()),e))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((e,n,s)=>{this.socketId()&&s.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",e=>{e.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var Wg={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var Yj;function iU(){return Yj||(Yj=1,function(t,e){(function(s,a){t.exports=a()})(window,function(){return function(n){var s={};function a(o){if(s[o])return s[o].exports;var c=s[o]={i:o,l:!1,exports:{}};return n[o].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=n,a.c=s,a.d=function(o,c,u){a.o(o,c)||Object.defineProperty(o,c,{enumerable:!0,get:u})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,c){if(c&1&&(o=a(o)),c&8||c&4&&typeof o=="object"&&o&&o.__esModule)return o;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:o}),c&2&&typeof o!="string")for(var f in o)a.d(u,f,(function(m){return o[m]}).bind(null,f));return u},a.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(c,"a",c),c},a.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},a.p="",a(a.s=2)}([function(n,s,a){var o=this&&this.__extends||function(){var S=function(N,_){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,k){A.__proto__=k}||function(A,k){for(var O in k)k.hasOwnProperty(O)&&(A[O]=k[O])},S(N,_)};return function(N,_){S(N,_);function A(){this.constructor=N}N.prototype=_===null?Object.create(_):(A.prototype=_.prototype,new A)}}();Object.defineProperty(s,"__esModule",{value:!0});var c=256,u=function(){function S(N){N===void 0&&(N="="),this._paddingCharacter=N}return S.prototype.encodedLength=function(N){return this._paddingCharacter?(N+2)/3*4|0:(N*8+5)/6|0},S.prototype.encode=function(N){for(var _="",A=0;A<N.length-2;A+=3){var k=N[A]<<16|N[A+1]<<8|N[A+2];_+=this._encodeByte(k>>>3*6&63),_+=this._encodeByte(k>>>2*6&63),_+=this._encodeByte(k>>>1*6&63),_+=this._encodeByte(k>>>0*6&63)}var O=N.length-A;if(O>0){var k=N[A]<<16|(O===2?N[A+1]<<8:0);_+=this._encodeByte(k>>>3*6&63),_+=this._encodeByte(k>>>2*6&63),O===2?_+=this._encodeByte(k>>>1*6&63):_+=this._paddingCharacter||"",_+=this._paddingCharacter||""}return _},S.prototype.maxDecodedLength=function(N){return this._paddingCharacter?N/4*3|0:(N*6+7)/8|0},S.prototype.decodedLength=function(N){return this.maxDecodedLength(N.length-this._getPaddingLength(N))},S.prototype.decode=function(N){if(N.length===0)return new Uint8Array(0);for(var _=this._getPaddingLength(N),A=N.length-_,k=new Uint8Array(this.maxDecodedLength(A)),O=0,M=0,P=0,V=0,D=0,U=0,Y=0;M<A-4;M+=4)V=this._decodeChar(N.charCodeAt(M+0)),D=this._decodeChar(N.charCodeAt(M+1)),U=this._decodeChar(N.charCodeAt(M+2)),Y=this._decodeChar(N.charCodeAt(M+3)),k[O++]=V<<2|D>>>4,k[O++]=D<<4|U>>>2,k[O++]=U<<6|Y,P|=V&c,P|=D&c,P|=U&c,P|=Y&c;if(M<A-1&&(V=this._decodeChar(N.charCodeAt(M)),D=this._decodeChar(N.charCodeAt(M+1)),k[O++]=V<<2|D>>>4,P|=V&c,P|=D&c),M<A-2&&(U=this._decodeChar(N.charCodeAt(M+2)),k[O++]=D<<4|U>>>2,P|=U&c),M<A-3&&(Y=this._decodeChar(N.charCodeAt(M+3)),k[O++]=U<<6|Y,P|=Y&c),P!==0)throw new Error("Base64Coder: incorrect characters for decoding");return k},S.prototype._encodeByte=function(N){var _=N;return _+=65,_+=25-N>>>8&6,_+=51-N>>>8&-75,_+=61-N>>>8&-15,_+=62-N>>>8&3,String.fromCharCode(_)},S.prototype._decodeChar=function(N){var _=c;return _+=(42-N&N-44)>>>8&-256+N-43+62,_+=(46-N&N-48)>>>8&-256+N-47+63,_+=(47-N&N-58)>>>8&-256+N-48+52,_+=(64-N&N-91)>>>8&-256+N-65+0,_+=(96-N&N-123)>>>8&-256+N-97+26,_},S.prototype._getPaddingLength=function(N){var _=0;if(this._paddingCharacter){for(var A=N.length-1;A>=0&&N[A]===this._paddingCharacter;A--)_++;if(N.length<4||_>2)throw new Error("Base64Coder: incorrect padding")}return _},S}();s.Coder=u;var f=new u;function m(S){return f.encode(S)}s.encode=m;function p(S){return f.decode(S)}s.decode=p;var g=function(S){o(N,S);function N(){return S!==null&&S.apply(this,arguments)||this}return N.prototype._encodeByte=function(_){var A=_;return A+=65,A+=25-_>>>8&6,A+=51-_>>>8&-75,A+=61-_>>>8&-13,A+=62-_>>>8&49,String.fromCharCode(A)},N.prototype._decodeChar=function(_){var A=c;return A+=(44-_&_-46)>>>8&-256+_-45+62,A+=(94-_&_-96)>>>8&-256+_-95+63,A+=(47-_&_-58)>>>8&-256+_-48+52,A+=(64-_&_-91)>>>8&-256+_-65+0,A+=(96-_&_-123)>>>8&-256+_-97+26,A},N}(u);s.URLSafeCoder=g;var b=new g;function v(S){return b.encode(S)}s.encodeURLSafe=v;function j(S){return b.decode(S)}s.decodeURLSafe=j,s.encodedLength=function(S){return f.encodedLength(S)},s.maxDecodedLength=function(S){return f.maxDecodedLength(S)},s.decodedLength=function(S){return f.decodedLength(S)}},function(n,s,a){Object.defineProperty(s,"__esModule",{value:!0});var o="utf8: invalid string",c="utf8: invalid source encoding";function u(p){for(var g=new Uint8Array(f(p)),b=0,v=0;v<p.length;v++){var j=p.charCodeAt(v);j<128?g[b++]=j:j<2048?(g[b++]=192|j>>6,g[b++]=128|j&63):j<55296?(g[b++]=224|j>>12,g[b++]=128|j>>6&63,g[b++]=128|j&63):(v++,j=(j&1023)<<10,j|=p.charCodeAt(v)&1023,j+=65536,g[b++]=240|j>>18,g[b++]=128|j>>12&63,g[b++]=128|j>>6&63,g[b++]=128|j&63)}return g}s.encode=u;function f(p){for(var g=0,b=0;b<p.length;b++){var v=p.charCodeAt(b);if(v<128)g+=1;else if(v<2048)g+=2;else if(v<55296)g+=3;else if(v<=57343){if(b>=p.length-1)throw new Error(o);b++,g+=4}else throw new Error(o)}return g}s.encodedLength=f;function m(p){for(var g=[],b=0;b<p.length;b++){var v=p[b];if(v&128){var j=void 0;if(v<224){if(b>=p.length)throw new Error(c);var S=p[++b];if((S&192)!==128)throw new Error(c);v=(v&31)<<6|S&63,j=128}else if(v<240){if(b>=p.length-1)throw new Error(c);var S=p[++b],N=p[++b];if((S&192)!==128||(N&192)!==128)throw new Error(c);v=(v&15)<<12|(S&63)<<6|N&63,j=2048}else if(v<248){if(b>=p.length-2)throw new Error(c);var S=p[++b],N=p[++b],_=p[++b];if((S&192)!==128||(N&192)!==128||(_&192)!==128)throw new Error(c);v=(v&15)<<18|(S&63)<<12|(N&63)<<6|_&63,j=65536}else throw new Error(c);if(v<j||v>=55296&&v<=57343)throw new Error(c);if(v>=65536){if(v>1114111)throw new Error(c);v-=65536,g.push(String.fromCharCode(55296|v>>10)),v=56320|v&1023}}g.push(String.fromCharCode(v))}return g.join("")}s.decode=m},function(n,s,a){n.exports=a(3).default},function(n,s,a){a.r(s);class o{constructor(w,E){this.lastId=0,this.prefix=w,this.name=E}create(w){this.lastId++;var E=this.lastId,z=this.prefix+E,$=this.name+"["+E+"]",ce=!1,be=function(){ce||(w.apply(null,arguments),ce=!0)};return this[E]=be,{number:E,id:z,name:$,callback:be}}remove(w){delete this[w.number]}}var c=new o("_pusher_script_","Pusher.ScriptReceivers"),u={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},f=u;class m{constructor(w){this.options=w,this.receivers=w.receivers||c,this.loading={}}load(w,E,z){var $=this;if($.loading[w]&&$.loading[w].length>0)$.loading[w].push(z);else{$.loading[w]=[z];var ce=ze.createScriptRequest($.getPath(w,E)),be=$.receivers.create(function(Ee){if($.receivers.remove(be),$.loading[w]){var Oe=$.loading[w];delete $.loading[w];for(var Xe=function(Et){Et||ce.cleanup()},Qe=0;Qe<Oe.length;Qe++)Oe[Qe](Ee,Xe)}});ce.send(be)}}getRoot(w){var E,z=ze.getDocument().location.protocol;return w&&w.useTLS||z==="https:"?E=this.options.cdn_https:E=this.options.cdn_http,E.replace(/\/*$/,"")+"/"+this.options.version}getPath(w,E){return this.getRoot(E)+"/"+w+this.options.suffix+".js"}}var p=new o("_pusher_dependencies","Pusher.DependenciesReceivers"),g=new m({cdn_http:f.cdn_http,cdn_https:f.cdn_https,version:f.VERSION,suffix:f.dependency_suffix,receivers:p});const b={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var j={buildLogSuffix:function(T){const w="See:",E=b.urls[T];if(!E)return"";let z;return E.fullUrl?z=E.fullUrl:E.path&&(z=b.baseUrl+E.path),z?`${w} ${z}`:""}},S;(function(T){T.UserAuthentication="user-authentication",T.ChannelAuthorization="channel-authorization"})(S||(S={}));class N extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class O extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class P extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class V extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class D extends Error{constructor(w,E){super(E),this.status=w,Object.setPrototypeOf(this,new.target.prototype)}}var Y=function(T,w,E,z,$){const ce=ze.createXHR();ce.open("POST",E.endpoint,!0),ce.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var be in E.headers)ce.setRequestHeader(be,E.headers[be]);if(E.headersProvider!=null){let Ee=E.headersProvider();for(var be in Ee)ce.setRequestHeader(be,Ee[be])}return ce.onreadystatechange=function(){if(ce.readyState===4)if(ce.status===200){let Ee,Oe=!1;try{Ee=JSON.parse(ce.responseText),Oe=!0}catch{$(new D(200,`JSON returned from ${z.toString()} endpoint was invalid, yet status code was 200. Data was: ${ce.responseText}`),null)}Oe&&$(null,Ee)}else{let Ee="";switch(z){case S.UserAuthentication:Ee=j.buildLogSuffix("authenticationEndpoint");break;case S.ChannelAuthorization:Ee=`Clients must be authorized to join private or presence channels. ${j.buildLogSuffix("authorizationEndpoint")}`;break}$(new D(ce.status,`Unable to retrieve auth string from ${z.toString()} endpoint - received status: ${ce.status} from ${E.endpoint}. ${Ee}`),null)}},ce.send(w),ce};function G(T){return F(K(T))}var X=String.fromCharCode,ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fe=function(T){var w=T.charCodeAt(0);return w<128?T:w<2048?X(192|w>>>6)+X(128|w&63):X(224|w>>>12&15)+X(128|w>>>6&63)+X(128|w&63)},K=function(T){return T.replace(/[^\x00-\x7F]/g,fe)},B=function(T){var w=[0,2,1][T.length%3],E=T.charCodeAt(0)<<16|(T.length>1?T.charCodeAt(1):0)<<8|(T.length>2?T.charCodeAt(2):0),z=[ne.charAt(E>>>18),ne.charAt(E>>>12&63),w>=2?"=":ne.charAt(E>>>6&63),w>=1?"=":ne.charAt(E&63)];return z.join("")},F=window.btoa||function(T){return T.replace(/[\s\S]{1,3}/g,B)};class q{constructor(w,E,z,$){this.clear=E,this.timer=w(()=>{this.timer&&(this.timer=$(this.timer))},z)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var ee=q;function H(T){window.clearTimeout(T)}function Z(T){window.clearInterval(T)}class ae extends ee{constructor(w,E){super(setTimeout,H,w,function(z){return E(),null})}}class le extends ee{constructor(w,E){super(setInterval,Z,w,function(z){return E(),z})}}var pe={now(){return Date.now?Date.now():new Date().valueOf()},defer(T){return new ae(0,T)},method(T,...w){var E=Array.prototype.slice.call(arguments,1);return function(z){return z[T].apply(z,E.concat(arguments))}}},je=pe;function me(T,...w){for(var E=0;E<w.length;E++){var z=w[E];for(var $ in z)z[$]&&z[$].constructor&&z[$].constructor===Object?T[$]=me(T[$]||{},z[$]):T[$]=z[$]}return T}function ot(){for(var T=["Pusher"],w=0;w<arguments.length;w++)typeof arguments[w]=="string"?T.push(arguments[w]):T.push(vn(arguments[w]));return T.join(" : ")}function Ve(T,w){var E=Array.prototype.indexOf;if(T===null)return-1;if(E&&T.indexOf===E)return T.indexOf(w);for(var z=0,$=T.length;z<$;z++)if(T[z]===w)return z;return-1}function lt(T,w){for(var E in T)Object.prototype.hasOwnProperty.call(T,E)&&w(T[E],E,T)}function mn(T){var w=[];return lt(T,function(E,z){w.push(z)}),w}function Cn(T){var w=[];return lt(T,function(E){w.push(E)}),w}function xe(T,w,E){for(var z=0;z<T.length;z++)w.call(E||window,T[z],z,T)}function Je(T,w){for(var E=[],z=0;z<T.length;z++)E.push(w(T[z],z,T,E));return E}function xt(T,w){var E={};return lt(T,function(z,$){E[$]=w(z)}),E}function Mt(T,w){w=w||function($){return!!$};for(var E=[],z=0;z<T.length;z++)w(T[z],z,T,E)&&E.push(T[z]);return E}function Ke(T,w){var E={};return lt(T,function(z,$){(w&&w(z,$,T,E)||z)&&(E[$]=z)}),E}function et(T){var w=[];return lt(T,function(E,z){w.push([z,E])}),w}function tn(T,w){for(var E=0;E<T.length;E++)if(w(T[E],E,T))return!0;return!1}function At(T,w){for(var E=0;E<T.length;E++)if(!w(T[E],E,T))return!1;return!0}function bn(T){return xt(T,function(w){return typeof w=="object"&&(w=vn(w)),encodeURIComponent(G(w.toString()))})}function zn(T){var w=Ke(T,function(z){return z!==void 0}),E=Je(et(bn(w)),je.method("join","=")).join("&");return E}function Dt(T){var w=[],E=[];return function z($,ce){var be,Ee,Oe;switch(typeof $){case"object":if(!$)return null;for(be=0;be<w.length;be+=1)if(w[be]===$)return{$ref:E[be]};if(w.push($),E.push(ce),Object.prototype.toString.apply($)==="[object Array]")for(Oe=[],be=0;be<$.length;be+=1)Oe[be]=z($[be],ce+"["+be+"]");else{Oe={};for(Ee in $)Object.prototype.hasOwnProperty.call($,Ee)&&(Oe[Ee]=z($[Ee],ce+"["+JSON.stringify(Ee)+"]"))}return Oe;case"number":case"string":case"boolean":return $}}(T,"$")}function vn(T){try{return JSON.stringify(T)}catch{return JSON.stringify(Dt(T))}}class Kr{constructor(){this.globalLog=w=>{window.console&&window.console.log&&window.console.log(w)}}debug(...w){this.log(this.globalLog,w)}warn(...w){this.log(this.globalLogWarn,w)}error(...w){this.log(this.globalLogError,w)}globalLogWarn(w){window.console&&window.console.warn?window.console.warn(w):this.globalLog(w)}globalLogError(w){window.console&&window.console.error?window.console.error(w):this.globalLogWarn(w)}log(w,...E){var z=ot.apply(this,arguments);kl.log?kl.log(z):kl.logToConsole&&w.bind(this)(z)}}var oe=new Kr,_e=function(T,w,E,z,$){(E.headers!==void 0||E.headersProvider!=null)&&oe.warn(`To send headers with the ${z.toString()} request, you must use AJAX, rather than JSONP.`);var ce=T.nextAuthCallbackID.toString();T.nextAuthCallbackID++;var be=T.getDocument(),Ee=be.createElement("script");T.auth_callbacks[ce]=function(Qe){$(null,Qe)};var Oe="Pusher.auth_callbacks['"+ce+"']";Ee.src=E.endpoint+"?callback="+encodeURIComponent(Oe)+"&"+w;var Xe=be.getElementsByTagName("head")[0]||be.documentElement;Xe.insertBefore(Ee,Xe.firstChild)},Se=_e;class ke{constructor(w){this.src=w}send(w){var E=this,z="Error loading "+E.src;E.script=document.createElement("script"),E.script.id=w.id,E.script.src=E.src,E.script.type="text/javascript",E.script.charset="UTF-8",E.script.addEventListener?(E.script.onerror=function(){w.callback(z)},E.script.onload=function(){w.callback(null)}):E.script.onreadystatechange=function(){(E.script.readyState==="loaded"||E.script.readyState==="complete")&&w.callback(null)},E.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(E.errorScript=document.createElement("script"),E.errorScript.id=w.id+"_error",E.errorScript.text=w.name+"('"+z+"');",E.script.async=E.errorScript.async=!1):E.script.async=!0;var $=document.getElementsByTagName("head")[0];$.insertBefore(E.script,$.firstChild),E.errorScript&&$.insertBefore(E.errorScript,E.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Ce{constructor(w,E){this.url=w,this.data=E}send(w){if(!this.request){var E=zn(this.data),z=this.url+"/"+w.number+"?"+E;this.request=ze.createScriptRequest(z),this.request.send(w)}}cleanup(){this.request&&this.request.cleanup()}}var St=function(T,w){return function(E,z){var $="http"+(w?"s":"")+"://",ce=$+(T.host||T.options.host)+T.options.path,be=ze.createJSONPRequest(ce,E),Ee=ze.ScriptReceivers.create(function(Oe,Xe){c.remove(Ee),be.cleanup(),Xe&&Xe.host&&(T.host=Xe.host),z&&z(Oe,Xe)});be.send(Ee)}},_s={name:"jsonp",getAgent:St},Fs=_s;function $s(T,w,E){var z=T+(w.useTLS?"s":""),$=w.useTLS?w.hostTLS:w.hostNonTLS;return z+"://"+$+E}function Is(T,w){var E="/app/"+T,z="?protocol="+f.PROTOCOL+"&client=js&version="+f.VERSION+(w?"&"+w:"");return E+z}var os={getInitial:function(T,w){var E=(w.httpPath||"")+Is(T,"flash=false");return $s("ws",w,E)}},fr={getInitial:function(T,w){var E=(w.httpPath||"/pusher")+Is(T);return $s("http",w,E)}},mr={getInitial:function(T,w){return $s("http",w,w.httpPath||"/pusher")},getPath:function(T,w){return Is(T)}};class Ga{constructor(){this._callbacks={}}get(w){return this._callbacks[kn(w)]}add(w,E,z){var $=kn(w);this._callbacks[$]=this._callbacks[$]||[],this._callbacks[$].push({fn:E,context:z})}remove(w,E,z){if(!w&&!E&&!z){this._callbacks={};return}var $=w?[kn(w)]:mn(this._callbacks);E||z?this.removeCallback($,E,z):this.removeAllCallbacks($)}removeCallback(w,E,z){xe(w,function($){this._callbacks[$]=Mt(this._callbacks[$]||[],function(ce){return E&&E!==ce.fn||z&&z!==ce.context}),this._callbacks[$].length===0&&delete this._callbacks[$]},this)}removeAllCallbacks(w){xe(w,function(E){delete this._callbacks[E]},this)}}function kn(T){return"_"+T}class Bn{constructor(w){this.callbacks=new Ga,this.global_callbacks=[],this.failThrough=w}bind(w,E,z){return this.callbacks.add(w,E,z),this}bind_global(w){return this.global_callbacks.push(w),this}unbind(w,E,z){return this.callbacks.remove(w,E,z),this}unbind_global(w){return w?(this.global_callbacks=Mt(this.global_callbacks||[],E=>E!==w),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(w,E,z){for(var $=0;$<this.global_callbacks.length;$++)this.global_callbacks[$](w,E);var ce=this.callbacks.get(w),be=[];if(z?be.push(E,z):E&&be.push(E),ce&&ce.length>0)for(var $=0;$<ce.length;$++)ce[$].fn.apply(ce[$].context||window,be);else this.failThrough&&this.failThrough(w,E);return this}}class Ka extends Bn{constructor(w,E,z,$,ce){super(),this.initialize=ze.transportConnectionInitializer,this.hooks=w,this.name=E,this.priority=z,this.key=$,this.options=ce,this.state="new",this.timeline=ce.timeline,this.activityTimeout=ce.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var w=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(w,this.options)}catch(E){return je.defer(()=>{this.onError(E),this.changeState("closed")}),!1}return this.bindListeners(),oe.debug("Connecting",{transport:this.name,url:w}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(w){return this.state==="open"?(je.defer(()=>{this.socket&&this.socket.send(w)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(w){this.emit("error",{type:"WebSocketError",error:w}),this.timeline.error(this.buildTimelineMessage({error:w.toString()}))}onClose(w){w?this.changeState("closed",{code:w.code,reason:w.reason,wasClean:w.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(w){this.emit("message",w)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=w=>{this.onError(w)},this.socket.onclose=w=>{this.onClose(w)},this.socket.onmessage=w=>{this.onMessage(w)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(w,E){this.state=w,this.timeline.info(this.buildTimelineMessage({state:w,params:E})),this.emit(w,E)}buildTimelineMessage(w){return me({cid:this.id},w)}}class Mn{constructor(w){this.hooks=w}isSupported(w){return this.hooks.isSupported(w)}createConnection(w,E,z,$){return new Ka(this.hooks,w,E,z,$)}}var Wi=new Mn({urls:os,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!ze.getWebSocketAPI()},isSupported:function(){return!!ze.getWebSocketAPI()},getSocket:function(T){return ze.createWebSocket(T)}}),Be={urls:fr,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},vt=me({getSocket:function(T){return ze.HTTPFactory.createStreamingSocket(T)}},Be),Nt=me({getSocket:function(T){return ze.HTTPFactory.createPollingSocket(T)}},Be),Gt={isSupported:function(){return ze.isXHRSupported()}},pr=new Mn(me({},vt,Gt)),Ht=new Mn(me({},Nt,Gt)),_t={ws:Wi,xhr_streaming:pr,xhr_polling:Ht},pt=_t,ct=new Mn({file:"sockjs",urls:mr,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(T,w){return new window.SockJS(T,null,{js_path:g.getPath("sockjs",{useTLS:w.useTLS}),ignore_null_origin:w.ignoreNullOrigin})},beforeOpen:function(T,w){T.send(JSON.stringify({path:w}))}}),Ft={isSupported:function(T){var w=ze.isXDRSupported(T.useTLS);return w}},Qr=new Mn(me({},vt,Ft)),Es=new Mn(me({},Nt,Ft));pt.xdr_streaming=Qr,pt.xdr_polling=Es,pt.sockjs=ct;var Ud=pt;class Hd extends Bn{constructor(){super();var w=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){w.emit("online")},!1),window.addEventListener("offline",function(){w.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Qa=new Hd;class gl{constructor(w,E,z){this.manager=w,this.transport=E,this.minPingDelay=z.minPingDelay,this.maxPingDelay=z.maxPingDelay,this.pingDelay=void 0}createConnection(w,E,z,$){$=me({},$,{activityTimeout:this.pingDelay});var ce=this.transport.createConnection(w,E,z,$),be=null,Ee=function(){ce.unbind("open",Ee),ce.bind("closed",Oe),be=je.now()},Oe=Xe=>{if(ce.unbind("closed",Oe),Xe.code===1002||Xe.code===1003)this.manager.reportDeath();else if(!Xe.wasClean&&be){var Qe=je.now()-be;Qe<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Qe/2,this.minPingDelay))}};return ce.bind("open",Ee),ce}isSupported(w){return this.manager.isAlive()&&this.transport.isSupported(w)}}const gr={decodeMessage:function(T){try{var w=JSON.parse(T.data),E=w.data;if(typeof E=="string")try{E=JSON.parse(w.data)}catch{}var z={event:w.event,channel:w.channel,data:E};return w.user_id&&(z.user_id=w.user_id),z}catch($){throw{type:"MessageParseError",error:$,data:T.data}}},encodeMessage:function(T){return JSON.stringify(T)},processHandshake:function(T){var w=gr.decodeMessage(T);if(w.event==="pusher:connection_established"){if(!w.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:w.data.socket_id,activityTimeout:w.data.activity_timeout*1e3}}else{if(w.event==="pusher:error")return{action:this.getCloseAction(w.data),error:this.getCloseError(w.data)};throw"Invalid handshake"}},getCloseAction:function(T){return T.code<4e3?T.code>=1002&&T.code<=1004?"backoff":null:T.code===4e3?"tls_only":T.code<4100?"refused":T.code<4200?"backoff":T.code<4300?"retry":"refused"},getCloseError:function(T){return T.code!==1e3&&T.code!==1001?{type:"PusherError",data:{code:T.code,message:T.reason||T.message}}:null}};var Vn=gr;class Za extends Bn{constructor(w,E){super(),this.id=w,this.transport=E,this.activityTimeout=E.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(w){return this.transport.send(w)}send_event(w,E,z){var $={event:w,data:E};return z&&($.channel=z),oe.debug("Event sent",$),this.send(Vn.encodeMessage($))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var w={message:z=>{var $;try{$=Vn.decodeMessage(z)}catch(ce){this.emit("error",{type:"MessageParseError",error:ce,data:z.data})}if($!==void 0){switch(oe.debug("Event recd",$),$.event){case"pusher:error":this.emit("error",{type:"PusherError",data:$.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",$)}},activity:()=>{this.emit("activity")},error:z=>{this.emit("error",z)},closed:z=>{E(),z&&z.code&&this.handleCloseEvent(z),this.transport=null,this.emit("closed")}},E=()=>{lt(w,(z,$)=>{this.transport.unbind($,z)})};lt(w,(z,$)=>{this.transport.bind($,z)})}handleCloseEvent(w){var E=Vn.getCloseAction(w),z=Vn.getCloseError(w);z&&this.emit("error",z),E&&this.emit(E,{action:E,error:z})}}class Zr{constructor(w,E){this.transport=w,this.callback=E,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=w=>{this.unbindListeners();var E;try{E=Vn.processHandshake(w)}catch(z){this.finish("error",{error:z}),this.transport.close();return}E.action==="connected"?this.finish("connected",{connection:new Za(E.id,this.transport),activityTimeout:E.activityTimeout}):(this.finish(E.action,{error:E.error}),this.transport.close())},this.onClosed=w=>{this.unbindListeners();var E=Vn.getCloseAction(w)||"backoff",z=Vn.getCloseError(w);this.finish(E,{error:z})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(w,E){this.callback(me({transport:this.transport,action:w},E))}}class Kt{constructor(w,E){this.timeline=w,this.options=E||{}}send(w,E){this.timeline.isEmpty()||this.timeline.send(ze.TimelineTransport.getAgent(this,w),E)}}class Gi extends Bn{constructor(w,E){super(function(z,$){oe.debug("No callbacks on "+w+" for "+z)}),this.name=w,this.pusher=E,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(w,E){return E(null,{auth:""})}trigger(w,E){if(w.indexOf("client-")!==0)throw new N("Event '"+w+"' does not start with 'client-'");if(!this.subscribed){var z=j.buildLogSuffix("triggeringClientEvents");oe.warn(`Client event triggered before channel 'subscription_succeeded' event . ${z}`)}return this.pusher.send_event(w,E,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(w){var E=w.event,z=w.data;if(E==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(w);else if(E==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(w);else if(E.indexOf("pusher_internal:")!==0){var $={};this.emit(E,z,$)}}handleSubscriptionSucceededEvent(w){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",w.data)}handleSubscriptionCountEvent(w){w.data.subscription_count&&(this.subscriptionCount=w.data.subscription_count),this.emit("pusher:subscription_count",w.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(w,E)=>{w?(this.subscriptionPending=!1,oe.error(w.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:w.message},w instanceof D?{status:w.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:E.auth,channel_data:E.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Ki extends Gi{authorize(w,E){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:w},E)}}class xr{constructor(){this.reset()}get(w){return Object.prototype.hasOwnProperty.call(this.members,w)?{id:w,info:this.members[w]}:null}each(w){lt(this.members,(E,z)=>{w(this.get(z))})}setMyID(w){this.myID=w}onSubscription(w){this.members=w.presence.hash,this.count=w.presence.count,this.me=this.get(this.myID)}addMember(w){return this.get(w.user_id)===null&&this.count++,this.members[w.user_id]=w.user_info,this.get(w.user_id)}removeMember(w){var E=this.get(w.user_id);return E&&(delete this.members[w.user_id],this.count--),E}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Jr=function(T,w,E,z){function $(ce){return ce instanceof E?ce:new E(function(be){be(ce)})}return new(E||(E=Promise))(function(ce,be){function Ee(Qe){try{Xe(z.next(Qe))}catch(Et){be(Et)}}function Oe(Qe){try{Xe(z.throw(Qe))}catch(Et){be(Et)}}function Xe(Qe){Qe.done?ce(Qe.value):$(Qe.value).then(Ee,Oe)}Xe((z=z.apply(T,w||[])).next())})};class $f extends Ki{constructor(w,E){super(w,E),this.members=new xr}authorize(w,E){super.authorize(w,(z,$)=>Jr(this,void 0,void 0,function*(){if(!z)if($=$,$.channel_data!=null){var ce=JSON.parse($.channel_data);this.members.setMyID(ce.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let be=j.buildLogSuffix("authorizationEndpoint");oe.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${be}, or the user should be signed in.`),E("Invalid auth response");return}E(z,$)}))}handleEvent(w){var E=w.event;if(E.indexOf("pusher_internal:")===0)this.handleInternalEvent(w);else{var z=w.data,$={};w.user_id&&($.user_id=w.user_id),this.emit(E,z,$)}}handleInternalEvent(w){var E=w.event,z=w.data;switch(E){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(w);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(w);break;case"pusher_internal:member_added":var $=this.members.addMember(z);this.emit("pusher:member_added",$);break;case"pusher_internal:member_removed":var ce=this.members.removeMember(z);ce&&this.emit("pusher:member_removed",ce);break}}handleSubscriptionSucceededEvent(w){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(w.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Fd=a(1),Qi=a(0);class If extends Ki{constructor(w,E,z){super(w,E),this.key=null,this.nacl=z}authorize(w,E){super.authorize(w,(z,$)=>{if(z){E(z,$);return}let ce=$.shared_secret;if(!ce){E(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(Qi.decode)(ce),delete $.shared_secret,E(null,$)})}trigger(w,E){throw new M("Client events are not currently supported for encrypted channels")}handleEvent(w){var E=w.event,z=w.data;if(E.indexOf("pusher_internal:")===0||E.indexOf("pusher:")===0){super.handleEvent(w);return}this.handleEncryptedEvent(E,z)}handleEncryptedEvent(w,E){if(!this.key){oe.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!E.ciphertext||!E.nonce){oe.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+E);return}let z=Object(Qi.decode)(E.ciphertext);if(z.length<this.nacl.secretbox.overheadLength){oe.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${z.length}`);return}let $=Object(Qi.decode)(E.nonce);if($.length<this.nacl.secretbox.nonceLength){oe.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${$.length}`);return}let ce=this.nacl.secretbox.open(z,$,this.key);if(ce===null){oe.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(be,Ee)=>{if(be){oe.error(`Failed to make a request to the authEndpoint: ${Ee}. Unable to fetch new key, so dropping encrypted event`);return}if(ce=this.nacl.secretbox.open(z,$,this.key),ce===null){oe.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(w,this.getDataToEmit(ce))});return}this.emit(w,this.getDataToEmit(ce))}getDataToEmit(w){let E=Object(Fd.decode)(w);try{return JSON.parse(E)}catch{return E}}}class Zi extends Bn{constructor(w,E){super(),this.state="initialized",this.connection=null,this.key=w,this.options=E,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var z=ze.getNetwork();z.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),z.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(w){return this.connection?this.connection.send(w):!1}send_event(w,E,z){return this.connection?this.connection.send_event(w,E,z):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var w=(E,z)=>{E?this.runner=this.strategy.connect(0,w):z.action==="error"?(this.emit("error",{type:"HandshakeError",error:z.error}),this.timeline.error({handshakeError:z.error})):(this.abortConnecting(),this.handshakeCallbacks[z.action](z))};this.runner=this.strategy.connect(0,w)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var w=this.abandonConnection();w.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(w){this.timeline.info({action:"retry",delay:w}),w>0&&this.emit("connecting_in",Math.round(w/1e3)),this.retryTimer=new ae(w||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ae(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ae(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ae(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(w){return me({},w,{message:E=>{this.resetActivityCheck(),this.emit("message",E)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:E=>{this.emit("error",E)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(w){return me({},w,{connected:E=>{this.activityTimeout=Math.min(this.options.activityTimeout,E.activityTimeout,E.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(E.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let w=E=>z=>{z.error&&this.emit("error",{type:"WebSocketError",error:z.error}),E(z)};return{tls_only:w(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:w(()=>{this.disconnect()}),backoff:w(()=>{this.retryIn(1e3)}),retry:w(()=>{this.retryIn(0)})}}setConnection(w){this.connection=w;for(var E in this.connectionCallbacks)this.connection.bind(E,this.connectionCallbacks[E]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var w in this.connectionCallbacks)this.connection.unbind(w,this.connectionCallbacks[w]);var E=this.connection;return this.connection=null,E}}updateState(w,E){var z=this.state;if(this.state=w,z!==w){var $=w;$==="connected"&&($+=" with new socket ID "+E.socket_id),oe.debug("State changed",z+" -> "+$),this.timeline.info({state:w,params:E}),this.emit("state_change",{previous:z,current:w}),this.emit(w,E)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Ji{constructor(){this.channels={}}add(w,E){return this.channels[w]||(this.channels[w]=Ts(w,E)),this.channels[w]}all(){return Cn(this.channels)}find(w){return this.channels[w]}remove(w){var E=this.channels[w];return delete this.channels[w],E}disconnect(){lt(this.channels,function(w){w.disconnect()})}}function Ts(T,w){if(T.indexOf("private-encrypted-")===0){if(w.config.nacl)return ls.createEncryptedChannel(T,w,w.config.nacl);let E="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",z=j.buildLogSuffix("encryptedChannelSupport");throw new M(`${E}. ${z}`)}else{if(T.indexOf("private-")===0)return ls.createPrivateChannel(T,w);if(T.indexOf("presence-")===0)return ls.createPresenceChannel(T,w);if(T.indexOf("#")===0)throw new _('Cannot create a channel with name "'+T+'".');return ls.createChannel(T,w)}}var xl={createChannels(){return new Ji},createConnectionManager(T,w){return new Zi(T,w)},createChannel(T,w){return new Gi(T,w)},createPrivateChannel(T,w){return new Ki(T,w)},createPresenceChannel(T,w){return new $f(T,w)},createEncryptedChannel(T,w,E){return new If(T,w,E)},createTimelineSender(T,w){return new Kt(T,w)},createHandshake(T,w){return new Zr(T,w)},createAssistantToTheTransportManager(T,w,E){return new gl(T,w,E)}},ls=xl;class yr{constructor(w){this.options=w||{},this.livesLeft=this.options.lives||1/0}getAssistant(w){return ls.createAssistantToTheTransportManager(this,w,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Cs{constructor(w,E){this.strategies=w,this.loop=!!E.loop,this.failFast=!!E.failFast,this.timeout=E.timeout,this.timeoutLimit=E.timeoutLimit}isSupported(){return tn(this.strategies,je.method("isSupported"))}connect(w,E){var z=this.strategies,$=0,ce=this.timeout,be=null,Ee=(Oe,Xe)=>{Xe?E(null,Xe):($=$+1,this.loop&&($=$%z.length),$<z.length?(ce&&(ce=ce*2,this.timeoutLimit&&(ce=Math.min(ce,this.timeoutLimit))),be=this.tryStrategy(z[$],w,{timeout:ce,failFast:this.failFast},Ee)):E(!0))};return be=this.tryStrategy(z[$],w,{timeout:ce,failFast:this.failFast},Ee),{abort:function(){be.abort()},forceMinPriority:function(Oe){w=Oe,be&&be.forceMinPriority(Oe)}}}tryStrategy(w,E,z,$){var ce=null,be=null;return z.timeout>0&&(ce=new ae(z.timeout,function(){be.abort(),$(!0)})),be=w.connect(E,function(Ee,Oe){Ee&&ce&&ce.isRunning()&&!z.failFast||(ce&&ce.ensureAborted(),$(Ee,Oe))}),{abort:function(){ce&&ce.ensureAborted(),be.abort()},forceMinPriority:function(Ee){be.forceMinPriority(Ee)}}}}class Ja{constructor(w){this.strategies=w}isSupported(){return tn(this.strategies,je.method("isSupported"))}connect(w,E){return qf(this.strategies,w,function(z,$){return function(ce,be){if($[z].error=ce,ce){$d($)&&E(!0);return}xe($,function(Ee){Ee.forceMinPriority(be.transport.priority)}),E(null,be)}})}}function qf(T,w,E){var z=Je(T,function($,ce,be,Ee){return $.connect(w,E(ce,Ee))});return{abort:function(){xe(z,Un)},forceMinPriority:function($){xe(z,function(ce){ce.forceMinPriority($)})}}}function $d(T){return At(T,function(w){return!!w.error})}function Un(T){!T.error&&!T.aborted&&(T.abort(),T.aborted=!0)}class Id{constructor(w,E,z){this.strategy=w,this.transports=E,this.ttl=z.ttl||1800*1e3,this.usingTLS=z.useTLS,this.timeline=z.timeline}isSupported(){return this.strategy.isSupported()}connect(w,E){var z=this.usingTLS,$=eo(z),ce=$&&$.cacheSkipCount?$.cacheSkipCount:0,be=[this.strategy];if($&&$.timestamp+this.ttl>=je.now()){var Ee=this.transports[$.transport];Ee&&(["ws","wss"].includes($.transport)||ce>3?(this.timeline.info({cached:!0,transport:$.transport,latency:$.latency}),be.push(new Cs([Ee],{timeout:$.latency*2+1e3,failFast:!0}))):ce++)}var Oe=je.now(),Xe=be.pop().connect(w,function Qe(Et,ai){Et?(ei(z),be.length>0?(Oe=je.now(),Xe=be.pop().connect(w,Qe)):E(Et)):(qd(z,ai.transport.name,je.now()-Oe,ce),E(null,ai))});return{abort:function(){Xe.abort()},forceMinPriority:function(Qe){w=Qe,Xe&&Xe.forceMinPriority(Qe)}}}}function yl(T){return"pusherTransport"+(T?"TLS":"NonTLS")}function eo(T){var w=ze.getLocalStorage();if(w)try{var E=w[yl(T)];if(E)return JSON.parse(E)}catch{ei(T)}return null}function qd(T,w,E,z){var $=ze.getLocalStorage();if($)try{$[yl(T)]=vn({timestamp:je.now(),transport:w,latency:E,cacheSkipCount:z})}catch{}}function ei(T){var w=ze.getLocalStorage();if(w)try{delete w[yl(T)]}catch{}}class to{constructor(w,{delay:E}){this.strategy=w,this.options={delay:E}}isSupported(){return this.strategy.isSupported()}connect(w,E){var z=this.strategy,$,ce=new ae(this.options.delay,function(){$=z.connect(w,E)});return{abort:function(){ce.ensureAborted(),$&&$.abort()},forceMinPriority:function(be){w=be,$&&$.forceMinPriority(be)}}}}class cn{constructor(w,E,z){this.test=w,this.trueBranch=E,this.falseBranch=z}isSupported(){var w=this.test()?this.trueBranch:this.falseBranch;return w.isSupported()}connect(w,E){var z=this.test()?this.trueBranch:this.falseBranch;return z.connect(w,E)}}class bl{constructor(w){this.strategy=w}isSupported(){return this.strategy.isSupported()}connect(w,E){var z=this.strategy.connect(w,function($,ce){ce&&z.abort(),E($,ce)});return z}}function ea(T){return function(){return T.isSupported()}}var vl=function(T,w,E){var z={};function $(Al,Dl,Rl,au,iu){var Ol=E(T,Al,Dl,Rl,au,iu);return z[Al]=Ol,Ol}var ce=Object.assign({},w,{hostNonTLS:T.wsHost+":"+T.wsPort,hostTLS:T.wsHost+":"+T.wssPort,httpPath:T.wsPath}),be=Object.assign({},ce,{useTLS:!0}),Ee=Object.assign({},w,{hostNonTLS:T.httpHost+":"+T.httpPort,hostTLS:T.httpHost+":"+T.httpsPort,httpPath:T.httpPath}),Oe={loop:!0,timeout:15e3,timeoutLimit:6e4},Xe=new yr({minPingDelay:1e4,maxPingDelay:T.activityTimeout}),Qe=new yr({lives:2,minPingDelay:1e4,maxPingDelay:T.activityTimeout}),Et=$("ws","ws",3,ce,Xe),ai=$("wss","ws",3,be,Xe),Jd=$("sockjs","sockjs",1,Ee),Ml=$("xhr_streaming","xhr_streaming",1,Ee,Qe),aa=$("xdr_streaming","xdr_streaming",1,Ee,Qe),eu=$("xhr_polling","xhr_polling",1,Ee),hm=$("xdr_polling","xdr_polling",1,Ee),tu=new Cs([Et],Oe),nu=new Cs([ai],Oe),su=new Cs([Jd],Oe),ia=new Cs([new cn(ea(Ml),Ml,aa)],Oe),oa=new Cs([new cn(ea(eu),eu,hm)],Oe),ru=new Cs([new cn(ea(ia),new Ja([ia,new to(oa,{delay:4e3})]),oa)],Oe),la=new cn(ea(ru),ru,su),co;return w.useTLS?co=new Ja([tu,new to(la,{delay:2e3})]):co=new Ja([tu,new to(nu,{delay:2e3}),new to(la,{delay:5e3})]),new Id(new bl(new cn(ea(Et),co,la)),z,{ttl:18e5,timeline:w.timeline,useTLS:w.useTLS})},ta=vl,Yd=function(){var T=this;T.timeline.info(T.buildTimelineMessage({transport:T.name+(T.options.useTLS?"s":"")})),T.hooks.isInitialized()?T.changeState("initialized"):T.hooks.file?(T.changeState("initializing"),g.load(T.hooks.file,{useTLS:T.options.useTLS},function(w,E){T.hooks.isInitialized()?(T.changeState("initialized"),E(!0)):(w&&T.onError(w),T.onClose(),E(!1))})):T.onClose()},Xd={getRequest:function(T){var w=new window.XDomainRequest;return w.ontimeout=function(){T.emit("error",new A),T.close()},w.onerror=function(E){T.emit("error",E),T.close()},w.onprogress=function(){w.responseText&&w.responseText.length>0&&T.onChunk(200,w.responseText)},w.onload=function(){w.responseText&&w.responseText.length>0&&T.onChunk(200,w.responseText),T.emit("finished",200),T.close()},w},abortRequest:function(T){T.ontimeout=T.onerror=T.onprogress=T.onload=null,T.abort()}},na=Xd;const Yf=256*1024;class Wd extends Bn{constructor(w,E,z){super(),this.hooks=w,this.method=E,this.url=z}start(w){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},ze.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(w)}close(){this.unloader&&(ze.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(w,E){for(;;){var z=this.advanceBuffer(E);if(z)this.emit("chunk",{status:w,data:z});else break}this.isBufferTooLong(E)&&this.emit("buffer_too_long")}advanceBuffer(w){var E=w.slice(this.position),z=E.indexOf(`
`);return z!==-1?(this.position+=z+1,E.slice(0,z)):null}isBufferTooLong(w){return this.position===w.length&&w.length>Yf}}var no;(function(T){T[T.CONNECTING=0]="CONNECTING",T[T.OPEN=1]="OPEN",T[T.CLOSED=3]="CLOSED"})(no||(no={}));var ks=no,Xf=1;class Wf{constructor(w,E){this.hooks=w,this.session=br(1e3)+"/"+Gd(8),this.location=so(E),this.readyState=ks.CONNECTING,this.openStream()}send(w){return this.sendRaw(JSON.stringify([w]))}ping(){this.hooks.sendHeartbeat(this)}close(w,E){this.onClose(w,E,!0)}sendRaw(w){if(this.readyState===ks.OPEN)try{return ze.createSocketRequest("POST",ro(wl(this.location,this.session))).start(w),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(w,E,z){this.closeStream(),this.readyState=ks.CLOSED,this.onclose&&this.onclose({code:w,reason:E,wasClean:z})}onChunk(w){if(w.status===200){this.readyState===ks.OPEN&&this.onActivity();var E,z=w.data.slice(0,1);switch(z){case"o":E=JSON.parse(w.data.slice(1)||"{}"),this.onOpen(E);break;case"a":E=JSON.parse(w.data.slice(1)||"[]");for(var $=0;$<E.length;$++)this.onEvent(E[$]);break;case"m":E=JSON.parse(w.data.slice(1)||"null"),this.onEvent(E);break;case"h":this.hooks.onHeartbeat(this);break;case"c":E=JSON.parse(w.data.slice(1)||"[]"),this.onClose(E[0],E[1],!0);break}}}onOpen(w){this.readyState===ks.CONNECTING?(w&&w.hostname&&(this.location.base=sa(this.location.base,w.hostname)),this.readyState=ks.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(w){this.readyState===ks.OPEN&&this.onmessage&&this.onmessage({data:w})}onActivity(){this.onactivity&&this.onactivity()}onError(w){this.onerror&&this.onerror(w)}openStream(){this.stream=ze.createSocketRequest("POST",ro(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",w=>{this.onChunk(w)}),this.stream.bind("finished",w=>{this.hooks.onFinished(this,w)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(w){je.defer(()=>{this.onError(w),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function so(T){var w=/([^\?]*)\/*(\??.*)/.exec(T);return{base:w[1],queryString:w[2]}}function wl(T,w){return T.base+"/"+w+"/xhr_send"}function ro(T){var w=T.indexOf("?")===-1?"?":"&";return T+w+"t="+ +new Date+"&n="+Xf++}function sa(T,w){var E=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(T);return E[1]+w+E[3]}function br(T){return ze.randomInt(T)}function Gd(T){for(var w=[],E=0;E<T;E++)w.push(br(32).toString(32));return w.join("")}var jl=Wf,Kd={getReceiveURL:function(T,w){return T.base+"/"+w+"/xhr_streaming"+T.queryString},onHeartbeat:function(T){T.sendRaw("[]")},sendHeartbeat:function(T){T.sendRaw("[]")},onFinished:function(T,w){T.onClose(1006,"Connection interrupted ("+w+")",!1)}},ti=Kd,Ms={getReceiveURL:function(T,w){return T.base+"/"+w+"/xhr"+T.queryString},onHeartbeat:function(){},sendHeartbeat:function(T){T.sendRaw("[]")},onFinished:function(T,w){w===200?T.reconnect():T.onClose(1006,"Connection interrupted ("+w+")",!1)}},Sl=Ms,ni={getRequest:function(T){var w=ze.getXHRAPI(),E=new w;return E.onreadystatechange=E.onprogress=function(){switch(E.readyState){case 3:E.responseText&&E.responseText.length>0&&T.onChunk(E.status,E.responseText);break;case 4:E.responseText&&E.responseText.length>0&&T.onChunk(E.status,E.responseText),T.emit("finished",E.status),T.close();break}},E},abortRequest:function(T){T.onreadystatechange=null,T.abort()}},qs=ni,Nl={createStreamingSocket(T){return this.createSocket(ti,T)},createPollingSocket(T){return this.createSocket(Sl,T)},createSocket(T,w){return new jl(T,w)},createXHR(T,w){return this.createRequest(qs,T,w)},createRequest(T,w,E){return new Wd(T,w,E)}},si=Nl;si.createXDR=function(T,w){return this.createRequest(na,T,w)};var Qd=si,ao={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:c,DependenciesReceivers:p,getDefaultStrategy:ta,Transports:Ud,transportConnectionInitializer:Yd,HTTPFactory:Qd,TimelineTransport:Fs,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(T){window.Pusher=T;var w=()=>{this.onDocumentBody(T.ready)};window.JSON?w():g.load("json2",{},w)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:Y,jsonp:Se}},onDocumentBody(T){document.body?T():setTimeout(()=>{this.onDocumentBody(T)},0)},createJSONPRequest(T,w){return new Ce(T,w)},createScriptRequest(T){return new ke(T)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var T=this.getXHRAPI();return new T},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Qa},createWebSocket(T){var w=this.getWebSocketAPI();return new w(T)},createSocketRequest(T,w){if(this.isXHRSupported())return this.HTTPFactory.createXHR(T,w);if(this.isXDRSupported(w.indexOf("https:")===0))return this.HTTPFactory.createXDR(T,w);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var T=this.getXHRAPI();return!!T&&new T().withCredentials!==void 0},isXDRSupported(T){var w=T?"https:":"http:",E=this.getProtocol();return!!window.XDomainRequest&&E===w},addUnloadListener(T){window.addEventListener!==void 0?window.addEventListener("unload",T,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",T)},removeUnloadListener(T){window.addEventListener!==void 0?window.removeEventListener("unload",T,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",T)},randomInt(T){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*T)}},ze=ao,io;(function(T){T[T.ERROR=3]="ERROR",T[T.INFO=6]="INFO",T[T.DEBUG=7]="DEBUG"})(io||(io={}));var nn=io;class vr{constructor(w,E,z){this.key=w,this.session=E,this.events=[],this.options=z||{},this.sent=0,this.uniqueID=0}log(w,E){w<=this.options.level&&(this.events.push(me({},E,{timestamp:je.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(w){this.log(nn.ERROR,w)}info(w){this.log(nn.INFO,w)}debug(w){this.log(nn.DEBUG,w)}isEmpty(){return this.events.length===0}send(w,E){var z=me({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],w(z,($,ce)=>{$||this.sent++,E&&E($,ce)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class oo{constructor(w,E,z,$){this.name=w,this.priority=E,this.transport=z,this.options=$||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(w,E){if(this.isSupported()){if(this.priority<w)return ra(new k,E)}else return ra(new V,E);var z=!1,$=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),ce=null,be=function(){$.unbind("initialized",be),$.connect()},Ee=function(){ce=ls.createHandshake($,function(Et){z=!0,Qe(),E(null,Et)})},Oe=function(Et){Qe(),E(Et)},Xe=function(){Qe();var Et;Et=vn($),E(new O(Et))},Qe=function(){$.unbind("initialized",be),$.unbind("open",Ee),$.unbind("error",Oe),$.unbind("closed",Xe)};return $.bind("initialized",be),$.bind("open",Ee),$.bind("error",Oe),$.bind("closed",Xe),$.initialize(),{abort:()=>{z||(Qe(),ce?ce.close():$.close())},forceMinPriority:Et=>{z||this.priority<Et&&(ce?ce.close():$.close())}}}}function ra(T,w){return je.defer(function(){w(T)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Gf}=ze;var _l=function(T,w,E,z,$,ce){var be=Gf[E];if(!be)throw new P(E);var Ee=(!T.enabledTransports||Ve(T.enabledTransports,w)!==-1)&&(!T.disabledTransports||Ve(T.disabledTransports,w)===-1),Oe;return Ee?($=Object.assign({ignoreNullOrigin:T.ignoreNullOrigin},$),Oe=new oo(w,z,ce?ce.getAssistant(be):be,$)):Oe=El,Oe},El={isSupported:function(){return!1},connect:function(T,w){var E=je.defer(function(){w(new V)});return{abort:function(){E.ensureAborted()},forceMinPriority:function(){}}}};function ri(T){if(T==null)throw"You must pass an options object";if(T.cluster==null)throw"Options object must provide a cluster";"disableStats"in T&&oe.warn("The disableStats option is deprecated in favor of enableStats")}const lo=(T,w)=>{var E="socket_id="+encodeURIComponent(T.socketId);for(var z in w.params)E+="&"+encodeURIComponent(z)+"="+encodeURIComponent(w.params[z]);if(w.paramsProvider!=null){let $=w.paramsProvider();for(var z in $)E+="&"+encodeURIComponent(z)+"="+encodeURIComponent($[z])}return E};var Qf=T=>{if(typeof ze.getAuthorizers()[T.transport]>"u")throw`'${T.transport}' is not a recognized auth transport`;return(w,E)=>{const z=lo(w,T);ze.getAuthorizers()[T.transport](ze,z,T,S.UserAuthentication,E)}};const Zf=(T,w)=>{var E="socket_id="+encodeURIComponent(T.socketId);E+="&channel_name="+encodeURIComponent(T.channelName);for(var z in w.params)E+="&"+encodeURIComponent(z)+"="+encodeURIComponent(w.params[z]);if(w.paramsProvider!=null){let $=w.paramsProvider();for(var z in $)E+="&"+encodeURIComponent(z)+"="+encodeURIComponent($[z])}return E};var Tl=T=>{if(typeof ze.getAuthorizers()[T.transport]>"u")throw`'${T.transport}' is not a recognized auth transport`;return(w,E)=>{const z=Zf(w,T);ze.getAuthorizers()[T.transport](ze,z,T,S.ChannelAuthorization,E)}};const Jf=(T,w,E)=>{const z={authTransport:w.transport,authEndpoint:w.endpoint,auth:{params:w.params,headers:w.headers}};return($,ce)=>{const be=T.channel($.channelName);E(be,z).authorize($.socketId,ce)}};function em(T,w){let E={activityTimeout:T.activityTimeout||f.activityTimeout,cluster:T.cluster,httpPath:T.httpPath||f.httpPath,httpPort:T.httpPort||f.httpPort,httpsPort:T.httpsPort||f.httpsPort,pongTimeout:T.pongTimeout||f.pongTimeout,statsHost:T.statsHost||f.stats_host,unavailableTimeout:T.unavailableTimeout||f.unavailableTimeout,wsPath:T.wsPath||f.wsPath,wsPort:T.wsPort||f.wsPort,wssPort:T.wssPort||f.wssPort,enableStats:rm(T),httpHost:tm(T),useTLS:Zd(T),wsHost:nm(T),userAuthenticator:am(T),channelAuthorizer:om(T,w)};return"disabledTransports"in T&&(E.disabledTransports=T.disabledTransports),"enabledTransports"in T&&(E.enabledTransports=T.enabledTransports),"ignoreNullOrigin"in T&&(E.ignoreNullOrigin=T.ignoreNullOrigin),"timelineParams"in T&&(E.timelineParams=T.timelineParams),"nacl"in T&&(E.nacl=T.nacl),E}function tm(T){return T.httpHost?T.httpHost:T.cluster?`sockjs-${T.cluster}.pusher.com`:f.httpHost}function nm(T){return T.wsHost?T.wsHost:sm(T.cluster)}function sm(T){return`ws-${T}.pusher.com`}function Zd(T){return ze.getProtocol()==="https:"?!0:T.forceTLS!==!1}function rm(T){return"enableStats"in T?T.enableStats:"disableStats"in T?!T.disableStats:!1}function am(T){const w=Object.assign(Object.assign({},f.userAuthentication),T.userAuthentication);return"customHandler"in w&&w.customHandler!=null?w.customHandler:Qf(w)}function im(T,w){let E;return"channelAuthorization"in T?E=Object.assign(Object.assign({},f.channelAuthorization),T.channelAuthorization):(E={transport:T.authTransport||f.authTransport,endpoint:T.authEndpoint||f.authEndpoint},"auth"in T&&("params"in T.auth&&(E.params=T.auth.params),"headers"in T.auth&&(E.headers=T.auth.headers)),"authorizer"in T&&(E.customHandler=Jf(w,E,T.authorizer))),E}function om(T,w){const E=im(T,w);return"customHandler"in E&&E.customHandler!=null?E.customHandler:Tl(E)}class Cl extends Bn{constructor(w){super(function(E,z){oe.debug(`No callbacks on watchlist events for ${E}`)}),this.pusher=w,this.bindWatchlistInternalEvent()}handleEvent(w){w.data.events.forEach(E=>{this.emit(E.name,E)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",w=>{var E=w.event;E==="pusher_internal:watchlist_events"&&this.handleEvent(w)})}}function lm(){let T,w;return{promise:new Promise((z,$)=>{T=z,w=$}),resolve:T,reject:w}}var cm=lm;class dm extends Bn{constructor(w){super(function(E,z){oe.debug("No callbacks on user for "+E)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(E,z)=>{if(E){oe.warn(`Error during signin: ${E}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:z.auth,user_data:z.user_data})},this.pusher=w,this.pusher.connection.bind("state_change",({previous:E,current:z})=>{E!=="connected"&&z==="connected"&&this._signin(),E==="connected"&&z!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Cl(w),this.pusher.connection.bind("message",E=>{var z=E.event;z==="pusher:signin_success"&&this._onSigninSuccess(E.data),this.serverToUserChannel&&this.serverToUserChannel.name===E.channel&&this.serverToUserChannel.handleEvent(E)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(w){try{this.user_data=JSON.parse(w.user_data)}catch{oe.error(`Failed parsing user data after signin: ${w.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){oe.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const w=E=>{E.subscriptionPending&&E.subscriptionCancelled?E.reinstateSubscription():!E.subscriptionPending&&this.pusher.connection.state==="connected"&&E.subscribe()};this.serverToUserChannel=new Gi(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((E,z)=>{E.indexOf("pusher_internal:")===0||E.indexOf("pusher:")===0||this.emit(E,z)}),w(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:w,resolve:E}=cm();w.done=!1;const z=()=>{w.done=!0};w.then(z).catch(z),this.signinDonePromise=w,this._signinDoneResolve=E}}class Qt{static ready(){Qt.isReady=!0;for(var w=0,E=Qt.instances.length;w<E;w++)Qt.instances[w].connect()}static getClientFeatures(){return mn(Ke({ws:ze.Transports.ws},function(w){return w.isSupported({})}))}constructor(w,E){um(w),ri(E),this.key=w,this.config=em(E,this),this.channels=ls.createChannels(),this.global_emitter=new Bn,this.sessionID=ze.randomInt(1e9),this.timeline=new vr(this.key,this.sessionID,{cluster:this.config.cluster,features:Qt.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:nn.INFO,version:f.VERSION}),this.config.enableStats&&(this.timelineSender=ls.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ze.TimelineTransport.name}));var z=$=>ze.getDefaultStrategy(this.config,$,_l);this.connection=ls.createConnectionManager(this.key,{getStrategy:z,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",$=>{var ce=$.event,be=ce.indexOf("pusher_internal:")===0;if($.channel){var Ee=this.channel($.channel);Ee&&Ee.handleEvent($)}be||this.global_emitter.emit($.event,$.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",$=>{oe.warn($)}),Qt.instances.push(this),this.timeline.info({instances:Qt.instances.length}),this.user=new dm(this),Qt.isReady&&this.connect()}channel(w){return this.channels.find(w)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var w=this.connection.isUsingTLS(),E=this.timelineSender;this.timelineSenderTimer=new le(6e4,function(){E.send(w)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(w,E,z){return this.global_emitter.bind(w,E,z),this}unbind(w,E,z){return this.global_emitter.unbind(w,E,z),this}bind_global(w){return this.global_emitter.bind_global(w),this}unbind_global(w){return this.global_emitter.unbind_global(w),this}unbind_all(w){return this.global_emitter.unbind_all(),this}subscribeAll(){var w;for(w in this.channels.channels)this.channels.channels.hasOwnProperty(w)&&this.subscribe(w)}subscribe(w){var E=this.channels.add(w,this);return E.subscriptionPending&&E.subscriptionCancelled?E.reinstateSubscription():!E.subscriptionPending&&this.connection.state==="connected"&&E.subscribe(),E}unsubscribe(w){var E=this.channels.find(w);E&&E.subscriptionPending?E.cancelSubscription():(E=this.channels.remove(w),E&&E.subscribed&&E.unsubscribe())}send_event(w,E,z){return this.connection.send_event(w,E,z)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Qt.instances=[],Qt.isReady=!1,Qt.logToConsole=!1,Qt.Runtime=ze,Qt.ScriptReceivers=ze.ScriptReceivers,Qt.DependenciesReceivers=ze.DependenciesReceivers,Qt.auth_callbacks=ze.auth_callbacks;var kl=s.default=Qt;function um(T){if(T==null)throw"You must pass your app key when you instantiate Pusher."}ze.setup(Qt)}])})}(Wg)),Wg.exports}var oU=iU();const lU=Xx(oU);let Pi=null;const kE=()=>{var t;try{if(Pi)return console.log("Echo already initialized"),Pi;const e=localStorage.getItem("token");if(!e)return console.log("No authentication token found, skipping Echo initialization"),null;const n=localStorage.getItem("stockflow-auth");if(!n)return console.log("No user data found, skipping Echo initialization"),null;const s=(t=JSON.parse(n).state)==null?void 0:t.user;return!s||!s.id?(console.log("Invalid user data, skipping Echo initialization"),null):(window.Pusher=lU,Pi=new aU({broadcaster:"pusher",key:"local",cluster:"mt1",wsHost:window.location.hostname,wsPort:6001,wssPort:6001,forceTLS:!0,enabledTransports:["ws","wss"],disableStats:!0,authEndpoint:"http://127.0.0.1:8000/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}}}),console.log("Echo initialized successfully"),Pi)}catch(e){return console.error("Error initializing Echo:",e),null}},cU=()=>{var t;try{const e=kE();if(!e)return null;const n=localStorage.getItem("stockflow-auth");if(!n)return null;const s=(t=JSON.parse(n).state)==null?void 0:t.user;if(!s||!s.id)return null;const a=$y.getState().addNotification;return e.private(`App.Models.Usuario.${s.id}`).notification(c=>{console.log("New notification received:",c),a(c),we.success(c.data.title||"Nueva notificación",{description:c.data.message,duration:5e3,position:"top-right"})}),s.sede_id&&e.private(`sede.${s.sede_id}`).notification(c=>{console.log("New sede notification received:",c),a(c),we.success(c.data.title||"Nueva notificación",{description:c.data.message,duration:5e3,position:"top-right"})}),s.rol_id&&e.private(`role.${s.rol_id}`).notification(c=>{console.log("New role notification received:",c),a(c),we.success(c.data.title||"Nueva notificación",{description:c.data.message,duration:5e3,position:"top-right"})}),e}catch(e){return console.error("Error subscribing to notifications:",e),null}},Yx=()=>{Pi&&(Pi.disconnect(),Pi=null,console.log("Echo disconnected"))},dU=()=>(Yx(),kE()),uU=()=>{Ut.getState().isAuthenticated?(console.log("User is authenticated, initializing Echo"),cU()):console.log("User is not authenticated, skipping Echo initialization")};function hU(){const[t,e]=R.useState(!0),[n,s]=R.useState(navigator.onLine),a=Ut(c=>c.loadUser),o=Ut(c=>c.isAuthenticated);return R.useEffect(()=>{const c=setTimeout(()=>e(!1),100),u=()=>s(!0),f=()=>s(!1);return window.addEventListener("online",u),window.addEventListener("offline",f),()=>{clearTimeout(c),window.removeEventListener("online",u),window.removeEventListener("offline",f)}},[]),R.useEffect(()=>{a()},[a]),R.useEffect(()=>(o?(console.log("Setting up Echo for real-time notifications..."),uU()):(console.log("Disconnecting Echo..."),Yx()),()=>{Yx()}),[o]),R.useEffect(()=>{n&&o&&(console.log("Network is back online, reconnecting Echo..."),dU())},[n,o]),l.jsx(Ek,{children:l.jsxs("div",{className:"min-h-screen bg-bg font-satoshi text-accessibility-text relative overflow-hidden",children:[l.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5 dark:opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgwLDAsMCwwLjAyKSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgZmlsbD0idXJsKCNwYXR0ZXJuKSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIvPjwvc3ZnPg==')]"})})}),!n&&l.jsx(ye.div,{initial:{y:-50},animate:{y:0},exit:{y:-50},className:"fixed top-0 left-0 right-0 bg-red-500 text-white text-center py-2 z-50",children:"You are currently offline. Some features may not be available."}),l.jsx(dS,{mode:"wait",children:t?l.jsx(Q7,{}):l.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:l.jsx(G7,{})},"app-content")}),l.jsx(ye.div,{className:"fixed bottom-6 right-6 z-40",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5},children:l.jsx(K7,{})}),l.jsx(YR,{position:"top-right",richColors:!0,theme:"system",toastOptions:{style:{fontFamily:"Satoshi, sans-serif",border:"1px solid var(--color-border)",background:"var(--color-bg)",color:"var(--color-accessibility-text)"},className:"shadow-lg"}})]})})}dC.createRoot(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(hU,{})}));
