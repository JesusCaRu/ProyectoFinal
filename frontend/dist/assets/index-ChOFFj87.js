var sC=Object.defineProperty;var nC=(t,e,s)=>e in t?sC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Me=(t,e,s)=>nC(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=s(a);fetch(a.href,l)}})();function ey(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ux={exports:{}},Sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function rC(){if(ww)return Sc;ww=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(n,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:t,type:n,key:c,ref:a!==void 0?a:null,props:l}}return Sc.Fragment=e,Sc.jsx=s,Sc.jsxs=s,Sc}var jw;function aC(){return jw||(jw=1,ux.exports=rC()),ux.exports}var o=aC(),hx={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function iC(){if(Nw)return He;Nw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=x&&B[x]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function N(B,G,te){this.props=B,this.context=G,this.refs=S,this.updater=te||v}N.prototype.isReactComponent={},N.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function _(){}_.prototype=N.prototype;function A(B,G,te){this.props=B,this.context=G,this.refs=S,this.updater=te||v}var k=A.prototype=new _;k.constructor=A,j(k,N.prototype),k.isPureReactComponent=!0;var R=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function H(B,G,te,ie,fe,je){return te=je.ref,{$$typeof:t,type:B,key:G,ref:te!==void 0?te:null,props:je}}function L(B,G){return H(B.type,G,void 0,void 0,void 0,B.props)}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function U(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(te){return G[te]})}var X=/\/+/g;function Z(B,G){return typeof B=="object"&&B!==null&&B.key!=null?U(""+B.key):G.toString(36)}function ae(){}function ne(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(ae,ae):(B.status="pending",B.then(function(G){B.status==="pending"&&(B.status="fulfilled",B.value=G)},function(G){B.status==="pending"&&(B.status="rejected",B.reason=G)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function le(B,G,te,ie,fe){var je=typeof B;(je==="undefined"||je==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(je){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case t:case e:xe=!0;break;case p:return xe=B._init,le(xe(B._payload),G,te,ie,fe)}}if(xe)return fe=fe(B),xe=ie===""?"."+Z(B,0):ie,R(fe)?(te="",xe!=null&&(te=xe.replace(X,"$&/")+"/"),le(fe,G,te,"",function(ot){return ot})):fe!=null&&(F(fe)&&(fe=L(fe,te+(fe.key==null||B&&B.key===fe.key?"":(""+fe.key).replace(X,"$&/")+"/")+xe)),G.push(fe)),1;xe=0;var st=ie===""?".":ie+":";if(R(B))for(var Ve=0;Ve<B.length;Ve++)ie=B[Ve],je=st+Z(ie,Ve),xe+=le(ie,G,te,je,fe);else if(Ve=b(B),typeof Ve=="function")for(B=Ve.call(B),Ve=0;!(ie=B.next()).done;)ie=ie.value,je=st+Z(ie,Ve++),xe+=le(ie,G,te,je,fe);else if(je==="object"){if(typeof B.then=="function")return le(ne(B),G,te,ie,fe);throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return xe}function P(B,G,te){if(B==null)return B;var ie=[],fe=0;return le(B,ie,"","",function(je){return G.call(te,je,fe++)}),ie}function I(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(te){(B._status===0||B._status===-1)&&(B._status=1,B._result=te)},function(te){(B._status===0||B._status===-1)&&(B._status=2,B._result=te)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var $=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function W(){}return He.Children={map:P,forEach:function(B,G,te){P(B,function(){G.apply(this,arguments)},te)},count:function(B){var G=0;return P(B,function(){G++}),G},toArray:function(B){return P(B,function(G){return G})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},He.Component=N,He.Fragment=s,He.Profiler=a,He.PureComponent=A,He.StrictMode=n,He.Suspense=h,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,He.__COMPILER_RUNTIME={__proto__:null,c:function(B){return M.H.useMemoCache(B)}},He.cache=function(B){return function(){return B.apply(null,arguments)}},He.cloneElement=function(B,G,te){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ie=j({},B.props),fe=B.key,je=void 0;if(G!=null)for(xe in G.ref!==void 0&&(je=void 0),G.key!==void 0&&(fe=""+G.key),G)!z.call(G,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&G.ref===void 0||(ie[xe]=G[xe]);var xe=arguments.length-2;if(xe===1)ie.children=te;else if(1<xe){for(var st=Array(xe),Ve=0;Ve<xe;Ve++)st[Ve]=arguments[Ve+2];ie.children=st}return H(B.type,fe,void 0,void 0,je,ie)},He.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:l,_context:B},B},He.createElement=function(B,G,te){var ie,fe={},je=null;if(G!=null)for(ie in G.key!==void 0&&(je=""+G.key),G)z.call(G,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(fe[ie]=G[ie]);var xe=arguments.length-2;if(xe===1)fe.children=te;else if(1<xe){for(var st=Array(xe),Ve=0;Ve<xe;Ve++)st[Ve]=arguments[Ve+2];fe.children=st}if(B&&B.defaultProps)for(ie in xe=B.defaultProps,xe)fe[ie]===void 0&&(fe[ie]=xe[ie]);return H(B,je,void 0,void 0,null,fe)},He.createRef=function(){return{current:null}},He.forwardRef=function(B){return{$$typeof:u,render:B}},He.isValidElement=F,He.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:I}},He.memo=function(B,G){return{$$typeof:m,type:B,compare:G===void 0?null:G}},He.startTransition=function(B){var G=M.T,te={};M.T=te;try{var ie=B(),fe=M.S;fe!==null&&fe(te,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(W,$)}catch(je){$(je)}finally{M.T=G}},He.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},He.use=function(B){return M.H.use(B)},He.useActionState=function(B,G,te){return M.H.useActionState(B,G,te)},He.useCallback=function(B,G){return M.H.useCallback(B,G)},He.useContext=function(B){return M.H.useContext(B)},He.useDebugValue=function(){},He.useDeferredValue=function(B,G){return M.H.useDeferredValue(B,G)},He.useEffect=function(B,G,te){var ie=M.H;if(typeof te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(B,G)},He.useId=function(){return M.H.useId()},He.useImperativeHandle=function(B,G,te){return M.H.useImperativeHandle(B,G,te)},He.useInsertionEffect=function(B,G){return M.H.useInsertionEffect(B,G)},He.useLayoutEffect=function(B,G){return M.H.useLayoutEffect(B,G)},He.useMemo=function(B,G){return M.H.useMemo(B,G)},He.useOptimistic=function(B,G){return M.H.useOptimistic(B,G)},He.useReducer=function(B,G,te){return M.H.useReducer(B,G,te)},He.useRef=function(B){return M.H.useRef(B)},He.useState=function(B){return M.H.useState(B)},He.useSyncExternalStore=function(B,G,te){return M.H.useSyncExternalStore(B,G,te)},He.useTransition=function(){return M.H.useTransition()},He.version="19.1.0",He}var Sw;function ty(){return Sw||(Sw=1,hx.exports=iC()),hx.exports}var D=ty();const ve=ey(D);var fx={exports:{}},_c={},mx={exports:{}},px={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function oC(){return _w||(_w=1,function(t){function e(P,I){var $=P.length;P.push(I);e:for(;0<$;){var W=$-1>>>1,B=P[W];if(0<a(B,I))P[W]=I,P[$]=B,$=W;else break e}}function s(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var I=P[0],$=P.pop();if($!==I){P[0]=$;e:for(var W=0,B=P.length,G=B>>>1;W<G;){var te=2*(W+1)-1,ie=P[te],fe=te+1,je=P[fe];if(0>a(ie,$))fe<B&&0>a(je,ie)?(P[W]=je,P[fe]=$,W=fe):(P[W]=ie,P[te]=$,W=te);else if(fe<B&&0>a(je,$))P[W]=je,P[fe]=$,W=fe;else break e}}return I}function a(P,I){var $=P.sortIndex-I.sortIndex;return $!==0?$:P.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],m=[],p=1,x=null,b=3,v=!1,j=!1,S=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(P){for(var I=s(m);I!==null;){if(I.callback===null)n(m);else if(I.startTime<=P)n(m),I.sortIndex=I.expirationTime,e(h,I);else break;I=s(m)}}function M(P){if(S=!1,R(P),!j)if(s(h)!==null)j=!0,z||(z=!0,Z());else{var I=s(m);I!==null&&le(M,I.startTime-P)}}var z=!1,H=-1,L=5,F=-1;function U(){return N?!0:!(t.unstable_now()-F<L)}function X(){if(N=!1,z){var P=t.unstable_now();F=P;var I=!0;try{e:{j=!1,S&&(S=!1,A(H),H=-1),v=!0;var $=b;try{t:{for(R(P),x=s(h);x!==null&&!(x.expirationTime>P&&U());){var W=x.callback;if(typeof W=="function"){x.callback=null,b=x.priorityLevel;var B=W(x.expirationTime<=P);if(P=t.unstable_now(),typeof B=="function"){x.callback=B,R(P),I=!0;break t}x===s(h)&&n(h),R(P)}else n(h);x=s(h)}if(x!==null)I=!0;else{var G=s(m);G!==null&&le(M,G.startTime-P),I=!1}}break e}finally{x=null,b=$,v=!1}I=void 0}}finally{I?Z():z=!1}}}var Z;if(typeof k=="function")Z=function(){k(X)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ne=ae.port2;ae.port1.onmessage=X,Z=function(){ne.postMessage(null)}}else Z=function(){_(X,0)};function le(P,I){H=_(function(){P(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(P){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var $=b;b=I;try{return P()}finally{b=$}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var $=b;b=P;try{return I()}finally{b=$}},t.unstable_scheduleCallback=function(P,I,$){var W=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?W+$:W):$=W,P){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=$+B,P={id:p++,callback:I,priorityLevel:P,startTime:$,expirationTime:B,sortIndex:-1},$>W?(P.sortIndex=$,e(m,P),s(h)===null&&P===s(m)&&(S?(A(H),H=-1):S=!0,le(M,$-W))):(P.sortIndex=B,e(h,P),j||v||(j=!0,z||(z=!0,Z()))),P},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(P){var I=b;return function(){var $=b;b=I;try{return P.apply(this,arguments)}finally{b=$}}}}(px)),px}var Ew;function lC(){return Ew||(Ew=1,mx.exports=oC()),mx.exports}var xx={exports:{}},Ns={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function cC(){if(Cw)return Ns;Cw=1;var t=ty();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var n={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,m,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:h,containerInfo:m,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ns.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ns.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,p)},Ns.flushSync=function(h){var m=c.T,p=n.p;try{if(c.T=null,n.p=2,h)return h()}finally{c.T=m,n.p=p,n.d.f()}},Ns.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},Ns.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Ns.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,x=u(p,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,v=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:v}):p==="script"&&n.d.X(h,{crossOrigin:x,integrity:b,fetchPriority:v,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ns.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},Ns.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,x=u(p,m.crossOrigin);n.d.L(h,p,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ns.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=u(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},Ns.requestFormReset=function(h){n.d.r(h)},Ns.unstable_batchedUpdates=function(h,m){return h(m)},Ns.useFormState=function(h,m,p){return c.H.useFormState(h,m,p)},Ns.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ns.version="19.1.0",Ns}var Tw;function Gj(){if(Tw)return xx.exports;Tw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xx.exports=cC(),xx.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function dC(){if(kw)return _c;kw=1;var t=lC(),e=ty(),s=Gj();function n(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)i+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,d=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(d=i.return),r=i.return;while(r)}return i.tag===3?d:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function u(r){if(l(r)!==r)throw Error(n(188))}function h(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(n(188));return i!==r?null:r}for(var d=r,f=i;;){var g=d.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){d=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===d)return u(g),r;if(y===f)return u(g),i;y=y.sibling}throw Error(n(188))}if(d.return!==f.return)d=g,f=y;else{for(var T=!1,O=g.child;O;){if(O===d){T=!0,d=g,f=y;break}if(O===f){T=!0,f=g,d=y;break}O=O.sibling}if(!T){for(O=y.child;O;){if(O===d){T=!0,d=y,f=g;break}if(O===f){T=!0,f=y,d=g;break}O=O.sibling}if(!T)throw Error(n(189))}}if(d.alternate!==f)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?r:i}function m(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=m(r),i!==null)return i;r=r.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function Z(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Symbol.for("react.client.reference");function ne(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===ae?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case N:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case z:return"SuspenseList";case F:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case k:return(r.displayName||"Context")+".Provider";case A:return(r._context.displayName||"Context")+".Consumer";case R:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return i=r.displayName||null,i!==null?i:ne(r.type)||"Memo";case L:i=r._payload,r=r._init;try{return ne(r(i))}catch{}}return null}var le=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},W=[],B=-1;function G(r){return{current:r}}function te(r){0>B||(r.current=W[B],W[B]=null,B--)}function ie(r,i){B++,W[B]=r.current,r.current=i}var fe=G(null),je=G(null),xe=G(null),st=G(null);function Ve(r,i){switch(ie(xe,i),ie(je,r),ie(fe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?Gv(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=Gv(i),r=Kv(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}te(fe),ie(fe,r)}function ot(){te(fe),te(je),te(xe)}function fs(r){r.memoizedState!==null&&ie(st,r);var i=fe.current,d=Kv(i,r.type);i!==d&&(ie(je,r),ie(fe,d))}function vs(r){je.current===r&&(te(fe),te(je)),st.current===r&&(te(st),bc._currentValue=$)}var ms=Object.prototype.hasOwnProperty,Ks=t.unstable_scheduleCallback,me=t.unstable_cancelCallback,Qe=t.unstable_shouldYield,jt=t.unstable_requestPaint,Xe=t.unstable_now,We=t.unstable_getCurrentPriorityLevel,xt=t.unstable_ImmediatePriority,ss=t.unstable_UserBlockingPriority,ws=t.unstable_NormalPriority,lt=t.unstable_LowPriority,Gt=t.unstable_IdlePriority,ea=t.log,ce=t.unstable_setDisableYieldValue,_e=null,Ne=null;function ke(r){if(typeof ea=="function"&&ce(r),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(_e,r)}catch{}}var Te=Math.clz32?Math.clz32:Xn,Tt=Math.log,Tn=Math.LN2;function Xn(r){return r>>>=0,r===0?32:31-(Tt(r)/Tn|0)|0}var Wn=256,Gn=4194304;function ln(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function gr(r,i,d){var f=r.pendingLanes;if(f===0)return 0;var g=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var O=f&134217727;return O!==0?(f=O&~y,f!==0?g=ln(f):(T&=O,T!==0?g=ln(T):d||(d=O&~r,d!==0&&(g=ln(d))))):(O=f&~y,O!==0?g=ln(O):T!==0?g=ln(T):d||(d=f&~r,d!==0&&(g=ln(d)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,d=i&-i,y>=d||y===32&&(d&4194048)!==0)?i:g}function yr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function ei(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var r=Wn;return Wn<<=1,(Wn&4194048)===0&&(Wn=256),r}function zs(){var r=Gn;return Gn<<=1,(Gn&62914560)===0&&(Gn=4194304),r}function ti(r){for(var i=[],d=0;31>d;d++)i.push(r);return i}function Ms(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ji(r,i,d,f,g,y){var T=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var O=r.entanglements,Y=r.expirationTimes,ee=r.hiddenUpdates;for(d=T&~d;0<d;){var ue=31-Te(d),pe=1<<ue;O[ue]=0,Y[ue]=-1;var se=ee[ue];if(se!==null)for(ee[ue]=null,ue=0;ue<se.length;ue++){var re=se[ue];re!==null&&(re.lane&=-536870913)}d&=~pe}f!==0&&Be(r,f,0),y!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~i))}function Be(r,i,d){r.pendingLanes|=i,r.suspendedLanes&=~i;var f=31-Te(i);r.entangledLanes|=i,r.entanglements[f]=r.entanglements[f]|1073741824|d&4194090}function St(r,i){var d=r.entangledLanes|=i;for(r=r.entanglements;d;){var f=31-Te(d),g=1<<f;g&i|r[f]&i&&(r[f]|=i),d&=~g}}function kt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Kt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function br(){var r=I.p;return r!==0?r:(r=window.event,r===void 0?32:pw(r.type))}function Ft(r,i){var d=I.p;try{return I.p=r,i()}finally{I.p=d}}var Mt=Math.random().toString(36).slice(2),vt="__reactFiber$"+Mt,ct="__reactProps$"+Mt,$t="__reactContainer$"+Mt,ta="__reactEvents$"+Mt,kn="__reactListeners$"+Mt,qd="__reactHandles$"+Mt,Yd="__reactResources$"+Mt,si="__reactMarker$"+Mt;function vl(r){delete r[vt],delete r[ct],delete r[ta],delete r[kn],delete r[qd]}function vr(r){var i=r[vt];if(i)return i;for(var d=r.parentNode;d;){if(i=d[$t]||d[vt]){if(d=i.alternate,i.child!==null||d!==null&&d.child!==null)for(r=ew(r);r!==null;){if(d=r[vt])return d;r=ew(r)}return i}r=d,d=r.parentNode}return null}function Bs(r){if(r=r[vt]||r[$t]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function ni(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(n(33))}function sa(r){var i=r[Yd];return i||(i=r[Yd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Qt(r){r[si]=!0}var eo=new Set,to={};function wr(r,i){na(r,i),na(r+"Capture",i)}function na(r,i){for(to[r]=i,r=0;r<i.length;r++)eo.add(i[r])}var Jf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xd={},so={};function em(r){return ms.call(so,r)?!0:ms.call(Xd,r)?!1:Jf.test(r)?so[r]=!0:(Xd[r]=!0,!1)}function no(r,i,d){if(em(i))if(d===null)r.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var f=i.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+d)}}function ro(r,i,d){if(d===null)r.removeAttribute(i);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+d)}}function Mn(r,i,d,f){if(f===null)r.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(i,d,""+f)}}var wl,cn;function jr(r){if(wl===void 0)try{throw Error()}catch(d){var i=d.stack.trim().match(/\n( *(at )?)/);wl=i&&i[1]||"",cn=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wl+r+cn}var An=!1;function ri(r,i){if(!r||An)return"";An=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(i){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(re){var se=re}Reflect.construct(r,[],pe)}else{try{pe.call()}catch(re){se=re}r.call(pe.prototype)}}else{try{throw Error()}catch(re){se=re}(pe=r())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(re){if(re&&se&&typeof re.stack=="string")return[re.stack,se.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),T=y[0],O=y[1];if(T&&O){var Y=T.split(`
`),ee=O.split(`
`);for(g=f=0;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;for(;g<ee.length&&!ee[g].includes("DetermineComponentFrameRoot");)g++;if(f===Y.length||g===ee.length)for(f=Y.length-1,g=ee.length-1;1<=f&&0<=g&&Y[f]!==ee[g];)g--;for(;1<=f&&0<=g;f--,g--)if(Y[f]!==ee[g]){if(f!==1||g!==1)do if(f--,g--,0>g||Y[f]!==ee[g]){var ue=`
`+Y[f].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=f&&0<=g);break}}}finally{An=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?jr(d):""}function tm(r){switch(r.tag){case 26:case 27:case 5:return jr(r.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return ri(r.type,!1);case 11:return ri(r.type.render,!1);case 1:return ri(r.type,!0);case 31:return jr("Activity");default:return""}}function Wd(r){try{var i="";do i+=tm(r),r=r.return;while(r);return i}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Vs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Gd(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jl(r){var i=Gd(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),f=""+r[i];if(!r.hasOwnProperty(i)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var g=d.get,y=d.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:d.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ao(r){r._valueTracker||(r._valueTracker=jl(r))}function Kd(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var d=i.getValue(),f="";return r&&(f=Gd(r)?r.checked?"true":"false":r.value),r=f,r!==d?(i.setValue(r),!0):!1}function ai(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var io=/[\n"\\]/g;function ls(r){return r.replace(io,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nl(r,i,d,f,g,y,T,O){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+Vs(i)):r.value!==""+Vs(i)&&(r.value=""+Vs(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?Sl(r,T,Vs(i)):d!=null?Sl(r,T,Vs(d)):f!=null&&r.removeAttribute("value"),g==null&&y!=null&&(r.defaultChecked=!!y),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+Vs(O):r.removeAttribute("name")}function ra(r,i,d,f,g,y,T,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||d!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;d=d!=null?""+Vs(d):"",i=i!=null?""+Vs(i):d,O||i===r.value||(r.value=i),r.defaultValue=i}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=O?r.checked:!!f,r.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Sl(r,i,d){i==="number"&&ai(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function aa(r,i,d,f){if(r=r.options,i){i={};for(var g=0;g<d.length;g++)i["$"+d[g]]=!0;for(d=0;d<r.length;d++)g=i.hasOwnProperty("$"+r[d].value),r[d].selected!==g&&(r[d].selected=g),g&&f&&(r[d].defaultSelected=!0)}else{for(d=""+Vs(d),i=null,g=0;g<r.length;g++){if(r[g].value===d){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}i!==null||r[g].disabled||(i=r[g])}i!==null&&(i.selected=!0)}}function Qd(r,i,d){if(i!=null&&(i=""+Vs(i),i!==r.value&&(r.value=i),d==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=d!=null?""+Vs(d):""}function Zd(r,i,d,f){if(i==null){if(f!=null){if(d!=null)throw Error(n(92));if(le(f)){if(1<f.length)throw Error(n(93));f=f[0]}d=f}d==null&&(d=""),i=d}d=Vs(i),r.defaultValue=d,f=r.textContent,f===d&&f!==""&&f!==null&&(r.value=f)}function ia(r,i){if(i){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=i;return}}r.textContent=i}var sm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jd(r,i,d){var f=i.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?f?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":f?r.setProperty(i,d):typeof d!="number"||d===0||sm.has(i)?i==="float"?r.cssFloat=d:r[i]=(""+d).trim():r[i]=d+"px"}function oo(r,i,d){if(i!=null&&typeof i!="object")throw Error(n(62));if(r=r.style,d!=null){for(var f in d)!d.hasOwnProperty(f)||i!=null&&i.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var g in i)f=i[g],i.hasOwnProperty(g)&&d[g]!==f&&Jd(r,g,f)}else for(var y in i)i.hasOwnProperty(y)&&Jd(r,y,i[y])}function Dn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lo(r){return rm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _l=null;function co(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var oa=null,Nr=null;function eu(r){var i=Bs(r);if(i&&(r=i.stateNode)){var d=r[ct]||null;e:switch(r=i.stateNode,i.type){case"input":if(Nl(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),i=d.name,d.type==="radio"&&i!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+ls(""+i)+'"][type="radio"]'),i=0;i<d.length;i++){var f=d[i];if(f!==r&&f.form===r.form){var g=f[ct]||null;if(!g)throw Error(n(90));Nl(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<d.length;i++)f=d[i],f.form===r.form&&Kd(f)}break e;case"textarea":Qd(r,d.value,d.defaultValue);break e;case"select":i=d.value,i!=null&&aa(r,!!d.multiple,i,!1)}}}var El=!1;function tu(r,i,d){if(El)return r(i,d);El=!0;try{var f=r(i);return f}finally{if(El=!1,(oa!==null||Nr!==null)&&(Iu(),oa&&(i=oa,r=Nr,Nr=oa=null,eu(i),r)))for(i=0;i<r.length;i++)eu(r[i])}}function ii(r,i){var d=r.stateNode;if(d===null)return null;var f=d[ct]||null;if(f===null)return null;d=f[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(n(231,i,typeof d));return d}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(Rn)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{Cl=!1}var Kn=null,Tl=null,li=null;function su(){if(li)return li;var r,i=Tl,d=i.length,f,g="value"in Kn?Kn.value:Kn.textContent,y=g.length;for(r=0;r<d&&i[r]===g[r];r++);var T=d-r;for(f=1;f<=T&&i[d-f]===g[y-f];f++);return li=g.slice(r,1<f?1-f:void 0)}function uo(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function ze(){return!0}function ho(){return!1}function ns(r){function i(d,f,g,y,T){this._reactName=d,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(d=r[O],this[O]=d?d(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ze:ho,this.isPropagationStopped=ho,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ze)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ze)},persist:function(){},isPersistent:ze}),i}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=ns(Sr),la=p({},Sr,{view:0,detail:0}),am=ns(la),kl,Ml,ci,mo=p({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(kl=r.screenX-ci.screenX,Ml=r.screenY-ci.screenY):Ml=kl=0,ci=r),kl)},movementY:function(r){return"movementY"in r?r.movementY:Ml}}),im=ns(mo),om=p({},mo,{dataTransfer:0}),lm=ns(om),pb=p({},la,{relatedTarget:0}),Al=ns(pb),cm=p({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=ns(cm),um=p({},Sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hm=ns(um),fm=p({},Sr,{data:0}),nu=ns(fm),mm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gm(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=xm[r])?!!i[r]:!1}function Dl(){return gm}var ym=p({},la,{key:function(r){if(r.key){var i=mm[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=uo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pm[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dl,charCode:function(r){return r.type==="keypress"?uo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?uo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),bm=ns(ym),vm=p({},mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zt=ns(vm),Rl=p({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dl}),wm=ns(Rl),C=p({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=ns(C),E=p({},mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),V=ns(E),q=p({},Sr,{newState:0,oldState:0}),de=ns(q),be=[9,13,27,32],Ee=Rn&&"CompositionEvent"in window,Oe=null;Rn&&"documentMode"in document&&(Oe=document.documentMode);var Ge=Rn&&"TextEvent"in window&&!Oe,Je=Rn&&(!Ee||Oe&&8<Oe&&11>=Oe),At=" ",di=!1;function ru(r,i){switch(r){case"keyup":return be.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ol(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ca=!1;function au(r,i){switch(r){case"compositionend":return Ol(i);case"keypress":return i.which!==32?null:(di=!0,At);case"textInput":return r=i.data,r===At&&di?null:r;default:return null}}function jm(r,i){if(ca)return r==="compositionend"||!Ee&&ru(r,i)?(r=su(),li=Tl=Kn=null,ca=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Je&&i.locale!=="ko"?null:i.data;default:return null}}var iu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ou(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!iu[r.type]:i==="textarea"}function lu(r,i,d,f){oa?Nr?Nr.push(f):Nr=[f]:oa=f,i=Ku(i,"onChange"),0<i.length&&(d=new fo("onChange","change",null,d,f),r.push({event:d,listeners:i}))}var da=null,ua=null;function cu(r){Iv(r,0)}function ha(r){var i=ni(r);if(Kd(i))return r}function po(r,i){if(r==="change")return i}var Ll=!1;if(Rn){var Pl;if(Rn){var zl="oninput"in document;if(!zl){var du=document.createElement("div");du.setAttribute("oninput","return;"),zl=typeof du.oninput=="function"}Pl=zl}else Pl=!1;Ll=Pl&&(!document.documentMode||9<document.documentMode)}function uu(){da&&(da.detachEvent("onpropertychange",Bl),ua=da=null)}function Bl(r){if(r.propertyName==="value"&&ha(ua)){var i=[];lu(i,ua,r,co(r)),tu(cu,i)}}function DE(r,i,d){r==="focusin"?(uu(),da=i,ua=d,da.attachEvent("onpropertychange",Bl)):r==="focusout"&&uu()}function RE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ha(ua)}function OE(r,i){if(r==="click")return ha(i)}function LE(r,i){if(r==="input"||r==="change")return ha(i)}function PE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Qs=typeof Object.is=="function"?Object.is:PE;function Vl(r,i){if(Qs(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var d=Object.keys(r),f=Object.keys(i);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var g=d[f];if(!ms.call(i,g)||!Qs(r[g],i[g]))return!1}return!0}function xb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function gb(r,i){var d=xb(r);r=0;for(var f;d;){if(d.nodeType===3){if(f=r+d.textContent.length,r<=i&&f>=i)return{node:d,offset:i-r};r=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xb(d)}}function yb(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?yb(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function bb(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=ai(r.document);i instanceof r.HTMLIFrameElement;){try{var d=typeof i.contentWindow.location.href=="string"}catch{d=!1}if(d)r=i.contentWindow;else break;i=ai(r.document)}return i}function Nm(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var zE=Rn&&"documentMode"in document&&11>=document.documentMode,xo=null,Sm=null,Ul=null,_m=!1;function vb(r,i,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;_m||xo==null||xo!==ai(f)||(f=xo,"selectionStart"in f&&Nm(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ul&&Vl(Ul,f)||(Ul=f,f=Ku(Sm,"onSelect"),0<f.length&&(i=new fo("onSelect","select",null,i,d),r.push({event:i,listeners:f}),i.target=xo)))}function ui(r,i){var d={};return d[r.toLowerCase()]=i.toLowerCase(),d["Webkit"+r]="webkit"+i,d["Moz"+r]="moz"+i,d}var go={animationend:ui("Animation","AnimationEnd"),animationiteration:ui("Animation","AnimationIteration"),animationstart:ui("Animation","AnimationStart"),transitionrun:ui("Transition","TransitionRun"),transitionstart:ui("Transition","TransitionStart"),transitioncancel:ui("Transition","TransitionCancel"),transitionend:ui("Transition","TransitionEnd")},Em={},wb={};Rn&&(wb=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function hi(r){if(Em[r])return Em[r];if(!go[r])return r;var i=go[r],d;for(d in i)if(i.hasOwnProperty(d)&&d in wb)return Em[r]=i[d];return r}var jb=hi("animationend"),Nb=hi("animationiteration"),Sb=hi("animationstart"),BE=hi("transitionrun"),VE=hi("transitionstart"),UE=hi("transitioncancel"),_b=hi("transitionend"),Eb=new Map,Cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cm.push("scrollEnd");function On(r,i){Eb.set(r,i),wr(i,[r])}var Cb=new WeakMap;function dn(r,i){if(typeof r=="object"&&r!==null){var d=Cb.get(r);return d!==void 0?d:(i={value:r,source:i,stack:Wd(i)},Cb.set(r,i),i)}return{value:r,source:i,stack:Wd(i)}}var un=[],yo=0,Tm=0;function hu(){for(var r=yo,i=Tm=yo=0;i<r;){var d=un[i];un[i++]=null;var f=un[i];un[i++]=null;var g=un[i];un[i++]=null;var y=un[i];if(un[i++]=null,f!==null&&g!==null){var T=f.pending;T===null?g.next=g:(g.next=T.next,T.next=g),f.pending=g}y!==0&&Tb(d,g,y)}}function fu(r,i,d,f){un[yo++]=r,un[yo++]=i,un[yo++]=d,un[yo++]=f,Tm|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function km(r,i,d,f){return fu(r,i,d,f),mu(r)}function bo(r,i){return fu(r,null,null,i),mu(r)}function Tb(r,i,d){r.lanes|=d;var f=r.alternate;f!==null&&(f.lanes|=d);for(var g=!1,y=r.return;y!==null;)y.childLanes|=d,f=y.alternate,f!==null&&(f.childLanes|=d),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(g=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,g&&i!==null&&(g=31-Te(d),r=y.hiddenUpdates,f=r[g],f===null?r[g]=[i]:f.push(i),i.lane=d|536870912),y):null}function mu(r){if(50<uc)throw uc=0,Lp=null,Error(n(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var vo={};function HE(r,i,d,f){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(r,i,d,f){return new HE(r,i,d,f)}function Mm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _r(r,i){var d=r.alternate;return d===null?(d=Zs(r.tag,i,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=i,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,i=r.dependencies,d.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function kb(r,i){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,i=d.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function pu(r,i,d,f,g,y){var T=0;if(f=r,typeof r=="function")Mm(r)&&(T=1);else if(typeof r=="string")T=$4(r,d,fe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case F:return r=Zs(31,d,i,g),r.elementType=F,r.lanes=y,r;case j:return fi(d.children,g,y,i);case S:T=8,g|=24;break;case N:return r=Zs(12,d,i,g|2),r.elementType=N,r.lanes=y,r;case M:return r=Zs(13,d,i,g),r.elementType=M,r.lanes=y,r;case z:return r=Zs(19,d,i,g),r.elementType=z,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case k:T=10;break e;case A:T=9;break e;case R:T=11;break e;case H:T=14;break e;case L:T=16,f=null;break e}T=29,d=Error(n(130,r===null?"null":typeof r,"")),f=null}return i=Zs(T,d,i,g),i.elementType=r,i.type=f,i.lanes=y,i}function fi(r,i,d,f){return r=Zs(7,r,f,i),r.lanes=d,r}function Am(r,i,d){return r=Zs(6,r,null,i),r.lanes=d,r}function Dm(r,i,d){return i=Zs(4,r.children!==null?r.children:[],r.key,i),i.lanes=d,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var wo=[],jo=0,xu=null,gu=0,hn=[],fn=0,mi=null,Er=1,Cr="";function pi(r,i){wo[jo++]=gu,wo[jo++]=xu,xu=r,gu=i}function Mb(r,i,d){hn[fn++]=Er,hn[fn++]=Cr,hn[fn++]=mi,mi=r;var f=Er;r=Cr;var g=32-Te(f)-1;f&=~(1<<g),d+=1;var y=32-Te(i)+g;if(30<y){var T=g-g%5;y=(f&(1<<T)-1).toString(32),f>>=T,g-=T,Er=1<<32-Te(i)+g|d<<g|f,Cr=y+r}else Er=1<<y|d<<g|f,Cr=r}function Rm(r){r.return!==null&&(pi(r,1),Mb(r,1,0))}function Om(r){for(;r===xu;)xu=wo[--jo],wo[jo]=null,gu=wo[--jo],wo[jo]=null;for(;r===mi;)mi=hn[--fn],hn[fn]=null,Cr=hn[--fn],hn[fn]=null,Er=hn[--fn],hn[fn]=null}var As=null,Lt=null,tt=!1,xi=null,Qn=!1,Lm=Error(n(519));function gi(r){var i=Error(n(418,""));throw $l(dn(i,r)),Lm}function Ab(r){var i=r.stateNode,d=r.type,f=r.memoizedProps;switch(i[vt]=r,i[ct]=f,d){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(d=0;d<fc.length;d++)qe(fc[d],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":qe("invalid",i),ra(i,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ao(i);break;case"select":qe("invalid",i);break;case"textarea":qe("invalid",i),Zd(i,f.value,f.defaultValue,f.children),ao(i)}d=f.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||i.textContent===""+d||f.suppressHydrationWarning===!0||Wv(i.textContent,d)?(f.popover!=null&&(qe("beforetoggle",i),qe("toggle",i)),f.onScroll!=null&&qe("scroll",i),f.onScrollEnd!=null&&qe("scrollend",i),f.onClick!=null&&(i.onclick=Qu),i=!0):i=!1,i||gi(r)}function Db(r){for(As=r.return;As;)switch(As.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:As=As.return}}function Hl(r){if(r!==As)return!1;if(!tt)return Db(r),tt=!0,!1;var i=r.tag,d;if((d=i!==3&&i!==27)&&((d=i===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||Qp(r.type,r.memoizedProps)),d=!d),d&&Lt&&gi(r),Db(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(i===0){Lt=Pn(r.nextSibling);break e}i--}else d!=="$"&&d!=="$!"&&d!=="$?"||i++;r=r.nextSibling}Lt=null}}else i===27?(i=Lt,Ta(r.type)?(r=tx,tx=null,Lt=r):Lt=i):Lt=As?Pn(r.stateNode.nextSibling):null;return!0}function Fl(){Lt=As=null,tt=!1}function Rb(){var r=xi;return r!==null&&(Fs===null?Fs=r:Fs.push.apply(Fs,r),xi=null),r}function $l(r){xi===null?xi=[r]:xi.push(r)}var Pm=G(null),yi=null,Tr=null;function fa(r,i,d){ie(Pm,i._currentValue),i._currentValue=d}function kr(r){r._currentValue=Pm.current,te(Pm)}function zm(r,i,d){for(;r!==null;){var f=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,f!==null&&(f.childLanes|=i)):f!==null&&(f.childLanes&i)!==i&&(f.childLanes|=i),r===d)break;r=r.return}}function Bm(r,i,d,f){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var y=g.dependencies;if(y!==null){var T=g.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=g;for(var Y=0;Y<i.length;Y++)if(O.context===i[Y]){y.lanes|=d,O=y.alternate,O!==null&&(O.lanes|=d),zm(y.return,d,r),f||(T=null);break e}y=O.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(n(341));T.lanes|=d,y=T.alternate,y!==null&&(y.lanes|=d),zm(T,d,r),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===r){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function Il(r,i,d,f){r=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(n(387));if(T=T.memoizedProps,T!==null){var O=g.type;Qs(g.pendingProps.value,T.value)||(r!==null?r.push(O):r=[O])}}else if(g===st.current){if(T=g.alternate,T===null)throw Error(n(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(bc):r=[bc])}g=g.return}r!==null&&Bm(i,r,d,f),i.flags|=262144}function yu(r){for(r=r.firstContext;r!==null;){if(!Qs(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function bi(r){yi=r,Tr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function js(r){return Ob(yi,r)}function bu(r,i){return yi===null&&bi(r),Ob(r,i)}function Ob(r,i){var d=i._currentValue;if(i={context:i,memoizedValue:d,next:null},Tr===null){if(r===null)throw Error(n(308));Tr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Tr=Tr.next=i;return d}var FE=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(d,f){r.push(f)}};this.abort=function(){i.aborted=!0,r.forEach(function(d){return d()})}},$E=t.unstable_scheduleCallback,IE=t.unstable_NormalPriority,rs={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vm(){return{controller:new FE,data:new Map,refCount:0}}function ql(r){r.refCount--,r.refCount===0&&$E(IE,function(){r.controller.abort()})}var Yl=null,Um=0,No=0,So=null;function qE(r,i){if(Yl===null){var d=Yl=[];Um=0,No=Fp(),So={status:"pending",value:void 0,then:function(f){d.push(f)}}}return Um++,i.then(Lb,Lb),i}function Lb(){if(--Um===0&&Yl!==null){So!==null&&(So.status="fulfilled");var r=Yl;Yl=null,No=0,So=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function YE(r,i){var d=[],f={status:"pending",value:null,reason:null,then:function(g){d.push(g)}};return r.then(function(){f.status="fulfilled",f.value=i;for(var g=0;g<d.length;g++)(0,d[g])(i)},function(g){for(f.status="rejected",f.reason=g,g=0;g<d.length;g++)(0,d[g])(void 0)}),f}var Pb=P.S;P.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&qE(r,i),Pb!==null&&Pb(r,i)};var vi=G(null);function Hm(){var r=vi.current;return r!==null?r:wt.pooledCache}function vu(r,i){i===null?ie(vi,vi.current):ie(vi,i.pool)}function zb(){var r=Hm();return r===null?null:{parent:rs._currentValue,pool:r}}var Xl=Error(n(460)),Bb=Error(n(474)),wu=Error(n(542)),Fm={then:function(){}};function Vb(r){return r=r.status,r==="fulfilled"||r==="rejected"}function ju(){}function Ub(r,i,d){switch(d=r[d],d===void 0?r.push(i):d!==i&&(i.then(ju,ju),i=d),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Fb(r),r;default:if(typeof i.status=="string")i.then(ju,ju);else{if(r=wt,r!==null&&100<r.shellSuspendCounter)throw Error(n(482));r=i,r.status="pending",r.then(function(f){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=f}},function(f){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=f}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Fb(r),r}throw Wl=i,Xl}}var Wl=null;function Hb(){if(Wl===null)throw Error(n(459));var r=Wl;return Wl=null,r}function Fb(r){if(r===Xl||r===wu)throw Error(n(483))}var ma=!1;function $m(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function pa(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function xa(r,i,d){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(nt&2)!==0){var g=f.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),f.pending=i,i=mu(r),Tb(r,null,d),i}return fu(r,f,i,d),mu(r)}function Gl(r,i,d){if(i=i.updateQueue,i!==null&&(i=i.shared,(d&4194048)!==0)){var f=i.lanes;f&=r.pendingLanes,d|=f,i.lanes=d,St(r,d)}}function qm(r,i){var d=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var g=null,y=null;if(d=d.firstBaseUpdate,d!==null){do{var T={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};y===null?g=y=T:y=y.next=T,d=d.next}while(d!==null);y===null?g=y=i:y=y.next=i}else g=y=i;d={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=i:r.next=i,d.lastBaseUpdate=i}var Ym=!1;function Kl(){if(Ym){var r=So;if(r!==null)throw r}}function Ql(r,i,d,f){Ym=!1;var g=r.updateQueue;ma=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var Y=O,ee=Y.next;Y.next=null,T===null?y=ee:T.next=ee,T=Y;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==T&&(O===null?ue.firstBaseUpdate=ee:O.next=ee,ue.lastBaseUpdate=Y))}if(y!==null){var pe=g.baseState;T=0,ue=ee=Y=null,O=y;do{var se=O.lane&-536870913,re=se!==O.lane;if(re?(Ke&se)===se:(f&se)===se){se!==0&&se===No&&(Ym=!0),ue!==null&&(ue=ue.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Le=r,De=O;se=i;var ht=d;switch(De.tag){case 1:if(Le=De.payload,typeof Le=="function"){pe=Le.call(ht,pe,se);break e}pe=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=De.payload,se=typeof Le=="function"?Le.call(ht,pe,se):Le,se==null)break e;pe=p({},pe,se);break e;case 2:ma=!0}}se=O.callback,se!==null&&(r.flags|=64,re&&(r.flags|=8192),re=g.callbacks,re===null?g.callbacks=[se]:re.push(se))}else re={lane:se,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(ee=ue=re,Y=pe):ue=ue.next=re,T|=se;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;re=O,O=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);ue===null&&(Y=pe),g.baseState=Y,g.firstBaseUpdate=ee,g.lastBaseUpdate=ue,y===null&&(g.shared.lanes=0),Sa|=T,r.lanes=T,r.memoizedState=pe}}function $b(r,i){if(typeof r!="function")throw Error(n(191,r));r.call(i)}function Ib(r,i){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)$b(d[r],i)}var _o=G(null),Nu=G(0);function qb(r,i){r=Pr,ie(Nu,r),ie(_o,i),Pr=r|i.baseLanes}function Xm(){ie(Nu,Pr),ie(_o,_o.current)}function Wm(){Pr=Nu.current,te(_o),te(Nu)}var ga=0,Fe=null,dt=null,Jt=null,Su=!1,Eo=!1,wi=!1,_u=0,Zl=0,Co=null,XE=0;function It(){throw Error(n(321))}function Gm(r,i){if(i===null)return!1;for(var d=0;d<i.length&&d<r.length;d++)if(!Qs(r[d],i[d]))return!1;return!0}function Km(r,i,d,f,g,y){return ga=y,Fe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=r===null||r.memoizedState===null?T0:k0,wi=!1,y=d(f,g),wi=!1,Eo&&(y=Xb(i,d,f,g)),Yb(r),y}function Yb(r){P.H=Au;var i=dt!==null&&dt.next!==null;if(ga=0,Jt=dt=Fe=null,Su=!1,Zl=0,Co=null,i)throw Error(n(300));r===null||cs||(r=r.dependencies,r!==null&&yu(r)&&(cs=!0))}function Xb(r,i,d,f){Fe=r;var g=0;do{if(Eo&&(Co=null),Zl=0,Eo=!1,25<=g)throw Error(n(301));if(g+=1,Jt=dt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}P.H=e4,y=i(d,f)}while(Eo);return y}function WE(){var r=P.H,i=r.useState()[0];return i=typeof i.then=="function"?Jl(i):i,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(Fe.flags|=1024),i}function Qm(){var r=_u!==0;return _u=0,r}function Zm(r,i,d){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d}function Jm(r){if(Su){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Su=!1}ga=0,Jt=dt=Fe=null,Eo=!1,Zl=_u=0,Co=null}function Us(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?Fe.memoizedState=Jt=r:Jt=Jt.next=r,Jt}function es(){if(dt===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var i=Jt===null?Fe.memoizedState:Jt.next;if(i!==null)Jt=i,dt=r;else{if(r===null)throw Fe.alternate===null?Error(n(467)):Error(n(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Jt===null?Fe.memoizedState=Jt=r:Jt=Jt.next=r}return Jt}function ep(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(r){var i=Zl;return Zl+=1,Co===null&&(Co=[]),r=Ub(Co,r,i),i=Fe,(Jt===null?i.memoizedState:Jt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?T0:k0),r}function Eu(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Jl(r);if(r.$$typeof===k)return js(r)}throw Error(n(438,String(r)))}function tp(r){var i=null,d=Fe.updateQueue;if(d!==null&&(i=d.memoCache),i==null){var f=Fe.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(i={data:f.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),d===null&&(d=ep(),Fe.updateQueue=d),d.memoCache=i,d=i.data[i.index],d===void 0)for(d=i.data[i.index]=Array(r),f=0;f<r;f++)d[f]=U;return i.index++,d}function Mr(r,i){return typeof i=="function"?i(r):i}function Cu(r){var i=es();return sp(i,dt,r)}function sp(r,i,d){var f=r.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=d;var g=r.baseQueue,y=f.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}i.baseQueue=g=y,f.pending=null}if(y=r.baseState,g===null)r.memoizedState=y;else{i=g.next;var O=T=null,Y=null,ee=i,ue=!1;do{var pe=ee.lane&-536870913;if(pe!==ee.lane?(Ke&pe)===pe:(ga&pe)===pe){var se=ee.revertLane;if(se===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),pe===No&&(ue=!0);else if((ga&se)===se){ee=ee.next,se===No&&(ue=!0);continue}else pe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Y===null?(O=Y=pe,T=y):Y=Y.next=pe,Fe.lanes|=se,Sa|=se;pe=ee.action,wi&&d(y,pe),y=ee.hasEagerState?ee.eagerState:d(y,pe)}else se={lane:pe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},Y===null?(O=Y=se,T=y):Y=Y.next=se,Fe.lanes|=pe,Sa|=pe;ee=ee.next}while(ee!==null&&ee!==i);if(Y===null?T=y:Y.next=O,!Qs(y,r.memoizedState)&&(cs=!0,ue&&(d=So,d!==null)))throw d;r.memoizedState=y,r.baseState=T,r.baseQueue=Y,f.lastRenderedState=y}return g===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function np(r){var i=es(),d=i.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=r;var f=d.dispatch,g=d.pending,y=i.memoizedState;if(g!==null){d.pending=null;var T=g=g.next;do y=r(y,T.action),T=T.next;while(T!==g);Qs(y,i.memoizedState)||(cs=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),d.lastRenderedState=y}return[y,f]}function Wb(r,i,d){var f=Fe,g=es(),y=tt;if(y){if(d===void 0)throw Error(n(407));d=d()}else d=i();var T=!Qs((dt||g).memoizedState,d);T&&(g.memoizedState=d,cs=!0),g=g.queue;var O=Qb.bind(null,f,g,r);if(ec(2048,8,O,[r]),g.getSnapshot!==i||T||Jt!==null&&Jt.memoizedState.tag&1){if(f.flags|=2048,To(9,Tu(),Kb.bind(null,f,g,d,i),null),wt===null)throw Error(n(349));y||(ga&124)!==0||Gb(f,i,d)}return d}function Gb(r,i,d){r.flags|=16384,r={getSnapshot:i,value:d},i=Fe.updateQueue,i===null?(i=ep(),Fe.updateQueue=i,i.stores=[r]):(d=i.stores,d===null?i.stores=[r]:d.push(r))}function Kb(r,i,d,f){i.value=d,i.getSnapshot=f,Zb(i)&&Jb(r)}function Qb(r,i,d){return d(function(){Zb(i)&&Jb(r)})}function Zb(r){var i=r.getSnapshot;r=r.value;try{var d=i();return!Qs(r,d)}catch{return!0}}function Jb(r){var i=bo(r,2);i!==null&&nn(i,r,2)}function rp(r){var i=Us();if(typeof r=="function"){var d=r;if(r=d(),wi){ke(!0);try{d()}finally{ke(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:r},i}function e0(r,i,d,f){return r.baseState=d,sp(r,dt,typeof f=="function"?f:Mr)}function GE(r,i,d,f,g){if(Mu(r))throw Error(n(485));if(r=i.action,r!==null){var y={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};P.T!==null?d(!0):y.isTransition=!1,f(y),d=i.pending,d===null?(y.next=i.pending=y,t0(i,y)):(y.next=d.next,i.pending=d.next=y)}}function t0(r,i){var d=i.action,f=i.payload,g=r.state;if(i.isTransition){var y=P.T,T={};P.T=T;try{var O=d(g,f),Y=P.S;Y!==null&&Y(T,O),s0(r,i,O)}catch(ee){ap(r,i,ee)}finally{P.T=y}}else try{y=d(g,f),s0(r,i,y)}catch(ee){ap(r,i,ee)}}function s0(r,i,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(f){n0(r,i,f)},function(f){return ap(r,i,f)}):n0(r,i,d)}function n0(r,i,d){i.status="fulfilled",i.value=d,r0(i),r.state=d,i=r.pending,i!==null&&(d=i.next,d===i?r.pending=null:(d=d.next,i.next=d,t0(r,d)))}function ap(r,i,d){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do i.status="rejected",i.reason=d,r0(i),i=i.next;while(i!==f)}r.action=null}function r0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function a0(r,i){return i}function i0(r,i){if(tt){var d=wt.formState;if(d!==null){e:{var f=Fe;if(tt){if(Lt){t:{for(var g=Lt,y=Qn;g.nodeType!==8;){if(!y){g=null;break t}if(g=Pn(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Lt=Pn(g.nextSibling),f=g.data==="F!";break e}}gi(f)}f=!1}f&&(i=d[0])}}return d=Us(),d.memoizedState=d.baseState=i,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:i},d.queue=f,d=_0.bind(null,Fe,f),f.dispatch=d,f=rp(!1),y=dp.bind(null,Fe,!1,f.queue),f=Us(),g={state:i,dispatch:null,action:r,pending:null},f.queue=g,d=GE.bind(null,Fe,g,y,d),g.dispatch=d,f.memoizedState=r,[i,d,!1]}function o0(r){var i=es();return l0(i,dt,r)}function l0(r,i,d){if(i=sp(r,i,a0)[0],r=Cu(Mr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var f=Jl(i)}catch(T){throw T===Xl?wu:T}else f=i;i=es();var g=i.queue,y=g.dispatch;return d!==i.memoizedState&&(Fe.flags|=2048,To(9,Tu(),KE.bind(null,g,d),null)),[f,y,r]}function KE(r,i){r.action=i}function c0(r){var i=es(),d=dt;if(d!==null)return l0(i,d,r);es(),i=i.memoizedState,d=es();var f=d.queue.dispatch;return d.memoizedState=r,[i,f,!1]}function To(r,i,d,f){return r={tag:r,create:d,deps:f,inst:i,next:null},i=Fe.updateQueue,i===null&&(i=ep(),Fe.updateQueue=i),d=i.lastEffect,d===null?i.lastEffect=r.next=r:(f=d.next,d.next=r,r.next=f,i.lastEffect=r),r}function Tu(){return{destroy:void 0,resource:void 0}}function d0(){return es().memoizedState}function ku(r,i,d,f){var g=Us();f=f===void 0?null:f,Fe.flags|=r,g.memoizedState=To(1|i,Tu(),d,f)}function ec(r,i,d,f){var g=es();f=f===void 0?null:f;var y=g.memoizedState.inst;dt!==null&&f!==null&&Gm(f,dt.memoizedState.deps)?g.memoizedState=To(i,y,d,f):(Fe.flags|=r,g.memoizedState=To(1|i,y,d,f))}function u0(r,i){ku(8390656,8,r,i)}function h0(r,i){ec(2048,8,r,i)}function f0(r,i){return ec(4,2,r,i)}function m0(r,i){return ec(4,4,r,i)}function p0(r,i){if(typeof i=="function"){r=r();var d=i(r);return function(){typeof d=="function"?d():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function x0(r,i,d){d=d!=null?d.concat([r]):null,ec(4,4,p0.bind(null,i,r),d)}function ip(){}function g0(r,i){var d=es();i=i===void 0?null:i;var f=d.memoizedState;return i!==null&&Gm(i,f[1])?f[0]:(d.memoizedState=[r,i],r)}function y0(r,i){var d=es();i=i===void 0?null:i;var f=d.memoizedState;if(i!==null&&Gm(i,f[1]))return f[0];if(f=r(),wi){ke(!0);try{r()}finally{ke(!1)}}return d.memoizedState=[f,i],f}function op(r,i,d){return d===void 0||(ga&1073741824)!==0?r.memoizedState=i:(r.memoizedState=d,r=wv(),Fe.lanes|=r,Sa|=r,d)}function b0(r,i,d,f){return Qs(d,i)?d:_o.current!==null?(r=op(r,d,f),Qs(r,i)||(cs=!0),r):(ga&42)===0?(cs=!0,r.memoizedState=d):(r=wv(),Fe.lanes|=r,Sa|=r,i)}function v0(r,i,d,f,g){var y=I.p;I.p=y!==0&&8>y?y:8;var T=P.T,O={};P.T=O,dp(r,!1,i,d);try{var Y=g(),ee=P.S;if(ee!==null&&ee(O,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ue=YE(Y,f);tc(r,i,ue,sn(r))}else tc(r,i,f,sn(r))}catch(pe){tc(r,i,{then:function(){},status:"rejected",reason:pe},sn())}finally{I.p=y,P.T=T}}function QE(){}function lp(r,i,d,f){if(r.tag!==5)throw Error(n(476));var g=w0(r).queue;v0(r,g,i,$,d===null?QE:function(){return j0(r),d(f)})}function w0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:$},next:null};var d={};return i.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:d},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function j0(r){var i=w0(r).next.queue;tc(r,i,{},sn())}function cp(){return js(bc)}function N0(){return es().memoizedState}function S0(){return es().memoizedState}function ZE(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var d=sn();r=pa(d);var f=xa(i,r,d);f!==null&&(nn(f,i,d),Gl(f,i,d)),i={cache:Vm()},r.payload=i;return}i=i.return}}function JE(r,i,d){var f=sn();d={lane:f,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Mu(r)?E0(i,d):(d=km(r,i,d,f),d!==null&&(nn(d,r,f),C0(d,i,f)))}function _0(r,i,d){var f=sn();tc(r,i,d,f)}function tc(r,i,d,f){var g={lane:f,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Mu(r))E0(i,g);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,O=y(T,d);if(g.hasEagerState=!0,g.eagerState=O,Qs(O,T))return fu(r,i,g,0),wt===null&&hu(),!1}catch{}finally{}if(d=km(r,i,g,f),d!==null)return nn(d,r,f),C0(d,i,f),!0}return!1}function dp(r,i,d,f){if(f={lane:2,revertLane:Fp(),action:f,hasEagerState:!1,eagerState:null,next:null},Mu(r)){if(i)throw Error(n(479))}else i=km(r,d,f,2),i!==null&&nn(i,r,2)}function Mu(r){var i=r.alternate;return r===Fe||i!==null&&i===Fe}function E0(r,i){Eo=Su=!0;var d=r.pending;d===null?i.next=i:(i.next=d.next,d.next=i),r.pending=i}function C0(r,i,d){if((d&4194048)!==0){var f=i.lanes;f&=r.pendingLanes,d|=f,i.lanes=d,St(r,d)}}var Au={readContext:js,use:Eu,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},T0={readContext:js,use:Eu,useCallback:function(r,i){return Us().memoizedState=[r,i===void 0?null:i],r},useContext:js,useEffect:u0,useImperativeHandle:function(r,i,d){d=d!=null?d.concat([r]):null,ku(4194308,4,p0.bind(null,i,r),d)},useLayoutEffect:function(r,i){return ku(4194308,4,r,i)},useInsertionEffect:function(r,i){ku(4,2,r,i)},useMemo:function(r,i){var d=Us();i=i===void 0?null:i;var f=r();if(wi){ke(!0);try{r()}finally{ke(!1)}}return d.memoizedState=[f,i],f},useReducer:function(r,i,d){var f=Us();if(d!==void 0){var g=d(i);if(wi){ke(!0);try{d(i)}finally{ke(!1)}}}else g=i;return f.memoizedState=f.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},f.queue=r,r=r.dispatch=JE.bind(null,Fe,r),[f.memoizedState,r]},useRef:function(r){var i=Us();return r={current:r},i.memoizedState=r},useState:function(r){r=rp(r);var i=r.queue,d=_0.bind(null,Fe,i);return i.dispatch=d,[r.memoizedState,d]},useDebugValue:ip,useDeferredValue:function(r,i){var d=Us();return op(d,r,i)},useTransition:function(){var r=rp(!1);return r=v0.bind(null,Fe,r.queue,!0,!1),Us().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,d){var f=Fe,g=Us();if(tt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=i(),wt===null)throw Error(n(349));(Ke&124)!==0||Gb(f,i,d)}g.memoizedState=d;var y={value:d,getSnapshot:i};return g.queue=y,u0(Qb.bind(null,f,y,r),[r]),f.flags|=2048,To(9,Tu(),Kb.bind(null,f,y,d,i),null),d},useId:function(){var r=Us(),i=wt.identifierPrefix;if(tt){var d=Cr,f=Er;d=(f&~(1<<32-Te(f)-1)).toString(32)+d,i=""+i+"R"+d,d=_u++,0<d&&(i+="H"+d.toString(32)),i+=""}else d=XE++,i=""+i+"r"+d.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:cp,useFormState:i0,useActionState:i0,useOptimistic:function(r){var i=Us();i.memoizedState=i.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=d,i=dp.bind(null,Fe,!0,d),d.dispatch=i,[r,i]},useMemoCache:tp,useCacheRefresh:function(){return Us().memoizedState=ZE.bind(null,Fe)}},k0={readContext:js,use:Eu,useCallback:g0,useContext:js,useEffect:h0,useImperativeHandle:x0,useInsertionEffect:f0,useLayoutEffect:m0,useMemo:y0,useReducer:Cu,useRef:d0,useState:function(){return Cu(Mr)},useDebugValue:ip,useDeferredValue:function(r,i){var d=es();return b0(d,dt.memoizedState,r,i)},useTransition:function(){var r=Cu(Mr)[0],i=es().memoizedState;return[typeof r=="boolean"?r:Jl(r),i]},useSyncExternalStore:Wb,useId:N0,useHostTransitionStatus:cp,useFormState:o0,useActionState:o0,useOptimistic:function(r,i){var d=es();return e0(d,dt,r,i)},useMemoCache:tp,useCacheRefresh:S0},e4={readContext:js,use:Eu,useCallback:g0,useContext:js,useEffect:h0,useImperativeHandle:x0,useInsertionEffect:f0,useLayoutEffect:m0,useMemo:y0,useReducer:np,useRef:d0,useState:function(){return np(Mr)},useDebugValue:ip,useDeferredValue:function(r,i){var d=es();return dt===null?op(d,r,i):b0(d,dt.memoizedState,r,i)},useTransition:function(){var r=np(Mr)[0],i=es().memoizedState;return[typeof r=="boolean"?r:Jl(r),i]},useSyncExternalStore:Wb,useId:N0,useHostTransitionStatus:cp,useFormState:c0,useActionState:c0,useOptimistic:function(r,i){var d=es();return dt!==null?e0(d,dt,r,i):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:tp,useCacheRefresh:S0},ko=null,sc=0;function Du(r){var i=sc;return sc+=1,ko===null&&(ko=[]),Ub(ko,r,i)}function nc(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Ru(r,i){throw i.$$typeof===x?Error(n(525)):(r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function M0(r){var i=r._init;return i(r._payload)}function A0(r){function i(Q,K){if(r){var J=Q.deletions;J===null?(Q.deletions=[K],Q.flags|=16):J.push(K)}}function d(Q,K){if(!r)return null;for(;K!==null;)i(Q,K),K=K.sibling;return null}function f(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function g(Q,K){return Q=_r(Q,K),Q.index=0,Q.sibling=null,Q}function y(Q,K,J){return Q.index=J,r?(J=Q.alternate,J!==null?(J=J.index,J<K?(Q.flags|=67108866,K):J):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function T(Q){return r&&Q.alternate===null&&(Q.flags|=67108866),Q}function O(Q,K,J,he){return K===null||K.tag!==6?(K=Am(J,Q.mode,he),K.return=Q,K):(K=g(K,J),K.return=Q,K)}function Y(Q,K,J,he){var Ce=J.type;return Ce===j?ue(Q,K,J.props.children,he,J.key):K!==null&&(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===L&&M0(Ce)===K.type)?(K=g(K,J.props),nc(K,J),K.return=Q,K):(K=pu(J.type,J.key,J.props,null,Q.mode,he),nc(K,J),K.return=Q,K)}function ee(Q,K,J,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=Dm(J,Q.mode,he),K.return=Q,K):(K=g(K,J.children||[]),K.return=Q,K)}function ue(Q,K,J,he,Ce){return K===null||K.tag!==7?(K=fi(J,Q.mode,he,Ce),K.return=Q,K):(K=g(K,J),K.return=Q,K)}function pe(Q,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Am(""+K,Q.mode,J),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return J=pu(K.type,K.key,K.props,null,Q.mode,J),nc(J,K),J.return=Q,J;case v:return K=Dm(K,Q.mode,J),K.return=Q,K;case L:var he=K._init;return K=he(K._payload),pe(Q,K,J)}if(le(K)||Z(K))return K=fi(K,Q.mode,J,null),K.return=Q,K;if(typeof K.then=="function")return pe(Q,Du(K),J);if(K.$$typeof===k)return pe(Q,bu(Q,K),J);Ru(Q,K)}return null}function se(Q,K,J,he){var Ce=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Ce!==null?null:O(Q,K,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return J.key===Ce?Y(Q,K,J,he):null;case v:return J.key===Ce?ee(Q,K,J,he):null;case L:return Ce=J._init,J=Ce(J._payload),se(Q,K,J,he)}if(le(J)||Z(J))return Ce!==null?null:ue(Q,K,J,he,null);if(typeof J.then=="function")return se(Q,K,Du(J),he);if(J.$$typeof===k)return se(Q,K,bu(Q,J),he);Ru(Q,J)}return null}function re(Q,K,J,he,Ce){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(J)||null,O(K,Q,""+he,Ce);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return Q=Q.get(he.key===null?J:he.key)||null,Y(K,Q,he,Ce);case v:return Q=Q.get(he.key===null?J:he.key)||null,ee(K,Q,he,Ce);case L:var $e=he._init;return he=$e(he._payload),re(Q,K,J,he,Ce)}if(le(he)||Z(he))return Q=Q.get(J)||null,ue(K,Q,he,Ce,null);if(typeof he.then=="function")return re(Q,K,J,Du(he),Ce);if(he.$$typeof===k)return re(Q,K,J,bu(K,he),Ce);Ru(K,he)}return null}function Le(Q,K,J,he){for(var Ce=null,$e=null,Ae=K,Re=K=0,us=null;Ae!==null&&Re<J.length;Re++){Ae.index>Re?(us=Ae,Ae=null):us=Ae.sibling;var et=se(Q,Ae,J[Re],he);if(et===null){Ae===null&&(Ae=us);break}r&&Ae&&et.alternate===null&&i(Q,Ae),K=y(et,K,Re),$e===null?Ce=et:$e.sibling=et,$e=et,Ae=us}if(Re===J.length)return d(Q,Ae),tt&&pi(Q,Re),Ce;if(Ae===null){for(;Re<J.length;Re++)Ae=pe(Q,J[Re],he),Ae!==null&&(K=y(Ae,K,Re),$e===null?Ce=Ae:$e.sibling=Ae,$e=Ae);return tt&&pi(Q,Re),Ce}for(Ae=f(Ae);Re<J.length;Re++)us=re(Ae,Q,Re,J[Re],he),us!==null&&(r&&us.alternate!==null&&Ae.delete(us.key===null?Re:us.key),K=y(us,K,Re),$e===null?Ce=us:$e.sibling=us,$e=us);return r&&Ae.forEach(function(Ra){return i(Q,Ra)}),tt&&pi(Q,Re),Ce}function De(Q,K,J,he){if(J==null)throw Error(n(151));for(var Ce=null,$e=null,Ae=K,Re=K=0,us=null,et=J.next();Ae!==null&&!et.done;Re++,et=J.next()){Ae.index>Re?(us=Ae,Ae=null):us=Ae.sibling;var Ra=se(Q,Ae,et.value,he);if(Ra===null){Ae===null&&(Ae=us);break}r&&Ae&&Ra.alternate===null&&i(Q,Ae),K=y(Ra,K,Re),$e===null?Ce=Ra:$e.sibling=Ra,$e=Ra,Ae=us}if(et.done)return d(Q,Ae),tt&&pi(Q,Re),Ce;if(Ae===null){for(;!et.done;Re++,et=J.next())et=pe(Q,et.value,he),et!==null&&(K=y(et,K,Re),$e===null?Ce=et:$e.sibling=et,$e=et);return tt&&pi(Q,Re),Ce}for(Ae=f(Ae);!et.done;Re++,et=J.next())et=re(Ae,Q,Re,et.value,he),et!==null&&(r&&et.alternate!==null&&Ae.delete(et.key===null?Re:et.key),K=y(et,K,Re),$e===null?Ce=et:$e.sibling=et,$e=et);return r&&Ae.forEach(function(tC){return i(Q,tC)}),tt&&pi(Q,Re),Ce}function ht(Q,K,J,he){if(typeof J=="object"&&J!==null&&J.type===j&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case b:e:{for(var Ce=J.key;K!==null;){if(K.key===Ce){if(Ce=J.type,Ce===j){if(K.tag===7){d(Q,K.sibling),he=g(K,J.props.children),he.return=Q,Q=he;break e}}else if(K.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===L&&M0(Ce)===K.type){d(Q,K.sibling),he=g(K,J.props),nc(he,J),he.return=Q,Q=he;break e}d(Q,K);break}else i(Q,K);K=K.sibling}J.type===j?(he=fi(J.props.children,Q.mode,he,J.key),he.return=Q,Q=he):(he=pu(J.type,J.key,J.props,null,Q.mode,he),nc(he,J),he.return=Q,Q=he)}return T(Q);case v:e:{for(Ce=J.key;K!==null;){if(K.key===Ce)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){d(Q,K.sibling),he=g(K,J.children||[]),he.return=Q,Q=he;break e}else{d(Q,K);break}else i(Q,K);K=K.sibling}he=Dm(J,Q.mode,he),he.return=Q,Q=he}return T(Q);case L:return Ce=J._init,J=Ce(J._payload),ht(Q,K,J,he)}if(le(J))return Le(Q,K,J,he);if(Z(J)){if(Ce=Z(J),typeof Ce!="function")throw Error(n(150));return J=Ce.call(J),De(Q,K,J,he)}if(typeof J.then=="function")return ht(Q,K,Du(J),he);if(J.$$typeof===k)return ht(Q,K,bu(Q,J),he);Ru(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(d(Q,K.sibling),he=g(K,J),he.return=Q,Q=he):(d(Q,K),he=Am(J,Q.mode,he),he.return=Q,Q=he),T(Q)):d(Q,K)}return function(Q,K,J,he){try{sc=0;var Ce=ht(Q,K,J,he);return ko=null,Ce}catch(Ae){if(Ae===Xl||Ae===wu)throw Ae;var $e=Zs(29,Ae,null,Q.mode);return $e.lanes=he,$e.return=Q,$e}finally{}}}var Mo=A0(!0),D0=A0(!1),mn=G(null),Zn=null;function ya(r){var i=r.alternate;ie(as,as.current&1),ie(mn,r),Zn===null&&(i===null||_o.current!==null||i.memoizedState!==null)&&(Zn=r)}function R0(r){if(r.tag===22){if(ie(as,as.current),ie(mn,r),Zn===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Zn=r)}}else ba()}function ba(){ie(as,as.current),ie(mn,mn.current)}function Ar(r){te(mn),Zn===r&&(Zn=null),te(as)}var as=G(0);function Ou(r){for(var i=r;i!==null;){if(i.tag===13){var d=i.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||ex(d)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function up(r,i,d,f){i=r.memoizedState,d=d(f,i),d=d==null?i:p({},i,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var hp={enqueueSetState:function(r,i,d){r=r._reactInternals;var f=sn(),g=pa(f);g.payload=i,d!=null&&(g.callback=d),i=xa(r,g,f),i!==null&&(nn(i,r,f),Gl(i,r,f))},enqueueReplaceState:function(r,i,d){r=r._reactInternals;var f=sn(),g=pa(f);g.tag=1,g.payload=i,d!=null&&(g.callback=d),i=xa(r,g,f),i!==null&&(nn(i,r,f),Gl(i,r,f))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var d=sn(),f=pa(d);f.tag=2,i!=null&&(f.callback=i),i=xa(r,f,d),i!==null&&(nn(i,r,d),Gl(i,r,d))}};function O0(r,i,d,f,g,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,T):i.prototype&&i.prototype.isPureReactComponent?!Vl(d,f)||!Vl(g,y):!0}function L0(r,i,d,f){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(d,f),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(d,f),i.state!==r&&hp.enqueueReplaceState(i,i.state,null)}function ji(r,i){var d=i;if("ref"in i){d={};for(var f in i)f!=="ref"&&(d[f]=i[f])}if(r=r.defaultProps){d===i&&(d=p({},d));for(var g in r)d[g]===void 0&&(d[g]=r[g])}return d}var Lu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function P0(r){Lu(r)}function z0(r){console.error(r)}function B0(r){Lu(r)}function Pu(r,i){try{var d=r.onUncaughtError;d(i.value,{componentStack:i.stack})}catch(f){setTimeout(function(){throw f})}}function V0(r,i,d){try{var f=r.onCaughtError;f(d.value,{componentStack:d.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function fp(r,i,d){return d=pa(d),d.tag=3,d.payload={element:null},d.callback=function(){Pu(r,i)},d}function U0(r){return r=pa(r),r.tag=3,r}function H0(r,i,d,f){var g=d.type.getDerivedStateFromError;if(typeof g=="function"){var y=f.value;r.payload=function(){return g(y)},r.callback=function(){V0(i,d,f)}}var T=d.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){V0(i,d,f),typeof g!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var O=f.stack;this.componentDidCatch(f.value,{componentStack:O!==null?O:""})})}function t4(r,i,d,f,g){if(d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(i=d.alternate,i!==null&&Il(i,d,g,!0),d=mn.current,d!==null){switch(d.tag){case 13:return Zn===null?zp():d.alternate===null&&Pt===0&&(Pt=3),d.flags&=-257,d.flags|=65536,d.lanes=g,f===Fm?d.flags|=16384:(i=d.updateQueue,i===null?d.updateQueue=new Set([f]):i.add(f),Vp(r,f,g)),!1;case 22:return d.flags|=65536,f===Fm?d.flags|=16384:(i=d.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([f])},d.updateQueue=i):(d=i.retryQueue,d===null?i.retryQueue=new Set([f]):d.add(f)),Vp(r,f,g)),!1}throw Error(n(435,d.tag))}return Vp(r,f,g),zp(),!1}if(tt)return i=mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,f!==Lm&&(r=Error(n(422),{cause:f}),$l(dn(r,d)))):(f!==Lm&&(i=Error(n(423),{cause:f}),$l(dn(i,d))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,f=dn(f,d),g=fp(r.stateNode,f,g),qm(r,g),Pt!==4&&(Pt=2)),!1;var y=Error(n(520),{cause:f});if(y=dn(y,d),dc===null?dc=[y]:dc.push(y),Pt!==4&&(Pt=2),i===null)return!0;f=dn(f,d),d=i;do{switch(d.tag){case 3:return d.flags|=65536,r=g&-g,d.lanes|=r,r=fp(d.stateNode,f,r),qm(d,r),!1;case 1:if(i=d.type,y=d.stateNode,(d.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(_a===null||!_a.has(y))))return d.flags|=65536,g&=-g,d.lanes|=g,g=U0(g),H0(g,r,d,f),qm(d,g),!1}d=d.return}while(d!==null);return!1}var F0=Error(n(461)),cs=!1;function ps(r,i,d,f){i.child=r===null?D0(i,null,d,f):Mo(i,r.child,d,f)}function $0(r,i,d,f,g){d=d.render;var y=i.ref;if("ref"in f){var T={};for(var O in f)O!=="ref"&&(T[O]=f[O])}else T=f;return bi(i),f=Km(r,i,d,T,y,g),O=Qm(),r!==null&&!cs?(Zm(r,i,g),Dr(r,i,g)):(tt&&O&&Rm(i),i.flags|=1,ps(r,i,f,g),i.child)}function I0(r,i,d,f,g){if(r===null){var y=d.type;return typeof y=="function"&&!Mm(y)&&y.defaultProps===void 0&&d.compare===null?(i.tag=15,i.type=y,q0(r,i,y,f,g)):(r=pu(d.type,null,f,i,i.mode,g),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!wp(r,g)){var T=y.memoizedProps;if(d=d.compare,d=d!==null?d:Vl,d(T,f)&&r.ref===i.ref)return Dr(r,i,g)}return i.flags|=1,r=_r(y,f),r.ref=i.ref,r.return=i,i.child=r}function q0(r,i,d,f,g){if(r!==null){var y=r.memoizedProps;if(Vl(y,f)&&r.ref===i.ref)if(cs=!1,i.pendingProps=f=y,wp(r,g))(r.flags&131072)!==0&&(cs=!0);else return i.lanes=r.lanes,Dr(r,i,g)}return mp(r,i,d,f,g)}function Y0(r,i,d){var f=i.pendingProps,g=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((i.flags&128)!==0){if(f=y!==null?y.baseLanes|d:d,r!==null){for(g=i.child=r.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~f}else i.childLanes=0,i.child=null;return X0(r,i,f,d)}if((d&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&vu(i,y!==null?y.cachePool:null),y!==null?qb(i,y):Xm(),R0(i);else return i.lanes=i.childLanes=536870912,X0(r,i,y!==null?y.baseLanes|d:d,d)}else y!==null?(vu(i,y.cachePool),qb(i,y),ba(),i.memoizedState=null):(r!==null&&vu(i,null),Xm(),ba());return ps(r,i,g,d),i.child}function X0(r,i,d,f){var g=Hm();return g=g===null?null:{parent:rs._currentValue,pool:g},i.memoizedState={baseLanes:d,cachePool:g},r!==null&&vu(i,null),Xm(),R0(i),r!==null&&Il(r,i,f,!0),null}function zu(r,i){var d=i.ref;if(d===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(r===null||r.ref!==d)&&(i.flags|=4194816)}}function mp(r,i,d,f,g){return bi(i),d=Km(r,i,d,f,void 0,g),f=Qm(),r!==null&&!cs?(Zm(r,i,g),Dr(r,i,g)):(tt&&f&&Rm(i),i.flags|=1,ps(r,i,d,g),i.child)}function W0(r,i,d,f,g,y){return bi(i),i.updateQueue=null,d=Xb(i,f,d,g),Yb(r),f=Qm(),r!==null&&!cs?(Zm(r,i,y),Dr(r,i,y)):(tt&&f&&Rm(i),i.flags|=1,ps(r,i,d,y),i.child)}function G0(r,i,d,f,g){if(bi(i),i.stateNode===null){var y=vo,T=d.contextType;typeof T=="object"&&T!==null&&(y=js(T)),y=new d(f,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=hp,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=f,y.state=i.memoizedState,y.refs={},$m(i),T=d.contextType,y.context=typeof T=="object"&&T!==null?js(T):vo,y.state=i.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(up(i,d,T,f),y.state=i.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&hp.enqueueReplaceState(y,y.state,null),Ql(i,f,y,g),Kl(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),f=!0}else if(r===null){y=i.stateNode;var O=i.memoizedProps,Y=ji(d,O);y.props=Y;var ee=y.context,ue=d.contextType;T=vo,typeof ue=="object"&&ue!==null&&(T=js(ue));var pe=d.getDerivedStateFromProps;ue=typeof pe=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||ee!==T)&&L0(i,y,f,T),ma=!1;var se=i.memoizedState;y.state=se,Ql(i,f,y,g),Kl(),ee=i.memoizedState,O||se!==ee||ma?(typeof pe=="function"&&(up(i,d,pe,f),ee=i.memoizedState),(Y=ma||O0(i,d,Y,f,se,ee,T))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=f,i.memoizedState=ee),y.props=f,y.state=ee,y.context=T,f=Y):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),f=!1)}else{y=i.stateNode,Im(r,i),T=i.memoizedProps,ue=ji(d,T),y.props=ue,pe=i.pendingProps,se=y.context,ee=d.contextType,Y=vo,typeof ee=="object"&&ee!==null&&(Y=js(ee)),O=d.getDerivedStateFromProps,(ee=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==pe||se!==Y)&&L0(i,y,f,Y),ma=!1,se=i.memoizedState,y.state=se,Ql(i,f,y,g),Kl();var re=i.memoizedState;T!==pe||se!==re||ma||r!==null&&r.dependencies!==null&&yu(r.dependencies)?(typeof O=="function"&&(up(i,d,O,f),re=i.memoizedState),(ue=ma||O0(i,d,ue,f,se,re,Y)||r!==null&&r.dependencies!==null&&yu(r.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,re,Y),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,re,Y)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&se===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&se===r.memoizedState||(i.flags|=1024),i.memoizedProps=f,i.memoizedState=re),y.props=f,y.state=re,y.context=Y,f=ue):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&se===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&se===r.memoizedState||(i.flags|=1024),f=!1)}return y=f,zu(r,i),f=(i.flags&128)!==0,y||f?(y=i.stateNode,d=f&&typeof d.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&f?(i.child=Mo(i,r.child,null,g),i.child=Mo(i,null,d,g)):ps(r,i,d,g),i.memoizedState=y.state,r=i.child):r=Dr(r,i,g),r}function K0(r,i,d,f){return Fl(),i.flags|=256,ps(r,i,d,f),i.child}var pp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xp(r){return{baseLanes:r,cachePool:zb()}}function gp(r,i,d){return r=r!==null?r.childLanes&~d:0,i&&(r|=pn),r}function Q0(r,i,d){var f=i.pendingProps,g=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(as.current&2)!==0),T&&(g=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(tt){if(g?ya(i):ba(),tt){var O=Lt,Y;if(Y=O){e:{for(Y=O,O=Qn;Y.nodeType!==8;){if(!O){O=null;break e}if(Y=Pn(Y.nextSibling),Y===null){O=null;break e}}O=Y}O!==null?(i.memoizedState={dehydrated:O,treeContext:mi!==null?{id:Er,overflow:Cr}:null,retryLane:536870912,hydrationErrors:null},Y=Zs(18,null,null,0),Y.stateNode=O,Y.return=i,i.child=Y,As=i,Lt=null,Y=!0):Y=!1}Y||gi(i)}if(O=i.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return ex(O)?i.lanes=32:i.lanes=536870912,null;Ar(i)}return O=f.children,f=f.fallback,g?(ba(),g=i.mode,O=Bu({mode:"hidden",children:O},g),f=fi(f,g,d,null),O.return=i,f.return=i,O.sibling=f,i.child=O,g=i.child,g.memoizedState=xp(d),g.childLanes=gp(r,T,d),i.memoizedState=pp,f):(ya(i),yp(i,O))}if(Y=r.memoizedState,Y!==null&&(O=Y.dehydrated,O!==null)){if(y)i.flags&256?(ya(i),i.flags&=-257,i=bp(r,i,d)):i.memoizedState!==null?(ba(),i.child=r.child,i.flags|=128,i=null):(ba(),g=f.fallback,O=i.mode,f=Bu({mode:"visible",children:f.children},O),g=fi(g,O,d,null),g.flags|=2,f.return=i,g.return=i,f.sibling=g,i.child=f,Mo(i,r.child,null,d),f=i.child,f.memoizedState=xp(d),f.childLanes=gp(r,T,d),i.memoizedState=pp,i=g);else if(ya(i),ex(O)){if(T=O.nextSibling&&O.nextSibling.dataset,T)var ee=T.dgst;T=ee,f=Error(n(419)),f.stack="",f.digest=T,$l({value:f,source:null,stack:null}),i=bp(r,i,d)}else if(cs||Il(r,i,d,!1),T=(d&r.childLanes)!==0,cs||T){if(T=wt,T!==null&&(f=d&-d,f=(f&42)!==0?1:kt(f),f=(f&(T.suspendedLanes|d))!==0?0:f,f!==0&&f!==Y.retryLane))throw Y.retryLane=f,bo(r,f),nn(T,r,f),F0;O.data==="$?"||zp(),i=bp(r,i,d)}else O.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=Y.treeContext,Lt=Pn(O.nextSibling),As=i,tt=!0,xi=null,Qn=!1,r!==null&&(hn[fn++]=Er,hn[fn++]=Cr,hn[fn++]=mi,Er=r.id,Cr=r.overflow,mi=i),i=yp(i,f.children),i.flags|=4096);return i}return g?(ba(),g=f.fallback,O=i.mode,Y=r.child,ee=Y.sibling,f=_r(Y,{mode:"hidden",children:f.children}),f.subtreeFlags=Y.subtreeFlags&65011712,ee!==null?g=_r(ee,g):(g=fi(g,O,d,null),g.flags|=2),g.return=i,f.return=i,f.sibling=g,i.child=f,f=g,g=i.child,O=r.child.memoizedState,O===null?O=xp(d):(Y=O.cachePool,Y!==null?(ee=rs._currentValue,Y=Y.parent!==ee?{parent:ee,pool:ee}:Y):Y=zb(),O={baseLanes:O.baseLanes|d,cachePool:Y}),g.memoizedState=O,g.childLanes=gp(r,T,d),i.memoizedState=pp,f):(ya(i),d=r.child,r=d.sibling,d=_r(d,{mode:"visible",children:f.children}),d.return=i,d.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=d,i.memoizedState=null,d)}function yp(r,i){return i=Bu({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Bu(r,i){return r=Zs(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function bp(r,i,d){return Mo(i,r.child,null,d),r=yp(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Z0(r,i,d){r.lanes|=i;var f=r.alternate;f!==null&&(f.lanes|=i),zm(r.return,i,d)}function vp(r,i,d,f,g){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=d,y.tailMode=g)}function J0(r,i,d){var f=i.pendingProps,g=f.revealOrder,y=f.tail;if(ps(r,i,f.children,d),f=as.current,(f&2)!==0)f=f&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Z0(r,d,i);else if(r.tag===19)Z0(r,d,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(ie(as,f),g){case"forwards":for(d=i.child,g=null;d!==null;)r=d.alternate,r!==null&&Ou(r)===null&&(g=d),d=d.sibling;d=g,d===null?(g=i.child,i.child=null):(g=d.sibling,d.sibling=null),vp(i,!1,g,d,y);break;case"backwards":for(d=null,g=i.child,i.child=null;g!==null;){if(r=g.alternate,r!==null&&Ou(r)===null){i.child=g;break}r=g.sibling,g.sibling=d,d=g,g=r}vp(i,!0,d,null,y);break;case"together":vp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Dr(r,i,d){if(r!==null&&(i.dependencies=r.dependencies),Sa|=i.lanes,(d&i.childLanes)===0)if(r!==null){if(Il(r,i,d,!1),(d&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,d=_r(r,r.pendingProps),i.child=d,d.return=i;r.sibling!==null;)r=r.sibling,d=d.sibling=_r(r,r.pendingProps),d.return=i;d.sibling=null}return i.child}function wp(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&yu(r)))}function s4(r,i,d){switch(i.tag){case 3:Ve(i,i.stateNode.containerInfo),fa(i,rs,r.memoizedState.cache),Fl();break;case 27:case 5:fs(i);break;case 4:Ve(i,i.stateNode.containerInfo);break;case 10:fa(i,i.type,i.memoizedProps.value);break;case 13:var f=i.memoizedState;if(f!==null)return f.dehydrated!==null?(ya(i),i.flags|=128,null):(d&i.child.childLanes)!==0?Q0(r,i,d):(ya(i),r=Dr(r,i,d),r!==null?r.sibling:null);ya(i);break;case 19:var g=(r.flags&128)!==0;if(f=(d&i.childLanes)!==0,f||(Il(r,i,d,!1),f=(d&i.childLanes)!==0),g){if(f)return J0(r,i,d);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ie(as,as.current),f)break;return null;case 22:case 23:return i.lanes=0,Y0(r,i,d);case 24:fa(i,rs,r.memoizedState.cache)}return Dr(r,i,d)}function ev(r,i,d){if(r!==null)if(r.memoizedProps!==i.pendingProps)cs=!0;else{if(!wp(r,d)&&(i.flags&128)===0)return cs=!1,s4(r,i,d);cs=(r.flags&131072)!==0}else cs=!1,tt&&(i.flags&1048576)!==0&&Mb(i,gu,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var f=i.elementType,g=f._init;if(f=g(f._payload),i.type=f,typeof f=="function")Mm(f)?(r=ji(f,r),i.tag=1,i=G0(null,i,f,r,d)):(i.tag=0,i=mp(null,i,f,r,d));else{if(f!=null){if(g=f.$$typeof,g===R){i.tag=11,i=$0(null,i,f,r,d);break e}else if(g===H){i.tag=14,i=I0(null,i,f,r,d);break e}}throw i=ne(f)||f,Error(n(306,i,""))}}return i;case 0:return mp(r,i,i.type,i.pendingProps,d);case 1:return f=i.type,g=ji(f,i.pendingProps),G0(r,i,f,g,d);case 3:e:{if(Ve(i,i.stateNode.containerInfo),r===null)throw Error(n(387));f=i.pendingProps;var y=i.memoizedState;g=y.element,Im(r,i),Ql(i,f,null,d);var T=i.memoizedState;if(f=T.cache,fa(i,rs,f),f!==y.cache&&Bm(i,[rs],d,!0),Kl(),f=T.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=K0(r,i,f,d);break e}else if(f!==g){g=dn(Error(n(424)),i),$l(g),i=K0(r,i,f,d);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Lt=Pn(r.firstChild),As=i,tt=!0,xi=null,Qn=!0,d=D0(i,null,f,d),i.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Fl(),f===g){i=Dr(r,i,d);break e}ps(r,i,f,d)}i=i.child}return i;case 26:return zu(r,i),r===null?(d=rw(i.type,null,i.pendingProps,null))?i.memoizedState=d:tt||(d=i.type,r=i.pendingProps,f=Zu(xe.current).createElement(d),f[vt]=i,f[ct]=r,gs(f,d,r),Qt(f),i.stateNode=f):i.memoizedState=rw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return fs(i),r===null&&tt&&(f=i.stateNode=tw(i.type,i.pendingProps,xe.current),As=i,Qn=!0,g=Lt,Ta(i.type)?(tx=g,Lt=Pn(f.firstChild)):Lt=g),ps(r,i,i.pendingProps.children,d),zu(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&tt&&((g=f=Lt)&&(f=M4(f,i.type,i.pendingProps,Qn),f!==null?(i.stateNode=f,As=i,Lt=Pn(f.firstChild),Qn=!1,g=!0):g=!1),g||gi(i)),fs(i),g=i.type,y=i.pendingProps,T=r!==null?r.memoizedProps:null,f=y.children,Qp(g,y)?f=null:T!==null&&Qp(g,T)&&(i.flags|=32),i.memoizedState!==null&&(g=Km(r,i,WE,null,null,d),bc._currentValue=g),zu(r,i),ps(r,i,f,d),i.child;case 6:return r===null&&tt&&((r=d=Lt)&&(d=A4(d,i.pendingProps,Qn),d!==null?(i.stateNode=d,As=i,Lt=null,r=!0):r=!1),r||gi(i)),null;case 13:return Q0(r,i,d);case 4:return Ve(i,i.stateNode.containerInfo),f=i.pendingProps,r===null?i.child=Mo(i,null,f,d):ps(r,i,f,d),i.child;case 11:return $0(r,i,i.type,i.pendingProps,d);case 7:return ps(r,i,i.pendingProps,d),i.child;case 8:return ps(r,i,i.pendingProps.children,d),i.child;case 12:return ps(r,i,i.pendingProps.children,d),i.child;case 10:return f=i.pendingProps,fa(i,i.type,f.value),ps(r,i,f.children,d),i.child;case 9:return g=i.type._context,f=i.pendingProps.children,bi(i),g=js(g),f=f(g),i.flags|=1,ps(r,i,f,d),i.child;case 14:return I0(r,i,i.type,i.pendingProps,d);case 15:return q0(r,i,i.type,i.pendingProps,d);case 19:return J0(r,i,d);case 31:return f=i.pendingProps,d=i.mode,f={mode:f.mode,children:f.children},r===null?(d=Bu(f,d),d.ref=i.ref,i.child=d,d.return=i,i=d):(d=_r(r.child,f),d.ref=i.ref,i.child=d,d.return=i,i=d),i;case 22:return Y0(r,i,d);case 24:return bi(i),f=js(rs),r===null?(g=Hm(),g===null&&(g=wt,y=Vm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=d),g=y),i.memoizedState={parent:f,cache:g},$m(i),fa(i,rs,g)):((r.lanes&d)!==0&&(Im(r,i),Ql(i,null,null,d),Kl()),g=r.memoizedState,y=i.memoizedState,g.parent!==f?(g={parent:f,cache:f},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),fa(i,rs,f)):(f=y.cache,fa(i,rs,f),f!==g.cache&&Bm(i,[rs],d,!0))),ps(r,i,i.pendingProps.children,d),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Rr(r){r.flags|=4}function tv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!cw(i)){if(i=mn.current,i!==null&&((Ke&4194048)===Ke?Zn!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||i!==Zn))throw Wl=Fm,Bb;r.flags|=8192}}function Vu(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?zs():536870912,r.lanes|=i,Oo|=i)}function rc(r,i){if(!tt)switch(r.tailMode){case"hidden":i=r.tail;for(var d=null;i!==null;)i.alternate!==null&&(d=i),i=i.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Dt(r){var i=r.alternate!==null&&r.alternate.child===r.child,d=0,f=0;if(i)for(var g=r.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)d|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=d,i}function n4(r,i,d){var f=i.pendingProps;switch(Om(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(i),null;case 1:return Dt(i),null;case 3:return d=i.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),i.memoizedState.cache!==f&&(i.flags|=2048),kr(rs),ot(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Hl(i)?Rr(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rb())),Dt(i),null;case 26:return d=i.memoizedState,r===null?(Rr(i),d!==null?(Dt(i),tv(i,d)):(Dt(i),i.flags&=-16777217)):d?d!==r.memoizedState?(Rr(i),Dt(i),tv(i,d)):(Dt(i),i.flags&=-16777217):(r.memoizedProps!==f&&Rr(i),Dt(i),i.flags&=-16777217),null;case 27:vs(i),d=xe.current;var g=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==f&&Rr(i);else{if(!f){if(i.stateNode===null)throw Error(n(166));return Dt(i),null}r=fe.current,Hl(i)?Ab(i):(r=tw(g,f,d),i.stateNode=r,Rr(i))}return Dt(i),null;case 5:if(vs(i),d=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==f&&Rr(i);else{if(!f){if(i.stateNode===null)throw Error(n(166));return Dt(i),null}if(r=fe.current,Hl(i))Ab(i);else{switch(g=Zu(xe.current),r){case 1:r=g.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=g.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=g.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?g.createElement(d,{is:f.is}):g.createElement(d)}}r[vt]=i,r[ct]=f;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)r.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=r;e:switch(gs(r,d,f),d){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Rr(i)}}return Dt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==f&&Rr(i);else{if(typeof f!="string"&&i.stateNode===null)throw Error(n(166));if(r=xe.current,Hl(i)){if(r=i.stateNode,d=i.memoizedProps,f=null,g=As,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}r[vt]=i,r=!!(r.nodeValue===d||f!==null&&f.suppressHydrationWarning===!0||Wv(r.nodeValue,d)),r||gi(i)}else r=Zu(r).createTextNode(f),r[vt]=i,i.stateNode=r}return Dt(i),null;case 13:if(f=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Hl(i),f!==null&&f.dehydrated!==null){if(r===null){if(!g)throw Error(n(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[vt]=i}else Fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Dt(i),g=!1}else g=Rb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(Ar(i),i):(Ar(i),null)}if(Ar(i),(i.flags&128)!==0)return i.lanes=d,i;if(d=f!==null,r=r!==null&&r.memoizedState!==null,d){f=i.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==g&&(f.flags|=2048)}return d!==r&&d&&(i.child.flags|=8192),Vu(i,i.updateQueue),Dt(i),null;case 4:return ot(),r===null&&Yp(i.stateNode.containerInfo),Dt(i),null;case 10:return kr(i.type),Dt(i),null;case 19:if(te(as),g=i.memoizedState,g===null)return Dt(i),null;if(f=(i.flags&128)!==0,y=g.rendering,y===null)if(f)rc(g,!1);else{if(Pt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=Ou(r),y!==null){for(i.flags|=128,rc(g,!1),r=y.updateQueue,i.updateQueue=r,Vu(i,r),i.subtreeFlags=0,r=d,d=i.child;d!==null;)kb(d,r),d=d.sibling;return ie(as,as.current&1|2),i.child}r=r.sibling}g.tail!==null&&Xe()>Fu&&(i.flags|=128,f=!0,rc(g,!1),i.lanes=4194304)}else{if(!f)if(r=Ou(y),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,Vu(i,r),rc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!tt)return Dt(i),null}else 2*Xe()-g.renderingStartTime>Fu&&d!==536870912&&(i.flags|=128,f=!0,rc(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(r=g.last,r!==null?r.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Xe(),i.sibling=null,r=as.current,ie(as,f?r&1|2:r&1),i):(Dt(i),null);case 22:case 23:return Ar(i),Wm(),f=i.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(i.flags|=8192):f&&(i.flags|=8192),f?(d&536870912)!==0&&(i.flags&128)===0&&(Dt(i),i.subtreeFlags&6&&(i.flags|=8192)):Dt(i),d=i.updateQueue,d!==null&&Vu(i,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==d&&(i.flags|=2048),r!==null&&te(vi),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),i.memoizedState.cache!==d&&(i.flags|=2048),kr(rs),Dt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function r4(r,i){switch(Om(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return kr(rs),ot(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return vs(i),null;case 13:if(Ar(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Fl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return te(as),null;case 4:return ot(),null;case 10:return kr(i.type),null;case 22:case 23:return Ar(i),Wm(),r!==null&&te(vi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return kr(rs),null;case 25:return null;default:return null}}function sv(r,i){switch(Om(i),i.tag){case 3:kr(rs),ot();break;case 26:case 27:case 5:vs(i);break;case 4:ot();break;case 13:Ar(i);break;case 19:te(as);break;case 10:kr(i.type);break;case 22:case 23:Ar(i),Wm(),r!==null&&te(vi);break;case 24:kr(rs)}}function ac(r,i){try{var d=i.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var g=f.next;d=g;do{if((d.tag&r)===r){f=void 0;var y=d.create,T=d.inst;f=y(),T.destroy=f}d=d.next}while(d!==g)}}catch(O){gt(i,i.return,O)}}function va(r,i,d){try{var f=i.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var y=g.next;f=y;do{if((f.tag&r)===r){var T=f.inst,O=T.destroy;if(O!==void 0){T.destroy=void 0,g=i;var Y=d,ee=O;try{ee()}catch(ue){gt(g,Y,ue)}}}f=f.next}while(f!==y)}}catch(ue){gt(i,i.return,ue)}}function nv(r){var i=r.updateQueue;if(i!==null){var d=r.stateNode;try{Ib(i,d)}catch(f){gt(r,r.return,f)}}}function rv(r,i,d){d.props=ji(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(f){gt(r,i,f)}}function ic(r,i){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof d=="function"?r.refCleanup=d(f):d.current=f}}catch(g){gt(r,i,g)}}function Jn(r,i){var d=r.ref,f=r.refCleanup;if(d!==null)if(typeof f=="function")try{f()}catch(g){gt(r,i,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(g){gt(r,i,g)}else d.current=null}function av(r){var i=r.type,d=r.memoizedProps,f=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":d.autoFocus&&f.focus();break e;case"img":d.src?f.src=d.src:d.srcSet&&(f.srcset=d.srcSet)}}catch(g){gt(r,r.return,g)}}function jp(r,i,d){try{var f=r.stateNode;_4(f,r.type,d,i),f[ct]=i}catch(g){gt(r,r.return,g)}}function iv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ta(r.type)||r.tag===4}function Np(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||iv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ta(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sp(r,i,d){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,i):(i=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,i.appendChild(r),d=d._reactRootContainer,d!=null||i.onclick!==null||(i.onclick=Qu));else if(f!==4&&(f===27&&Ta(r.type)&&(d=r.stateNode,i=null),r=r.child,r!==null))for(Sp(r,i,d),r=r.sibling;r!==null;)Sp(r,i,d),r=r.sibling}function Uu(r,i,d){var f=r.tag;if(f===5||f===6)r=r.stateNode,i?d.insertBefore(r,i):d.appendChild(r);else if(f!==4&&(f===27&&Ta(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(Uu(r,i,d),r=r.sibling;r!==null;)Uu(r,i,d),r=r.sibling}function ov(r){var i=r.stateNode,d=r.memoizedProps;try{for(var f=r.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);gs(i,f,d),i[vt]=r,i[ct]=d}catch(y){gt(r,r.return,y)}}var Or=!1,qt=!1,_p=!1,lv=typeof WeakSet=="function"?WeakSet:Set,ds=null;function a4(r,i){if(r=r.containerInfo,Gp=rh,r=bb(r),Nm(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{d.nodeType,y.nodeType}catch{d=null;break e}var T=0,O=-1,Y=-1,ee=0,ue=0,pe=r,se=null;t:for(;;){for(var re;pe!==d||g!==0&&pe.nodeType!==3||(O=T+g),pe!==y||f!==0&&pe.nodeType!==3||(Y=T+f),pe.nodeType===3&&(T+=pe.nodeValue.length),(re=pe.firstChild)!==null;)se=pe,pe=re;for(;;){if(pe===r)break t;if(se===d&&++ee===g&&(O=T),se===y&&++ue===f&&(Y=T),(re=pe.nextSibling)!==null)break;pe=se,se=pe.parentNode}pe=re}d=O===-1||Y===-1?null:{start:O,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(Kp={focusedElem:r,selectionRange:d},rh=!1,ds=i;ds!==null;)if(i=ds,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,ds=r;else for(;ds!==null;){switch(i=ds,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,d=i,g=y.memoizedProps,y=y.memoizedState,f=d.stateNode;try{var Le=ji(d.type,g,d.elementType===d.type);r=f.getSnapshotBeforeUpdate(Le,y),f.__reactInternalSnapshotBeforeUpdate=r}catch(De){gt(d,d.return,De)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,d=r.nodeType,d===9)Jp(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Jp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(n(163))}if(r=i.sibling,r!==null){r.return=i.return,ds=r;break}ds=i.return}}function cv(r,i,d){var f=d.flags;switch(d.tag){case 0:case 11:case 15:wa(r,d),f&4&&ac(5,d);break;case 1:if(wa(r,d),f&4)if(r=d.stateNode,i===null)try{r.componentDidMount()}catch(T){gt(d,d.return,T)}else{var g=ji(d.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(g,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){gt(d,d.return,T)}}f&64&&nv(d),f&512&&ic(d,d.return);break;case 3:if(wa(r,d),f&64&&(r=d.updateQueue,r!==null)){if(i=null,d.child!==null)switch(d.child.tag){case 27:case 5:i=d.child.stateNode;break;case 1:i=d.child.stateNode}try{Ib(r,i)}catch(T){gt(d,d.return,T)}}break;case 27:i===null&&f&4&&ov(d);case 26:case 5:wa(r,d),i===null&&f&4&&av(d),f&512&&ic(d,d.return);break;case 12:wa(r,d);break;case 13:wa(r,d),f&4&&hv(r,d),f&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=m4.bind(null,d),D4(r,d))));break;case 22:if(f=d.memoizedState!==null||Or,!f){i=i!==null&&i.memoizedState!==null||qt,g=Or;var y=qt;Or=f,(qt=i)&&!y?ja(r,d,(d.subtreeFlags&8772)!==0):wa(r,d),Or=g,qt=y}break;case 30:break;default:wa(r,d)}}function dv(r){var i=r.alternate;i!==null&&(r.alternate=null,dv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&vl(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Hs=!1;function Lr(r,i,d){for(d=d.child;d!==null;)uv(r,i,d),d=d.sibling}function uv(r,i,d){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(_e,d)}catch{}switch(d.tag){case 26:qt||Jn(d,i),Lr(r,i,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:qt||Jn(d,i);var f=_t,g=Hs;Ta(d.type)&&(_t=d.stateNode,Hs=!1),Lr(r,i,d),pc(d.stateNode),_t=f,Hs=g;break;case 5:qt||Jn(d,i);case 6:if(f=_t,g=Hs,_t=null,Lr(r,i,d),_t=f,Hs=g,_t!==null)if(Hs)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(d.stateNode)}catch(y){gt(d,i,y)}else try{_t.removeChild(d.stateNode)}catch(y){gt(d,i,y)}break;case 18:_t!==null&&(Hs?(r=_t,Jv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),Nc(r)):Jv(_t,d.stateNode));break;case 4:f=_t,g=Hs,_t=d.stateNode.containerInfo,Hs=!0,Lr(r,i,d),_t=f,Hs=g;break;case 0:case 11:case 14:case 15:qt||va(2,d,i),qt||va(4,d,i),Lr(r,i,d);break;case 1:qt||(Jn(d,i),f=d.stateNode,typeof f.componentWillUnmount=="function"&&rv(d,i,f)),Lr(r,i,d);break;case 21:Lr(r,i,d);break;case 22:qt=(f=qt)||d.memoizedState!==null,Lr(r,i,d),qt=f;break;default:Lr(r,i,d)}}function hv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Nc(r)}catch(d){gt(i,i.return,d)}}function i4(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new lv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new lv),i;default:throw Error(n(435,r.tag))}}function Ep(r,i){var d=i4(r);i.forEach(function(f){var g=p4.bind(null,r,f);d.has(f)||(d.add(f),f.then(g,g))})}function Js(r,i){var d=i.deletions;if(d!==null)for(var f=0;f<d.length;f++){var g=d[f],y=r,T=i,O=T;e:for(;O!==null;){switch(O.tag){case 27:if(Ta(O.type)){_t=O.stateNode,Hs=!1;break e}break;case 5:_t=O.stateNode,Hs=!1;break e;case 3:case 4:_t=O.stateNode.containerInfo,Hs=!0;break e}O=O.return}if(_t===null)throw Error(n(160));uv(y,T,g),_t=null,Hs=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)fv(i,r),i=i.sibling}var Ln=null;function fv(r,i){var d=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Js(i,r),en(r),f&4&&(va(3,r,r.return),ac(3,r),va(5,r,r.return));break;case 1:Js(i,r),en(r),f&512&&(qt||d===null||Jn(d,d.return)),f&64&&Or&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?f:d.concat(f))));break;case 26:var g=Ln;if(Js(i,r),en(r),f&512&&(qt||d===null||Jn(d,d.return)),f&4){var y=d!==null?d.memoizedState:null;if(f=r.memoizedState,d===null)if(f===null)if(r.stateNode===null){e:{f=r.type,d=r.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":y=g.getElementsByTagName("title")[0],(!y||y[si]||y[vt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(f),g.head.insertBefore(y,g.querySelector("head > title"))),gs(y,f,d),y[vt]=r,Qt(y),f=y;break e;case"link":var T=ow("link","href",g).get(f+(d.href||""));if(T){for(var O=0;O<T.length;O++)if(y=T[O],y.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&y.getAttribute("rel")===(d.rel==null?null:d.rel)&&y.getAttribute("title")===(d.title==null?null:d.title)&&y.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){T.splice(O,1);break t}}y=g.createElement(f),gs(y,f,d),g.head.appendChild(y);break;case"meta":if(T=ow("meta","content",g).get(f+(d.content||""))){for(O=0;O<T.length;O++)if(y=T[O],y.getAttribute("content")===(d.content==null?null:""+d.content)&&y.getAttribute("name")===(d.name==null?null:d.name)&&y.getAttribute("property")===(d.property==null?null:d.property)&&y.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&y.getAttribute("charset")===(d.charSet==null?null:d.charSet)){T.splice(O,1);break t}}y=g.createElement(f),gs(y,f,d),g.head.appendChild(y);break;default:throw Error(n(468,f))}y[vt]=r,Qt(y),f=y}r.stateNode=f}else lw(g,r.type,r.stateNode);else r.stateNode=iw(g,f,r.memoizedProps);else y!==f?(y===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):y.count--,f===null?lw(g,r.type,r.stateNode):iw(g,f,r.memoizedProps)):f===null&&r.stateNode!==null&&jp(r,r.memoizedProps,d.memoizedProps)}break;case 27:Js(i,r),en(r),f&512&&(qt||d===null||Jn(d,d.return)),d!==null&&f&4&&jp(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Js(i,r),en(r),f&512&&(qt||d===null||Jn(d,d.return)),r.flags&32){g=r.stateNode;try{ia(g,"")}catch(re){gt(r,r.return,re)}}f&4&&r.stateNode!=null&&(g=r.memoizedProps,jp(r,g,d!==null?d.memoizedProps:g)),f&1024&&(_p=!0);break;case 6:if(Js(i,r),en(r),f&4){if(r.stateNode===null)throw Error(n(162));f=r.memoizedProps,d=r.stateNode;try{d.nodeValue=f}catch(re){gt(r,r.return,re)}}break;case 3:if(th=null,g=Ln,Ln=Ju(i.containerInfo),Js(i,r),Ln=g,en(r),f&4&&d!==null&&d.memoizedState.isDehydrated)try{Nc(i.containerInfo)}catch(re){gt(r,r.return,re)}_p&&(_p=!1,mv(r));break;case 4:f=Ln,Ln=Ju(r.stateNode.containerInfo),Js(i,r),en(r),Ln=f;break;case 12:Js(i,r),en(r);break;case 13:Js(i,r),en(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Dp=Xe()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ep(r,f)));break;case 22:g=r.memoizedState!==null;var Y=d!==null&&d.memoizedState!==null,ee=Or,ue=qt;if(Or=ee||g,qt=ue||Y,Js(i,r),qt=ue,Or=ee,en(r),f&8192)e:for(i=r.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(d===null||Y||Or||qt||Ni(r)),d=null,i=r;;){if(i.tag===5||i.tag===26){if(d===null){Y=d=i;try{if(y=Y.stateNode,g)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{O=Y.stateNode;var pe=Y.memoizedProps.style,se=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;O.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(re){gt(Y,Y.return,re)}}}else if(i.tag===6){if(d===null){Y=i;try{Y.stateNode.nodeValue=g?"":Y.memoizedProps}catch(re){gt(Y,Y.return,re)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;d===i&&(d=null),i=i.return}d===i&&(d=null),i.sibling.return=i.return,i=i.sibling}f&4&&(f=r.updateQueue,f!==null&&(d=f.retryQueue,d!==null&&(f.retryQueue=null,Ep(r,d))));break;case 19:Js(i,r),en(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Ep(r,f)));break;case 30:break;case 21:break;default:Js(i,r),en(r)}}function en(r){var i=r.flags;if(i&2){try{for(var d,f=r.return;f!==null;){if(iv(f)){d=f;break}f=f.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var g=d.stateNode,y=Np(r);Uu(r,y,g);break;case 5:var T=d.stateNode;d.flags&32&&(ia(T,""),d.flags&=-33);var O=Np(r);Uu(r,O,T);break;case 3:case 4:var Y=d.stateNode.containerInfo,ee=Np(r);Sp(r,ee,Y);break;default:throw Error(n(161))}}catch(ue){gt(r,r.return,ue)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function mv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;mv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function wa(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cv(r,i.alternate,i),i=i.sibling}function Ni(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:va(4,i,i.return),Ni(i);break;case 1:Jn(i,i.return);var d=i.stateNode;typeof d.componentWillUnmount=="function"&&rv(i,i.return,d),Ni(i);break;case 27:pc(i.stateNode);case 26:case 5:Jn(i,i.return),Ni(i);break;case 22:i.memoizedState===null&&Ni(i);break;case 30:Ni(i);break;default:Ni(i)}r=r.sibling}}function ja(r,i,d){for(d=d&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var f=i.alternate,g=r,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:ja(g,y,d),ac(4,y);break;case 1:if(ja(g,y,d),f=y,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(ee){gt(f,f.return,ee)}if(f=y,g=f.updateQueue,g!==null){var O=f.stateNode;try{var Y=g.shared.hiddenCallbacks;if(Y!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Y.length;g++)$b(Y[g],O)}catch(ee){gt(f,f.return,ee)}}d&&T&64&&nv(y),ic(y,y.return);break;case 27:ov(y);case 26:case 5:ja(g,y,d),d&&f===null&&T&4&&av(y),ic(y,y.return);break;case 12:ja(g,y,d);break;case 13:ja(g,y,d),d&&T&4&&hv(g,y);break;case 22:y.memoizedState===null&&ja(g,y,d),ic(y,y.return);break;case 30:break;default:ja(g,y,d)}i=i.sibling}}function Cp(r,i){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&ql(d))}function Tp(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ql(r))}function er(r,i,d,f){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pv(r,i,d,f),i=i.sibling}function pv(r,i,d,f){var g=i.flags;switch(i.tag){case 0:case 11:case 15:er(r,i,d,f),g&2048&&ac(9,i);break;case 1:er(r,i,d,f);break;case 3:er(r,i,d,f),g&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&ql(r)));break;case 12:if(g&2048){er(r,i,d,f),r=i.stateNode;try{var y=i.memoizedProps,T=y.id,O=y.onPostCommit;typeof O=="function"&&O(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Y){gt(i,i.return,Y)}}else er(r,i,d,f);break;case 13:er(r,i,d,f);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?er(r,i,d,f):oc(r,i):y._visibility&2?er(r,i,d,f):(y._visibility|=2,Ao(r,i,d,f,(i.subtreeFlags&10256)!==0)),g&2048&&Cp(T,i);break;case 24:er(r,i,d,f),g&2048&&Tp(i.alternate,i);break;default:er(r,i,d,f)}}function Ao(r,i,d,f,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,T=i,O=d,Y=f,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Ao(y,T,O,Y,g),ac(8,T);break;case 23:break;case 22:var ue=T.stateNode;T.memoizedState!==null?ue._visibility&2?Ao(y,T,O,Y,g):oc(y,T):(ue._visibility|=2,Ao(y,T,O,Y,g)),g&&ee&2048&&Cp(T.alternate,T);break;case 24:Ao(y,T,O,Y,g),g&&ee&2048&&Tp(T.alternate,T);break;default:Ao(y,T,O,Y,g)}i=i.sibling}}function oc(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var d=r,f=i,g=f.flags;switch(f.tag){case 22:oc(d,f),g&2048&&Cp(f.alternate,f);break;case 24:oc(d,f),g&2048&&Tp(f.alternate,f);break;default:oc(d,f)}i=i.sibling}}var lc=8192;function Do(r){if(r.subtreeFlags&lc)for(r=r.child;r!==null;)xv(r),r=r.sibling}function xv(r){switch(r.tag){case 26:Do(r),r.flags&lc&&r.memoizedState!==null&&q4(Ln,r.memoizedState,r.memoizedProps);break;case 5:Do(r);break;case 3:case 4:var i=Ln;Ln=Ju(r.stateNode.containerInfo),Do(r),Ln=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=lc,lc=16777216,Do(r),lc=i):Do(r));break;default:Do(r)}}function gv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function cc(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var f=i[d];ds=f,bv(f,r)}gv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)yv(r),r=r.sibling}function yv(r){switch(r.tag){case 0:case 11:case 15:cc(r),r.flags&2048&&va(9,r,r.return);break;case 3:cc(r);break;case 12:cc(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Hu(r)):cc(r);break;default:cc(r)}}function Hu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var d=0;d<i.length;d++){var f=i[d];ds=f,bv(f,r)}gv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:va(8,i,i.return),Hu(i);break;case 22:d=i.stateNode,d._visibility&2&&(d._visibility&=-3,Hu(i));break;default:Hu(i)}r=r.sibling}}function bv(r,i){for(;ds!==null;){var d=ds;switch(d.tag){case 0:case 11:case 15:va(8,d,i);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var f=d.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ql(d.memoizedState.cache)}if(f=d.child,f!==null)f.return=d,ds=f;else e:for(d=r;ds!==null;){f=ds;var g=f.sibling,y=f.return;if(dv(f),f===d){ds=null;break e}if(g!==null){g.return=y,ds=g;break e}ds=y}}}var o4={getCacheForType:function(r){var i=js(rs),d=i.data.get(r);return d===void 0&&(d=r(),i.data.set(r,d)),d}},l4=typeof WeakMap=="function"?WeakMap:Map,nt=0,wt=null,Ie=null,Ke=0,rt=0,tn=null,Na=!1,Ro=!1,kp=!1,Pr=0,Pt=0,Sa=0,Si=0,Mp=0,pn=0,Oo=0,dc=null,Fs=null,Ap=!1,Dp=0,Fu=1/0,$u=null,_a=null,xs=0,Ea=null,Lo=null,Po=0,Rp=0,Op=null,vv=null,uc=0,Lp=null;function sn(){if((nt&2)!==0&&Ke!==0)return Ke&-Ke;if(P.T!==null){var r=No;return r!==0?r:Fp()}return br()}function wv(){pn===0&&(pn=(Ke&536870912)===0||tt?ks():536870912);var r=mn.current;return r!==null&&(r.flags|=32),pn}function nn(r,i,d){(r===wt&&(rt===2||rt===9)||r.cancelPendingCommit!==null)&&(zo(r,0),Ca(r,Ke,pn,!1)),Ms(r,d),((nt&2)===0||r!==wt)&&(r===wt&&((nt&2)===0&&(Si|=d),Pt===4&&Ca(r,Ke,pn,!1)),tr(r))}function jv(r,i,d){if((nt&6)!==0)throw Error(n(327));var f=!d&&(i&124)===0&&(i&r.expiredLanes)===0||yr(r,i),g=f?u4(r,i):Bp(r,i,!0),y=f;do{if(g===0){Ro&&!f&&Ca(r,i,0,!1);break}else{if(d=r.current.alternate,y&&!c4(d)){g=Bp(r,i,!1),y=!1;continue}if(g===2){if(y=i,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var O=r;g=dc;var Y=O.current.memoizedState.isDehydrated;if(Y&&(zo(O,T).flags|=256),T=Bp(O,T,!1),T!==2){if(kp&&!Y){O.errorRecoveryDisabledLanes|=y,Si|=y,g=4;break e}y=Fs,Fs=g,y!==null&&(Fs===null?Fs=y:Fs.push.apply(Fs,y))}g=T}if(y=!1,g!==2)continue}}if(g===1){zo(r,0),Ca(r,i,0,!0);break}e:{switch(f=r,y=g,y){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Ca(f,i,pn,!Na);break e;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(g=Dp+300-Xe(),10<g)){if(Ca(f,i,pn,!Na),gr(f,0,!0)!==0)break e;f.timeoutHandle=Qv(Nv.bind(null,f,d,Fs,$u,Ap,i,pn,Si,Oo,Na,y,2,-0,0),g);break e}Nv(f,d,Fs,$u,Ap,i,pn,Si,Oo,Na,y,0,-0,0)}}break}while(!0);tr(r)}function Nv(r,i,d,f,g,y,T,O,Y,ee,ue,pe,se,re){if(r.timeoutHandle=-1,pe=i.subtreeFlags,(pe&8192||(pe&16785408)===16785408)&&(yc={stylesheets:null,count:0,unsuspend:I4},xv(i),pe=Y4(),pe!==null)){r.cancelPendingCommit=pe(Mv.bind(null,r,i,y,d,f,g,T,O,Y,ue,1,se,re)),Ca(r,y,T,!ee);return}Mv(r,i,y,d,f,g,T,O,Y)}function c4(r){for(var i=r;;){var d=i.tag;if((d===0||d===11||d===15)&&i.flags&16384&&(d=i.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var f=0;f<d.length;f++){var g=d[f],y=g.getSnapshot;g=g.value;try{if(!Qs(y(),g))return!1}catch{return!1}}if(d=i.child,i.subtreeFlags&16384&&d!==null)d.return=i,i=d;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ca(r,i,d,f){i&=~Mp,i&=~Si,r.suspendedLanes|=i,r.pingedLanes&=~i,f&&(r.warmLanes|=i),f=r.expirationTimes;for(var g=i;0<g;){var y=31-Te(g),T=1<<y;f[y]=-1,g&=~T}d!==0&&Be(r,d,i)}function Iu(){return(nt&6)===0?(hc(0),!1):!0}function Pp(){if(Ie!==null){if(rt===0)var r=Ie.return;else r=Ie,Tr=yi=null,Jm(r),ko=null,sc=0,r=Ie;for(;r!==null;)sv(r.alternate,r),r=r.return;Ie=null}}function zo(r,i){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,C4(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),Pp(),wt=r,Ie=d=_r(r.current,null),Ke=i,rt=0,tn=null,Na=!1,Ro=yr(r,i),kp=!1,Oo=pn=Mp=Si=Sa=Pt=0,Fs=dc=null,Ap=!1,(i&8)!==0&&(i|=i&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=i;0<f;){var g=31-Te(f),y=1<<g;i|=r[g],f&=~y}return Pr=i,hu(),d}function Sv(r,i){Fe=null,P.H=Au,i===Xl||i===wu?(i=Hb(),rt=3):i===Bb?(i=Hb(),rt=4):rt=i===F0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,tn=i,Ie===null&&(Pt=1,Pu(r,dn(i,r.current)))}function _v(){var r=P.H;return P.H=Au,r===null?Au:r}function Ev(){var r=P.A;return P.A=o4,r}function zp(){Pt=4,Na||(Ke&4194048)!==Ke&&mn.current!==null||(Ro=!0),(Sa&134217727)===0&&(Si&134217727)===0||wt===null||Ca(wt,Ke,pn,!1)}function Bp(r,i,d){var f=nt;nt|=2;var g=_v(),y=Ev();(wt!==r||Ke!==i)&&($u=null,zo(r,i)),i=!1;var T=Pt;e:do try{if(rt!==0&&Ie!==null){var O=Ie,Y=tn;switch(rt){case 8:Pp(),T=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(i=!0);var ee=rt;if(rt=0,tn=null,Bo(r,O,Y,ee),d&&Ro){T=0;break e}break;default:ee=rt,rt=0,tn=null,Bo(r,O,Y,ee)}}d4(),T=Pt;break}catch(ue){Sv(r,ue)}while(!0);return i&&r.shellSuspendCounter++,Tr=yi=null,nt=f,P.H=g,P.A=y,Ie===null&&(wt=null,Ke=0,hu()),T}function d4(){for(;Ie!==null;)Cv(Ie)}function u4(r,i){var d=nt;nt|=2;var f=_v(),g=Ev();wt!==r||Ke!==i?($u=null,Fu=Xe()+500,zo(r,i)):Ro=yr(r,i);e:do try{if(rt!==0&&Ie!==null){i=Ie;var y=tn;t:switch(rt){case 1:rt=0,tn=null,Bo(r,i,y,1);break;case 2:case 9:if(Vb(y)){rt=0,tn=null,Tv(i);break}i=function(){rt!==2&&rt!==9||wt!==r||(rt=7),tr(r)},y.then(i,i);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:Vb(y)?(rt=0,tn=null,Tv(i)):(rt=0,tn=null,Bo(r,i,y,7));break;case 5:var T=null;switch(Ie.tag){case 26:T=Ie.memoizedState;case 5:case 27:var O=Ie;if(!T||cw(T)){rt=0,tn=null;var Y=O.sibling;if(Y!==null)Ie=Y;else{var ee=O.return;ee!==null?(Ie=ee,qu(ee)):Ie=null}break t}}rt=0,tn=null,Bo(r,i,y,5);break;case 6:rt=0,tn=null,Bo(r,i,y,6);break;case 8:Pp(),Pt=6;break e;default:throw Error(n(462))}}h4();break}catch(ue){Sv(r,ue)}while(!0);return Tr=yi=null,P.H=f,P.A=g,nt=d,Ie!==null?0:(wt=null,Ke=0,hu(),Pt)}function h4(){for(;Ie!==null&&!Qe();)Cv(Ie)}function Cv(r){var i=ev(r.alternate,r,Pr);r.memoizedProps=r.pendingProps,i===null?qu(r):Ie=i}function Tv(r){var i=r,d=i.alternate;switch(i.tag){case 15:case 0:i=W0(d,i,i.pendingProps,i.type,void 0,Ke);break;case 11:i=W0(d,i,i.pendingProps,i.type.render,i.ref,Ke);break;case 5:Jm(i);default:sv(d,i),i=Ie=kb(i,Pr),i=ev(d,i,Pr)}r.memoizedProps=r.pendingProps,i===null?qu(r):Ie=i}function Bo(r,i,d,f){Tr=yi=null,Jm(i),ko=null,sc=0;var g=i.return;try{if(t4(r,g,i,d,Ke)){Pt=1,Pu(r,dn(d,r.current)),Ie=null;return}}catch(y){if(g!==null)throw Ie=g,y;Pt=1,Pu(r,dn(d,r.current)),Ie=null;return}i.flags&32768?(tt||f===1?r=!0:Ro||(Ke&536870912)!==0?r=!1:(Na=r=!0,(f===2||f===9||f===3||f===6)&&(f=mn.current,f!==null&&f.tag===13&&(f.flags|=16384))),kv(i,r)):qu(i)}function qu(r){var i=r;do{if((i.flags&32768)!==0){kv(i,Na);return}r=i.return;var d=n4(i.alternate,i,Pr);if(d!==null){Ie=d;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=r}while(i!==null);Pt===0&&(Pt=5)}function kv(r,i){do{var d=r4(r.alternate,r);if(d!==null){d.flags&=32767,Ie=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!i&&(r=r.sibling,r!==null)){Ie=r;return}Ie=r=d}while(r!==null);Pt=6,Ie=null}function Mv(r,i,d,f,g,y,T,O,Y){r.cancelPendingCommit=null;do Yu();while(xs!==0);if((nt&6)!==0)throw Error(n(327));if(i!==null){if(i===r.current)throw Error(n(177));if(y=i.lanes|i.childLanes,y|=Tm,Ji(r,d,y,T,O,Y),r===wt&&(Ie=wt=null,Ke=0),Lo=i,Ea=r,Po=d,Rp=y,Op=g,vv=f,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,x4(ws,function(){return Lv(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||f){f=P.T,P.T=null,g=I.p,I.p=2,T=nt,nt|=4;try{a4(r,i,d)}finally{nt=T,I.p=g,P.T=f}}xs=1,Av(),Dv(),Rv()}}function Av(){if(xs===1){xs=0;var r=Ea,i=Lo,d=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||d){d=P.T,P.T=null;var f=I.p;I.p=2;var g=nt;nt|=4;try{fv(i,r);var y=Kp,T=bb(r.containerInfo),O=y.focusedElem,Y=y.selectionRange;if(T!==O&&O&&O.ownerDocument&&yb(O.ownerDocument.documentElement,O)){if(Y!==null&&Nm(O)){var ee=Y.start,ue=Y.end;if(ue===void 0&&(ue=ee),"selectionStart"in O)O.selectionStart=ee,O.selectionEnd=Math.min(ue,O.value.length);else{var pe=O.ownerDocument||document,se=pe&&pe.defaultView||window;if(se.getSelection){var re=se.getSelection(),Le=O.textContent.length,De=Math.min(Y.start,Le),ht=Y.end===void 0?De:Math.min(Y.end,Le);!re.extend&&De>ht&&(T=ht,ht=De,De=T);var Q=gb(O,De),K=gb(O,ht);if(Q&&K&&(re.rangeCount!==1||re.anchorNode!==Q.node||re.anchorOffset!==Q.offset||re.focusNode!==K.node||re.focusOffset!==K.offset)){var J=pe.createRange();J.setStart(Q.node,Q.offset),re.removeAllRanges(),De>ht?(re.addRange(J),re.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),re.addRange(J))}}}}for(pe=[],re=O;re=re.parentNode;)re.nodeType===1&&pe.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<pe.length;O++){var he=pe[O];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}rh=!!Gp,Kp=Gp=null}finally{nt=g,I.p=f,P.T=d}}r.current=i,xs=2}}function Dv(){if(xs===2){xs=0;var r=Ea,i=Lo,d=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||d){d=P.T,P.T=null;var f=I.p;I.p=2;var g=nt;nt|=4;try{cv(r,i.alternate,i)}finally{nt=g,I.p=f,P.T=d}}xs=3}}function Rv(){if(xs===4||xs===3){xs=0,jt();var r=Ea,i=Lo,d=Po,f=vv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xs=5:(xs=0,Lo=Ea=null,Ov(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(_a=null),Kt(d),i=i.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(_e,i,void 0,(i.current.flags&128)===128)}catch{}if(f!==null){i=P.T,g=I.p,I.p=2,P.T=null;try{for(var y=r.onRecoverableError,T=0;T<f.length;T++){var O=f[T];y(O.value,{componentStack:O.stack})}}finally{P.T=i,I.p=g}}(Po&3)!==0&&Yu(),tr(r),g=r.pendingLanes,(d&4194090)!==0&&(g&42)!==0?r===Lp?uc++:(uc=0,Lp=r):uc=0,hc(0)}}function Ov(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,ql(i)))}function Yu(r){return Av(),Dv(),Rv(),Lv()}function Lv(){if(xs!==5)return!1;var r=Ea,i=Rp;Rp=0;var d=Kt(Po),f=P.T,g=I.p;try{I.p=32>d?32:d,P.T=null,d=Op,Op=null;var y=Ea,T=Po;if(xs=0,Lo=Ea=null,Po=0,(nt&6)!==0)throw Error(n(331));var O=nt;if(nt|=4,yv(y.current),pv(y,y.current,T,d),nt=O,hc(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(_e,y)}catch{}return!0}finally{I.p=g,P.T=f,Ov(r,i)}}function Pv(r,i,d){i=dn(d,i),i=fp(r.stateNode,i,2),r=xa(r,i,2),r!==null&&(Ms(r,2),tr(r))}function gt(r,i,d){if(r.tag===3)Pv(r,r,d);else for(;i!==null;){if(i.tag===3){Pv(i,r,d);break}else if(i.tag===1){var f=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_a===null||!_a.has(f))){r=dn(d,r),d=U0(2),f=xa(i,d,2),f!==null&&(H0(d,f,i,r),Ms(f,2),tr(f));break}}i=i.return}}function Vp(r,i,d){var f=r.pingCache;if(f===null){f=r.pingCache=new l4;var g=new Set;f.set(i,g)}else g=f.get(i),g===void 0&&(g=new Set,f.set(i,g));g.has(d)||(kp=!0,g.add(d),r=f4.bind(null,r,i,d),i.then(r,r))}function f4(r,i,d){var f=r.pingCache;f!==null&&f.delete(i),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,wt===r&&(Ke&d)===d&&(Pt===4||Pt===3&&(Ke&62914560)===Ke&&300>Xe()-Dp?(nt&2)===0&&zo(r,0):Mp|=d,Oo===Ke&&(Oo=0)),tr(r)}function zv(r,i){i===0&&(i=zs()),r=bo(r,i),r!==null&&(Ms(r,i),tr(r))}function m4(r){var i=r.memoizedState,d=0;i!==null&&(d=i.retryLane),zv(r,d)}function p4(r,i){var d=0;switch(r.tag){case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(d=g.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(i),zv(r,d)}function x4(r,i){return Ks(r,i)}var Xu=null,Vo=null,Up=!1,Wu=!1,Hp=!1,_i=0;function tr(r){r!==Vo&&r.next===null&&(Vo===null?Xu=Vo=r:Vo=Vo.next=r),Wu=!0,Up||(Up=!0,y4())}function hc(r,i){if(!Hp&&Wu){Hp=!0;do for(var d=!1,f=Xu;f!==null;){if(r!==0){var g=f.pendingLanes;if(g===0)var y=0;else{var T=f.suspendedLanes,O=f.pingedLanes;y=(1<<31-Te(42|r)+1)-1,y&=g&~(T&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(d=!0,Hv(f,y))}else y=Ke,y=gr(f,f===wt?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||yr(f,y)||(d=!0,Hv(f,y));f=f.next}while(d);Hp=!1}}function g4(){Bv()}function Bv(){Wu=Up=!1;var r=0;_i!==0&&(E4()&&(r=_i),_i=0);for(var i=Xe(),d=null,f=Xu;f!==null;){var g=f.next,y=Vv(f,i);y===0?(f.next=null,d===null?Xu=g:d.next=g,g===null&&(Vo=d)):(d=f,(r!==0||(y&3)!==0)&&(Wu=!0)),f=g}hc(r)}function Vv(r,i){for(var d=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-Te(y),O=1<<T,Y=g[T];Y===-1?((O&d)===0||(O&f)!==0)&&(g[T]=ei(O,i)):Y<=i&&(r.expiredLanes|=O),y&=~O}if(i=wt,d=Ke,d=gr(r,r===i?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,d===0||r===i&&(rt===2||rt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&me(f),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||yr(r,d)){if(i=d&-d,i===r.callbackPriority)return i;switch(f!==null&&me(f),Kt(d)){case 2:case 8:d=ss;break;case 32:d=ws;break;case 268435456:d=Gt;break;default:d=ws}return f=Uv.bind(null,r),d=Ks(d,f),r.callbackPriority=i,r.callbackNode=d,i}return f!==null&&f!==null&&me(f),r.callbackPriority=2,r.callbackNode=null,2}function Uv(r,i){if(xs!==0&&xs!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(Yu()&&r.callbackNode!==d)return null;var f=Ke;return f=gr(r,r===wt?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(jv(r,f,i),Vv(r,Xe()),r.callbackNode!=null&&r.callbackNode===d?Uv.bind(null,r):null)}function Hv(r,i){if(Yu())return null;jv(r,i,!0)}function y4(){T4(function(){(nt&6)!==0?Ks(xt,g4):Bv()})}function Fp(){return _i===0&&(_i=ks()),_i}function Fv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:lo(""+r)}function $v(r,i){var d=i.ownerDocument.createElement("input");return d.name=i.name,d.value=i.value,r.id&&d.setAttribute("form",r.id),i.parentNode.insertBefore(d,i),r=new FormData(r),d.parentNode.removeChild(d),r}function b4(r,i,d,f,g){if(i==="submit"&&d&&d.stateNode===g){var y=Fv((g[ct]||null).action),T=f.submitter;T&&(i=(i=T[ct]||null)?Fv(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var O=new fo("action","action",null,f,g);r.push({event:O,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(_i!==0){var Y=T?$v(g,T):new FormData(g);lp(d,{pending:!0,data:Y,method:g.method,action:y},null,Y)}}else typeof y=="function"&&(O.preventDefault(),Y=T?$v(g,T):new FormData(g),lp(d,{pending:!0,data:Y,method:g.method,action:y},y,Y))},currentTarget:g}]})}}for(var $p=0;$p<Cm.length;$p++){var Ip=Cm[$p],v4=Ip.toLowerCase(),w4=Ip[0].toUpperCase()+Ip.slice(1);On(v4,"on"+w4)}On(jb,"onAnimationEnd"),On(Nb,"onAnimationIteration"),On(Sb,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(BE,"onTransitionRun"),On(VE,"onTransitionStart"),On(UE,"onTransitionCancel"),On(_b,"onTransitionEnd"),na("onMouseEnter",["mouseout","mouseover"]),na("onMouseLeave",["mouseout","mouseover"]),na("onPointerEnter",["pointerout","pointerover"]),na("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function Iv(r,i){i=(i&4)!==0;for(var d=0;d<r.length;d++){var f=r[d],g=f.event;f=f.listeners;e:{var y=void 0;if(i)for(var T=f.length-1;0<=T;T--){var O=f[T],Y=O.instance,ee=O.currentTarget;if(O=O.listener,Y!==y&&g.isPropagationStopped())break e;y=O,g.currentTarget=ee;try{y(g)}catch(ue){Lu(ue)}g.currentTarget=null,y=Y}else for(T=0;T<f.length;T++){if(O=f[T],Y=O.instance,ee=O.currentTarget,O=O.listener,Y!==y&&g.isPropagationStopped())break e;y=O,g.currentTarget=ee;try{y(g)}catch(ue){Lu(ue)}g.currentTarget=null,y=Y}}}}function qe(r,i){var d=i[ta];d===void 0&&(d=i[ta]=new Set);var f=r+"__bubble";d.has(f)||(qv(i,r,2,!1),d.add(f))}function qp(r,i,d){var f=0;i&&(f|=4),qv(d,r,f,i)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Yp(r){if(!r[Gu]){r[Gu]=!0,eo.forEach(function(d){d!=="selectionchange"&&(j4.has(d)||qp(d,!1,r),qp(d,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Gu]||(i[Gu]=!0,qp("selectionchange",!1,i))}}function qv(r,i,d,f){switch(pw(i)){case 2:var g=G4;break;case 8:g=K4;break;default:g=ix}d=g.bind(null,i,d,r),g=void 0,!Cl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(i,d,{capture:!0,passive:g}):r.addEventListener(i,d,!0):g!==void 0?r.addEventListener(i,d,{passive:g}):r.addEventListener(i,d,!1)}function Xp(r,i,d,f,g){var y=f;if((i&1)===0&&(i&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var O=f.stateNode.containerInfo;if(O===g)break;if(T===4)for(T=f.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;O!==null;){if(T=vr(O),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){f=y=T;continue e}O=O.parentNode}}f=f.return}tu(function(){var ee=y,ue=co(d),pe=[];e:{var se=Eb.get(r);if(se!==void 0){var re=fo,Le=r;switch(r){case"keypress":if(uo(d)===0)break e;case"keydown":case"keyup":re=bm;break;case"focusin":Le="focus",re=Al;break;case"focusout":Le="blur",re=Al;break;case"beforeblur":case"afterblur":re=Al;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=wm;break;case jb:case Nb:case Sb:re=dm;break;case _b:re=w;break;case"scroll":case"scrollend":re=am;break;case"wheel":re=V;break;case"copy":case"cut":case"paste":re=hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=Zt;break;case"toggle":case"beforetoggle":re=de}var De=(i&4)!==0,ht=!De&&(r==="scroll"||r==="scrollend"),Q=De?se!==null?se+"Capture":null:se;De=[];for(var K=ee,J;K!==null;){var he=K;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||Q===null||(he=ii(K,Q),he!=null&&De.push(mc(K,he,J))),ht)break;K=K.return}0<De.length&&(se=new re(se,Le,null,d,ue),pe.push({event:se,listeners:De}))}}if((i&7)===0){e:{if(se=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",se&&d!==_l&&(Le=d.relatedTarget||d.fromElement)&&(vr(Le)||Le[$t]))break e;if((re||se)&&(se=ue.window===ue?ue:(se=ue.ownerDocument)?se.defaultView||se.parentWindow:window,re?(Le=d.relatedTarget||d.toElement,re=ee,Le=Le?vr(Le):null,Le!==null&&(ht=l(Le),De=Le.tag,Le!==ht||De!==5&&De!==27&&De!==6)&&(Le=null)):(re=null,Le=ee),re!==Le)){if(De=im,he="onMouseLeave",Q="onMouseEnter",K="mouse",(r==="pointerout"||r==="pointerover")&&(De=Zt,he="onPointerLeave",Q="onPointerEnter",K="pointer"),ht=re==null?se:ni(re),J=Le==null?se:ni(Le),se=new De(he,K+"leave",re,d,ue),se.target=ht,se.relatedTarget=J,he=null,vr(ue)===ee&&(De=new De(Q,K+"enter",Le,d,ue),De.target=J,De.relatedTarget=ht,he=De),ht=he,re&&Le)t:{for(De=re,Q=Le,K=0,J=De;J;J=Uo(J))K++;for(J=0,he=Q;he;he=Uo(he))J++;for(;0<K-J;)De=Uo(De),K--;for(;0<J-K;)Q=Uo(Q),J--;for(;K--;){if(De===Q||Q!==null&&De===Q.alternate)break t;De=Uo(De),Q=Uo(Q)}De=null}else De=null;re!==null&&Yv(pe,se,re,De,!1),Le!==null&&ht!==null&&Yv(pe,ht,Le,De,!0)}}e:{if(se=ee?ni(ee):window,re=se.nodeName&&se.nodeName.toLowerCase(),re==="select"||re==="input"&&se.type==="file")var Ce=po;else if(ou(se))if(Ll)Ce=LE;else{Ce=RE;var $e=DE}else re=se.nodeName,!re||re.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ee&&Dn(ee.elementType)&&(Ce=po):Ce=OE;if(Ce&&(Ce=Ce(r,ee))){lu(pe,Ce,d,ue);break e}$e&&$e(r,se,ee),r==="focusout"&&ee&&se.type==="number"&&ee.memoizedProps.value!=null&&Sl(se,"number",se.value)}switch($e=ee?ni(ee):window,r){case"focusin":(ou($e)||$e.contentEditable==="true")&&(xo=$e,Sm=ee,Ul=null);break;case"focusout":Ul=Sm=xo=null;break;case"mousedown":_m=!0;break;case"contextmenu":case"mouseup":case"dragend":_m=!1,vb(pe,d,ue);break;case"selectionchange":if(zE)break;case"keydown":case"keyup":vb(pe,d,ue)}var Ae;if(Ee)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ca?ru(r,d)&&(Re="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Re="onCompositionStart");Re&&(Je&&d.locale!=="ko"&&(ca||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ca&&(Ae=su()):(Kn=ue,Tl="value"in Kn?Kn.value:Kn.textContent,ca=!0)),$e=Ku(ee,Re),0<$e.length&&(Re=new nu(Re,r,null,d,ue),pe.push({event:Re,listeners:$e}),Ae?Re.data=Ae:(Ae=Ol(d),Ae!==null&&(Re.data=Ae)))),(Ae=Ge?au(r,d):jm(r,d))&&(Re=Ku(ee,"onBeforeInput"),0<Re.length&&($e=new nu("onBeforeInput","beforeinput",null,d,ue),pe.push({event:$e,listeners:Re}),$e.data=Ae)),b4(pe,r,ee,d,ue)}Iv(pe,i)})}function mc(r,i,d){return{instance:r,listener:i,currentTarget:d}}function Ku(r,i){for(var d=i+"Capture",f=[];r!==null;){var g=r,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=ii(r,d),g!=null&&f.unshift(mc(r,g,y)),g=ii(r,i),g!=null&&f.push(mc(r,g,y))),r.tag===3)return f;r=r.return}return[]}function Uo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Yv(r,i,d,f,g){for(var y=i._reactName,T=[];d!==null&&d!==f;){var O=d,Y=O.alternate,ee=O.stateNode;if(O=O.tag,Y!==null&&Y===f)break;O!==5&&O!==26&&O!==27||ee===null||(Y=ee,g?(ee=ii(d,y),ee!=null&&T.unshift(mc(d,ee,Y))):g||(ee=ii(d,y),ee!=null&&T.push(mc(d,ee,Y)))),d=d.return}T.length!==0&&r.push({event:i,listeners:T})}var N4=/\r\n?/g,S4=/\u0000|\uFFFD/g;function Xv(r){return(typeof r=="string"?r:""+r).replace(N4,`
`).replace(S4,"")}function Wv(r,i){return i=Xv(i),Xv(r)===i}function Qu(){}function ut(r,i,d,f,g,y){switch(d){case"children":typeof f=="string"?i==="body"||i==="textarea"&&f===""||ia(r,f):(typeof f=="number"||typeof f=="bigint")&&i!=="body"&&ia(r,""+f);break;case"className":ro(r,"class",f);break;case"tabIndex":ro(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ro(r,d,f);break;case"style":oo(r,f,y);break;case"data":if(i!=="object"){ro(r,"data",f);break}case"src":case"href":if(f===""&&(i!=="a"||d!=="href")){r.removeAttribute(d);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(d);break}f=lo(""+f),r.setAttribute(d,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(d==="formAction"?(i!=="input"&&ut(r,i,"name",g.name,g,null),ut(r,i,"formEncType",g.formEncType,g,null),ut(r,i,"formMethod",g.formMethod,g,null),ut(r,i,"formTarget",g.formTarget,g,null)):(ut(r,i,"encType",g.encType,g,null),ut(r,i,"method",g.method,g,null),ut(r,i,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(d);break}f=lo(""+f),r.setAttribute(d,f);break;case"onClick":f!=null&&(r.onclick=Qu);break;case"onScroll":f!=null&&qe("scroll",r);break;case"onScrollEnd":f!=null&&qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(d=f.__html,d!=null){if(g.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}d=lo(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(d,""+f):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":f===!0?r.setAttribute(d,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(d,f):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(d,f):r.removeAttribute(d);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(d):r.setAttribute(d,f);break;case"popover":qe("beforetoggle",r),qe("toggle",r),no(r,"popover",f);break;case"xlinkActuate":Mn(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Mn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Mn(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Mn(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Mn(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Mn(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":no(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=nm.get(d)||d,no(r,d,f))}}function Wp(r,i,d,f,g,y){switch(d){case"style":oo(r,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(d=f.__html,d!=null){if(g.children!=null)throw Error(n(60));r.innerHTML=d}}break;case"children":typeof f=="string"?ia(r,f):(typeof f=="number"||typeof f=="bigint")&&ia(r,""+f);break;case"onScroll":f!=null&&qe("scroll",r);break;case"onScrollEnd":f!=null&&qe("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!to.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(g=d.endsWith("Capture"),i=d.slice(2,g?d.length-7:void 0),y=r[ct]||null,y=y!=null?y[d]:null,typeof y=="function"&&r.removeEventListener(i,y,g),typeof f=="function")){typeof y!="function"&&y!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(i,f,g);break e}d in r?r[d]=f:f===!0?r.setAttribute(d,""):no(r,d,f)}}}function gs(r,i,d){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",r),qe("load",r);var f=!1,g=!1,y;for(y in d)if(d.hasOwnProperty(y)){var T=d[y];if(T!=null)switch(y){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:ut(r,i,y,T,d,null)}}g&&ut(r,i,"srcSet",d.srcSet,d,null),f&&ut(r,i,"src",d.src,d,null);return;case"input":qe("invalid",r);var O=y=T=g=null,Y=null,ee=null;for(f in d)if(d.hasOwnProperty(f)){var ue=d[f];if(ue!=null)switch(f){case"name":g=ue;break;case"type":T=ue;break;case"checked":Y=ue;break;case"defaultChecked":ee=ue;break;case"value":y=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,i));break;default:ut(r,i,f,ue,d,null)}}ra(r,y,O,Y,ee,T,g,!1),ao(r);return;case"select":qe("invalid",r),f=T=y=null;for(g in d)if(d.hasOwnProperty(g)&&(O=d[g],O!=null))switch(g){case"value":y=O;break;case"defaultValue":T=O;break;case"multiple":f=O;default:ut(r,i,g,O,d,null)}i=y,d=T,r.multiple=!!f,i!=null?aa(r,!!f,i,!1):d!=null&&aa(r,!!f,d,!0);return;case"textarea":qe("invalid",r),y=g=f=null;for(T in d)if(d.hasOwnProperty(T)&&(O=d[T],O!=null))switch(T){case"value":f=O;break;case"defaultValue":g=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:ut(r,i,T,O,d,null)}Zd(r,f,g,y),ao(r);return;case"option":for(Y in d)if(d.hasOwnProperty(Y)&&(f=d[Y],f!=null))switch(Y){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:ut(r,i,Y,f,d,null)}return;case"dialog":qe("beforetoggle",r),qe("toggle",r),qe("cancel",r),qe("close",r);break;case"iframe":case"object":qe("load",r);break;case"video":case"audio":for(f=0;f<fc.length;f++)qe(fc[f],r);break;case"image":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"embed":case"source":case"link":qe("error",r),qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in d)if(d.hasOwnProperty(ee)&&(f=d[ee],f!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:ut(r,i,ee,f,d,null)}return;default:if(Dn(i)){for(ue in d)d.hasOwnProperty(ue)&&(f=d[ue],f!==void 0&&Wp(r,i,ue,f,d,void 0));return}}for(O in d)d.hasOwnProperty(O)&&(f=d[O],f!=null&&ut(r,i,O,f,d,null))}function _4(r,i,d,f){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,T=null,O=null,Y=null,ee=null,ue=null;for(re in d){var pe=d[re];if(d.hasOwnProperty(re)&&pe!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":Y=pe;default:f.hasOwnProperty(re)||ut(r,i,re,null,f,pe)}}for(var se in f){var re=f[se];if(pe=d[se],f.hasOwnProperty(se)&&(re!=null||pe!=null))switch(se){case"type":y=re;break;case"name":g=re;break;case"checked":ee=re;break;case"defaultChecked":ue=re;break;case"value":T=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,i));break;default:re!==pe&&ut(r,i,se,re,f,pe)}}Nl(r,T,O,Y,ee,ue,y,g);return;case"select":re=T=O=se=null;for(y in d)if(Y=d[y],d.hasOwnProperty(y)&&Y!=null)switch(y){case"value":break;case"multiple":re=Y;default:f.hasOwnProperty(y)||ut(r,i,y,null,f,Y)}for(g in f)if(y=f[g],Y=d[g],f.hasOwnProperty(g)&&(y!=null||Y!=null))switch(g){case"value":se=y;break;case"defaultValue":O=y;break;case"multiple":T=y;default:y!==Y&&ut(r,i,g,y,f,Y)}i=O,d=T,f=re,se!=null?aa(r,!!d,se,!1):!!f!=!!d&&(i!=null?aa(r,!!d,i,!0):aa(r,!!d,d?[]:"",!1));return;case"textarea":re=se=null;for(O in d)if(g=d[O],d.hasOwnProperty(O)&&g!=null&&!f.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ut(r,i,O,null,f,g)}for(T in f)if(g=f[T],y=d[T],f.hasOwnProperty(T)&&(g!=null||y!=null))switch(T){case"value":se=g;break;case"defaultValue":re=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==y&&ut(r,i,T,g,f,y)}Qd(r,se,re);return;case"option":for(var Le in d)if(se=d[Le],d.hasOwnProperty(Le)&&se!=null&&!f.hasOwnProperty(Le))switch(Le){case"selected":r.selected=!1;break;default:ut(r,i,Le,null,f,se)}for(Y in f)if(se=f[Y],re=d[Y],f.hasOwnProperty(Y)&&se!==re&&(se!=null||re!=null))switch(Y){case"selected":r.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:ut(r,i,Y,se,f,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in d)se=d[De],d.hasOwnProperty(De)&&se!=null&&!f.hasOwnProperty(De)&&ut(r,i,De,null,f,se);for(ee in f)if(se=f[ee],re=d[ee],f.hasOwnProperty(ee)&&se!==re&&(se!=null||re!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,i));break;default:ut(r,i,ee,se,f,re)}return;default:if(Dn(i)){for(var ht in d)se=d[ht],d.hasOwnProperty(ht)&&se!==void 0&&!f.hasOwnProperty(ht)&&Wp(r,i,ht,void 0,f,se);for(ue in f)se=f[ue],re=d[ue],!f.hasOwnProperty(ue)||se===re||se===void 0&&re===void 0||Wp(r,i,ue,se,f,re);return}}for(var Q in d)se=d[Q],d.hasOwnProperty(Q)&&se!=null&&!f.hasOwnProperty(Q)&&ut(r,i,Q,null,f,se);for(pe in f)se=f[pe],re=d[pe],!f.hasOwnProperty(pe)||se===re||se==null&&re==null||ut(r,i,pe,se,f,re)}var Gp=null,Kp=null;function Zu(r){return r.nodeType===9?r:r.ownerDocument}function Gv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kv(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Qp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zp=null;function E4(){var r=window.event;return r&&r.type==="popstate"?r===Zp?!1:(Zp=r,!0):(Zp=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,C4=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,T4=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(r){return Zv.resolve(null).then(r).catch(k4)}:Qv;function k4(r){setTimeout(function(){throw r})}function Ta(r){return r==="head"}function Jv(r,i){var d=i,f=0,g=0;do{var y=d.nextSibling;if(r.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"){if(0<f&&8>f){d=f;var T=r.ownerDocument;if(d&1&&pc(T.documentElement),d&2&&pc(T.body),d&4)for(d=T.head,pc(d),T=d.firstChild;T;){var O=T.nextSibling,Y=T.nodeName;T[si]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=O}}if(g===0){r.removeChild(y),Nc(i);return}g--}else d==="$"||d==="$?"||d==="$!"?g++:f=d.charCodeAt(0)-48;else f=0;d=y}while(d);Nc(i)}function Jp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var d=i;switch(i=i.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Jp(d),vl(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function M4(r,i,d,f){for(;r.nodeType===1;){var g=d;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[si])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Pn(r.nextSibling),r===null)break}return null}function A4(r,i,d){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Pn(r.nextSibling),r===null))return null;return r}function ex(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function D4(r,i){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")i();else{var f=function(){i(),d.removeEventListener("DOMContentLoaded",f)};d.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Pn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var tx=null;function ew(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(i===0)return r;i--}else d==="/$"&&i++}r=r.previousSibling}return null}function tw(r,i,d){switch(i=Zu(d),r){case"html":if(r=i.documentElement,!r)throw Error(n(452));return r;case"head":if(r=i.head,!r)throw Error(n(453));return r;case"body":if(r=i.body,!r)throw Error(n(454));return r;default:throw Error(n(451))}}function pc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);vl(r)}var xn=new Map,sw=new Set;function Ju(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zr=I.d;I.d={f:R4,r:O4,D:L4,C:P4,L:z4,m:B4,X:U4,S:V4,M:H4};function R4(){var r=zr.f(),i=Iu();return r||i}function O4(r){var i=Bs(r);i!==null&&i.tag===5&&i.type==="form"?j0(i):zr.r(r)}var Ho=typeof document>"u"?null:document;function nw(r,i,d){var f=Ho;if(f&&typeof i=="string"&&i){var g=ls(i);g='link[rel="'+r+'"][href="'+g+'"]',typeof d=="string"&&(g+='[crossorigin="'+d+'"]'),sw.has(g)||(sw.add(g),r={rel:r,crossOrigin:d,href:i},f.querySelector(g)===null&&(i=f.createElement("link"),gs(i,"link",r),Qt(i),f.head.appendChild(i)))}}function L4(r){zr.D(r),nw("dns-prefetch",r,null)}function P4(r,i){zr.C(r,i),nw("preconnect",r,i)}function z4(r,i,d){zr.L(r,i,d);var f=Ho;if(f&&r&&i){var g='link[rel="preload"][as="'+ls(i)+'"]';i==="image"&&d&&d.imageSrcSet?(g+='[imagesrcset="'+ls(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(g+='[imagesizes="'+ls(d.imageSizes)+'"]')):g+='[href="'+ls(r)+'"]';var y=g;switch(i){case"style":y=Fo(r);break;case"script":y=$o(r)}xn.has(y)||(r=p({rel:"preload",href:i==="image"&&d&&d.imageSrcSet?void 0:r,as:i},d),xn.set(y,r),f.querySelector(g)!==null||i==="style"&&f.querySelector(xc(y))||i==="script"&&f.querySelector(gc(y))||(i=f.createElement("link"),gs(i,"link",r),Qt(i),f.head.appendChild(i)))}}function B4(r,i){zr.m(r,i);var d=Ho;if(d&&r){var f=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+ls(f)+'"][href="'+ls(r)+'"]',y=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$o(r)}if(!xn.has(y)&&(r=p({rel:"modulepreload",href:r},i),xn.set(y,r),d.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(gc(y)))return}f=d.createElement("link"),gs(f,"link",r),Qt(f),d.head.appendChild(f)}}}function V4(r,i,d){zr.S(r,i,d);var f=Ho;if(f&&r){var g=sa(f).hoistableStyles,y=Fo(r);i=i||"default";var T=g.get(y);if(!T){var O={loading:0,preload:null};if(T=f.querySelector(xc(y)))O.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":i},d),(d=xn.get(y))&&sx(r,d);var Y=T=f.createElement("link");Qt(Y),gs(Y,"link",r),Y._p=new Promise(function(ee,ue){Y.onload=ee,Y.onerror=ue}),Y.addEventListener("load",function(){O.loading|=1}),Y.addEventListener("error",function(){O.loading|=2}),O.loading|=4,eh(T,i,f)}T={type:"stylesheet",instance:T,count:1,state:O},g.set(y,T)}}}function U4(r,i){zr.X(r,i);var d=Ho;if(d&&r){var f=sa(d).hoistableScripts,g=$o(r),y=f.get(g);y||(y=d.querySelector(gc(g)),y||(r=p({src:r,async:!0},i),(i=xn.get(g))&&nx(r,i),y=d.createElement("script"),Qt(y),gs(y,"link",r),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function H4(r,i){zr.M(r,i);var d=Ho;if(d&&r){var f=sa(d).hoistableScripts,g=$o(r),y=f.get(g);y||(y=d.querySelector(gc(g)),y||(r=p({src:r,async:!0,type:"module"},i),(i=xn.get(g))&&nx(r,i),y=d.createElement("script"),Qt(y),gs(y,"link",r),d.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(g,y))}}function rw(r,i,d,f){var g=(g=xe.current)?Ju(g):null;if(!g)throw Error(n(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(i=Fo(d.href),d=sa(g).hoistableStyles,f=d.get(i),f||(f={type:"style",instance:null,count:0,state:null},d.set(i,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=Fo(d.href);var y=sa(g).hoistableStyles,T=y.get(r);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=g.querySelector(xc(r)))&&!y._p&&(T.instance=y,T.state.loading=5),xn.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},xn.set(r,d),y||F4(g,r,d,T.state))),i&&f===null)throw Error(n(528,""));return T}if(i&&f!==null)throw Error(n(529,""));return null;case"script":return i=d.async,d=d.src,typeof d=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$o(d),d=sa(g).hoistableScripts,f=d.get(i),f||(f={type:"script",instance:null,count:0,state:null},d.set(i,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,r))}}function Fo(r){return'href="'+ls(r)+'"'}function xc(r){return'link[rel="stylesheet"]['+r+"]"}function aw(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function F4(r,i,d,f){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?f.loading=1:(i=r.createElement("link"),f.preload=i,i.addEventListener("load",function(){return f.loading|=1}),i.addEventListener("error",function(){return f.loading|=2}),gs(i,"link",d),Qt(i),r.head.appendChild(i))}function $o(r){return'[src="'+ls(r)+'"]'}function gc(r){return"script[async]"+r}function iw(r,i,d){if(i.count++,i.instance===null)switch(i.type){case"style":var f=r.querySelector('style[data-href~="'+ls(d.href)+'"]');if(f)return i.instance=f,Qt(f),f;var g=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Qt(f),gs(f,"style",g),eh(f,d.precedence,r),i.instance=f;case"stylesheet":g=Fo(d.href);var y=r.querySelector(xc(g));if(y)return i.state.loading|=4,i.instance=y,Qt(y),y;f=aw(d),(g=xn.get(g))&&sx(f,g),y=(r.ownerDocument||r).createElement("link"),Qt(y);var T=y;return T._p=new Promise(function(O,Y){T.onload=O,T.onerror=Y}),gs(y,"link",f),i.state.loading|=4,eh(y,d.precedence,r),i.instance=y;case"script":return y=$o(d.src),(g=r.querySelector(gc(y)))?(i.instance=g,Qt(g),g):(f=d,(g=xn.get(y))&&(f=p({},d),nx(f,g)),r=r.ownerDocument||r,g=r.createElement("script"),Qt(g),gs(g,"link",f),r.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(f=i.instance,i.state.loading|=4,eh(f,d.precedence,r));return i.instance}function eh(r,i,d){for(var f=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,y=g,T=0;T<f.length;T++){var O=f[T];if(O.dataset.precedence===i)y=O;else if(y!==g)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=d.nodeType===9?d.head:d,i.insertBefore(r,i.firstChild))}function sx(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function nx(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var th=null;function ow(r,i,d){if(th===null){var f=new Map,g=th=new Map;g.set(d,f)}else g=th,f=g.get(d),f||(f=new Map,g.set(d,f));if(f.has(r))return f;for(f.set(r,null),d=d.getElementsByTagName(r),g=0;g<d.length;g++){var y=d[g];if(!(y[si]||y[vt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=r+T;var O=f.get(T);O?O.push(y):f.set(T,[y])}}return f}function lw(r,i,d){r=r.ownerDocument||r,r.head.insertBefore(d,i==="title"?r.querySelector("head > title"):null)}function $4(r,i,d){if(d===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var yc=null;function I4(){}function q4(r,i,d){if(yc===null)throw Error(n(475));var f=yc;if(i.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=Fo(d.href),y=r.querySelector(xc(g));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=sh.bind(f),r.then(f,f)),i.state.loading|=4,i.instance=y,Qt(y);return}y=r.ownerDocument||r,d=aw(d),(g=xn.get(g))&&sx(d,g),y=y.createElement("link"),Qt(y);var T=y;T._p=new Promise(function(O,Y){T.onload=O,T.onerror=Y}),gs(y,"link",d),i.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(f.count++,i=sh.bind(f),r.addEventListener("load",i),r.addEventListener("error",i))}}function Y4(){if(yc===null)throw Error(n(475));var r=yc;return r.stylesheets&&r.count===0&&rx(r,r.stylesheets),0<r.count?function(i){var d=setTimeout(function(){if(r.stylesheets&&rx(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(d)}}:null}function sh(){if(this.count--,this.count===0){if(this.stylesheets)rx(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var nh=null;function rx(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,nh=new Map,i.forEach(X4,r),nh=null,sh.call(r))}function X4(r,i){if(!(i.state.loading&4)){var d=nh.get(r);if(d)var f=d.get(null);else{d=new Map,nh.set(r,d);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var T=g[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(d.set(T.dataset.precedence,T),f=T)}f&&d.set(null,f)}g=i.instance,T=g.getAttribute("data-precedence"),y=d.get(T)||f,y===f&&d.set(null,g),d.set(T,g),this.count++,f=sh.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),y?y.parentNode.insertBefore(g,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),i.state.loading|=4}}var bc={$$typeof:k,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function W4(r,i,d,f,g,y,T,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function dw(r,i,d,f,g,y,T,O,Y,ee,ue,pe){return r=new W4(r,i,d,T,O,Y,ee,pe),i=1,y===!0&&(i|=24),y=Zs(3,null,null,i),r.current=y,y.stateNode=r,i=Vm(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:f,isDehydrated:d,cache:i},$m(y),r}function uw(r){return r?(r=vo,r):vo}function hw(r,i,d,f,g,y){g=uw(g),f.context===null?f.context=g:f.pendingContext=g,f=pa(i),f.payload={element:d},y=y===void 0?null:y,y!==null&&(f.callback=y),d=xa(r,f,i),d!==null&&(nn(d,r,i),Gl(d,r,i))}function fw(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<i?d:i}}function ax(r,i){fw(r,i),(r=r.alternate)&&fw(r,i)}function mw(r){if(r.tag===13){var i=bo(r,67108864);i!==null&&nn(i,r,67108864),ax(r,67108864)}}var rh=!0;function G4(r,i,d,f){var g=P.T;P.T=null;var y=I.p;try{I.p=2,ix(r,i,d,f)}finally{I.p=y,P.T=g}}function K4(r,i,d,f){var g=P.T;P.T=null;var y=I.p;try{I.p=8,ix(r,i,d,f)}finally{I.p=y,P.T=g}}function ix(r,i,d,f){if(rh){var g=ox(f);if(g===null)Xp(r,i,f,ah,d),xw(r,f);else if(Z4(g,r,i,d,f))f.stopPropagation();else if(xw(r,f),i&4&&-1<Q4.indexOf(r)){for(;g!==null;){var y=Bs(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=ln(y.pendingLanes);if(T!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;T;){var Y=1<<31-Te(T);O.entanglements[1]|=Y,T&=~Y}tr(y),(nt&6)===0&&(Fu=Xe()+500,hc(0))}}break;case 13:O=bo(y,2),O!==null&&nn(O,y,2),Iu(),ax(y,2)}if(y=ox(f),y===null&&Xp(r,i,f,ah,d),y===g)break;g=y}g!==null&&f.stopPropagation()}else Xp(r,i,f,null,d)}}function ox(r){return r=co(r),lx(r)}var ah=null;function lx(r){if(ah=null,r=vr(r),r!==null){var i=l(r);if(i===null)r=null;else{var d=i.tag;if(d===13){if(r=c(i),r!==null)return r;r=null}else if(d===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return ah=r,null}function pw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case xt:return 2;case ss:return 8;case ws:case lt:return 32;case Gt:return 268435456;default:return 32}default:return 32}}var cx=!1,ka=null,Ma=null,Aa=null,vc=new Map,wc=new Map,Da=[],Q4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xw(r,i){switch(r){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":vc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(i.pointerId)}}function jc(r,i,d,f,g,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:d,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},i!==null&&(i=Bs(i),i!==null&&mw(i)),r):(r.eventSystemFlags|=f,i=r.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),r)}function Z4(r,i,d,f,g){switch(i){case"focusin":return ka=jc(ka,r,i,d,f,g),!0;case"dragenter":return Ma=jc(Ma,r,i,d,f,g),!0;case"mouseover":return Aa=jc(Aa,r,i,d,f,g),!0;case"pointerover":var y=g.pointerId;return vc.set(y,jc(vc.get(y)||null,r,i,d,f,g)),!0;case"gotpointercapture":return y=g.pointerId,wc.set(y,jc(wc.get(y)||null,r,i,d,f,g)),!0}return!1}function gw(r){var i=vr(r.target);if(i!==null){var d=l(i);if(d!==null){if(i=d.tag,i===13){if(i=c(d),i!==null){r.blockedOn=i,Ft(r.priority,function(){if(d.tag===13){var f=sn();f=kt(f);var g=bo(d,f);g!==null&&nn(g,d,f),ax(d,f)}});return}}else if(i===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ih(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var d=ox(r.nativeEvent);if(d===null){d=r.nativeEvent;var f=new d.constructor(d.type,d);_l=f,d.target.dispatchEvent(f),_l=null}else return i=Bs(d),i!==null&&mw(i),r.blockedOn=d,!1;i.shift()}return!0}function yw(r,i,d){ih(r)&&d.delete(i)}function J4(){cx=!1,ka!==null&&ih(ka)&&(ka=null),Ma!==null&&ih(Ma)&&(Ma=null),Aa!==null&&ih(Aa)&&(Aa=null),vc.forEach(yw),wc.forEach(yw)}function oh(r,i){r.blockedOn===i&&(r.blockedOn=null,cx||(cx=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,J4)))}var lh=null;function bw(r){lh!==r&&(lh=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){lh===r&&(lh=null);for(var i=0;i<r.length;i+=3){var d=r[i],f=r[i+1],g=r[i+2];if(typeof f!="function"){if(lx(f||d)===null)continue;break}var y=Bs(d);y!==null&&(r.splice(i,3),i-=3,lp(y,{pending:!0,data:g,method:d.method,action:f},f,g))}}))}function Nc(r){function i(Y){return oh(Y,r)}ka!==null&&oh(ka,r),Ma!==null&&oh(Ma,r),Aa!==null&&oh(Aa,r),vc.forEach(i),wc.forEach(i);for(var d=0;d<Da.length;d++){var f=Da[d];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Da.length&&(d=Da[0],d.blockedOn===null);)gw(d),d.blockedOn===null&&Da.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(f=0;f<d.length;f+=3){var g=d[f],y=d[f+1],T=g[ct]||null;if(typeof y=="function")T||bw(d);else if(T){var O=null;if(y&&y.hasAttribute("formAction")){if(g=y,T=y[ct]||null)O=T.formAction;else if(lx(g)!==null)continue}else O=T.action;typeof O=="function"?d[f+1]=O:(d.splice(f,3),f-=3),bw(d)}}}function dx(r){this._internalRoot=r}ch.prototype.render=dx.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));var d=i.current,f=sn();hw(d,f,r,i,null,null)},ch.prototype.unmount=dx.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;hw(r.current,2,null,r,null,null),Iu(),i[$t]=null}};function ch(r){this._internalRoot=r}ch.prototype.unstable_scheduleHydration=function(r){if(r){var i=br();r={blockedOn:null,target:r,priority:i};for(var d=0;d<Da.length&&i!==0&&i<Da[d].priority;d++);Da.splice(d,0,r),d===0&&gw(r)}};var vw=e.version;if(vw!=="19.1.0")throw Error(n(527,vw,"19.1.0"));I.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=h(i),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var eC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{_e=dh.inject(eC),Ne=dh}catch{}}return _c.createRoot=function(r,i){if(!a(r))throw Error(n(299));var d=!1,f="",g=P0,y=z0,T=B0,O=null;return i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(O=i.unstable_transitionCallbacks)),i=dw(r,1,!1,null,null,d,f,g,y,T,O,null),r[$t]=i.current,Yp(r),new dx(i)},_c.hydrateRoot=function(r,i,d){if(!a(r))throw Error(n(299));var f=!1,g="",y=P0,T=z0,O=B0,Y=null,ee=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(g=d.identifierPrefix),d.onUncaughtError!==void 0&&(y=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(O=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Y=d.unstable_transitionCallbacks),d.formState!==void 0&&(ee=d.formState)),i=dw(r,1,!0,i,d??null,f,g,y,T,O,Y,ee),i.context=uw(null),d=i.current,f=sn(),f=kt(f),g=pa(f),g.callback=null,xa(d,g,f),d=f,i.current.lanes=d,Ms(i,d),tr(i),r[$t]=i.current,Yp(r),new ch(i)},_c.version="19.1.0",_c}var Mw;function uC(){if(Mw)return fx.exports;Mw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fx.exports=dC(),fx.exports}var hC=uC(),Ec={},Aw;function fC(){if(Aw)return Ec;Aw=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.parse=c,Ec.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,v){const j=new l,S=b.length;if(S<2)return j;const N=(v==null?void 0:v.decode)||p;let _=0;do{const A=b.indexOf("=",_);if(A===-1)break;const k=b.indexOf(";",_),R=k===-1?S:k;if(A>R){_=b.lastIndexOf(";",A-1)+1;continue}const M=u(b,_,A),z=h(b,A,M),H=b.slice(M,z);if(j[H]===void 0){let L=u(b,A+1,R),F=h(b,R,L);const U=N(b.slice(L,F));j[H]=U}_=R+1}while(_<S);return j}function u(b,v,j){do{const S=b.charCodeAt(v);if(S!==32&&S!==9)return v}while(++v<j);return j}function h(b,v,j){for(;v>j;){const S=b.charCodeAt(--v);if(S!==32&&S!==9)return v+1}return j}function m(b,v,j){const S=(j==null?void 0:j.encode)||encodeURIComponent;if(!t.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=S(v);if(!e.test(N))throw new TypeError(`argument val is invalid: ${v}`);let _=b+"="+N;if(!j)return _;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);_+="; Max-Age="+j.maxAge}if(j.domain){if(!s.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);_+="; Domain="+j.domain}if(j.path){if(!n.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);_+="; Path="+j.path}if(j.expires){if(!x(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);_+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(_+="; HttpOnly"),j.secure&&(_+="; Secure"),j.partitioned&&(_+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return _}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function x(b){return a.call(b)==="[object Date]"}return Ec}fC();var Dw="popstate";function mC(t={}){function e(n,a){let{pathname:l,search:c,hash:u}=n.location;return sg("",{pathname:l,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function s(n,a){return typeof a=="string"?a:dd(a)}return xC(e,s,null,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Un(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pC(){return Math.random().toString(36).substring(2,10)}function Rw(t,e){return{usr:t.state,key:t.key,idx:e}}function sg(t,e,s=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ul(e):e,state:s,key:e&&e.key||n||pC()}}function dd({pathname:t="/",search:e="",hash:s=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function ul(t){let e={};if(t){let s=t.indexOf("#");s>=0&&(e.hash=t.substring(s),t=t.substring(0,s));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function xC(t,e,s,n={}){let{window:a=document.defaultView,v5Compat:l=!1}=n,c=a.history,u="POP",h=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function x(){u="POP";let N=p(),_=N==null?null:N-m;m=N,h&&h({action:u,location:S.location,delta:_})}function b(N,_){u="PUSH";let A=sg(S.location,N,_);m=p()+1;let k=Rw(A,m),R=S.createHref(A);try{c.pushState(k,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(R)}l&&h&&h({action:u,location:S.location,delta:1})}function v(N,_){u="REPLACE";let A=sg(S.location,N,_);m=p();let k=Rw(A,m),R=S.createHref(A);c.replaceState(k,"",R),l&&h&&h({action:u,location:S.location,delta:0})}function j(N){let _=a.location.origin!=="null"?a.location.origin:a.location.href,A=typeof N=="string"?N:dd(N);return A=A.replace(/ $/,"%20"),Ct(_,`No window.location.(origin|href) available to create URL for href: ${A}`),new URL(A,_)}let S={get action(){return u},get location(){return t(a,c)},listen(N){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Dw,x),h=N,()=>{a.removeEventListener(Dw,x),h=null}},createHref(N){return e(a,N)},createURL:j,encodeLocation(N){let _=j(N);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:b,replace:v,go(N){return c.go(N)}};return S}function Kj(t,e,s="/"){return gC(t,e,s,!1)}function gC(t,e,s,n){let a=typeof e=="string"?ul(e):e,l=qr(a.pathname||"/",s);if(l==null)return null;let c=Qj(t);yC(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let m=kC(l);u=CC(c[h],m,n)}return u}function Qj(t,e=[],s=[],n=""){let a=(l,c,u)=>{let h={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(Ct(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let m=Ir([n,h.relativePath]),p=s.concat(h);l.children&&l.children.length>0&&(Ct(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Qj(l.children,e,p,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:_C(m,l.index),routesMeta:p})};return t.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))a(l,c);else for(let h of Zj(l.path))a(l,c,h)}),e}function Zj(t){let e=t.split("/");if(e.length===0)return[];let[s,...n]=e,a=s.endsWith("?"),l=s.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let c=Zj(n.join("/")),u=[];return u.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function yC(t){t.sort((e,s)=>e.score!==s.score?s.score-e.score:EC(e.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var bC=/^:[\w-]+$/,vC=3,wC=2,jC=1,NC=10,SC=-2,Ow=t=>t==="*";function _C(t,e){let s=t.split("/"),n=s.length;return s.some(Ow)&&(n+=SC),e&&(n+=wC),s.filter(a=>!Ow(a)).reduce((a,l)=>a+(bC.test(l)?vC:l===""?jC:NC),n)}function EC(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function CC(t,e,s=!1){let{routesMeta:n}=t,a={},l="/",c=[];for(let u=0;u<n.length;++u){let h=n[u],m=u===n.length-1,p=l==="/"?e:e.slice(l.length)||"/",x=cf({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),b=h.route;if(!x&&m&&s&&!n[n.length-1].route.index&&(x=cf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!x)return null;Object.assign(a,x.params),c.push({params:a,pathname:Ir([l,x.pathname]),pathnameBase:RC(Ir([l,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(l=Ir([l,x.pathnameBase]))}return c}function cf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,n]=TC(t.path,t.caseSensitive,t.end),a=e.match(s);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((m,{paramName:p,isOptional:x},b)=>{if(p==="*"){let j=u[b]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const v=u[b];return x&&!v?m[p]=void 0:m[p]=(v||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function TC(t,e=!1,s=!0){Un(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function kC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,n=t.charAt(s);return n&&n!=="/"?null:t.slice(s)||"/"}function MC(t,e="/"){let{pathname:s,search:n="",hash:a=""}=typeof t=="string"?ul(t):t;return{pathname:s?s.startsWith("/")?s:AC(s,e):e,search:OC(n),hash:LC(a)}}function AC(t,e){let s=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?s.length>1&&s.pop():a!=="."&&s.push(a)}),s.length>1?s.join("/"):"/"}function gx(t,e,s,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DC(t){return t.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function sy(t){let e=DC(t);return e.map((s,n)=>n===e.length-1?s.pathname:s.pathnameBase)}function ny(t,e,s,n=!1){let a;typeof t=="string"?a=ul(t):(a={...t},Ct(!a.pathname||!a.pathname.includes("?"),gx("?","pathname","search",a)),Ct(!a.pathname||!a.pathname.includes("#"),gx("#","pathname","hash",a)),Ct(!a.search||!a.search.includes("#"),gx("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,u;if(c==null)u=s;else{let x=e.length-1;if(!n&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),x-=1;a.pathname=b.join("/")}u=x>=0?e[x]:"/"}let h=MC(a,u),m=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var Ir=t=>t.join("/").replace(/\/\/+/g,"/"),RC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Jj=["POST","PUT","PATCH","DELETE"];new Set(Jj);var zC=["GET",...Jj];new Set(zC);var hl=D.createContext(null);hl.displayName="DataRouter";var Af=D.createContext(null);Af.displayName="DataRouterState";var eN=D.createContext({isTransitioning:!1});eN.displayName="ViewTransition";var BC=D.createContext(new Map);BC.displayName="Fetchers";var VC=D.createContext(null);VC.displayName="Await";var $n=D.createContext(null);$n.displayName="Navigation";var Dd=D.createContext(null);Dd.displayName="Location";var In=D.createContext({outlet:null,matches:[],isDataRoute:!1});In.displayName="Route";var ry=D.createContext(null);ry.displayName="RouteError";function UC(t,{relative:e}={}){Ct(fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=D.useContext($n),{hash:a,pathname:l,search:c}=Rd(t,{relative:e}),u=l;return s!=="/"&&(u=l==="/"?s:Ir([s,l])),n.createHref({pathname:u,search:c,hash:a})}function fl(){return D.useContext(Dd)!=null}function qn(){return Ct(fl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Dd).location}var tN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sN(t){D.useContext($n).static||D.useLayoutEffect(t)}function Qa(){let{isDataRoute:t}=D.useContext(In);return t?tT():HC()}function HC(){Ct(fl(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(hl),{basename:e,navigator:s}=D.useContext($n),{matches:n}=D.useContext(In),{pathname:a}=qn(),l=JSON.stringify(sy(n)),c=D.useRef(!1);return sN(()=>{c.current=!0}),D.useCallback((h,m={})=>{if(Un(c.current,tN),!c.current)return;if(typeof h=="number"){s.go(h);return}let p=ny(h,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ir([e,p.pathname])),(m.replace?s.replace:s.push)(p,m.state,m)},[e,s,l,a,t])}var FC=D.createContext(null);function $C(t){let e=D.useContext(In).outlet;return e&&D.createElement(FC.Provider,{value:t},e)}function Rd(t,{relative:e}={}){let{matches:s}=D.useContext(In),{pathname:n}=qn(),a=JSON.stringify(sy(s));return D.useMemo(()=>ny(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function IC(t,e){return nN(t,e)}function nN(t,e,s,n){var A;Ct(fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=D.useContext($n),{matches:c}=D.useContext(In),u=c[c.length-1],h=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",x=u&&u.route;{let k=x&&x.path||"";rN(m,!x||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=qn(),v;if(e){let k=typeof e=="string"?ul(e):e;Ct(p==="/"||((A=k.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=b;let j=v.pathname||"/",S=j;if(p!=="/"){let k=p.replace(/^\//,"").split("/");S="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let N=!l&&s&&s.matches&&s.matches.length>0?s.matches:Kj(t,{pathname:S});Un(x||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Un(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=GC(N&&N.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:Ir([p,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Ir([p,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,s,n);return e&&_?D.createElement(Dd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function qC(){let t=eT(),e=PC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},l={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),s?D.createElement("pre",{style:a},s):null,c)}var YC=D.createElement(qC,null),XC=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?D.createElement(In.Provider,{value:this.props.routeContext},D.createElement(ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WC({routeContext:t,match:e,children:s}){let n=D.useContext(hl);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(In.Provider,{value:t},s)}function GC(t,e=[],s=null,n=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let a=t,l=s==null?void 0:s.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);Ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(s)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:x}=s,b=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,m,p)=>{let x,b=!1,v=null,j=null;s&&(x=l&&m.route.id?l[m.route.id]:void 0,v=m.route.errorElement||YC,c&&(u<0&&p===0?(rN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):u===p&&(b=!0,j=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),N=()=>{let _;return x?_=v:b?_=j:m.route.Component?_=D.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=h,D.createElement(WC,{match:m,routeContext:{outlet:h,matches:S,isDataRoute:s!=null},children:_})};return s&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?D.createElement(XC,{location:s.location,revalidation:s.revalidation,component:v,error:x,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}function ay(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(t){let e=D.useContext(hl);return Ct(e,ay(t)),e}function QC(t){let e=D.useContext(Af);return Ct(e,ay(t)),e}function ZC(t){let e=D.useContext(In);return Ct(e,ay(t)),e}function iy(t){let e=ZC(t),s=e.matches[e.matches.length-1];return Ct(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function JC(){return iy("useRouteId")}function eT(){var n;let t=D.useContext(ry),e=QC("useRouteError"),s=iy("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[s]}function tT(){let{router:t}=KC("useNavigate"),e=iy("useNavigate"),s=D.useRef(!1);return sN(()=>{s.current=!0}),D.useCallback(async(a,l={})=>{Un(s.current,tN),s.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Lw={};function rN(t,e,s){!e&&!Lw[t]&&(Lw[t]=!0,Un(!1,s))}D.memo(sT);function sT({routes:t,future:e,state:s}){return nN(t,void 0,s,e)}function el({to:t,replace:e,state:s,relative:n}){Ct(fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=D.useContext($n);Un(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(In),{pathname:c}=qn(),u=Qa(),h=ny(t,sy(l),c,n==="path"),m=JSON.stringify(h);return D.useEffect(()=>{u(JSON.parse(m),{replace:e,state:s,relative:n})},[u,m,n,e,s]),null}function nT(t){return $C(t.context)}function zt(t){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rT({basename:t="/",children:e=null,location:s,navigationType:n="POP",navigator:a,static:l=!1}){Ct(!fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof s=="string"&&(s=ul(s));let{pathname:h="/",search:m="",hash:p="",state:x=null,key:b="default"}=s,v=D.useMemo(()=>{let j=qr(h,c);return j==null?null:{location:{pathname:j,search:m,hash:p,state:x,key:b},navigationType:n}},[c,h,m,p,x,b,n]);return Un(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:D.createElement($n.Provider,{value:u},D.createElement(Dd.Provider,{children:e,value:v}))}function Pw({children:t,location:e}){return IC(ng(t),e)}function ng(t,e=[]){let s=[];return D.Children.forEach(t,(n,a)=>{if(!D.isValidElement(n))return;let l=[...e,a];if(n.type===D.Fragment){s.push.apply(s,ng(n.props.children,l));return}Ct(n.type===zt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=ng(n.props.children,l)),s.push(c)}),s}var Xh="get",Wh="application/x-www-form-urlencoded";function Df(t){return t!=null&&typeof t.tagName=="string"}function aT(t){return Df(t)&&t.tagName.toLowerCase()==="button"}function iT(t){return Df(t)&&t.tagName.toLowerCase()==="form"}function oT(t){return Df(t)&&t.tagName.toLowerCase()==="input"}function lT(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cT(t,e){return t.button===0&&(!e||e==="_self")&&!lT(t)}var uh=null;function dT(){if(uh===null)try{new FormData(document.createElement("form"),0),uh=!1}catch{uh=!0}return uh}var uT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yx(t){return t!=null&&!uT.has(t)?(Un(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wh}"`),null):t}function hT(t,e){let s,n,a,l,c;if(iT(t)){let u=t.getAttribute("action");n=u?qr(u,e):null,s=t.getAttribute("method")||Xh,a=yx(t.getAttribute("enctype"))||Wh,l=new FormData(t)}else if(aT(t)||oT(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(n=h?qr(h,e):null,s=t.getAttribute("formmethod")||u.getAttribute("method")||Xh,a=yx(t.getAttribute("formenctype"))||yx(u.getAttribute("enctype"))||Wh,l=new FormData(u,t),!dT()){let{name:m,type:p,value:x}=t;if(p==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,x)}}else{if(Df(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Xh,n=null,a=Wh,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:n,method:s.toLowerCase(),encType:a,formData:l,body:c}}function oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function fT(t,e){if(t.id in e)return e[t.id];try{let s=await import(t.module);return e[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mT(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pT(t,e,s){let n=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await fT(l,s);return c.links?c.links():[]}return[]}));return bT(n.flat(1).filter(mT).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function zw(t,e,s,n,a,l){let c=(h,m)=>s[m]?h.route.id!==s[m].route.id:!0,u=(h,m)=>{var p;return s[m].pathname!==h.pathname||((p=s[m].route.path)==null?void 0:p.endsWith("*"))&&s[m].params["*"]!==h.params["*"]};return l==="assets"?e.filter((h,m)=>c(h,m)||u(h,m)):l==="data"?e.filter((h,m)=>{var x;let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=s[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function xT(t,e,{includeHydrateFallback:s}={}){return gT(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),s&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function gT(t){return[...new Set(t)]}function yT(t){let e={},s=Object.keys(t).sort();for(let n of s)e[n]=t[n];return e}function bT(t,e){let s=new Set;return new Set(e),t.reduce((n,a)=>{let l=JSON.stringify(yT(a));return s.has(l)||(s.add(l),n.push({key:l,link:a})),n},[])}var vT=new Set([100,101,204,205]);function wT(t,e){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname="_root.data":e&&qr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function aN(){let t=D.useContext(hl);return oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function jT(){let t=D.useContext(Af);return oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ly=D.createContext(void 0);ly.displayName="FrameworkContext";function iN(){let t=D.useContext(ly);return oy(t,"You must render this element inside a <HydratedRouter> element"),t}function NT(t,e){let s=D.useContext(ly),[n,a]=D.useState(!1),[l,c]=D.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:x}=e,b=D.useRef(null);D.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=_=>{_.forEach(A=>{c(A.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[t]),D.useEffect(()=>{if(n){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[n]);let v=()=>{a(!0)},j=()=>{a(!1),c(!1)};return s?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Cc(u,v),onBlur:Cc(h,j),onMouseEnter:Cc(m,v),onMouseLeave:Cc(p,j),onTouchStart:Cc(x,v)}]:[!1,b,{}]}function Cc(t,e){return s=>{t&&t(s),s.defaultPrevented||e(s)}}function ST({page:t,...e}){let{router:s}=aN(),n=D.useMemo(()=>Kj(s.routes,t,s.basename),[s.routes,t,s.basename]);return n?D.createElement(ET,{page:t,matches:n,...e}):null}function _T(t){let{manifest:e,routeModules:s}=iN(),[n,a]=D.useState([]);return D.useEffect(()=>{let l=!1;return pT(t,e,s).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,s]),n}function ET({page:t,matches:e,...s}){let n=qn(),{manifest:a,routeModules:l}=iN(),{basename:c}=aN(),{loaderData:u,matches:h}=jT(),m=D.useMemo(()=>zw(t,e,h,a,n,"data"),[t,e,h,a,n]),p=D.useMemo(()=>zw(t,e,h,a,n,"assets"),[t,e,h,a,n]),x=D.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let j=new Set,S=!1;if(e.forEach(_=>{var k;let A=a.routes[_.route.id];!A||!A.hasLoader||(!m.some(R=>R.route.id===_.route.id)&&_.route.id in u&&((k=l[_.route.id])!=null&&k.shouldRevalidate)||A.hasClientLoader?S=!0:j.add(_.route.id))}),j.size===0)return[];let N=wT(t,c);return S&&j.size>0&&N.searchParams.set("_routes",e.filter(_=>j.has(_.route.id)).map(_=>_.route.id).join(",")),[N.pathname+N.search]},[c,u,n,a,m,e,t,l]),b=D.useMemo(()=>xT(p,a),[p,a]),v=_T(p);return D.createElement(D.Fragment,null,x.map(j=>D.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...s})),b.map(j=>D.createElement("link",{key:j,rel:"modulepreload",href:j,...s})),v.map(({key:j,link:S})=>D.createElement("link",{key:j,...S})))}function CT(...t){return e=>{t.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var oN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oN&&(window.__reactRouterVersion="7.5.3")}catch{}function TT({basename:t,children:e,window:s}){let n=D.useRef();n.current==null&&(n.current=mC({window:s,v5Compat:!0}));let a=n.current,[l,c]=D.useState({action:a.action,location:a.location}),u=D.useCallback(h=>{D.startTransition(()=>c(h))},[c]);return D.useLayoutEffect(()=>a.listen(u),[a,u]),D.createElement(rT,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var lN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cr=D.forwardRef(function({onClick:e,discover:s="render",prefetch:n="none",relative:a,reloadDocument:l,replace:c,state:u,target:h,to:m,preventScrollReset:p,viewTransition:x,...b},v){let{basename:j}=D.useContext($n),S=typeof m=="string"&&lN.test(m),N,_=!1;if(typeof m=="string"&&S&&(N=m,oN))try{let F=new URL(window.location.href),U=m.startsWith("//")?new URL(F.protocol+m):new URL(m),X=qr(U.pathname,j);U.origin===F.origin&&X!=null?m=X+U.search+U.hash:_=!0}catch{Un(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=UC(m,{relative:a}),[k,R,M]=NT(n,b),z=DT(m,{replace:c,state:u,target:h,preventScrollReset:p,relative:a,viewTransition:x});function H(F){e&&e(F),F.defaultPrevented||z(F)}let L=D.createElement("a",{...b,...M,href:N||A,onClick:_||l?e:H,ref:CT(v,R),target:h,"data-discover":!S&&s==="render"?"true":void 0});return k&&!S?D.createElement(D.Fragment,null,L,D.createElement(ST,{page:A})):L});cr.displayName="Link";var kT=D.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:n="",end:a=!1,style:l,to:c,viewTransition:u,children:h,...m},p){let x=Rd(c,{relative:m.relative}),b=qn(),v=D.useContext(Af),{navigator:j,basename:S}=D.useContext($n),N=v!=null&&zT(x)&&u===!0,_=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,A=b.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(A=A.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&S&&(k=qr(k,S)||k);const R=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=A===_||!a&&A.startsWith(_)&&A.charAt(R)==="/",z=k!=null&&(k===_||!a&&k.startsWith(_)&&k.charAt(_.length)==="/"),H={isActive:M,isPending:z,isTransitioning:N},L=M?e:void 0,F;typeof n=="function"?F=n(H):F=[n,M?"active":null,z?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(H):l;return D.createElement(cr,{...m,"aria-current":L,className:F,ref:p,style:U,to:c,viewTransition:u},typeof h=="function"?h(H):h)});kT.displayName="NavLink";var MT=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:s,reloadDocument:n,replace:a,state:l,method:c=Xh,action:u,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:x,...b},v)=>{let j=LT(),S=PT(u,{relative:m}),N=c.toLowerCase()==="get"?"get":"post",_=typeof u=="string"&&lN.test(u),A=k=>{if(h&&h(k),k.defaultPrevented)return;k.preventDefault();let R=k.nativeEvent.submitter,M=(R==null?void 0:R.getAttribute("formmethod"))||c;j(R||k.currentTarget,{fetcherKey:e,method:M,navigate:s,replace:a,state:l,relative:m,preventScrollReset:p,viewTransition:x})};return D.createElement("form",{ref:v,method:N,action:S,onSubmit:n?h:A,...b,"data-discover":!_&&t==="render"?"true":void 0})});MT.displayName="Form";function AT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cN(t){let e=D.useContext(hl);return Ct(e,AT(t)),e}function DT(t,{target:e,replace:s,state:n,preventScrollReset:a,relative:l,viewTransition:c}={}){let u=Qa(),h=qn(),m=Rd(t,{relative:l});return D.useCallback(p=>{if(cT(p,e)){p.preventDefault();let x=s!==void 0?s:dd(h)===dd(m);u(t,{replace:x,state:n,preventScrollReset:a,relative:l,viewTransition:c})}},[h,u,m,s,n,e,t,a,l,c])}var RT=0,OT=()=>`__${String(++RT)}__`;function LT(){let{router:t}=cN("useSubmit"),{basename:e}=D.useContext($n),s=JC();return D.useCallback(async(n,a={})=>{let{action:l,method:c,encType:u,formData:h,body:m}=hT(n,e);if(a.navigate===!1){let p=a.fetcherKey||OT();await t.fetch(p,s,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:m,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:s,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,s])}function PT(t,{relative:e}={}){let{basename:s}=D.useContext($n),n=D.useContext(In);Ct(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),l={...Rd(t||".",{relative:e})},c=qn();if(t==null){l.search=c.search;let u=new URLSearchParams(l.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(x=>x).forEach(x=>u.append("index",x));let p=u.toString();l.search=p?`?${p}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(l.pathname=l.pathname==="/"?s:Ir([s,l.pathname])),dd(l)}function zT(t,e={}){let s=D.useContext(eN);Ct(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=cN("useViewTransitionState"),a=Rd(t,{relative:e.relative});if(!s.isTransitioning)return!1;let l=qr(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=qr(s.nextLocation.pathname,n)||s.nextLocation.pathname;return cf(a.pathname,c)!=null||cf(a.pathname,l)!=null}new TextEncoder;[...vT];var BT=Gj();const VT=ey(BT),cy=D.createContext({});function dy(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const uy=typeof window<"u",dN=uy?D.useLayoutEffect:D.useEffect,Rf=D.createContext(null),hy=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class UT extends D.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const n=s.offsetParent,a=n instanceof HTMLElement&&n.offsetWidth||0,l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function HT({children:t,isPresent:e,anchorX:s}){const n=D.useId(),a=D.useRef(null),l=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=D.useContext(hy);return D.useInsertionEffect(()=>{const{width:u,height:h,top:m,left:p,right:x}=l.current;if(e||!a.current||!u||!h)return;const b=s==="left"?`left: ${p}`:`right: ${x}`;a.current.dataset.motionPopId=n;const v=document.createElement("style");return c&&(v.nonce=c),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),o.jsx(UT,{isPresent:e,childRef:a,sizeRef:l,children:D.cloneElement(t,{ref:a})})}const FT=({children:t,initial:e,isPresent:s,onExitComplete:n,custom:a,presenceAffectsLayout:l,mode:c,anchorX:u})=>{const h=dy($T),m=D.useId();let p=!0,x=D.useMemo(()=>(p=!1,{id:m,initial:e,isPresent:s,custom:a,onExitComplete:b=>{h.set(b,!0);for(const v of h.values())if(!v)return;n&&n()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[s,h,n]);return l&&p&&(x={...x}),D.useMemo(()=>{h.forEach((b,v)=>h.set(v,!1))},[s]),D.useEffect(()=>{!s&&!h.size&&n&&n()},[s]),c==="popLayout"&&(t=o.jsx(HT,{isPresent:s,anchorX:u,children:t})),o.jsx(Rf.Provider,{value:x,children:t})};function $T(){return new Map}function uN(t=!0){const e=D.useContext(Rf);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:a}=e,l=D.useId();D.useEffect(()=>{if(t)return a(l)},[t]);const c=D.useCallback(()=>t&&n&&n(l),[l,n,t]);return!s&&n?[!1,c]:[!0]}const hh=t=>t.key||"";function Bw(t){const e=[];return D.Children.forEach(t,s=>{D.isValidElement(s)&&e.push(s)}),e}const hN=({children:t,custom:e,initial:s=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:u="left"})=>{const[h,m]=uN(c),p=D.useMemo(()=>Bw(t),[t]),x=c&&!h?[]:p.map(hh),b=D.useRef(!0),v=D.useRef(p),j=dy(()=>new Map),[S,N]=D.useState(p),[_,A]=D.useState(p);dN(()=>{b.current=!1,v.current=p;for(let M=0;M<_.length;M++){const z=hh(_[M]);x.includes(z)?j.delete(z):j.get(z)!==!0&&j.set(z,!1)}},[_,x.length,x.join("-")]);const k=[];if(p!==S){let M=[...p];for(let z=0;z<_.length;z++){const H=_[z],L=hh(H);x.includes(L)||(M.splice(z,0,H),k.push(H))}return l==="wait"&&k.length&&(M=k),A(Bw(M)),N(p),null}const{forceRender:R}=D.useContext(cy);return o.jsx(o.Fragment,{children:_.map(M=>{const z=hh(M),H=c&&!h?!1:p===_||x.includes(z),L=()=>{if(j.has(z))j.set(z,!0);else return;let F=!0;j.forEach(U=>{U||(F=!1)}),F&&(R==null||R(),A(v.current),c&&(m==null||m()),n&&n())};return o.jsx(FT,{isPresent:H,initial:!b.current||s?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:H?void 0:L,anchorX:u,children:M},z)})})};function fy(t,e){t.indexOf(e)===-1&&t.push(e)}function my(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const Yr=(t,e,s)=>s>e?e:s<t?t:s;let py=()=>{};const Xr={},fN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),mN=t=>/^0[^.\s]+$/u.test(t);function xy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Nn=t=>t,IT=(t,e)=>s=>e(t(s)),Od=(...t)=>t.reduce(IT),ud=(t,e,s)=>{const n=e-t;return n===0?1:(s-t)/n};class gy{constructor(){this.subscriptions=[]}add(e){return fy(this.subscriptions,e),()=>my(this.subscriptions,e)}notify(e,s,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,s,n);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dr=t=>t*1e3,ur=t=>t/1e3;function pN(t,e){return e?t*(1e3/e):0}const xN=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,qT=1e-7,YT=12;function XT(t,e,s,n,a){let l,c,u=0;do c=e+(s-e)/2,l=xN(c,n,a)-t,l>0?s=c:e=c;while(Math.abs(l)>qT&&++u<YT);return c}function Ld(t,e,s,n){if(t===e&&s===n)return Nn;const a=l=>XT(l,0,1,t,s);return l=>l===0||l===1?l:xN(a(l),e,n)}const gN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yN=t=>e=>1-t(1-e),bN=Ld(.33,1.53,.69,.99),yy=yN(bN),vN=gN(yy),wN=t=>(t*=2)<1?.5*yy(t):.5*(2-Math.pow(2,-10*(t-1))),by=t=>1-Math.sin(Math.acos(t)),jN=yN(by),NN=gN(by),WT=Ld(.42,0,1,1),GT=Ld(0,0,.58,1),SN=Ld(.42,0,.58,1),KT=t=>Array.isArray(t)&&typeof t[0]!="number",_N=t=>Array.isArray(t)&&typeof t[0]=="number",QT={linear:Nn,easeIn:WT,easeInOut:SN,easeOut:GT,circIn:by,circInOut:NN,circOut:jN,backIn:yy,backInOut:vN,backOut:bN,anticipate:wN},ZT=t=>typeof t=="string",Vw=t=>{if(_N(t)){py(t.length===4);const[e,s,n,a]=t;return Ld(e,s,n,a)}else if(ZT(t))return QT[t];return t},fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Uw={value:null};function JT(t,e){let s=new Set,n=new Set,a=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function m(x){c.has(x)&&(p.schedule(x),t()),h++,x(u)}const p={schedule:(x,b=!1,v=!1)=>{const S=v&&a?s:n;return b&&c.add(x),S.has(x)||S.add(x),x},cancel:x=>{n.delete(x),c.delete(x)},process:x=>{if(u=x,a){l=!0;return}a=!0,[s,n]=[n,s],s.forEach(m),e&&Uw.value&&Uw.value.frameloop[e].push(h),h=0,s.clear(),a=!1,l&&(l=!1,p.process(x))}};return p}const ek=40;function EN(t,e){let s=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,c=fh.reduce((k,R)=>(k[R]=JT(l,e?R:void 0),k),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:p,update:x,preRender:b,render:v,postRender:j}=c,S=()=>{const k=Xr.useManualTiming?a.timestamp:performance.now();s=!1,Xr.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(k-a.timestamp,ek),1)),a.timestamp=k,a.isProcessing=!0,u.process(a),h.process(a),m.process(a),p.process(a),x.process(a),b.process(a),v.process(a),j.process(a),a.isProcessing=!1,s&&e&&(n=!1,t(S))},N=()=>{s=!0,n=!0,a.isProcessing||t(S)};return{schedule:fh.reduce((k,R)=>{const M=c[R];return k[R]=(z,H=!1,L=!1)=>(s||N(),M.schedule(z,H,L)),k},{}),cancel:k=>{for(let R=0;R<fh.length;R++)c[fh[R]].cancel(k)},state:a,steps:c}}const{schedule:Ot,cancel:qa,state:ys,steps:bx}=EN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Nn,!0);let Gh;function tk(){Gh=void 0}const Ys={now:()=>(Gh===void 0&&Ys.set(ys.isProcessing||Xr.useManualTiming?ys.timestamp:performance.now()),Gh),set:t=>{Gh=t,queueMicrotask(tk)}},CN=t=>e=>typeof e=="string"&&e.startsWith(t),vy=CN("--"),sk=CN("var(--"),wy=t=>sk(t)?nk.test(t.split("/*")[0].trim()):!1,nk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ml={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hd={...ml,transform:t=>Yr(0,1,t)},mh={...ml,default:1},ed=t=>Math.round(t*1e5)/1e5,jy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rk(t){return t==null}const ak=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ny=(t,e)=>s=>!!(typeof s=="string"&&ak.test(s)&&s.startsWith(t)||e&&!rk(s)&&Object.prototype.hasOwnProperty.call(s,e)),TN=(t,e,s)=>n=>{if(typeof n!="string")return n;const[a,l,c,u]=n.match(jy);return{[t]:parseFloat(a),[e]:parseFloat(l),[s]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},ik=t=>Yr(0,255,t),vx={...ml,transform:t=>Math.round(ik(t))},Bi={test:Ny("rgb","red"),parse:TN("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:n=1})=>"rgba("+vx.transform(t)+", "+vx.transform(e)+", "+vx.transform(s)+", "+ed(hd.transform(n))+")"};function ok(t){let e="",s="",n="",a="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,s+=s,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const rg={test:Ny("#"),parse:ok,transform:Bi.transform},Pd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),za=Pd("deg"),hr=Pd("%"),Pe=Pd("px"),lk=Pd("vh"),ck=Pd("vw"),Hw={...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)},Wo={test:Ny("hsl","hue"),parse:TN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:n=1})=>"hsla("+Math.round(t)+", "+hr.transform(ed(e))+", "+hr.transform(ed(s))+", "+ed(hd.transform(n))+")"},_s={test:t=>Bi.test(t)||rg.test(t)||Wo.test(t),parse:t=>Bi.test(t)?Bi.parse(t):Wo.test(t)?Wo.parse(t):rg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bi.transform(t):Wo.transform(t)},dk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uk(t){var e,s;return isNaN(t)&&typeof t=="string"&&(((e=t.match(jy))==null?void 0:e.length)||0)+(((s=t.match(dk))==null?void 0:s.length)||0)>0}const kN="number",MN="color",hk="var",fk="var(",Fw="${}",mk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fd(t){const e=t.toString(),s=[],n={color:[],number:[],var:[]},a=[];let l=0;const u=e.replace(mk,h=>(_s.test(h)?(n.color.push(l),a.push(MN),s.push(_s.parse(h))):h.startsWith(fk)?(n.var.push(l),a.push(hk),s.push(h)):(n.number.push(l),a.push(kN),s.push(parseFloat(h))),++l,Fw)).split(Fw);return{values:s,split:u,indexes:n,types:a}}function AN(t){return fd(t).values}function DN(t){const{split:e,types:s}=fd(t),n=e.length;return a=>{let l="";for(let c=0;c<n;c++)if(l+=e[c],a[c]!==void 0){const u=s[c];u===kN?l+=ed(a[c]):u===MN?l+=_s.transform(a[c]):l+=a[c]}return l}}const pk=t=>typeof t=="number"?0:t;function xk(t){const e=AN(t);return DN(t)(e.map(pk))}const Ya={test:uk,parse:AN,createTransformer:DN,getAnimatableNone:xk};function wx(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function gk({hue:t,saturation:e,lightness:s,alpha:n}){t/=360,e/=100,s/=100;let a=0,l=0,c=0;if(!e)a=l=c=s;else{const u=s<.5?s*(1+e):s+e-s*e,h=2*s-u;a=wx(h,u,t+1/3),l=wx(h,u,t),c=wx(h,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:n}}function df(t,e){return s=>s>0?e:t}const Rt=(t,e,s)=>t+(e-t)*s,jx=(t,e,s)=>{const n=t*t,a=s*(e*e-n)+n;return a<0?0:Math.sqrt(a)},yk=[rg,Bi,Wo],bk=t=>yk.find(e=>e.test(t));function $w(t){const e=bk(t);if(!e)return!1;let s=e.parse(t);return e===Wo&&(s=gk(s)),s}const Iw=(t,e)=>{const s=$w(t),n=$w(e);if(!s||!n)return df(t,e);const a={...s};return l=>(a.red=jx(s.red,n.red,l),a.green=jx(s.green,n.green,l),a.blue=jx(s.blue,n.blue,l),a.alpha=Rt(s.alpha,n.alpha,l),Bi.transform(a))},ag=new Set(["none","hidden"]);function vk(t,e){return ag.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function wk(t,e){return s=>Rt(t,e,s)}function Sy(t){return typeof t=="number"?wk:typeof t=="string"?wy(t)?df:_s.test(t)?Iw:Sk:Array.isArray(t)?RN:typeof t=="object"?_s.test(t)?Iw:jk:df}function RN(t,e){const s=[...t],n=s.length,a=t.map((l,c)=>Sy(l)(l,e[c]));return l=>{for(let c=0;c<n;c++)s[c]=a[c](l);return s}}function jk(t,e){const s={...t,...e},n={};for(const a in s)t[a]!==void 0&&e[a]!==void 0&&(n[a]=Sy(t[a])(t[a],e[a]));return a=>{for(const l in n)s[l]=n[l](a);return s}}function Nk(t,e){const s=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][n[l]],u=t.values[c]??0;s[a]=u,n[l]++}return s}const Sk=(t,e)=>{const s=Ya.createTransformer(e),n=fd(t),a=fd(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ag.has(t)&&!a.values.length||ag.has(e)&&!n.values.length?vk(t,e):Od(RN(Nk(n,a),a.values),s):df(t,e)};function ON(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Rt(t,e,s):Sy(t)(t,e)}const _k=t=>{const e=({timestamp:s})=>t(s);return{start:()=>Ot.update(e,!0),stop:()=>qa(e),now:()=>ys.isProcessing?ys.timestamp:Ys.now()}},LN=(t,e,s=10)=>{let n="";const a=Math.max(Math.round(e/s),2);for(let l=0;l<a;l++)n+=t(l/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},uf=2e4;function _y(t){let e=0;const s=50;let n=t.next(e);for(;!n.done&&e<uf;)e+=s,n=t.next(e);return e>=uf?1/0:e}function Ek(t,e=100,s){const n=s({...t,keyframes:[0,e]}),a=Math.min(_y(n),uf);return{type:"keyframes",ease:l=>n.next(a*l).value/e,duration:ur(a)}}const Ck=5;function PN(t,e,s){const n=Math.max(e-Ck,0);return pN(s-t(n),e-n)}const Bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qw=.001;function Tk({duration:t=Bt.duration,bounce:e=Bt.bounce,velocity:s=Bt.velocity,mass:n=Bt.mass}){let a,l,c=1-e;c=Yr(Bt.minDamping,Bt.maxDamping,c),t=Yr(Bt.minDuration,Bt.maxDuration,ur(t)),c<1?(a=m=>{const p=m*c,x=p*t,b=p-s,v=ig(m,c),j=Math.exp(-x);return qw-b/v*j},l=m=>{const x=m*c*t,b=x*s+s,v=Math.pow(c,2)*Math.pow(m,2)*t,j=Math.exp(-x),S=ig(Math.pow(m,2),c);return(-a(m)+qw>0?-1:1)*((b-v)*j)/S}):(a=m=>{const p=Math.exp(-m*t),x=(m-s)*t+1;return-.001+p*x},l=m=>{const p=Math.exp(-m*t),x=(s-m)*(t*t);return p*x});const u=5/t,h=Mk(a,l,u);if(t=dr(t),isNaN(h))return{stiffness:Bt.stiffness,damping:Bt.damping,duration:t};{const m=Math.pow(h,2)*n;return{stiffness:m,damping:c*2*Math.sqrt(n*m),duration:t}}}const kk=12;function Mk(t,e,s){let n=s;for(let a=1;a<kk;a++)n=n-t(n)/e(n);return n}function ig(t,e){return t*Math.sqrt(1-e*e)}const Ak=["duration","bounce"],Dk=["stiffness","damping","mass"];function Yw(t,e){return e.some(s=>t[s]!==void 0)}function Rk(t){let e={velocity:Bt.velocity,stiffness:Bt.stiffness,damping:Bt.damping,mass:Bt.mass,isResolvedFromDuration:!1,...t};if(!Yw(t,Dk)&&Yw(t,Ak))if(t.visualDuration){const s=t.visualDuration,n=2*Math.PI/(s*1.2),a=n*n,l=2*Yr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Bt.mass,stiffness:a,damping:l}}else{const s=Tk(t);e={...e,...s,mass:Bt.mass},e.isResolvedFromDuration=!0}return e}function hf(t=Bt.visualDuration,e=Bt.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=s;const l=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],u={done:!1,value:l},{stiffness:h,damping:m,mass:p,duration:x,velocity:b,isResolvedFromDuration:v}=Rk({...s,velocity:-ur(s.velocity||0)}),j=b||0,S=m/(2*Math.sqrt(h*p)),N=c-l,_=ur(Math.sqrt(h/p)),A=Math.abs(N)<5;n||(n=A?Bt.restSpeed.granular:Bt.restSpeed.default),a||(a=A?Bt.restDelta.granular:Bt.restDelta.default);let k;if(S<1){const M=ig(_,S);k=z=>{const H=Math.exp(-S*_*z);return c-H*((j+S*_*N)/M*Math.sin(M*z)+N*Math.cos(M*z))}}else if(S===1)k=M=>c-Math.exp(-_*M)*(N+(j+_*N)*M);else{const M=_*Math.sqrt(S*S-1);k=z=>{const H=Math.exp(-S*_*z),L=Math.min(M*z,300);return c-H*((j+S*_*N)*Math.sinh(L)+M*N*Math.cosh(L))/M}}const R={calculatedDuration:v&&x||null,next:M=>{const z=k(M);if(v)u.done=M>=x;else{let H=M===0?j:0;S<1&&(H=M===0?dr(j):PN(k,M,z));const L=Math.abs(H)<=n,F=Math.abs(c-z)<=a;u.done=L&&F}return u.value=u.done?c:z,u},toString:()=>{const M=Math.min(_y(R),uf),z=LN(H=>R.next(M*H).value,M,30);return M+"ms "+z},toTransition:()=>{}};return R}hf.applyToOptions=t=>{const e=Ek(t,100,hf);return t.ease=e.ease,t.duration=dr(e.duration),t.type="keyframes",t};function og({keyframes:t,velocity:e=0,power:s=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:h,restDelta:m=.5,restSpeed:p}){const x=t[0],b={done:!1,value:x},v=L=>u!==void 0&&L<u||h!==void 0&&L>h,j=L=>u===void 0?h:h===void 0||Math.abs(u-L)<Math.abs(h-L)?u:h;let S=s*e;const N=x+S,_=c===void 0?N:c(N);_!==N&&(S=_-x);const A=L=>-S*Math.exp(-L/n),k=L=>_+A(L),R=L=>{const F=A(L),U=k(L);b.done=Math.abs(F)<=m,b.value=b.done?_:U};let M,z;const H=L=>{v(b.value)&&(M=L,z=hf({keyframes:[b.value,j(b.value)],velocity:PN(k,L,b.value),damping:a,stiffness:l,restDelta:m,restSpeed:p}))};return H(0),{calculatedDuration:null,next:L=>{let F=!1;return!z&&M===void 0&&(F=!0,R(L),H(L)),M!==void 0&&L>=M?z.next(L-M):(!F&&R(L),b)}}}function Ok(t,e,s){const n=[],a=s||Xr.mix||ON,l=t.length-1;for(let c=0;c<l;c++){let u=a(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||Nn:e;u=Od(h,u)}n.push(u)}return n}function Lk(t,e,{clamp:s=!0,ease:n,mixer:a}={}){const l=t.length;if(py(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=Ok(e,n,a),h=u.length,m=p=>{if(c&&p<t[0])return e[0];let x=0;if(h>1)for(;x<t.length-2&&!(p<t[x+1]);x++);const b=ud(t[x],t[x+1],p);return u[x](b)};return s?p=>m(Yr(t[0],t[l-1],p)):m}function Pk(t,e){const s=t[t.length-1];for(let n=1;n<=e;n++){const a=ud(0,e,n);t.push(Rt(s,1,a))}}function zk(t){const e=[0];return Pk(e,t.length-1),e}function Bk(t,e){return t.map(s=>s*e)}function Vk(t,e){return t.map(()=>e||SN).splice(0,t.length-1)}function td({duration:t=300,keyframes:e,times:s,ease:n="easeInOut"}){const a=KT(n)?n.map(Vw):Vw(n),l={done:!1,value:e[0]},c=Bk(s&&s.length===e.length?s:zk(e),t),u=Lk(c,e,{ease:Array.isArray(a)?a:Vk(e,a)});return{calculatedDuration:t,next:h=>(l.value=u(h),l.done=h>=t,l)}}const Uk=t=>t!==null;function Ey(t,{repeat:e,repeatType:s="loop"},n,a=1){const l=t.filter(Uk),u=a<0||e&&s!=="loop"&&e%2===1?0:l.length-1;return!u||n===void 0?l[u]:n}const Hk={decay:og,inertia:og,tween:td,keyframes:td,spring:hf};function zN(t){typeof t.type=="string"&&(t.type=Hk[t.type])}class Cy{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const Fk=t=>t/100;class BN extends Cy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;if(s&&s.updatedAt!==Ys.now()&&this.tick(Ys.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;zN(e);const{type:s=td,repeat:n=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:u}=e;const h=s||td;h!==td&&typeof u[0]!="number"&&(this.mixKeyframes=Od(Fk,ON(u[0],u[1])),u=[0,100]);const m=h({...e,keyframes:u});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=_y(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=m}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:n,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:m=0,keyframes:p,repeat:x,repeatType:b,repeatDelay:v,type:j,onUpdate:S,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const _=this.currentTime-m*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?_<0:_>a;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,R=n;if(x){const L=Math.min(this.currentTime,a)/u;let F=Math.floor(L),U=L%1;!U&&L>=1&&(U=1),U===1&&F--,F=Math.min(F,x+1),!!(F%2)&&(b==="reverse"?(U=1-U,v&&(U-=v/u)):b==="mirror"&&(R=c)),k=Yr(0,1,U)*u}const M=A?{done:!1,value:p[0]}:R.next(k);l&&(M.value=l(M.value));let{done:z}=M;!A&&h!==null&&(z=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return H&&j!==og&&(M.value=Ey(p,this.options,N,this.speed)),S&&S(M.value),H&&this.finish(),M}then(e,s){return this.finished.then(e,s)}get duration(){return ur(this.calculatedDuration)}get time(){return ur(this.currentTime)}set time(e){e=dr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ys.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=ur(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=_k,onPlay:s,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),s&&s();const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ys.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function $k(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Vi=t=>t*180/Math.PI,lg=t=>{const e=Vi(Math.atan2(t[1],t[0]));return cg(e)},Ik={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:lg,rotateZ:lg,skewX:t=>Vi(Math.atan(t[1])),skewY:t=>Vi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cg=t=>(t=t%360,t<0&&(t+=360),t),Xw=lg,Ww=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Gw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),qk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ww,scaleY:Gw,scale:t=>(Ww(t)+Gw(t))/2,rotateX:t=>cg(Vi(Math.atan2(t[6],t[5]))),rotateY:t=>cg(Vi(Math.atan2(-t[2],t[0]))),rotateZ:Xw,rotate:Xw,skewX:t=>Vi(Math.atan(t[4])),skewY:t=>Vi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Kw(t){return t.includes("scale")?1:0}function dg(t,e){if(!t||t==="none")return Kw(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(s)n=qk,a=s;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Ik,a=u}if(!a)return Kw(e);const l=n[e],c=a[1].split(",").map(Xk);return typeof l=="function"?l(c):c[l]}const Yk=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return dg(s,e)};function Xk(t){return parseFloat(t.trim())}const pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xl=new Set(pl),Qw=t=>t===ml||t===Pe,Wk=new Set(["x","y","z"]),Gk=pl.filter(t=>!Wk.has(t));function Kk(t){const e=[];return Gk.forEach(s=>{const n=t.getValue(s);n!==void 0&&(e.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),e}const il={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dg(e,"x"),y:(t,{transform:e})=>dg(e,"y")};il.translateX=il.x;il.translateY=il.y;const $i=new Set;let ug=!1,hg=!1,fg=!1;function VN(){if(hg){const t=Array.from($i).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),s=new Map;e.forEach(n=>{const a=Kk(n);a.length&&(s.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=s.get(n);a&&a.forEach(([l,c])=>{var u;(u=n.getValue(l))==null||u.set(c)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}hg=!1,ug=!1,$i.forEach(t=>t.complete(fg)),$i.clear()}function UN(){$i.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hg=!0)})}function Qk(){fg=!0,UN(),VN(),fg=!1}class Ty{constructor(e,s,n,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=n,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?($i.add(this),ug||(ug=!0,Ot.read(UN),Ot.resolveKeyframes(VN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:n,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(n&&s){const u=n.readValue(s,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}$k(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$i.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$i.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Zk=t=>t.startsWith("--");function Jk(t,e,s){Zk(e)?t.style.setProperty(e,s):t.style[e]=s}const e3=xy(()=>window.ScrollTimeline!==void 0),t3={};function s3(t,e){const s=xy(t);return()=>t3[e]??s()}const HN=s3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qc=([t,e,s,n])=>`cubic-bezier(${t}, ${e}, ${s}, ${n})`,Zw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qc([0,.65,.55,1]),circOut:qc([.55,0,1,.45]),backIn:qc([.31,.01,.66,-.59]),backOut:qc([.33,1.53,.69,.99])};function FN(t,e){if(t)return typeof t=="function"?HN()?LN(t,e):"ease-out":_N(t)?qc(t):Array.isArray(t)?t.map(s=>FN(s,e)||Zw.easeOut):Zw[t]}function n3(t,e,s,{delay:n=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:h}={},m=void 0){const p={[e]:s};h&&(p.offset=h);const x=FN(u,a);Array.isArray(x)&&(p.easing=x);const b={delay:n,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(b.pseudoElement=m),t.animate(p,b)}function $N(t){return typeof t=="function"&&"applyToOptions"in t}function r3({type:t,...e}){return $N(t)&&HN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class a3 extends Cy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:n,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,py(typeof e.type!="string");const m=r3(e);this.animation=n3(s,n,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Ey(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):Jk(s,n,p),this.animation.cancel()}h==null||h(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,n;const e=((n=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:n.call(s).duration)||0;return ur(Number(e))}get time(){return ur(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=dr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&e3()?(this.animation.timeline=e,Nn):s(this)}}const IN={anticipate:wN,backInOut:vN,circInOut:NN};function i3(t){return t in IN}function o3(t){typeof t.ease=="string"&&i3(t.ease)&&(t.ease=IN[t.ease])}const Jw=10;class l3 extends a3{constructor(e){o3(e),zN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:n,onComplete:a,element:l,...c}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const u=new BN({...c,autoplay:!1}),h=dr(this.finishedTime??this.time);s.setWithVelocity(u.sample(h-Jw).value,u.sample(h).value,Jw),u.stop()}}const e1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ya.test(t)||t==="0")&&!t.startsWith("url("));function c3(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function d3(t,e,s,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=e1(a,e),u=e1(l,e);return!c||!u?!1:c3(t)||(s==="spring"||$N(s))&&n}const u3=new Set(["opacity","clipPath","filter","transform"]),h3=xy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function f3(t){const{motionValue:e,name:s,repeatDelay:n,repeatType:a,damping:l,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return h3()&&s&&u3.has(s)&&(s!=="transform"||!h)&&!u&&!n&&a!=="mirror"&&l!==0&&c!=="inertia"}const m3=40;class p3 extends Cy{constructor({autoplay:e=!0,delay:s=0,type:n="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:h,motionValue:m,element:p,...x}){var j;super(),this.stop=()=>{var S,N;this._animation?(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)):(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Ys.now();const b={autoplay:e,delay:s,type:n,repeat:a,repeatDelay:l,repeatType:c,name:h,motionValue:m,element:p,...x},v=(p==null?void 0:p.KeyframeResolver)||Ty;this.keyframeResolver=new v(u,(S,N,_)=>this.onKeyframesResolved(S,N,b,!_),h,m,p),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(e,s,n,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:h,isHandoff:m,onUpdate:p}=n;this.resolvedAt=Ys.now(),d3(e,l,c,u)||((Xr.instantAnimations||!h)&&(p==null||p(Ey(e,n,s))),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>m3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:e},v=!m&&f3(b)?new l3({...b,element:b.motionValue.owner.current}):new BN(b);v.finished.then(()=>this.notifyFinished()).catch(Nn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||Qk(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const x3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g3(t){const e=x3.exec(t);if(!e)return[,];const[,s,n,a]=e;return[`--${s??n}`,a]}function qN(t,e,s=1){const[n,a]=g3(t);if(!n)return;const l=window.getComputedStyle(e).getPropertyValue(n);if(l){const c=l.trim();return fN(c)?parseFloat(c):c}return wy(a)?qN(a,e,s+1):a}function ky(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const YN=new Set(["width","height","top","left","right","bottom",...pl]),y3={test:t=>t==="auto",parse:t=>t},XN=t=>e=>e.test(t),WN=[ml,Pe,hr,za,ck,lk,y3],t1=t=>WN.find(XN(t));function b3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||mN(t):!0}const v3=new Set(["brightness","contrast","saturate","opacity"]);function w3(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=s.match(jy)||[];if(!n)return t;const a=s.replace(n,"");let l=v3.has(e)?1:0;return n!==s&&(l*=100),e+"("+l+a+")"}const j3=/\b([a-z-]*)\(.*?\)/gu,mg={...Ya,getAnimatableNone:t=>{const e=t.match(j3);return e?e.map(w3).join(" "):t}},s1={...ml,transform:Math.round},N3={rotate:za,rotateX:za,rotateY:za,rotateZ:za,scale:mh,scaleX:mh,scaleY:mh,scaleZ:mh,skew:za,skewX:za,skewY:za,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:hd,originX:Hw,originY:Hw,originZ:Pe},My={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...N3,zIndex:s1,fillOpacity:hd,strokeOpacity:hd,numOctaves:s1},S3={...My,color:_s,backgroundColor:_s,outlineColor:_s,fill:_s,stroke:_s,borderColor:_s,borderTopColor:_s,borderRightColor:_s,borderBottomColor:_s,borderLeftColor:_s,filter:mg,WebkitFilter:mg},GN=t=>S3[t];function KN(t,e){let s=GN(t);return s!==mg&&(s=Ya),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const _3=new Set(["auto","none","0"]);function E3(t,e,s){let n=0,a;for(;n<t.length&&!a;){const l=t[n];typeof l=="string"&&!_3.has(l)&&fd(l).values.length&&(a=t[n]),n++}if(a&&s)for(const l of e)t[l]=KN(s,a)}class C3 extends Ty{constructor(e,s,n,a,l){super(e,s,n,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),wy(m))){const p=qN(m,s.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!YN.has(n)||e.length!==2)return;const[a,l]=e,c=t1(a),u=t1(l);if(c!==u)if(Qw(c)&&Qw(u))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||b3(e[a]))&&n.push(a);n.length&&E3(e,n,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=il[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var u;const{element:e,name:s,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(s);a&&a.jump(this.measuredOrigin,!1);const l=n.length-1,c=n[l];n[l]=il[s](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function T3(t,e,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(s==null?void 0:s[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const{schedule:Ay}=EN(queueMicrotask,!1),zn={x:!1,y:!1};function QN(){return zn.x||zn.y}function k3(t){return t==="x"||t==="y"?zn[t]?null:(zn[t]=!0,()=>{zn[t]=!1}):zn.x||zn.y?null:(zn.x=zn.y=!0,()=>{zn.x=zn.y=!1})}function ZN(t,e){const s=T3(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[s,a,()=>n.abort()]}function n1(t){return!(t.pointerType==="touch"||QN())}function M3(t,e,s={}){const[n,a,l]=ZN(t,s),c=u=>{if(!n1(u))return;const{target:h}=u,m=e(h,u);if(typeof m!="function"||!h)return;const p=x=>{n1(x)&&(m(x),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,a)};return n.forEach(u=>{u.addEventListener("pointerenter",c,a)}),l}const JN=(t,e)=>e?t===e?!0:JN(t,e.parentElement):!1,Dy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,A3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function D3(t){return A3.has(t.tagName)||t.tabIndex!==-1}const Yc=new WeakSet;function r1(t){return e=>{e.key==="Enter"&&t(e)}}function Nx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const R3=(t,e)=>{const s=t.currentTarget;if(!s)return;const n=r1(()=>{if(Yc.has(s))return;Nx(s,"down");const a=r1(()=>{Nx(s,"up")}),l=()=>Nx(s,"cancel");s.addEventListener("keyup",a,e),s.addEventListener("blur",l,e)});s.addEventListener("keydown",n,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),e)};function a1(t){return Dy(t)&&!QN()}function O3(t,e,s={}){const[n,a,l]=ZN(t,s),c=u=>{const h=u.currentTarget;if(!a1(u)||Yc.has(h))return;Yc.add(h);const m=e(h,u),p=(v,j)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),!(!a1(v)||!Yc.has(h))&&(Yc.delete(h),typeof m=="function"&&m(v,{success:j}))},x=v=>{p(v,h===window||h===document||s.useGlobalTarget||JN(h,v.target))},b=v=>{p(v,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",b,a)};return n.forEach(u=>{(s.useGlobalTarget?window:u).addEventListener("pointerdown",c,a),u instanceof HTMLElement&&(u.addEventListener("focus",m=>R3(m,a)),!D3(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}const i1=30,L3=t=>!isNaN(parseFloat(t));class P3{constructor(e,s={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var c,u;const l=Ys.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),a&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Ys.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=L3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new gy);const n=this.events[e].add(s);return e==="change"?()=>{n(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e,s=!0){!s||!this.passiveEffect?this.updateAndNotify(e,s):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>i1)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,i1);return pN(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function md(t,e){return new P3(t,e)}const z3=[...WN,_s,Ya],B3=t=>z3.find(XN(t)),eS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tS=D.createContext({strict:!1}),o1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ol={};for(const t in o1)ol[t]={isEnabled:e=>o1[t].some(s=>!!e[s])};function V3(t){for(const e in t)ol[e]={...ol[e],...t[e]}}const U3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ff(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||U3.has(t)}let sS=t=>!ff(t);function H3(t){t&&(sS=e=>e.startsWith("on")?!ff(e):t(e))}try{H3(require("@emotion/is-prop-valid").default)}catch{}function F3(t,e,s){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(sS(a)||s===!0&&ff(a)||!e&&!ff(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}function $3(t){if(typeof Proxy>"u")return t;const e=new Map,s=(...n)=>t(...n);return new Proxy(s,{get:(n,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Of=D.createContext({});function Lf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pd(t){return typeof t=="string"||Array.isArray(t)}const Ry=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Oy=["initial",...Ry];function Pf(t){return Lf(t.animate)||Oy.some(e=>pd(t[e]))}function nS(t){return!!(Pf(t)||t.variants)}function I3(t,e){if(Pf(t)){const{initial:s,animate:n}=t;return{initial:s===!1||pd(s)?s:void 0,animate:pd(n)?n:void 0}}return t.inherit!==!1?e:{}}function q3(t){const{initial:e,animate:s}=I3(t,D.useContext(Of));return D.useMemo(()=>({initial:e,animate:s}),[l1(e),l1(s)])}function l1(t){return Array.isArray(t)?t.join(" "):t}const Y3=Symbol.for("motionComponentSymbol");function Go(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function X3(t,e,s){return D.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),s&&(typeof s=="function"?s(n):Go(s)&&(s.current=n))},[e])}const Ly=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),W3="framerAppearId",rS="data-"+Ly(W3),aS=D.createContext({});function G3(t,e,s,n,a){var S,N;const{visualElement:l}=D.useContext(Of),c=D.useContext(tS),u=D.useContext(Rf),h=D.useContext(hy).reducedMotion,m=D.useRef(null);n=n||c.renderer,!m.current&&n&&(m.current=n(t,{visualState:e,parent:l,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,x=D.useContext(aS);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&K3(m.current,s,a,x);const b=D.useRef(!1);D.useInsertionEffect(()=>{p&&b.current&&p.update(s,u)});const v=s[rS],j=D.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,v)));return dN(()=>{p&&(b.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Ay.render(p.render),j.current&&p.animationState&&p.animationState.animateChanges())}),D.useEffect(()=>{p&&(!j.current&&p.animationState&&p.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),j.current=!1))}),p}function K3(t,e,s,n){const{layoutId:a,layout:l,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:iS(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||u&&Go(u),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:h,layoutRoot:m})}function iS(t){if(t)return t.options.allowProjection!==!1?t.projection:iS(t.parent)}function Q3({preloadedFeatures:t,createVisualElement:e,useRender:s,useVisualState:n,Component:a}){t&&V3(t);function l(u,h){let m;const p={...D.useContext(hy),...u,layoutId:Z3(u)},{isStatic:x}=p,b=q3(u),v=n(u,x);if(!x&&uy){J3();const j=eM(p);m=j.MeasureLayout,b.visualElement=G3(a,v,p,e,j.ProjectionNode)}return o.jsxs(Of.Provider,{value:b,children:[m&&b.visualElement?o.jsx(m,{visualElement:b.visualElement,...p}):null,s(a,u,X3(v,b.visualElement,h),v,x,b.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=D.forwardRef(l);return c[Y3]=a,c}function Z3({layoutId:t}){const e=D.useContext(cy).id;return e&&t!==void 0?e+"-"+t:t}function J3(t,e){D.useContext(tS).strict}function eM(t){const{drag:e,layout:s}=ol;if(!e&&!s)return{};const n={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(t)||s!=null&&s.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const xd={};function tM(t){for(const e in t)xd[e]=t[e],vy(e)&&(xd[e].isCSSVariable=!0)}function oS(t,{layout:e,layoutId:s}){return xl.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!xd[t]||t==="opacity")}const Cs=t=>!!(t&&t.getVelocity),sM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nM=pl.length;function rM(t,e,s){let n="",a=!0;for(let l=0;l<nM;l++){const c=pl[l],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||s){const m=eS(u,My[c]);if(!h){a=!1;const p=sM[c]||c;n+=`${p}(${m}) `}s&&(e[c]=m)}}return n=n.trim(),s?n=s(e,a?"":n):a&&(n="none"),n}function Py(t,e,s){const{style:n,vars:a,transformOrigin:l}=t;let c=!1,u=!1;for(const h in e){const m=e[h];if(xl.has(h)){c=!0;continue}else if(vy(h)){a[h]=m;continue}else{const p=eS(m,My[h]);h.startsWith("origin")?(u=!0,l[h]=p):n[h]=p}}if(e.transform||(c||s?n.transform=rM(e,t.transform,s):n.transform&&(n.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:p=0}=l;n.transformOrigin=`${h} ${m} ${p}`}}const zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lS(t,e,s){for(const n in e)!Cs(e[n])&&!oS(n,s)&&(t[n]=e[n])}function aM({transformTemplate:t},e){return D.useMemo(()=>{const s=zy();return Py(s,e,t),Object.assign({},s.vars,s.style)},[e])}function iM(t,e){const s=t.style||{},n={};return lS(n,s,t),Object.assign(n,aM(t,e)),n}function oM(t,e){const s={},n=iM(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=n,s}const lM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function By(t){return typeof t!="string"||t.includes("-")?!1:!!(lM.indexOf(t)>-1||/[A-Z]/u.test(t))}const cM={offset:"stroke-dashoffset",array:"stroke-dasharray"},dM={offset:"strokeDashoffset",array:"strokeDasharray"};function uM(t,e,s=1,n=0,a=!0){t.pathLength=1;const l=a?cM:dM;t[l.offset]=Pe.transform(-n);const c=Pe.transform(e),u=Pe.transform(s);t[l.array]=`${c} ${u}`}function cS(t,{attrX:e,attrY:s,attrScale:n,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},h,m){if(Py(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:x}=t;p.transform&&(x.transform=p.transform,delete p.transform),(x.transform||p.transformOrigin)&&(x.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),x.transform&&(x.transformBox="fill-box",delete p.transformBox),e!==void 0&&(p.x=e),s!==void 0&&(p.y=s),n!==void 0&&(p.scale=n),a!==void 0&&uM(p,a,l,c,!1)}const dS=()=>({...zy(),attrs:{}}),uS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hM(t,e,s,n){const a=D.useMemo(()=>{const l=dS();return cS(l,e,uS(n),t.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};lS(l,t.style,t),a.style={...l,...a.style}}return a}function fM(t=!1){return(s,n,a,{latestValues:l},c)=>{const h=(By(s)?hM:oM)(n,l,c,s),m=F3(n,typeof s=="string",t),p=s!==D.Fragment?{...m,...h,ref:a}:{},{children:x}=n,b=D.useMemo(()=>Cs(x)?x.get():x,[x]);return D.createElement(s,{...p,children:b})}}function c1(t){const e=[{},{}];return t==null||t.values.forEach((s,n)=>{e[0][n]=s.get(),e[1][n]=s.getVelocity()}),e}function Vy(t,e,s,n){if(typeof e=="function"){const[a,l]=c1(n);e=e(s!==void 0?s:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=c1(n);e=e(s!==void 0?s:t.custom,a,l)}return e}function Kh(t){return Cs(t)?t.get():t}function mM({scrapeMotionValuesFromProps:t,createRenderState:e},s,n,a){return{latestValues:pM(s,n,a,t),renderState:e()}}const hS=t=>(e,s)=>{const n=D.useContext(Of),a=D.useContext(Rf),l=()=>mM(t,e,n,a);return s?l():dy(l)};function pM(t,e,s,n){const a={},l=n(t,{});for(const b in l)a[b]=Kh(l[b]);let{initial:c,animate:u}=t;const h=Pf(t),m=nS(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let p=s?s.initial===!1:!1;p=p||c===!1;const x=p?u:c;if(x&&typeof x!="boolean"&&!Lf(x)){const b=Array.isArray(x)?x:[x];for(let v=0;v<b.length;v++){const j=Vy(t,b[v]);if(j){const{transitionEnd:S,transition:N,..._}=j;for(const A in _){let k=_[A];if(Array.isArray(k)){const R=p?k.length-1:0;k=k[R]}k!==null&&(a[A]=k)}for(const A in S)a[A]=S[A]}}}return a}function Uy(t,e,s){var l;const{style:n}=t,a={};for(const c in n)(Cs(n[c])||e.style&&Cs(e.style[c])||oS(c,t)||((l=s==null?void 0:s.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=n[c]);return a}const xM={useVisualState:hS({scrapeMotionValuesFromProps:Uy,createRenderState:zy})};function fS(t,e,s){const n=Uy(t,e,s);for(const a in t)if(Cs(t[a])||Cs(e[a])){const l=pl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[l]=t[a]}return n}const gM={useVisualState:hS({scrapeMotionValuesFromProps:fS,createRenderState:dS})};function yM(t,e){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...By(n)?gM:xM,preloadedFeatures:t,useRender:fM(a),createVisualElement:e,Component:n};return Q3(c)}}function gd(t,e,s){const n=t.getProps();return Vy(n,e,s!==void 0?s:n.custom,t)}const pg=t=>Array.isArray(t);function bM(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,md(s))}function vM(t){return pg(t)?t[t.length-1]||0:t}function wM(t,e){const s=gd(t,e);let{transitionEnd:n={},transition:a={},...l}=s||{};l={...l,...n};for(const c in l){const u=vM(l[c]);bM(t,c,u)}}function jM(t){return!!(Cs(t)&&t.add)}function xg(t,e){const s=t.getValue("willChange");if(jM(s))return s.add(e);if(!s&&Xr.WillChange){const n=new Xr.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function mS(t){return t.props[rS]}const NM=t=>t!==null;function SM(t,{repeat:e,repeatType:s="loop"},n){const a=t.filter(NM),l=e&&s!=="loop"&&e%2===1?0:a.length-1;return a[l]}const _M={type:"spring",stiffness:500,damping:25,restSpeed:10},EM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),CM={type:"keyframes",duration:.8},TM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kM=(t,{keyframes:e})=>e.length>2?CM:xl.has(t)?t.startsWith("scale")?EM(e[1]):_M:TM;function MM({when:t,delay:e,delayChildren:s,staggerChildren:n,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:u,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const Hy=(t,e,s,n={},a,l)=>c=>{const u=ky(n,t)||{},h=u.delay||n.delay||0;let{elapsed:m=0}=n;m=m-dr(h);const p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-m,onUpdate:b=>{e.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:l?void 0:a};MM(u)||Object.assign(p,kM(t,p)),p.duration&&(p.duration=dr(p.duration)),p.repeatDelay&&(p.repeatDelay=dr(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let x=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(x=!0)),(Xr.instantAnimations||Xr.skipAnimations)&&(x=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,x&&!l&&e.get()!==void 0){const b=SM(p.keyframes,u);if(b!==void 0){Ot.update(()=>{p.onUpdate(b),p.onComplete()});return}}return new p3(p)};function AM({protectedKeys:t,needsAnimating:e},s){const n=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,n}function pS(t,e,{delay:s=0,transitionOverride:n,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...u}=e;n&&(l=n);const h=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const p in u){const x=t.getValue(p,t.latestValues[p]??null),b=u[p];if(b===void 0||m&&AM(m,p))continue;const v={delay:s,...ky(l||{},p)},j=x.get();if(j!==void 0&&!x.isAnimating&&!Array.isArray(b)&&b===j&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const _=mS(t);if(_){const A=window.MotionHandoffAnimation(_,p,Ot);A!==null&&(v.startTime=A,S=!0)}}xg(t,p),x.start(Hy(p,x,b,t.shouldReduceMotion&&YN.has(p)?{type:!1}:v,t,S));const N=x.animation;N&&h.push(N)}return c&&Promise.all(h).then(()=>{Ot.update(()=>{c&&wM(t,c)})}),h}function gg(t,e,s={}){var h;const n=gd(t,e,s.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(a=s.transitionOverride);const l=n?()=>Promise.all(pS(t,n,s)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:b}=a;return DM(t,e,p+m,x,b,s)}:()=>Promise.resolve(),{when:u}=a;if(u){const[m,p]=u==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(s.delay)])}function DM(t,e,s=0,n=0,a=1,l){const c=[],u=(t.variantChildren.size-1)*n,h=a===1?(m=0)=>m*n:(m=0)=>u-m*n;return Array.from(t.variantChildren).sort(RM).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(gg(m,e,{...l,delay:s+h(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function RM(t,e){return t.sortNodePosition(e)}function OM(t,e,s={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(l=>gg(t,l,s));n=Promise.all(a)}else if(typeof e=="string")n=gg(t,e,s);else{const a=typeof e=="function"?gd(t,e,s.custom):e;n=Promise.all(pS(t,a,s))}return n.then(()=>{t.notify("AnimationComplete",e)})}function xS(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let n=0;n<s;n++)if(e[n]!==t[n])return!1;return!0}const LM=Oy.length;function gS(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?gS(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<LM;s++){const n=Oy[s],a=t.props[n];(pd(a)||a===!1)&&(e[n]=a)}return e}const PM=[...Ry].reverse(),zM=Ry.length;function BM(t){return e=>Promise.all(e.map(({animation:s,options:n})=>OM(t,s,n)))}function VM(t){let e=BM(t),s=d1(),n=!0;const a=h=>(m,p)=>{var b;const x=gd(t,p,h==="exit"?(b=t.presenceContext)==null?void 0:b.custom:void 0);if(x){const{transition:v,transitionEnd:j,...S}=x;m={...m,...S,...j}}return m};function l(h){e=h(t)}function c(h){const{props:m}=t,p=gS(t.parent)||{},x=[],b=new Set;let v={},j=1/0;for(let N=0;N<zM;N++){const _=PM[N],A=s[_],k=m[_]!==void 0?m[_]:p[_],R=pd(k),M=_===h?A.isActive:null;M===!1&&(j=N);let z=k===p[_]&&k!==m[_]&&R;if(z&&n&&t.manuallyAnimateOnMount&&(z=!1),A.protectedKeys={...v},!A.isActive&&M===null||!k&&!A.prevProp||Lf(k)||typeof k=="boolean")continue;const H=UM(A.prevProp,k);let L=H||_===h&&A.isActive&&!z&&R||N>j&&R,F=!1;const U=Array.isArray(k)?k:[k];let X=U.reduce(a(_),{});M===!1&&(X={});const{prevResolvedValues:Z={}}=A,ae={...Z,...X},ne=I=>{L=!0,b.has(I)&&(F=!0,b.delete(I)),A.needsAnimating[I]=!0;const $=t.getValue(I);$&&($.liveStyle=!1)};for(const I in ae){const $=X[I],W=Z[I];if(v.hasOwnProperty(I))continue;let B=!1;pg($)&&pg(W)?B=!xS($,W):B=$!==W,B?$!=null?ne(I):b.add(I):$!==void 0&&b.has(I)?ne(I):A.protectedKeys[I]=!0}A.prevProp=k,A.prevResolvedValues=X,A.isActive&&(v={...v,...X}),n&&t.blockInitialAnimation&&(L=!1),L&&(!(z&&H)||F)&&x.push(...U.map(I=>({animation:I,options:{type:_}})))}if(b.size){const N={};if(typeof m.initial!="boolean"){const _=gd(t,Array.isArray(m.initial)?m.initial[0]:m.initial);_&&_.transition&&(N.transition=_.transition)}b.forEach(_=>{const A=t.getBaseTarget(_),k=t.getValue(_);k&&(k.liveStyle=!0),N[_]=A??null}),x.push({animation:N})}let S=!!x.length;return n&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(S=!1),n=!1,S?e(x):Promise.resolve()}function u(h,m){var x;if(s[h].isActive===m)return Promise.resolve();(x=t.variantChildren)==null||x.forEach(b=>{var v;return(v=b.animationState)==null?void 0:v.setActive(h,m)}),s[h].isActive=m;const p=c(h);for(const b in s)s[b].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>s,reset:()=>{s=d1(),n=!0}}}function UM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xS(e,t):!1}function Ei(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function d1(){return{animate:Ei(!0),whileInView:Ei(),whileHover:Ei(),whileTap:Ei(),whileDrag:Ei(),whileFocus:Ei(),exit:Ei()}}class Za{constructor(e){this.isMounted=!1,this.node=e}update(){}}class HM extends Za{constructor(e){super(e),e.animationState||(e.animationState=VM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Lf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let FM=0;class $M extends Za{constructor(){super(...arguments),this.id=FM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);s&&!e&&a.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const IM={animation:{Feature:HM},exit:{Feature:$M}};function yd(t,e,s,n={passive:!0}){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s)}function zd(t){return{point:{x:t.pageX,y:t.pageY}}}const qM=t=>e=>Dy(e)&&t(e,zd(e));function sd(t,e,s,n){return yd(t,e,qM(s),n)}function yS({top:t,left:e,right:s,bottom:n}){return{x:{min:e,max:s},y:{min:t,max:n}}}function YM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function XM(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}const bS=1e-4,WM=1-bS,GM=1+bS,vS=.01,KM=0-vS,QM=0+vS;function Ls(t){return t.max-t.min}function ZM(t,e,s){return Math.abs(t-e)<=s}function u1(t,e,s,n=.5){t.origin=n,t.originPoint=Rt(e.min,e.max,t.origin),t.scale=Ls(s)/Ls(e),t.translate=Rt(s.min,s.max,t.origin)-t.originPoint,(t.scale>=WM&&t.scale<=GM||isNaN(t.scale))&&(t.scale=1),(t.translate>=KM&&t.translate<=QM||isNaN(t.translate))&&(t.translate=0)}function nd(t,e,s,n){u1(t.x,e.x,s.x,n?n.originX:void 0),u1(t.y,e.y,s.y,n?n.originY:void 0)}function h1(t,e,s){t.min=s.min+e.min,t.max=t.min+Ls(e)}function JM(t,e,s){h1(t.x,e.x,s.x),h1(t.y,e.y,s.y)}function f1(t,e,s){t.min=e.min-s.min,t.max=t.min+Ls(e)}function rd(t,e,s){f1(t.x,e.x,s.x),f1(t.y,e.y,s.y)}const m1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:m1(),y:m1()}),p1=()=>({min:0,max:0}),Yt=()=>({x:p1(),y:p1()});function bn(t){return[t("x"),t("y")]}function Sx(t){return t===void 0||t===1}function yg({scale:t,scaleX:e,scaleY:s}){return!Sx(t)||!Sx(e)||!Sx(s)}function Oi(t){return yg(t)||wS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wS(t){return x1(t.x)||x1(t.y)}function x1(t){return t&&t!=="0%"}function mf(t,e,s){const n=t-s,a=e*n;return s+a}function g1(t,e,s,n,a){return a!==void 0&&(t=mf(t,a,n)),mf(t,s,n)+e}function bg(t,e=0,s=1,n,a){t.min=g1(t.min,e,s,n,a),t.max=g1(t.max,e,s,n,a)}function jS(t,{x:e,y:s}){bg(t.x,e.translate,e.scale,e.originPoint),bg(t.y,s.translate,s.scale,s.originPoint)}const y1=.999999999999,b1=1.0000000000001;function eA(t,e,s,n=!1){const a=s.length;if(!a)return;e.x=e.y=1;let l,c;for(let u=0;u<a;u++){l=s[u],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Zo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,jS(t,c)),n&&Oi(l.latestValues)&&Zo(t,l.latestValues))}e.x<b1&&e.x>y1&&(e.x=1),e.y<b1&&e.y>y1&&(e.y=1)}function Qo(t,e){t.min=t.min+e,t.max=t.max+e}function v1(t,e,s,n,a=.5){const l=Rt(t.min,t.max,a);bg(t,e,s,l,n)}function Zo(t,e){v1(t.x,e.x,e.scaleX,e.scale,e.originX),v1(t.y,e.y,e.scaleY,e.scale,e.originY)}function NS(t,e){return yS(XM(t.getBoundingClientRect(),e))}function tA(t,e,s){const n=NS(t,s),{scroll:a}=e;return a&&(Qo(n.x,a.offset.x),Qo(n.y,a.offset.y)),n}const SS=({current:t})=>t?t.ownerDocument.defaultView:null,w1=(t,e)=>Math.abs(t-e);function sA(t,e){const s=w1(t.x,e.x),n=w1(t.y,e.y);return Math.sqrt(s**2+n**2)}class _S{constructor(e,s,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ex(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,v=sA(x.offset,{x:0,y:0})>=3;if(!b&&!v)return;const{point:j}=x,{timestamp:S}=ys;this.history.push({...j,timestamp:S});const{onStart:N,onMove:_}=this.handlers;b||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=_x(b,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:v,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Ex(x.type==="pointercancel"?this.lastMoveEventInfo:_x(b,this.transformPagePoint),this.history);this.startEvent&&v&&v(x,N),j&&j(x,N)},!Dy(e))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=n,this.contextWindow=a||window;const c=zd(e),u=_x(c,this.transformPagePoint),{point:h}=u,{timestamp:m}=ys;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=s;p&&p(e,Ex(u,this.history)),this.removeListeners=Od(sd(this.contextWindow,"pointermove",this.handlePointerMove),sd(this.contextWindow,"pointerup",this.handlePointerUp),sd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qa(this.updatePoint)}}function _x(t,e){return e?{point:e(t.point)}:t}function j1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ex({point:t},e){return{point:t,delta:j1(t,ES(e)),offset:j1(t,nA(e)),velocity:rA(e,.1)}}function nA(t){return t[0]}function ES(t){return t[t.length-1]}function rA(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,n=null;const a=ES(t);for(;s>=0&&(n=t[s],!(a.timestamp-n.timestamp>dr(e)));)s--;if(!n)return{x:0,y:0};const l=ur(a.timestamp-n.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-n.x)/l,y:(a.y-n.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function aA(t,{min:e,max:s},n){return e!==void 0&&t<e?t=n?Rt(e,t,n.min):Math.max(t,e):s!==void 0&&t>s&&(t=n?Rt(s,t,n.max):Math.min(t,s)),t}function N1(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function iA(t,{top:e,left:s,bottom:n,right:a}){return{x:N1(t.x,s,a),y:N1(t.y,e,n)}}function S1(t,e){let s=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,n]=[n,s]),{min:s,max:n}}function oA(t,e){return{x:S1(t.x,e.x),y:S1(t.y,e.y)}}function lA(t,e){let s=.5;const n=Ls(t),a=Ls(e);return a>n?s=ud(e.min,e.max-n,t.min):n>a&&(s=ud(t.min,t.max-a,e.min)),Yr(0,1,s)}function cA(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const vg=.35;function dA(t=vg){return t===!1?t=0:t===!0&&(t=vg),{x:_1(t,"left","right"),y:_1(t,"top","bottom")}}function _1(t,e,s){return{min:E1(t,e),max:E1(t,s)}}function E1(t,e){return typeof t=="number"?t:t[e]||0}const uA=new WeakMap;class hA{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yt(),this.visualElement=e}start(e,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(zd(p).point)},l=(p,x)=>{const{drag:b,dragPropagation:v,onDragStart:j}=this.getProps();if(b&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=k3(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(N=>{let _=this.getAxisMotionValue(N).get()||0;if(hr.test(_)){const{projection:A}=this.visualElement;if(A&&A.layout){const k=A.layout.layoutBox[N];k&&(_=Ls(k)*(parseFloat(_)/100))}}this.originPoint[N]=_}),j&&Ot.postRender(()=>j(p,x)),xg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(p,x)=>{const{dragPropagation:b,dragDirectionLock:v,onDirectionLock:j,onDrag:S}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:N}=x;if(v&&this.currentDirection===null){this.currentDirection=fA(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),S&&S(p,x)},u=(p,x)=>this.stop(p,x),h=()=>bn(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new _S(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:SS(this.visualElement)})}stop(e,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Ot.postRender(()=>l(e,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,n){const{drag:a}=this.getProps();if(!n||!ph(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=aA(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&Go(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=iA(n.layoutBox,e):this.constraints=!1,this.elastic=dA(s),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&bn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=cA(n.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Go(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=tA(n,a.root,this.visualElement.getTransformPagePoint());let c=oA(a.layout.layoutBox,l);if(s){const u=s(YM(c));this.hasMutatedConstraints=!!u,u&&(c=yS(u))}return c}startAnimation(e){const{drag:s,dragMomentum:n,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=bn(p=>{if(!ph(p,s,this.currentDirection))return;let x=h&&h[p]||{};c&&(x={min:0,max:0});const b=a?200:1e6,v=a?40:1e7,j={type:"inertia",velocity:n?e[p]:0,bounceStiffness:b,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(p,j)});return Promise.all(m).then(u)}startAxisValueAnimation(e,s){const n=this.getAxisMotionValue(e);return xg(this.visualElement,e),n.start(Hy(e,n,0,s,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[s];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){bn(s=>{const{drag:n}=this.getProps();if(!ph(s,n,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(s);if(a&&a.layout){const{min:c,max:u}=a.layout.layoutBox[s];l.set(e[s]-Rt(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!Go(s)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};bn(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();a[c]=lA({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),bn(c=>{if(!ph(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];u.set(Rt(h,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;uA.set(this.visualElement,this);const e=this.visualElement.current,s=sd(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();Go(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ot.read(n);const c=yd(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(bn(p=>{const x=this.getAxisMotionValue(p);x&&(this.originPoint[p]+=h[p].translate,x.set(x.get()+h[p].translate))}),this.visualElement.render())});return()=>{c(),s(),l(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=vg,dragMomentum:u=!0}=e;return{...e,drag:s,dragDirectionLock:n,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function ph(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function fA(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class mA extends Za{constructor(e){super(e),this.removeGroupControls=Nn,this.removeListeners=Nn,this.controls=new hA(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const C1=t=>(e,s)=>{t&&Ot.postRender(()=>t(e,s))};class pA extends Za{constructor(){super(...arguments),this.removePointerDownListener=Nn}onPointerDown(e){this.session=new _S(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:C1(e),onStart:C1(s),onMove:n,onEnd:(l,c)=>{delete this.session,a&&Ot.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=sd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function T1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const s=T1(t,e.target.x),n=T1(t,e.target.y);return`${s}% ${n}%`}},xA={correct:(t,{treeScale:e,projectionDelta:s})=>{const n=t,a=Ya.parse(t);if(a.length>5)return n;const l=Ya.createTransformer(t),c=typeof a[0]!="number"?1:0,u=s.x.scale*e.x,h=s.y.scale*e.y;a[0+c]/=u,a[1+c]/=h;const m=Rt(u,h,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}};class gA extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n,layoutId:a}=this.props,{projection:l}=e;tM(yA),l&&(s.group&&s.group.add(l),n&&n.register&&a&&n.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Qh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:n,drag:a,isPresent:l}=this.props,c=n.projection;return c&&(c.isPresent=l,a||e.layoutDependency!==s||s===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ot.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ay.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function CS(t){const[e,s]=uN(),n=D.useContext(cy);return o.jsx(gA,{...t,layoutGroup:n,switchLayoutGroup:D.useContext(aS),isPresent:e,safeToRemove:s})}const yA={borderRadius:{...Tc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tc,borderTopRightRadius:Tc,borderBottomLeftRadius:Tc,borderBottomRightRadius:Tc,boxShadow:xA};function bA(t,e,s){const n=Cs(t)?t:md(t);return n.start(Hy("",n,e,s)),n.animation}function vA(t){return t instanceof SVGElement&&t.tagName!=="svg"}const wA=(t,e)=>t.depth-e.depth;class jA{constructor(){this.children=[],this.isDirty=!1}add(e){fy(this.children,e),this.isDirty=!0}remove(e){my(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wA),this.isDirty=!1,this.children.forEach(e)}}function NA(t,e){const s=Ys.now(),n=({timestamp:a})=>{const l=a-s;l>=e&&(qa(n),t(l-e))};return Ot.setup(n,!0),()=>qa(n)}const TS=["TopLeft","TopRight","BottomLeft","BottomRight"],SA=TS.length,k1=t=>typeof t=="string"?parseFloat(t):t,M1=t=>typeof t=="number"||Pe.test(t);function _A(t,e,s,n,a,l){a?(t.opacity=Rt(0,s.opacity??1,EA(n)),t.opacityExit=Rt(e.opacity??1,0,CA(n))):l&&(t.opacity=Rt(e.opacity??1,s.opacity??1,n));for(let c=0;c<SA;c++){const u=`border${TS[c]}Radius`;let h=A1(e,u),m=A1(s,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||M1(h)===M1(m)?(t[u]=Math.max(Rt(k1(h),k1(m),n),0),(hr.test(m)||hr.test(h))&&(t[u]+="%")):t[u]=m}(e.rotate||s.rotate)&&(t.rotate=Rt(e.rotate||0,s.rotate||0,n))}function A1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const EA=kS(0,.5,jN),CA=kS(.5,.95,Nn);function kS(t,e,s){return n=>n<t?0:n>e?1:s(ud(t,e,n))}function D1(t,e){t.min=e.min,t.max=e.max}function gn(t,e){D1(t.x,e.x),D1(t.y,e.y)}function R1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function O1(t,e,s,n,a){return t-=e,t=mf(t,1/s,n),a!==void 0&&(t=mf(t,1/a,n)),t}function TA(t,e=0,s=1,n=.5,a,l=t,c=t){if(hr.test(e)&&(e=parseFloat(e),e=Rt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Rt(l.min,l.max,n);t===l&&(u-=e),t.min=O1(t.min,e,s,u,a),t.max=O1(t.max,e,s,u,a)}function L1(t,e,[s,n,a],l,c){TA(t,e[s],e[n],e[a],e.scale,l,c)}const kA=["x","scaleX","originX"],MA=["y","scaleY","originY"];function P1(t,e,s,n){L1(t.x,e,kA,s?s.x:void 0,n?n.x:void 0),L1(t.y,e,MA,s?s.y:void 0,n?n.y:void 0)}function z1(t){return t.translate===0&&t.scale===1}function MS(t){return z1(t.x)&&z1(t.y)}function B1(t,e){return t.min===e.min&&t.max===e.max}function AA(t,e){return B1(t.x,e.x)&&B1(t.y,e.y)}function V1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AS(t,e){return V1(t.x,e.x)&&V1(t.y,e.y)}function U1(t){return Ls(t.x)/Ls(t.y)}function H1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class DA{constructor(){this.members=[]}add(e){fy(this.members,e),e.scheduleRender()}remove(e){if(my(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(a=>e===a);if(s===0)return!1;let n;for(let a=s;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){n=l;break}}return n?(this.promote(n),!0):!1}promote(e,s){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,s&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:n}=e;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RA(t,e,s){let n="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=(s==null?void 0:s.z)||0;if((a||l||c)&&(n=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:m,rotate:p,rotateX:x,rotateY:b,skewX:v,skewY:j}=s;m&&(n=`perspective(${m}px) ${n}`),p&&(n+=`rotate(${p}deg) `),x&&(n+=`rotateX(${x}deg) `),b&&(n+=`rotateY(${b}deg) `),v&&(n+=`skewX(${v}deg) `),j&&(n+=`skewY(${j}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(n+=`scale(${u}, ${h})`),n||"none"}const Cx=["","X","Y","Z"],OA={visibility:"hidden"},F1=1e3;let LA=0;function Tx(t,e,s,n){const{latestValues:a}=e;a[t]&&(s[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function DS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=mS(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Ot,!(a||l))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&DS(n)}function RS({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(c={},u=e==null?void 0:e()){this.id=LA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(BA),this.nodes.forEach($A),this.nodes.forEach(IA),this.nodes.forEach(VA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new jA)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new gy),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vA(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(m||h)&&(this.isLayoutDirty=!0),t){let x;const b=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=NA(b,250),Qh.hasAnimatedSinceResize&&(Qh.hasAnimatedSinceResize=!1,this.nodes.forEach(I1))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeLayoutChanged:v,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||GA,{onLayoutAnimationStart:N,onLayoutAnimationComplete:_}=p.getProps(),A=!this.targetLayout||!AS(this.targetLayout,j),k=!b&&v;if(this.options.layoutRoot||this.resumeFrom||k||b&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,k);const R={...ky(S,"layout"),onPlay:N,onComplete:_};(p.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else b||I1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),qa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qA),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const x=this.path[p];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($1);return}this.isUpdating||this.nodes.forEach(HA),this.isUpdating=!1,this.nodes.forEach(FA),this.nodes.forEach(PA),this.nodes.forEach(zA),this.clearAllSnapshots();const u=Ys.now();ys.delta=Yr(0,1e3/60,u-ys.timestamp),ys.timestamp=u,ys.isProcessing=!0,bx.update.process(ys),bx.preRender.process(ys),bx.render.process(ys),ys.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ay.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UA),this.sharedNodes.forEach(YA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ls(this.snapshot.measuredBox.x)&&!Ls(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!MS(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(u||Oi(this.latestValues)||p)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),KA(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return Yt();const u=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(QA))){const{scroll:p}=this.root;p&&(Qo(u.x,p.offset.x),Qo(u.y,p.offset.y))}return u}removeElementScroll(c){var h;const u=Yt();if(gn(u,c),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:x,options:b}=p;p!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&gn(u,c),Qo(u.x,x.offset.x),Qo(u.y,x.offset.y))}return u}applyTransform(c,u=!1){const h=Yt();gn(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Zo(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Oi(p.latestValues)&&Zo(h,p.latestValues)}return Oi(this.latestValues)&&Zo(h,this.latestValues),h}removeTransform(c){const u=Yt();gn(u,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Oi(m.latestValues))continue;yg(m.latestValues)&&m.updateSnapshot();const p=Yt(),x=m.measurePageBox();gn(p,x),P1(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Oi(this.latestValues)&&P1(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ys.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=ys.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),rd(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yt(),this.targetWithTransforms=Yt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gn(this.target,this.layout.layoutBox),jS(this.target,this.targetDelta)):gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yt(),this.relativeTargetOrigin=Yt(),rd(this.relativeTargetOrigin,this.target,v.target),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yg(this.parent.latestValues)||wS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ys.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;gn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;eA(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Yt());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R1(this.prevProjectionDelta.x,this.projectionDelta.x),R1(this.prevProjectionDelta.y,this.projectionDelta.y)),nd(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!H1(this.projectionDelta.x,this.prevProjectionDelta.x)||!H1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ko(),this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko()}setAnimationOrigin(c,u=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},x=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=Yt(),v=h?h.source:void 0,j=this.layout?this.layout.source:void 0,S=v!==j,N=this.getStack(),_=!N||N.members.length<=1,A=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some(WA));this.animationProgress=0;let k;this.mixTargetDelta=R=>{const M=R/1e3;q1(x.x,c.x,M),q1(x.y,c.y,M),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rd(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XA(this.relativeTarget,this.relativeTargetOrigin,b,M),k&&AA(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Yt()),gn(k,this.relativeTarget)),S&&(this.animationValues=p,_A(p,m,this.latestValues,M,A,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{Qh.hasAnimatedSinceResize=!0,this.currentAnimation=bA(0,F1,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(F1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:p}=c;if(!(!u||!h||!m)){if(this!==c&&this.layout&&m&&OS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Yt();const x=Ls(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+x;const b=Ls(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+b}gn(u,h),Zo(u,p),nd(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new DA),this.sharedNodes.get(c).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&Tx("z",c,m,this.animationValues);for(let p=0;p<Cx.length;p++)Tx(`rotate${Cx[p]}`,c,m,this.animationValues),Tx(`skew${Cx[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return OA;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Kh(c==null?void 0:c.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Kh(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Oi(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const p=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=RA(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x,y:b}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,m.animationValues?u.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in xd){if(p[v]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:N}=xd[v],_=u.transform==="none"?p[v]:j(p[v],m);if(S){const A=S.length;for(let k=0;k<A;k++)u[S[k]]=_}else N?this.options.visualElement.renderState.vars[v]=_:u[v]=_}return this.options.layoutId&&(u.pointerEvents=m===this?Kh(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach($1),this.root.sharedNodes.clear()}}}function PA(t){t.updateLayout()}function zA(t){var s;const e=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?bn(x=>{const b=c?e.measuredBox[x]:e.layoutBox[x],v=Ls(b);b.min=n[x].min,b.max=b.min+v}):OS(l,e.layoutBox,n)&&bn(x=>{const b=c?e.measuredBox[x]:e.layoutBox[x],v=Ls(n[x]);b.max=b.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+v)});const u=Ko();nd(u,n,e.layoutBox);const h=Ko();c?nd(h,t.applyTransform(a,!0),e.measuredBox):nd(h,n,e.layoutBox);const m=!MS(u);let p=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:v}=x;if(b&&v){const j=Yt();rd(j,e.layoutBox,b.layoutBox);const S=Yt();rd(S,n,v.layoutBox),AS(j,S)||(p=!0),x.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=j,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function BA(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function VA(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UA(t){t.clearSnapshot()}function $1(t){t.clearMeasurements()}function HA(t){t.isLayoutDirty=!1}function FA(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $A(t){t.resolveTargetDelta()}function IA(t){t.calcProjection()}function qA(t){t.resetSkewAndRotation()}function YA(t){t.removeLeadSnapshot()}function q1(t,e,s){t.translate=Rt(e.translate,0,s),t.scale=Rt(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function Y1(t,e,s,n){t.min=Rt(e.min,s.min,n),t.max=Rt(e.max,s.max,n)}function XA(t,e,s,n){Y1(t.x,e.x,s.x,n),Y1(t.y,e.y,s.y,n)}function WA(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const GA={duration:.45,ease:[.4,0,.1,1]},X1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W1=X1("applewebkit/")&&!X1("chrome/")?Math.round:Nn;function G1(t){t.min=W1(t.min),t.max=W1(t.max)}function KA(t){G1(t.x),G1(t.y)}function OS(t,e,s){return t==="position"||t==="preserve-aspect"&&!ZM(U1(e),U1(s),.2)}function QA(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ZA=RS({attachResizeListener:(t,e)=>yd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kx={current:void 0},LS=RS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kx.current){const t=new ZA({});t.mount(window),t.setOptions({layoutScroll:!0}),kx.current=t}return kx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),JA={pan:{Feature:pA},drag:{Feature:mA,ProjectionNode:LS,MeasureLayout:CS}};function K1(t,e,s){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,l=n[a];l&&Ot.postRender(()=>l(e,zd(e)))}class e5 extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=M3(e,(s,n)=>(K1(this.node,n,"Start"),a=>K1(this.node,a,"End"))))}unmount(){}}class t5 extends Za{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Od(yd(this.node.current,"focus",()=>this.onFocus()),yd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Q1(t,e,s){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),l=n[a];l&&Ot.postRender(()=>l(e,zd(e)))}class s5 extends Za{mount(){const{current:e}=this.node;e&&(this.unmount=O3(e,(s,n)=>(Q1(this.node,n,"Start"),(a,{success:l})=>Q1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wg=new WeakMap,Mx=new WeakMap,n5=t=>{const e=wg.get(t.target);e&&e(t)},r5=t=>{t.forEach(n5)};function a5({root:t,...e}){const s=t||document;Mx.has(s)||Mx.set(s,{});const n=Mx.get(s),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(r5,{root:t,...e})),n[a]}function i5(t,e,s){const n=a5(e);return wg.set(t,s),n.observe(t),()=>{wg.delete(t),n.unobserve(t)}}const o5={some:0,all:1};class l5 extends Za{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:n,amount:a="some",once:l}=e,c={root:s?s.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:o5[a]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:x}=this.node.getProps(),b=m?p:x;b&&b(h)};return i5(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(c5(e,s))&&this.startObserver()}unmount(){}}function c5({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const d5={inView:{Feature:l5},tap:{Feature:s5},focus:{Feature:t5},hover:{Feature:e5}},u5={layout:{ProjectionNode:LS,MeasureLayout:CS}},jg={current:null},PS={current:!1};function h5(){if(PS.current=!0,!!uy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jg.current=t.matches;t.addListener(e),e()}else jg.current=!1}const f5=new WeakMap;function m5(t,e,s){for(const n in e){const a=e[n],l=s[n];if(Cs(a))t.addValue(n,a);else if(Cs(l))t.addValue(n,md(a,{owner:t}));else if(l!==a)if(t.hasValue(n)){const c=t.getValue(n);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(n);t.addValue(n,md(c!==void 0?c:a,{owner:t}))}}for(const n in s)e[n]===void 0&&t.removeValue(n);return e}const Z1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class p5{scrapeMotionValuesFromProps(e,s,n){return{}}constructor({parent:e,props:s,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ty,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Ys.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Ot.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=s,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=Pf(s),this.isVariantNode=nS(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in x){const v=x[b];h[b]!==void 0&&Cs(v)&&v.set(h[b],!1)}}mount(e){this.current=e,f5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),PS.current||h5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),this.projection=void 0,qa(this.notifyUpdate),qa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=xl.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ot.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),l=s.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{a(),l(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ol){const s=ol[e];if(!s)continue;const{isEnabled:n,Feature:a}=s;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<Z1.length;n++){const a=Z1[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=m5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const n=this.values.get(e);s!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&s!==void 0&&(n=md(s===null?void 0:s,{owner:this}),this.addValue(e,n)),n}readValue(e,s){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(fN(n)||mN(n))?n=parseFloat(n):!B3(n)&&Ya.test(s)&&(n=KN(e,s)),this.setBaseTarget(e,Cs(n)?n.get():n)),Cs(n)?n.get():n}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var l;const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const c=Vy(this.props,s,(l=this.presenceContext)==null?void 0:l.custom);c&&(n=c[e])}if(s&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Cs(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new gy),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}}class zS extends p5{constructor(){super(...arguments),this.KeyframeResolver=C3}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:n}){delete s[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Cs(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function BS(t,{style:e,vars:s},n,a){Object.assign(t.style,e,a&&a.getProjectionStyles(n));for(const l in s)t.style.setProperty(l,s[l])}function x5(t){return window.getComputedStyle(t)}class g5 extends zS{constructor(){super(...arguments),this.type="html",this.renderInstance=BS}readValueFromInstance(e,s){if(xl.has(s))return Yk(e,s);{const n=x5(e),a=(vy(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:s}){return NS(e,s)}build(e,s,n){Py(e,s,n.transformTemplate)}scrapeMotionValuesFromProps(e,s,n){return Uy(e,s,n)}}const VS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function y5(t,e,s,n){BS(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(VS.has(a)?a:Ly(a),e.attrs[a])}class b5 extends zS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yt}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(xl.has(s)){const n=GN(s);return n&&n.default||0}return s=VS.has(s)?s:Ly(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,n){return fS(e,s,n)}build(e,s,n){cS(e,s,this.isSVGTag,n.transformTemplate)}renderInstance(e,s,n,a){y5(e,s,n,a)}mount(e){this.isSVGTag=uS(e.tagName),super.mount(e)}}const v5=(t,e)=>By(t)?new b5(e):new g5(e,{allowProjection:t!==D.Fragment}),w5=yM({...IM,...d5,...JA,...u5},v5),ye=$3(w5);function j5(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}const N5=t=>{switch(t){case"success":return E5;case"info":return T5;case"warning":return C5;case"error":return k5;default:return null}},S5=Array(12).fill(0),_5=({visible:t,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ve.createElement("div",{className:"sonner-spinner"},S5.map((s,n)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),E5=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C5=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),T5=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),k5=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M5=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),A5=()=>{const[t,e]=ve.useState(document.hidden);return ve.useEffect(()=>{const s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t};let Ng=1;class D5{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const s=this.subscribers.indexOf(e);this.subscribers.splice(s,1)}),this.publish=e=>{this.subscribers.forEach(s=>s(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var s;const{message:n,...a}=e,l=typeof(e==null?void 0:e.id)=="number"||((s=e.id)==null?void 0:s.length)>0?e.id:Ng++,c=this.toasts.find(h=>h.id===l),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(h=>h.id===l?(this.publish({...h,...e,id:l,title:n}),{...h,...e,id:l,dismissible:u,title:n}):h):this.addToast({title:n,...a,dismissible:u,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:e,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(n=>n({id:s.id,dismiss:!0}))}),e),this.message=(e,s)=>this.create({...s,message:e}),this.error=(e,s)=>this.create({...s,message:e,type:"error"}),this.success=(e,s)=>this.create({...s,type:"success",message:e}),this.info=(e,s)=>this.create({...s,type:"info",message:e}),this.warning=(e,s)=>this.create({...s,type:"warning",message:e}),this.loading=(e,s)=>this.create({...s,type:"loading",message:e}),this.promise=(e,s)=>{if(!s)return;let n;s.loading!==void 0&&(n=this.create({...s,promise:e,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let l=n!==void 0,c;const u=a.then(async m=>{if(c=["resolve",m],ve.isValidElement(m))l=!1,this.create({id:n,type:"default",message:m});else if(O5(m)&&!m.ok){l=!1;const x=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,b=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description,j=typeof x=="object"&&!ve.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:b,...j})}else if(m instanceof Error){l=!1;const x=typeof s.error=="function"?await s.error(m):s.error,b=typeof s.description=="function"?await s.description(m):s.description,j=typeof x=="object"&&!ve.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:b,...j})}else if(s.success!==void 0){l=!1;const x=typeof s.success=="function"?await s.success(m):s.success,b=typeof s.description=="function"?await s.description(m):s.description,j=typeof x=="object"&&!ve.isValidElement(x)?x:{message:x};this.create({id:n,type:"success",description:b,...j})}}).catch(async m=>{if(c=["reject",m],s.error!==void 0){l=!1;const p=typeof s.error=="function"?await s.error(m):s.error,x=typeof s.description=="function"?await s.description(m):s.description,v=typeof p=="object"&&!ve.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:x,...v})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),s.finally==null||s.finally.call(s)}),h=()=>new Promise((m,p)=>u.then(()=>c[0]==="reject"?p(c[1]):m(c[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:h}:Object.assign(n,{unwrap:h})},this.custom=(e,s)=>{const n=(s==null?void 0:s.id)||Ng++;return this.create({jsx:e(n),id:n,...s}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Is=new D5,R5=(t,e)=>{const s=(e==null?void 0:e.id)||Ng++;return Is.addToast({title:t,...e,id:s}),s},O5=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",L5=R5,P5=()=>Is.toasts,z5=()=>Is.getActiveToasts();Object.assign(L5,{success:Is.success,info:Is.info,warning:Is.warning,error:Is.error,custom:Is.custom,message:Is.message,promise:Is.promise,dismiss:Is.dismiss,loading:Is.loading},{getHistory:P5,getToasts:z5});j5("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function xh(t){return t.label!==void 0}const B5=3,V5="24px",U5="16px",J1=4e3,H5=356,F5=14,$5=45,I5=200;function sr(...t){return t.filter(Boolean).join(" ")}function q5(t){const[e,s]=t.split("-"),n=[];return e&&n.push(e),s&&n.push(s),n}const Y5=t=>{var e,s,n,a,l,c,u,h,m;const{invert:p,toast:x,unstyled:b,interacting:v,setHeights:j,visibleToasts:S,heights:N,index:_,toasts:A,expanded:k,removeToast:R,defaultRichColors:M,closeButton:z,style:H,cancelButtonStyle:L,actionButtonStyle:F,className:U="",descriptionClassName:X="",duration:Z,position:ae,gap:ne,expandByDefault:le,classNames:P,icons:I,closeButtonAriaLabel:$="Close toast"}=t,[W,B]=ve.useState(null),[G,te]=ve.useState(null),[ie,fe]=ve.useState(!1),[je,xe]=ve.useState(!1),[st,Ve]=ve.useState(!1),[ot,fs]=ve.useState(!1),[vs,ms]=ve.useState(!1),[Ks,me]=ve.useState(0),[Qe,jt]=ve.useState(0),Xe=ve.useRef(x.duration||Z||J1),We=ve.useRef(null),xt=ve.useRef(null),ss=_===0,ws=_+1<=S,lt=x.type,Gt=x.dismissible!==!1,ea=x.className||"",ce=x.descriptionClassName||"",_e=ve.useMemo(()=>N.findIndex(Be=>Be.toastId===x.id)||0,[N,x.id]),Ne=ve.useMemo(()=>{var Be;return(Be=x.closeButton)!=null?Be:z},[x.closeButton,z]),ke=ve.useMemo(()=>x.duration||Z||J1,[x.duration,Z]),Te=ve.useRef(0),Tt=ve.useRef(0),Tn=ve.useRef(0),Xn=ve.useRef(null),[Wn,Gn]=ae.split("-"),ln=ve.useMemo(()=>N.reduce((Be,St,kt)=>kt>=_e?Be:Be+St.height,0),[N,_e]),gr=A5(),yr=x.invert||p,ei=lt==="loading";Tt.current=ve.useMemo(()=>_e*ne+ln,[_e,ln]),ve.useEffect(()=>{Xe.current=ke},[ke]),ve.useEffect(()=>{fe(!0)},[]),ve.useEffect(()=>{const Be=xt.current;if(Be){const St=Be.getBoundingClientRect().height;return jt(St),j(kt=>[{toastId:x.id,height:St,position:x.position},...kt]),()=>j(kt=>kt.filter(Kt=>Kt.toastId!==x.id))}},[j,x.id]),ve.useLayoutEffect(()=>{if(!ie)return;const Be=xt.current,St=Be.style.height;Be.style.height="auto";const kt=Be.getBoundingClientRect().height;Be.style.height=St,jt(kt),j(Kt=>Kt.find(Ft=>Ft.toastId===x.id)?Kt.map(Ft=>Ft.toastId===x.id?{...Ft,height:kt}:Ft):[{toastId:x.id,height:kt,position:x.position},...Kt])},[ie,x.title,x.description,j,x.id]);const ks=ve.useCallback(()=>{xe(!0),me(Tt.current),j(Be=>Be.filter(St=>St.toastId!==x.id)),setTimeout(()=>{R(x)},I5)},[x,R,j,Tt]);ve.useEffect(()=>{if(x.promise&&lt==="loading"||x.duration===1/0||x.type==="loading")return;let Be;return k||v||gr?(()=>{if(Tn.current<Te.current){const Kt=new Date().getTime()-Te.current;Xe.current=Xe.current-Kt}Tn.current=new Date().getTime()})():(()=>{Xe.current!==1/0&&(Te.current=new Date().getTime(),Be=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),ks()},Xe.current))})(),()=>clearTimeout(Be)},[k,v,x,lt,gr,ks]),ve.useEffect(()=>{x.delete&&ks()},[ks,x.delete]);function zs(){var Be;if(I!=null&&I.loading){var St;return ve.createElement("div",{className:sr(P==null?void 0:P.loader,x==null||(St=x.classNames)==null?void 0:St.loader,"sonner-loader"),"data-visible":lt==="loading"},I.loading)}return ve.createElement(_5,{className:sr(P==null?void 0:P.loader,x==null||(Be=x.classNames)==null?void 0:Be.loader),visible:lt==="loading"})}const ti=x.icon||(I==null?void 0:I[lt])||N5(lt);var Ms,Ji;return ve.createElement("li",{tabIndex:0,ref:xt,className:sr(U,ea,P==null?void 0:P.toast,x==null||(e=x.classNames)==null?void 0:e.toast,P==null?void 0:P.default,P==null?void 0:P[lt],x==null||(s=x.classNames)==null?void 0:s[lt]),"data-sonner-toast":"","data-rich-colors":(Ms=x.richColors)!=null?Ms:M,"data-styled":!(x.jsx||x.unstyled||b),"data-mounted":ie,"data-promise":!!x.promise,"data-swiped":vs,"data-removed":je,"data-visible":ws,"data-y-position":Wn,"data-x-position":Gn,"data-index":_,"data-front":ss,"data-swiping":st,"data-dismissible":Gt,"data-type":lt,"data-invert":yr,"data-swipe-out":ot,"data-swipe-direction":G,"data-expanded":!!(k||le&&ie),style:{"--index":_,"--toasts-before":_,"--z-index":A.length-_,"--offset":`${je?Ks:Tt.current}px`,"--initial-height":le?"auto":`${Qe}px`,...H,...x.style},onDragEnd:()=>{Ve(!1),B(null),Xn.current=null},onPointerDown:Be=>{ei||!Gt||(We.current=new Date,me(Tt.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(Ve(!0),Xn.current={x:Be.clientX,y:Be.clientY}))},onPointerUp:()=>{var Be,St,kt;if(ot||!Gt)return;Xn.current=null;const Kt=Number(((Be=xt.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),br=Number(((St=xt.current)==null?void 0:St.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ft=new Date().getTime()-((kt=We.current)==null?void 0:kt.getTime()),Mt=W==="x"?Kt:br,vt=Math.abs(Mt)/Ft;if(Math.abs(Mt)>=$5||vt>.11){me(Tt.current),x.onDismiss==null||x.onDismiss.call(x,x),te(W==="x"?Kt>0?"right":"left":br>0?"down":"up"),ks(),fs(!0);return}else{var ct,$t;(ct=xt.current)==null||ct.style.setProperty("--swipe-amount-x","0px"),($t=xt.current)==null||$t.style.setProperty("--swipe-amount-y","0px")}ms(!1),Ve(!1),B(null)},onPointerMove:Be=>{var St,kt,Kt;if(!Xn.current||!Gt||((St=window.getSelection())==null?void 0:St.toString().length)>0)return;const Ft=Be.clientY-Xn.current.y,Mt=Be.clientX-Xn.current.x;var vt;const ct=(vt=t.swipeDirections)!=null?vt:q5(ae);!W&&(Math.abs(Mt)>1||Math.abs(Ft)>1)&&B(Math.abs(Mt)>Math.abs(Ft)?"x":"y");let $t={x:0,y:0};const ta=kn=>1/(1.5+Math.abs(kn)/20);if(W==="y"){if(ct.includes("top")||ct.includes("bottom"))if(ct.includes("top")&&Ft<0||ct.includes("bottom")&&Ft>0)$t.y=Ft;else{const kn=Ft*ta(Ft);$t.y=Math.abs(kn)<Math.abs(Ft)?kn:Ft}}else if(W==="x"&&(ct.includes("left")||ct.includes("right")))if(ct.includes("left")&&Mt<0||ct.includes("right")&&Mt>0)$t.x=Mt;else{const kn=Mt*ta(Mt);$t.x=Math.abs(kn)<Math.abs(Mt)?kn:Mt}(Math.abs($t.x)>0||Math.abs($t.y)>0)&&ms(!0),(kt=xt.current)==null||kt.style.setProperty("--swipe-amount-x",`${$t.x}px`),(Kt=xt.current)==null||Kt.style.setProperty("--swipe-amount-y",`${$t.y}px`)}},Ne&&!x.jsx&&lt!=="loading"?ve.createElement("button",{"aria-label":$,"data-disabled":ei,"data-close-button":!0,onClick:ei||!Gt?()=>{}:()=>{ks(),x.onDismiss==null||x.onDismiss.call(x,x)},className:sr(P==null?void 0:P.closeButton,x==null||(n=x.classNames)==null?void 0:n.closeButton)},(Ji=I==null?void 0:I.close)!=null?Ji:M5):null,(lt||x.icon||x.promise)&&x.icon!==null&&((I==null?void 0:I[lt])!==null||x.icon)?ve.createElement("div",{"data-icon":"",className:sr(P==null?void 0:P.icon,x==null||(a=x.classNames)==null?void 0:a.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||zs():null,x.type!=="loading"?ti:null):null,ve.createElement("div",{"data-content":"",className:sr(P==null?void 0:P.content,x==null||(l=x.classNames)==null?void 0:l.content)},ve.createElement("div",{"data-title":"",className:sr(P==null?void 0:P.title,x==null||(c=x.classNames)==null?void 0:c.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?ve.createElement("div",{"data-description":"",className:sr(X,ce,P==null?void 0:P.description,x==null||(u=x.classNames)==null?void 0:u.description)},typeof x.description=="function"?x.description():x.description):null),ve.isValidElement(x.cancel)?x.cancel:x.cancel&&xh(x.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||L,onClick:Be=>{xh(x.cancel)&&Gt&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Be),ks())},className:sr(P==null?void 0:P.cancelButton,x==null||(h=x.classNames)==null?void 0:h.cancelButton)},x.cancel.label):null,ve.isValidElement(x.action)?x.action:x.action&&xh(x.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||F,onClick:Be=>{xh(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Be),!Be.defaultPrevented&&ks())},className:sr(P==null?void 0:P.actionButton,x==null||(m=x.classNames)==null?void 0:m.actionButton)},x.action.label):null)};function e2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function X5(t,e){const s={};return[t,e].forEach((n,a)=>{const l=a===1,c=l?"--mobile-offset":"--offset",u=l?U5:V5;function h(m){["top","right","bottom","left"].forEach(p=>{s[`${c}-${p}`]=typeof m=="number"?`${m}px`:m})}typeof n=="number"||typeof n=="string"?h(n):typeof n=="object"?["top","right","bottom","left"].forEach(m=>{n[m]===void 0?s[`${c}-${m}`]=u:s[`${c}-${m}`]=typeof n[m]=="number"?`${n[m]}px`:n[m]}):h(u)}),s}const W5=ve.forwardRef(function(e,s){const{invert:n,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:c,closeButton:u,className:h,offset:m,mobileOffset:p,theme:x="light",richColors:b,duration:v,style:j,visibleToasts:S=B5,toastOptions:N,dir:_=e2(),gap:A=F5,icons:k,containerAriaLabel:R="Notifications"}=e,[M,z]=ve.useState([]),H=ve.useMemo(()=>Array.from(new Set([a].concat(M.filter(G=>G.position).map(G=>G.position)))),[M,a]),[L,F]=ve.useState([]),[U,X]=ve.useState(!1),[Z,ae]=ve.useState(!1),[ne,le]=ve.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),P=ve.useRef(null),I=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=ve.useRef(null),W=ve.useRef(!1),B=ve.useCallback(G=>{z(te=>{var ie;return(ie=te.find(fe=>fe.id===G.id))!=null&&ie.delete||Is.dismiss(G.id),te.filter(({id:fe})=>fe!==G.id)})},[]);return ve.useEffect(()=>Is.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{z(te=>te.map(ie=>ie.id===G.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{VT.flushSync(()=>{z(te=>{const ie=te.findIndex(fe=>fe.id===G.id);return ie!==-1?[...te.slice(0,ie),{...te[ie],...G},...te.slice(ie+1)]:[G,...te]})})})}),[M]),ve.useEffect(()=>{if(x!=="system"){le(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:te})=>{le(te?"dark":"light")})}catch{G.addListener(({matches:ie})=>{try{le(ie?"dark":"light")}catch(fe){console.error(fe)}})}},[x]),ve.useEffect(()=>{M.length<=1&&X(!1)},[M]),ve.useEffect(()=>{const G=te=>{var ie;if(l.every(xe=>te[xe]||te.code===xe)){var je;X(!0),(je=P.current)==null||je.focus()}te.code==="Escape"&&(document.activeElement===P.current||(ie=P.current)!=null&&ie.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[l]),ve.useEffect(()=>{if(P.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,W.current=!1)}},[P.current]),ve.createElement("section",{ref:s,"aria-label":`${R} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((G,te)=>{var ie;const[fe,je]=G.split("-");return M.length?ve.createElement("ol",{key:G,dir:_==="auto"?e2():_,tabIndex:-1,ref:P,className:h,"data-sonner-toaster":!0,"data-sonner-theme":ne,"data-y-position":fe,"data-lifted":U&&M.length>1&&!c,"data-x-position":je,style:{"--front-toast-height":`${((ie=L[0])==null?void 0:ie.height)||0}px`,"--width":`${H5}px`,"--gap":`${A}px`,...j,...X5(m,p)},onBlur:xe=>{W.current&&!xe.currentTarget.contains(xe.relatedTarget)&&(W.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||W.current||(W.current=!0,$.current=xe.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{Z||X(!1)},onDragEnd:()=>X(!1),onPointerDown:xe=>{xe.target instanceof HTMLElement&&xe.target.dataset.dismissible==="false"||ae(!0)},onPointerUp:()=>ae(!1)},M.filter(xe=>!xe.position&&te===0||xe.position===G).map((xe,st)=>{var Ve,ot;return ve.createElement(Y5,{key:xe.id,icons:k,index:st,toast:xe,defaultRichColors:b,duration:(Ve=N==null?void 0:N.duration)!=null?Ve:v,className:N==null?void 0:N.className,descriptionClassName:N==null?void 0:N.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ot=N==null?void 0:N.closeButton)!=null?ot:u,interacting:Z,position:G,style:N==null?void 0:N.style,unstyled:N==null?void 0:N.unstyled,classNames:N==null?void 0:N.classNames,cancelButtonStyle:N==null?void 0:N.cancelButtonStyle,actionButtonStyle:N==null?void 0:N.actionButtonStyle,closeButtonAriaLabel:N==null?void 0:N.closeButtonAriaLabel,removeToast:B,toasts:M.filter(fs=>fs.position==xe.position),heights:L.filter(fs=>fs.position==xe.position),setHeights:F,expandByDefault:c,gap:A,expanded:U,swipeDirections:e.swipeDirections})})):null}))});var Sg=new Map,gh=new WeakMap,t2=0,G5=void 0;function K5(t){return t?(gh.has(t)||(t2+=1,gh.set(t,t2.toString())),gh.get(t)):"0"}function Q5(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?K5(t.root):t[e]}`).toString()}function Z5(t){const e=Q5(t);let s=Sg.get(e);if(!s){const n=new Map;let a;const l=new IntersectionObserver(c=>{c.forEach(u=>{var h;const m=u.isIntersecting&&a.some(p=>u.intersectionRatio>=p);t.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=m),(h=n.get(u.target))==null||h.forEach(p=>{p(m,u)})})},t);a=l.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),s={id:e,observer:l,elements:n},Sg.set(e,s)}return s}function J5(t,e,s={},n=G5){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const h=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof s.threshold=="number"?s.threshold:0,time:0,boundingClientRect:h,intersectionRect:h,rootBounds:h}),()=>{}}const{id:a,observer:l,elements:c}=Z5(s),u=c.get(t)||[];return c.has(t)||c.set(t,u),u.push(e),l.observe(t),function(){u.splice(u.indexOf(e),1),u.length===0&&(c.delete(t),l.unobserve(t)),c.size===0&&(l.disconnect(),Sg.delete(a))}}function eD({threshold:t,delay:e,trackVisibility:s,rootMargin:n,root:a,triggerOnce:l,skip:c,initialInView:u,fallbackInView:h,onChange:m}={}){var p;const[x,b]=D.useState(null),v=D.useRef(m),[j,S]=D.useState({inView:!!u,entry:void 0});v.current=m,D.useEffect(()=>{if(c||!x)return;let k;return k=J5(x,(R,M)=>{S({inView:R,entry:M}),v.current&&v.current(R,M),M.isIntersecting&&l&&k&&(k(),k=void 0)},{root:a,rootMargin:n,threshold:t,trackVisibility:s,delay:e},h),()=>{k&&k()}},[Array.isArray(t)?t.toString():t,x,a,n,l,c,s,h,e]);const N=(p=j.entry)==null?void 0:p.target,_=D.useRef(void 0);!x&&N&&!l&&!c&&_.current!==N&&(_.current=N,S({inView:!!u,entry:void 0}));const A=[b,j.inView,j.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}const tD=()=>{const[t]=eD({threshold:.1,triggerOnce:!0});return o.jsxs("div",{className:"h-screen flex flex-col md:flex-row bg-gradient-to-br from-bg via-bg-secondary to-bg overflow-hidden",ref:t,children:[o.jsxs(ye.div,{className:"hidden md:flex w-full md:w-1/2 relative overflow-hidden items-center justify-center p-8",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[o.jsx("div",{className:"absolute inset-0 overflow-hidden",children:[...Array(30)].map((e,s)=>o.jsx(ye.div,{className:"absolute rounded-full bg-solid-color opacity-10",initial:{x:Math.random()*100,y:Math.random()*100,width:Math.random()*20+10,height:Math.random()*20+10},animate:{y:[null,Math.random()*200-100],x:[null,Math.random()*200-100]},transition:{duration:Math.random()*15+15,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},s))}),o.jsxs(ye.div,{className:"relative z-10 text-center text-accessibility-text-secondary max-w-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},children:[o.jsx(ye.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.5,duration:.5},children:o.jsx("div",{className:"w-24 h-24 bg-solid-color bg-opacity-30 rounded-2xl flex items-center justify-center mx-auto mb-6 backdrop-blur-sm shadow-lg",children:o.jsx("svg",{className:"w-14 h-14 text-accessibility-text-secondary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),o.jsxs(ye.h1,{className:"text-3xl md:text-4xl font-bold mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:["Bienvenido a ",o.jsx("span",{className:"text-solid-color",children:"StockFlow"})]}),o.jsx(ye.p,{className:"text-lg md:text-xl opacity-90 mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.6},children:"La solucin inteligente para gestionar tu inventario de robots"}),o.jsx(ye.div,{className:"flex justify-center space-x-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},children:["Robtica","Inventario","Control"].map((e,s)=>o.jsx(ye.span,{className:"px-3 py-1.5 bg-solid-color bg-opacity-20 rounded-full text-sm font-medium backdrop-blur-sm text-white",whileHover:{scale:1.05},whileTap:{scale:.95},children:e},s))})]})]}),o.jsx("div",{className:"w-full md:w-1/2 flex items-center justify-center p-4",children:o.jsx(ye.div,{className:"w-full max-w-xl relative",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:o.jsxs("div",{className:"relative bg-bg rounded-2xl border border-border overflow-hidden backdrop-blur-sm bg-opacity-80 shadow-xl",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjxyZWN0IHdpZHRoPSIzIiBoZWlnaHQ9IjMiIGZpbGw9InJnYmEoMCwwLDAsMC4wNSkiLz48L3N2Zz4=')] opacity-10"}),o.jsx("div",{className:"relative z-10 p-5",children:o.jsx(nT,{})})]})})})]})},s2=t=>{let e;const s=new Set,n=(m,p)=>{const x=typeof m=="function"?m(e):m;if(!Object.is(x,e)){const b=e;e=p??(typeof x!="object"||x===null)?x:Object.assign({},e,x),s.forEach(v=>v(e,b))}},a=()=>e,u={setState:n,getState:a,getInitialState:()=>h,subscribe:m=>(s.add(m),()=>s.delete(m))},h=e=t(n,a,u);return u},sD=t=>t?s2(t):s2,nD=t=>t;function rD(t,e=nD){const s=ve.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return ve.useDebugValue(s),s}const n2=t=>{const e=sD(t),s=n=>rD(e,n);return Object.assign(s,e),s},Ps=t=>t?n2(t):n2;function US(t,e){return function(){return t.apply(e,arguments)}}const{toString:aD}=Object.prototype,{getPrototypeOf:Fy}=Object,{iterator:zf,toStringTag:HS}=Symbol,Bf=(t=>e=>{const s=aD.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=t=>(t=t.toLowerCase(),e=>Bf(e)===t),Vf=t=>e=>typeof e===t,{isArray:gl}=Array,bd=Vf("undefined");function iD(t){return t!==null&&!bd(t)&&t.constructor!==null&&!bd(t.constructor)&&Ws(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const FS=Yn("ArrayBuffer");function oD(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&FS(t.buffer),e}const lD=Vf("string"),Ws=Vf("function"),$S=Vf("number"),Uf=t=>t!==null&&typeof t=="object",cD=t=>t===!0||t===!1,Zh=t=>{if(Bf(t)!=="object")return!1;const e=Fy(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(HS in t)&&!(zf in t)},dD=Yn("Date"),uD=Yn("File"),hD=Yn("Blob"),fD=Yn("FileList"),mD=t=>Uf(t)&&Ws(t.pipe),pD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ws(t.append)&&((e=Bf(t))==="formdata"||e==="object"&&Ws(t.toString)&&t.toString()==="[object FormData]"))},xD=Yn("URLSearchParams"),[gD,yD,bD,vD]=["ReadableStream","Request","Response","Headers"].map(Yn),wD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bd(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),gl(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const l=s?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let u;for(n=0;n<c;n++)u=l[n],e.call(null,t[u],u,t)}}function IS(t,e){e=e.toLowerCase();const s=Object.keys(t);let n=s.length,a;for(;n-- >0;)if(a=s[n],e===a.toLowerCase())return a;return null}const Ui=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qS=t=>!bd(t)&&t!==Ui;function _g(){const{caseless:t}=qS(this)&&this||{},e={},s=(n,a)=>{const l=t&&IS(e,a)||a;Zh(e[l])&&Zh(n)?e[l]=_g(e[l],n):Zh(n)?e[l]=_g({},n):gl(n)?e[l]=n.slice():e[l]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Bd(arguments[n],s);return e}const jD=(t,e,s,{allOwnKeys:n}={})=>(Bd(e,(a,l)=>{s&&Ws(a)?t[l]=US(a,s):t[l]=a},{allOwnKeys:n}),t),ND=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),SD=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},_D=(t,e,s,n)=>{let a,l,c;const u={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)c=a[l],(!n||n(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=s!==!1&&Fy(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},ED=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},CD=t=>{if(!t)return null;if(gl(t))return t;let e=t.length;if(!$S(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},TD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Fy(Uint8Array)),kD=(t,e)=>{const n=(t&&t[zf]).call(t);let a;for(;(a=n.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},MD=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},AD=Yn("HTMLFormElement"),DD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),r2=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),RD=Yn("RegExp"),YS=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};Bd(s,(a,l)=>{let c;(c=e(a,l,t))!==!1&&(n[l]=c||a)}),Object.defineProperties(t,n)},OD=t=>{YS(t,(e,s)=>{if(Ws(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(Ws(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},LD=(t,e)=>{const s={},n=a=>{a.forEach(l=>{s[l]=!0})};return gl(t)?n(t):n(String(t).split(e)),s},PD=()=>{},zD=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function BD(t){return!!(t&&Ws(t.append)&&t[HS]==="FormData"&&t[zf])}const VD=t=>{const e=new Array(10),s=(n,a)=>{if(Uf(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const l=gl(n)?[]:{};return Bd(n,(c,u)=>{const h=s(c,a+1);!bd(h)&&(l[u]=h)}),e[a]=void 0,l}}return n};return s(t,0)},UD=Yn("AsyncFunction"),HD=t=>t&&(Uf(t)||Ws(t))&&Ws(t.then)&&Ws(t.catch),XS=((t,e)=>t?setImmediate:e?((s,n)=>(Ui.addEventListener("message",({source:a,data:l})=>{a===Ui&&l===s&&n.length&&n.shift()()},!1),a=>{n.push(a),Ui.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ws(Ui.postMessage)),FD=typeof queueMicrotask<"u"?queueMicrotask.bind(Ui):typeof process<"u"&&process.nextTick||XS,$D=t=>t!=null&&Ws(t[zf]),oe={isArray:gl,isArrayBuffer:FS,isBuffer:iD,isFormData:pD,isArrayBufferView:oD,isString:lD,isNumber:$S,isBoolean:cD,isObject:Uf,isPlainObject:Zh,isReadableStream:gD,isRequest:yD,isResponse:bD,isHeaders:vD,isUndefined:bd,isDate:dD,isFile:uD,isBlob:hD,isRegExp:RD,isFunction:Ws,isStream:mD,isURLSearchParams:xD,isTypedArray:TD,isFileList:fD,forEach:Bd,merge:_g,extend:jD,trim:wD,stripBOM:ND,inherits:SD,toFlatObject:_D,kindOf:Bf,kindOfTest:Yn,endsWith:ED,toArray:CD,forEachEntry:kD,matchAll:MD,isHTMLForm:AD,hasOwnProperty:r2,hasOwnProp:r2,reduceDescriptors:YS,freezeMethods:OD,toObjectSet:LD,toCamelCase:DD,noop:PD,toFiniteNumber:zD,findKey:IS,global:Ui,isContextDefined:qS,isSpecCompliantForm:BD,toJSONObject:VD,isAsyncFn:UD,isThenable:HD,setImmediate:XS,asap:FD,isIterable:$D};function Ue(t,e,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}oe.inherits(Ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const WS=Ue.prototype,GS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{GS[t]={value:t}});Object.defineProperties(Ue,GS);Object.defineProperty(WS,"isAxiosError",{value:!0});Ue.from=(t,e,s,n,a,l)=>{const c=Object.create(WS);return oe.toFlatObject(t,c,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Ue.call(c,t.message,e,s,n,a),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const ID=null;function Eg(t){return oe.isPlainObject(t)||oe.isArray(t)}function KS(t){return oe.endsWith(t,"[]")?t.slice(0,-2):t}function a2(t,e,s){return t?t.concat(e).map(function(a,l){return a=KS(a),!s&&l?"["+a+"]":a}).join(s?".":""):e}function qD(t){return oe.isArray(t)&&!t.some(Eg)}const YD=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function Hf(t,e,s){if(!oe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=oe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,N){return!oe.isUndefined(N[S])});const n=s.metaTokens,a=s.visitor||p,l=s.dots,c=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(a))throw new TypeError("visitor must be a function");function m(j){if(j===null)return"";if(oe.isDate(j))return j.toISOString();if(!h&&oe.isBlob(j))throw new Ue("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(j)||oe.isTypedArray(j)?h&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,S,N){let _=j;if(j&&!N&&typeof j=="object"){if(oe.endsWith(S,"{}"))S=n?S:S.slice(0,-2),j=JSON.stringify(j);else if(oe.isArray(j)&&qD(j)||(oe.isFileList(j)||oe.endsWith(S,"[]"))&&(_=oe.toArray(j)))return S=KS(S),_.forEach(function(k,R){!(oe.isUndefined(k)||k===null)&&e.append(c===!0?a2([S],R,l):c===null?S:S+"[]",m(k))}),!1}return Eg(j)?!0:(e.append(a2(N,S,l),m(j)),!1)}const x=[],b=Object.assign(YD,{defaultVisitor:p,convertValue:m,isVisitable:Eg});function v(j,S){if(!oe.isUndefined(j)){if(x.indexOf(j)!==-1)throw Error("Circular reference detected in "+S.join("."));x.push(j),oe.forEach(j,function(_,A){(!(oe.isUndefined(_)||_===null)&&a.call(e,_,oe.isString(A)?A.trim():A,S,b))===!0&&v(_,S?S.concat(A):[A])}),x.pop()}}if(!oe.isObject(t))throw new TypeError("data must be an object");return v(t),e}function i2(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function $y(t,e){this._pairs=[],t&&Hf(t,this,e)}const QS=$y.prototype;QS.append=function(e,s){this._pairs.push([e,s])};QS.toString=function(e){const s=e?function(n){return e.call(this,n,i2)}:i2;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function XD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZS(t,e,s){if(!e)return t;const n=s&&s.encode||XD;oe.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let l;if(a?l=a(e,s):l=oe.isURLSearchParams(e)?e.toString():new $y(e,s).toString(n),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class o2{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const JS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},WD=typeof URLSearchParams<"u"?URLSearchParams:$y,GD=typeof FormData<"u"?FormData:null,KD=typeof Blob<"u"?Blob:null,QD={isBrowser:!0,classes:{URLSearchParams:WD,FormData:GD,Blob:KD},protocols:["http","https","file","blob","url","data"]},Iy=typeof window<"u"&&typeof document<"u",Cg=typeof navigator=="object"&&navigator||void 0,ZD=Iy&&(!Cg||["ReactNative","NativeScript","NS"].indexOf(Cg.product)<0),JD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eR=Iy&&window.location.href||"http://localhost",tR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Iy,hasStandardBrowserEnv:ZD,hasStandardBrowserWebWorkerEnv:JD,navigator:Cg,origin:eR},Symbol.toStringTag,{value:"Module"})),Es={...tR,...QD};function sR(t,e){return Hf(t,new Es.classes.URLSearchParams,Object.assign({visitor:function(s,n,a,l){return Es.isNode&&oe.isBuffer(s)?(this.append(n,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function nR(t){return oe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rR(t){const e={},s=Object.keys(t);let n;const a=s.length;let l;for(n=0;n<a;n++)l=s[n],e[l]=t[l];return e}function e_(t){function e(s,n,a,l){let c=s[l++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=l>=s.length;return c=!c&&oe.isArray(a)?a.length:c,h?(oe.hasOwnProp(a,c)?a[c]=[a[c],n]:a[c]=n,!u):((!a[c]||!oe.isObject(a[c]))&&(a[c]=[]),e(s,n,a[c],l)&&oe.isArray(a[c])&&(a[c]=rR(a[c])),!u)}if(oe.isFormData(t)&&oe.isFunction(t.entries)){const s={};return oe.forEachEntry(t,(n,a)=>{e(nR(n),a,s,0)}),s}return null}function aR(t,e,s){if(oe.isString(t))try{return(e||JSON.parse)(t),oe.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const Vd={transitional:JS,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,l=oe.isObject(e);if(l&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return a?JSON.stringify(e_(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return sR(e,this.formSerializer).toString();if((u=oe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Hf(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||a?(s.setContentType("application/json",!1),aR(e)):e}],transformResponse:[function(e){const s=this.transitional||Vd.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(n&&!this.responseType||a)){const c=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?Ue.from(u,Ue.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Es.classes.FormData,Blob:Es.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],t=>{Vd.headers[t]={}});const iR=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oR=t=>{const e={};let s,n,a;return t&&t.split(`
`).forEach(function(c){a=c.indexOf(":"),s=c.substring(0,a).trim().toLowerCase(),n=c.substring(a+1).trim(),!(!s||e[s]&&iR[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},l2=Symbol("internals");function kc(t){return t&&String(t).trim().toLowerCase()}function Jh(t){return t===!1||t==null?t:oe.isArray(t)?t.map(Jh):String(t)}function lR(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const cR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ax(t,e,s,n,a){if(oe.isFunction(n))return n.call(this,e,s);if(a&&(e=s),!!oe.isString(e)){if(oe.isString(n))return e.indexOf(n)!==-1;if(oe.isRegExp(n))return n.test(e)}}function dR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function uR(t,e){const s=oe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(a,l,c){return this[n].call(this,e,a,l,c)},configurable:!0})})}let Gs=class{constructor(e){e&&this.set(e)}set(e,s,n){const a=this;function l(u,h,m){const p=kc(h);if(!p)throw new Error("header name must be a non-empty string");const x=oe.findKey(a,p);(!x||a[x]===void 0||m===!0||m===void 0&&a[x]!==!1)&&(a[x||h]=Jh(u))}const c=(u,h)=>oe.forEach(u,(m,p)=>l(m,p,h));if(oe.isPlainObject(e)||e instanceof this.constructor)c(e,s);else if(oe.isString(e)&&(e=e.trim())&&!cR(e))c(oR(e),s);else if(oe.isObject(e)&&oe.isIterable(e)){let u={},h,m;for(const p of e){if(!oe.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[m=p[0]]=(h=u[m])?oe.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(u,s)}else e!=null&&l(s,e,n);return this}get(e,s){if(e=kc(e),e){const n=oe.findKey(this,e);if(n){const a=this[n];if(!s)return a;if(s===!0)return lR(a);if(oe.isFunction(s))return s.call(this,a,n);if(oe.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=kc(e),e){const n=oe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||Ax(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let a=!1;function l(c){if(c=kc(c),c){const u=oe.findKey(n,c);u&&(!s||Ax(n,n[u],u,s))&&(delete n[u],a=!0)}}return oe.isArray(e)?e.forEach(l):l(e),a}clear(e){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const l=s[n];(!e||Ax(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const s=this,n={};return oe.forEach(this,(a,l)=>{const c=oe.findKey(n,l);if(c){s[c]=Jh(a),delete s[l];return}const u=e?dR(l):String(l).trim();u!==l&&delete s[l],s[u]=Jh(a),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return oe.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=e&&oe.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[l2]=this[l2]={accessors:{}}).accessors,a=this.prototype;function l(c){const u=kc(c);n[u]||(uR(a,c),n[u]=!0)}return oe.isArray(e)?e.forEach(l):l(e),this}};Gs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Gs.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}});oe.freezeMethods(Gs);function Dx(t,e){const s=this||Vd,n=e||s,a=Gs.from(n.headers);let l=n.data;return oe.forEach(t,function(u){l=u.call(s,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function t_(t){return!!(t&&t.__CANCEL__)}function yl(t,e,s){Ue.call(this,t??"canceled",Ue.ERR_CANCELED,e,s),this.name="CanceledError"}oe.inherits(yl,Ue,{__CANCEL__:!0});function s_(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new Ue("Request failed with status code "+s.status,[Ue.ERR_BAD_REQUEST,Ue.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function hR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function fR(t,e){t=t||10;const s=new Array(t),n=new Array(t);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),p=n[l];c||(c=m),s[a]=h,n[a]=m;let x=l,b=0;for(;x!==a;)b+=s[x++],x=x%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),m-c<e)return;const v=p&&m-p;return v?Math.round(b*1e3/v):void 0}}function mR(t,e){let s=0,n=1e3/e,a,l;const c=(m,p=Date.now())=>{s=p,a=null,l&&(clearTimeout(l),l=null),t.apply(null,m)};return[(...m)=>{const p=Date.now(),x=p-s;x>=n?c(m,p):(a=m,l||(l=setTimeout(()=>{l=null,c(a)},n-x)))},()=>a&&c(a)]}const pf=(t,e,s=3)=>{let n=0;const a=fR(50,250);return mR(l=>{const c=l.loaded,u=l.lengthComputable?l.total:void 0,h=c-n,m=a(h),p=c<=u;n=c;const x={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&p?(u-c)/m:void 0,event:l,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(x)},s)},c2=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},d2=t=>(...e)=>oe.asap(()=>t(...e)),pR=Es.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,Es.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(Es.origin),Es.navigator&&/(msie|trident)/i.test(Es.navigator.userAgent)):()=>!0,xR=Es.hasStandardBrowserEnv?{write(t,e,s,n,a,l){const c=[t+"="+encodeURIComponent(e)];oe.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),oe.isString(n)&&c.push("path="+n),oe.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gR(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function yR(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function n_(t,e,s){let n=!gR(e);return t&&(n||s==!1)?yR(t,e):e}const u2=t=>t instanceof Gs?{...t}:t;function Xi(t,e){e=e||{};const s={};function n(m,p,x,b){return oe.isPlainObject(m)&&oe.isPlainObject(p)?oe.merge.call({caseless:b},m,p):oe.isPlainObject(p)?oe.merge({},p):oe.isArray(p)?p.slice():p}function a(m,p,x,b){if(oe.isUndefined(p)){if(!oe.isUndefined(m))return n(void 0,m,x,b)}else return n(m,p,x,b)}function l(m,p){if(!oe.isUndefined(p))return n(void 0,p)}function c(m,p){if(oe.isUndefined(p)){if(!oe.isUndefined(m))return n(void 0,m)}else return n(void 0,p)}function u(m,p,x){if(x in e)return n(m,p);if(x in t)return n(void 0,m)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(m,p,x)=>a(u2(m),u2(p),x,!0)};return oe.forEach(Object.keys(Object.assign({},t,e)),function(p){const x=h[p]||a,b=x(t[p],e[p],p);oe.isUndefined(b)&&x!==u||(s[p]=b)}),s}const r_=t=>{const e=Xi({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:u}=e;e.headers=c=Gs.from(c),e.url=ZS(n_(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(oe.isFormData(s)){if(Es.hasStandardBrowserEnv||Es.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((h=c.getContentType())!==!1){const[m,...p]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];c.setContentType([m||"multipart/form-data",...p].join("; "))}}if(Es.hasStandardBrowserEnv&&(n&&oe.isFunction(n)&&(n=n(e)),n||n!==!1&&pR(e.url))){const m=a&&l&&xR.read(l);m&&c.set(a,m)}return e},bR=typeof XMLHttpRequest<"u",vR=bR&&function(t){return new Promise(function(s,n){const a=r_(t);let l=a.data;const c=Gs.from(a.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a,p,x,b,v,j;function S(){v&&v(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function _(){if(!N)return;const k=Gs.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),M={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:k,config:t,request:N};s_(function(H){s(H),S()},function(H){n(H),S()},M),N=null}"onloadend"in N?N.onloadend=_:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(_)},N.onabort=function(){N&&(n(new Ue("Request aborted",Ue.ECONNABORTED,t,N)),N=null)},N.onerror=function(){n(new Ue("Network Error",Ue.ERR_NETWORK,t,N)),N=null},N.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const M=a.transitional||JS;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),n(new Ue(R,M.clarifyTimeoutError?Ue.ETIMEDOUT:Ue.ECONNABORTED,t,N)),N=null},l===void 0&&c.setContentType(null),"setRequestHeader"in N&&oe.forEach(c.toJSON(),function(R,M){N.setRequestHeader(M,R)}),oe.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),u&&u!=="json"&&(N.responseType=a.responseType),m&&([b,j]=pf(m,!0),N.addEventListener("progress",b)),h&&N.upload&&([x,v]=pf(h),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(p=k=>{N&&(n(!k||k.type?new yl(null,t,N):k),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const A=hR(a.url);if(A&&Es.protocols.indexOf(A)===-1){n(new Ue("Unsupported protocol "+A+":",Ue.ERR_BAD_REQUEST,t));return}N.send(l||null)})},wR=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,a;const l=function(m){if(!a){a=!0,u();const p=m instanceof Error?m:this.reason;n.abort(p instanceof Ue?p:new yl(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,l(new Ue(`timeout ${e} of ms exceeded`,Ue.ETIMEDOUT))},e);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),t=null)};t.forEach(m=>m.addEventListener("abort",l));const{signal:h}=n;return h.unsubscribe=()=>oe.asap(u),h}},jR=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,a;for(;n<s;)a=n+e,yield t.slice(n,a),n=a},NR=async function*(t,e){for await(const s of SR(t))yield*jR(s,e)},SR=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},h2=(t,e,s,n)=>{const a=NR(t,e);let l=0,c,u=h=>{c||(c=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:m,value:p}=await a.next();if(m){u(),h.close();return}let x=p.byteLength;if(s){let b=l+=x;s(b)}h.enqueue(new Uint8Array(p))}catch(m){throw u(m),m}},cancel(h){return u(h),a.return()}},{highWaterMark:2})},Ff=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",a_=Ff&&typeof ReadableStream=="function",_R=Ff&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),i_=(t,...e)=>{try{return!!t(...e)}catch{return!1}},ER=a_&&i_(()=>{let t=!1;const e=new Request(Es.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),f2=64*1024,Tg=a_&&i_(()=>oe.isReadableStream(new Response("").body)),xf={stream:Tg&&(t=>t.body)};Ff&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!xf[e]&&(xf[e]=oe.isFunction(t[e])?s=>s[e]():(s,n)=>{throw new Ue(`Response type '${e}' is not supported`,Ue.ERR_NOT_SUPPORT,n)})})})(new Response);const CR=async t=>{if(t==null)return 0;if(oe.isBlob(t))return t.size;if(oe.isSpecCompliantForm(t))return(await new Request(Es.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(t)||oe.isArrayBuffer(t))return t.byteLength;if(oe.isURLSearchParams(t)&&(t=t+""),oe.isString(t))return(await _R(t)).byteLength},TR=async(t,e)=>{const s=oe.toFiniteNumber(t.getContentLength());return s??CR(e)},kR=Ff&&(async t=>{let{url:e,method:s,data:n,signal:a,cancelToken:l,timeout:c,onDownloadProgress:u,onUploadProgress:h,responseType:m,headers:p,withCredentials:x="same-origin",fetchOptions:b}=r_(t);m=m?(m+"").toLowerCase():"text";let v=wR([a,l&&l.toAbortSignal()],c),j;const S=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let N;try{if(h&&ER&&s!=="get"&&s!=="head"&&(N=await TR(p,n))!==0){let M=new Request(e,{method:"POST",body:n,duplex:"half"}),z;if(oe.isFormData(n)&&(z=M.headers.get("content-type"))&&p.setContentType(z),M.body){const[H,L]=c2(N,pf(d2(h)));n=h2(M.body,f2,H,L)}}oe.isString(x)||(x=x?"include":"omit");const _="credentials"in Request.prototype;j=new Request(e,{...b,signal:v,method:s.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:_?x:void 0});let A=await fetch(j);const k=Tg&&(m==="stream"||m==="response");if(Tg&&(u||k&&S)){const M={};["status","statusText","headers"].forEach(F=>{M[F]=A[F]});const z=oe.toFiniteNumber(A.headers.get("content-length")),[H,L]=u&&c2(z,pf(d2(u),!0))||[];A=new Response(h2(A.body,f2,H,()=>{L&&L(),S&&S()}),M)}m=m||"text";let R=await xf[oe.findKey(xf,m)||"text"](A,t);return!k&&S&&S(),await new Promise((M,z)=>{s_(M,z,{data:R,headers:Gs.from(A.headers),status:A.status,statusText:A.statusText,config:t,request:j})})}catch(_){throw S&&S(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Ue("Network Error",Ue.ERR_NETWORK,t,j),{cause:_.cause||_}):Ue.from(_,_&&_.code,t,j)}}),kg={http:ID,xhr:vR,fetch:kR};oe.forEach(kg,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const m2=t=>`- ${t}`,MR=t=>oe.isFunction(t)||t===null||t===!1,o_={getAdapter:t=>{t=oe.isArray(t)?t:[t];const{length:e}=t;let s,n;const a={};for(let l=0;l<e;l++){s=t[l];let c;if(n=s,!MR(s)&&(n=kg[(c=String(s)).toLowerCase()],n===void 0))throw new Ue(`Unknown adapter '${c}'`);if(n)break;a[c||"#"+l]=n}if(!n){const l=Object.entries(a).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(m2).join(`
`):" "+m2(l[0]):"as no adapter specified";throw new Ue("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:kg};function Rx(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yl(null,t)}function p2(t){return Rx(t),t.headers=Gs.from(t.headers),t.data=Dx.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),o_.getAdapter(t.adapter||Vd.adapter)(t).then(function(n){return Rx(t),n.data=Dx.call(t,t.transformResponse,n),n.headers=Gs.from(n.headers),n},function(n){return t_(n)||(Rx(t),n&&n.response&&(n.response.data=Dx.call(t,t.transformResponse,n.response),n.response.headers=Gs.from(n.response.headers))),Promise.reject(n)})}const l_="1.9.0",$f={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$f[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const x2={};$f.transitional=function(e,s,n){function a(l,c){return"[Axios v"+l_+"] Transitional option '"+l+"'"+c+(n?". "+n:"")}return(l,c,u)=>{if(e===!1)throw new Ue(a(c," has been removed"+(s?" in "+s:"")),Ue.ERR_DEPRECATED);return s&&!x2[c]&&(x2[c]=!0,console.warn(a(c," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(l,c,u):!0}};$f.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function AR(t,e,s){if(typeof t!="object")throw new Ue("options must be an object",Ue.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const l=n[a],c=e[l];if(c){const u=t[l],h=u===void 0||c(u,l,t);if(h!==!0)throw new Ue("option "+l+" must be "+h,Ue.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ue("Unknown option "+l,Ue.ERR_BAD_OPTION)}}const ef={assertOptions:AR,validators:$f},nr=ef.validators;let Ii=class{constructor(e){this.defaults=e||{},this.interceptors={request:new o2,response:new o2}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=Xi(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:l}=s;n!==void 0&&ef.assertOptions(n,{silentJSONParsing:nr.transitional(nr.boolean),forcedJSONParsing:nr.transitional(nr.boolean),clarifyTimeoutError:nr.transitional(nr.boolean)},!1),a!=null&&(oe.isFunction(a)?s.paramsSerializer={serialize:a}:ef.assertOptions(a,{encode:nr.function,serialize:nr.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ef.assertOptions(s,{baseUrl:nr.spelling("baseURL"),withXsrfToken:nr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=l&&oe.merge(l.common,l[s.method]);l&&oe.forEach(["delete","get","head","post","put","patch","common"],j=>{delete l[j]}),s.headers=Gs.concat(c,l);const u=[];let h=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(s)===!1||(h=h&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const m=[];this.interceptors.response.forEach(function(S){m.push(S.fulfilled,S.rejected)});let p,x=0,b;if(!h){const j=[p2.bind(this),void 0];for(j.unshift.apply(j,u),j.push.apply(j,m),b=j.length,p=Promise.resolve(s);x<b;)p=p.then(j[x++],j[x++]);return p}b=u.length;let v=s;for(x=0;x<b;){const j=u[x++],S=u[x++];try{v=j(v)}catch(N){S.call(this,N);break}}try{p=p2.call(this,v)}catch(j){return Promise.reject(j)}for(x=0,b=m.length;x<b;)p=p.then(m[x++],m[x++]);return p}getUri(e){e=Xi(this.defaults,e);const s=n_(e.baseURL,e.url,e.allowAbsoluteUrls);return ZS(s,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){Ii.prototype[e]=function(s,n){return this.request(Xi(n||{},{method:e,url:s,data:(n||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function s(n){return function(l,c,u){return this.request(Xi(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ii.prototype[e]=s(),Ii.prototype[e+"Form"]=s(!0)});let DR=class c_{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(u=>{n.subscribe(u),l=u}).then(a);return c.cancel=function(){n.unsubscribe(l)},c},e(function(l,c,u){n.reason||(n.reason=new yl(l,c,u),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new c_(function(a){e=a}),cancel:e}}};function RR(t){return function(s){return t.apply(null,s)}}function OR(t){return oe.isObject(t)&&t.isAxiosError===!0}const Mg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mg).forEach(([t,e])=>{Mg[e]=t});function d_(t){const e=new Ii(t),s=US(Ii.prototype.request,e);return oe.extend(s,Ii.prototype,e,{allOwnKeys:!0}),oe.extend(s,e,null,{allOwnKeys:!0}),s.create=function(a){return d_(Xi(t,a))},s}const mt=d_(Vd);mt.Axios=Ii;mt.CanceledError=yl;mt.CancelToken=DR;mt.isCancel=t_;mt.VERSION=l_;mt.toFormData=Hf;mt.AxiosError=Ue;mt.Cancel=mt.CanceledError;mt.all=function(e){return Promise.all(e)};mt.spread=RR;mt.isAxiosError=OR;mt.mergeConfig=Xi;mt.AxiosHeaders=Gs;mt.formToJSON=t=>e_(oe.isHTMLForm(t)?new FormData(t):t);mt.getAdapter=o_.getAdapter;mt.HttpStatusCode=Mg;mt.default=mt;const{Axios:mU,AxiosError:pU,CanceledError:xU,isCancel:gU,CancelToken:yU,VERSION:bU,all:vU,Cancel:wU,isAxiosError:jU,spread:NU,toFormData:SU,AxiosHeaders:_U,HttpStatusCode:EU,formToJSON:CU,getAdapter:TU,mergeConfig:kU}=mt,LR="http://127.0.0.1:8000/api",ge=mt.create({baseURL:LR,headers:{"Content-Type":"application/json",Accept:"application/json"}});ge.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));ge.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("token"),window.location.href="/auth/login"),Promise.reject(t)});const Ox="http://127.0.0.1:8000/api",Xc={login:async t=>{var e,s;try{const n=await ge.post(`${Ox}/login`,t),{token:a,data:l}=n.data;if(!a||!l)throw new Error("Respuesta invlida del servidor");if(l.activo===0)throw new Error("Tu cuenta est inactiva. Por favor, contacta al administrador.");return localStorage.setItem("token",a),{token:a,user:{data:l}}}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al iniciar sesin")}},register:async t=>{var e,s;try{const n=await ge.post(`${Ox}/register`,{nombre:t.nombre,email:t.email,password:t.password,activo:1}),{token:a,data:l}=n.data;if(!a||!l)throw new Error("Respuesta invlida del servidor");return localStorage.setItem("token",a),{token:a,user:{data:{...l,activo:l.activo??1}}}}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al registrar usuario")}},loadUser:async()=>{if(!localStorage.getItem("token"))return null;try{const s=(await ge.get(`${Ox}/me`)).data.data;return{data:{...s,activo:s.activo??1}}}catch(e){throw console.log(e),localStorage.removeItem("token"),new Error("Error al cargar usuario")}},logout:()=>{localStorage.removeItem("token")}},Ht=Ps(t=>({user:null,token:localStorage.getItem("token"),isLoading:!1,error:null,isAuthenticated:!!localStorage.getItem("token"),loadUser:async()=>{t({isLoading:!0});try{const e=await Xc.loadUser();e?t({user:e,isLoading:!1}):(t({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("token"))}catch(e){console.log(e),t({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("token")}},login:async e=>{t({isLoading:!0,error:null});try{const{token:s,user:n}=await Xc.login(e);return t({user:n,token:s,isAuthenticated:!0,isLoading:!1}),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},register:async e=>{t({isLoading:!0,error:null});try{const{token:s,user:n}=await Xc.register(e);return t({user:n,token:s,isAuthenticated:!0,isLoading:!1}),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},logout:()=>{Xc.logout(),t({user:null,token:null,isAuthenticated:!1})}}));/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zR=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,n)=>n?n.toUpperCase():s.toLowerCase()),g2=t=>{const e=zR(t);return e.charAt(0).toUpperCase()+e.slice(1)},u_=(...t)=>t.filter((e,s,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===s).join(" ").trim(),BR=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:c,...u},h)=>D.createElement("svg",{ref:h,...VR,width:e,height:e,stroke:t,strokeWidth:n?Number(s)*24/Number(e):s,className:u_("lucide",a),...!l&&!BR(u)&&{"aria-hidden":"true"},...u},[...c.map(([m,p])=>D.createElement(m,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(t,e)=>{const s=D.forwardRef(({className:n,...a},l)=>D.createElement(UR,{ref:l,iconNode:e,className:u_(`lucide-${PR(g2(t))}`,`lucide-${t}`,n),...a}));return s.displayName=g2(t),s};/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],FR=Se("activity",HR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],Ag=Se("arrow-down-to-line",$R);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Hi=Se("arrow-right-left",IR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],Dg=Se("arrow-up-from-line",qR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ad=Se("bell",YR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],WR=Se("book-open",XR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],y2=Se("box",GR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],vn=Se("building-2",KR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],vd=Se("building",QR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hn=Se("calendar",ZR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],wd=Se("chart-no-axes-column",JR);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rg=Se("check",eO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sO=Se("chevron-left",tO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rO=Se("chevron-right",nO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ts=Se("circle-alert",aO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xa=Se("circle-check-big",iO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lO=Se("circle-help",oO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Og=Se("circle-x",cO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],uO=Se("clipboard",dO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Wi=Se("clock",hO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],mO=Se("coffee",fO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],b2=Se("database",pO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],wn=Se("download",xO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],Sn=Se("euro",gO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wa=Se("eye",yO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vn=Se("file-text",bO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fr=Se("funnel",vO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],v2=Se("key",wO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],NO=Se("layers",jO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_O=Se("layout-dashboard",SO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xt=Se("loader-circle",EO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],h_=Se("lock",CO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],kO=Se("log-in",TO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],If=Se("log-out",MO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],jd=Se("mail",AO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],f_=Se("menu",DO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ud=Se("message-square",RO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M5 12h14",key:"1ays0h"}]],m_=Se("minus",OO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],PO=Se("monitor",LO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Et=Se("package",zO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],p_=Se("phone",BO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ga=Se("plus",VO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],tl=Se("printer",UO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],tf=Se("refresh-ccw",HO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$O=Se("refresh-cw",FO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qO=Se("save",IO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],xr=Se("search",YO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],WO=Se("send",XO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qi=Se("settings",GO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M6.376 18.91a6 6 0 0 1 11.249.003",key:"hnjrf2"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}]],QO=Se("shield-user",KO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gf=Se("shield",ZO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],mr=Se("shopping-cart",JO);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Nd=Se("square-pen",e6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],s6=Se("star",t6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Lg=Se("store",n6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],yf=Se("tag",r6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Wr=Se("trash-2",a6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],o6=Se("trending-down",i6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],qf=Se("trending-up",l6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],x_=Se("triangle-alert",c6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Gi=Se("truck",d6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],yh=Se("user-check",u6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],f6=Se("user-plus",h6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],bh=Se("user-x",m6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],on=Se("user",p6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ll=Se("users",x6);/**
 * @license lucide-react v0.506.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fn=Se("x",g6),g_=6048e5,y6=864e5,vh=43200,w2=1440,j2=Symbol.for("constructDateFrom");function Gr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&j2 in t?t[j2](e):t instanceof Date?new t.constructor(e):new Date(e)}function hs(t,e){return Gr(e||t,t)}let b6={};function Hd(){return b6}function Sd(t,e){var u,h,m,p;const s=Hd(),n=(e==null?void 0:e.weekStartsOn)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??s.weekStartsOn??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=hs(t,e==null?void 0:e.in),l=a.getDay(),c=(l<n?7:0)+l-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function bf(t,e){return Sd(t,{...e,weekStartsOn:1})}function y_(t,e){const s=hs(t,e==null?void 0:e.in),n=s.getFullYear(),a=Gr(s,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const l=bf(a),c=Gr(s,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=bf(c);return s.getTime()>=l.getTime()?n+1:s.getTime()>=u.getTime()?n:n-1}function vf(t){const e=hs(t),s=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return s.setUTCFullYear(e.getFullYear()),+t-+s}function Yf(t,...e){const s=Gr.bind(null,t||e.find(n=>typeof n=="object"));return e.map(s)}function N2(t,e){const s=hs(t,e==null?void 0:e.in);return s.setHours(0,0,0,0),s}function v6(t,e,s){const[n,a]=Yf(s==null?void 0:s.in,t,e),l=N2(n),c=N2(a),u=+l-vf(l),h=+c-vf(c);return Math.round((u-h)/y6)}function w6(t,e){const s=y_(t,e),n=Gr(t,0);return n.setFullYear(s,0,4),n.setHours(0,0,0,0),bf(n)}function sf(t,e){const s=+hs(t)-+hs(e);return s<0?-1:s>0?1:s}function j6(t){return Gr(t,Date.now())}function N6(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Pg(t){return!(!N6(t)&&typeof t!="number"||isNaN(+hs(t)))}function S6(t,e,s){const[n,a]=Yf(s==null?void 0:s.in,t,e),l=n.getFullYear()-a.getFullYear(),c=n.getMonth()-a.getMonth();return l*12+c}function _6(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function E6(t,e){return+hs(t)-+hs(e)}function C6(t,e){const s=hs(t,e==null?void 0:e.in);return s.setHours(23,59,59,999),s}function T6(t,e){const s=hs(t,e==null?void 0:e.in),n=s.getMonth();return s.setFullYear(s.getFullYear(),n+1,0),s.setHours(23,59,59,999),s}function k6(t,e){const s=hs(t,e==null?void 0:e.in);return+C6(s,e)==+T6(s,e)}function M6(t,e,s){const[n,a,l]=Yf(s==null?void 0:s.in,t,t,e),c=sf(a,l),u=Math.abs(S6(a,l));if(u<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-c*u);let h=sf(a,l)===-c;k6(n)&&u===1&&sf(n,l)===1&&(h=!1);const m=c*(u-+h);return m===0?0:m}function A6(t,e,s){const n=E6(t,e)/1e3;return _6(s==null?void 0:s.roundingMethod)(n)}function D6(t,e){const s=hs(t,e==null?void 0:e.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const R6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O6=(t,e,s)=>{let n;const a=R6[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+n:n+" ago":n};function sl(t){return(e={})=>{const s=e.width?String(e.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const L6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},P6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},B6={date:sl({formats:L6,defaultWidth:"full"}),time:sl({formats:P6,defaultWidth:"full"}),dateTime:sl({formats:z6,defaultWidth:"full"})},V6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},U6=(t,e,s,n)=>V6[t];function or(t){return(e,s)=>{const n=s!=null&&s.context?String(s.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=s!=null&&s.width?String(s.width):c;a=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=s!=null&&s.width?String(s.width):t.defaultWidth;a=t.values[u]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return a[l]}}const H6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},F6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},I6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Y6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},X6=(t,e)=>{const s=Number(t),n=s%100;if(n>20||n<10)switch(n%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},W6={ordinalNumber:X6,era:or({values:H6,defaultWidth:"wide"}),quarter:or({values:F6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:or({values:$6,defaultWidth:"wide"}),day:or({values:I6,defaultWidth:"wide"}),dayPeriod:or({values:q6,defaultWidth:"wide",formattingValues:Y6,defaultFormattingWidth:"wide"})};function lr(t){return(e,s={})=>{const n=s.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(u)?K6(u,x=>x.test(c)):G6(u,x=>x.test(c));let m;m=t.valueCallback?t.valueCallback(h):h,m=s.valueCallback?s.valueCallback(m):m;const p=e.slice(c.length);return{value:m,rest:p}}}function G6(t,e){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return s}function K6(t,e){for(let s=0;s<t.length;s++)if(e(t[s]))return s}function b_(t){return(e,s={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=s.valueCallback?s.valueCallback(c):c;const u=e.slice(a.length);return{value:c,rest:u}}}const Q6=/^(\d+)(th|st|nd|rd)?/i,Z6=/\d+/i,J6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eL={any:[/^b/i,/^(a|c)/i]},tL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sL={any:[/1/i,/2/i,/3/i,/4/i]},nL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},oL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cL={ordinalNumber:b_({matchPattern:Q6,parsePattern:Z6,valueCallback:t=>parseInt(t,10)}),era:lr({matchPatterns:J6,defaultMatchWidth:"wide",parsePatterns:eL,defaultParseWidth:"any"}),quarter:lr({matchPatterns:tL,defaultMatchWidth:"wide",parsePatterns:sL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lr({matchPatterns:nL,defaultMatchWidth:"wide",parsePatterns:rL,defaultParseWidth:"any"}),day:lr({matchPatterns:aL,defaultMatchWidth:"wide",parsePatterns:iL,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:oL,defaultMatchWidth:"any",parsePatterns:lL,defaultParseWidth:"any"})},v_={code:"en-US",formatDistance:O6,formatLong:B6,formatRelative:U6,localize:W6,match:cL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function dL(t,e){const s=hs(t,e==null?void 0:e.in);return v6(s,D6(s))+1}function uL(t,e){const s=hs(t,e==null?void 0:e.in),n=+bf(s)-+w6(s);return Math.round(n/g_)+1}function w_(t,e){var p,x,b,v;const s=hs(t,e==null?void 0:e.in),n=s.getFullYear(),a=Hd(),l=(e==null?void 0:e.firstWeekContainsDate)??((x=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(b=a.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??1,c=Gr((e==null?void 0:e.in)||t,0);c.setFullYear(n+1,0,l),c.setHours(0,0,0,0);const u=Sd(c,e),h=Gr((e==null?void 0:e.in)||t,0);h.setFullYear(n,0,l),h.setHours(0,0,0,0);const m=Sd(h,e);return+s>=+u?n+1:+s>=+m?n:n-1}function hL(t,e){var u,h,m,p;const s=Hd(),n=(e==null?void 0:e.firstWeekContainsDate)??((h=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,a=w_(t,e),l=Gr((e==null?void 0:e.in)||t,0);return l.setFullYear(a,0,n),l.setHours(0,0,0,0),Sd(l,e)}function fL(t,e){const s=hs(t,e==null?void 0:e.in),n=+Sd(s,e)-+hL(s,e);return Math.round(n/g_)+1}function at(t,e){const s=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return s+n}const Oa={y(t,e){const s=t.getFullYear(),n=s>0?s:1-s;return at(e==="yy"?n%100:n,e.length)},M(t,e){const s=t.getMonth();return e==="M"?String(s+1):at(s+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const s=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,s-3));return at(a,e.length)}},Io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},S2={G:function(t,e,s){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return s.era(n,{width:"abbreviated"});case"GGGGG":return s.era(n,{width:"narrow"});case"GGGG":default:return s.era(n,{width:"wide"})}},y:function(t,e,s){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return s.ordinalNumber(a,{unit:"year"})}return Oa.y(t,e)},Y:function(t,e,s,n){const a=w_(t,n),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return at(c,2)}return e==="Yo"?s.ordinalNumber(l,{unit:"year"}):at(l,e.length)},R:function(t,e){const s=y_(t);return at(s,e.length)},u:function(t,e){const s=t.getFullYear();return at(s,e.length)},Q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return at(n,2);case"Qo":return s.ordinalNumber(n,{unit:"quarter"});case"QQQ":return s.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,s){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return at(n,2);case"qo":return s.ordinalNumber(n,{unit:"quarter"});case"qqq":return s.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,s){const n=t.getMonth();switch(e){case"M":case"MM":return Oa.M(t,e);case"Mo":return s.ordinalNumber(n+1,{unit:"month"});case"MMM":return s.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,s){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return at(n+1,2);case"Lo":return s.ordinalNumber(n+1,{unit:"month"});case"LLL":return s.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,s,n){const a=fL(t,n);return e==="wo"?s.ordinalNumber(a,{unit:"week"}):at(a,e.length)},I:function(t,e,s){const n=uL(t);return e==="Io"?s.ordinalNumber(n,{unit:"week"}):at(n,e.length)},d:function(t,e,s){return e==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):Oa.d(t,e)},D:function(t,e,s){const n=dL(t);return e==="Do"?s.ordinalNumber(n,{unit:"dayOfYear"}):at(n,e.length)},E:function(t,e,s){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return s.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(n,{width:"short",context:"formatting"});case"EEEE":default:return s.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,s,n){const a=t.getDay(),l=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return at(l,2);case"eo":return s.ordinalNumber(l,{unit:"day"});case"eee":return s.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(a,{width:"short",context:"formatting"});case"eeee":default:return s.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,s,n){const a=t.getDay(),l=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return at(l,e.length);case"co":return s.ordinalNumber(l,{unit:"day"});case"ccc":return s.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(a,{width:"narrow",context:"standalone"});case"cccccc":return s.day(a,{width:"short",context:"standalone"});case"cccc":default:return s.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,s){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return at(a,e.length);case"io":return s.ordinalNumber(a,{unit:"day"});case"iii":return s.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(n,{width:"short",context:"formatting"});case"iiii":default:return s.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,s){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,s){const n=t.getHours();let a;switch(n===12?a=Io.noon:n===0?a=Io.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,s){const n=t.getHours();let a;switch(n>=17?a=Io.evening:n>=12?a=Io.afternoon:n>=4?a=Io.morning:a=Io.night,e){case"B":case"BB":case"BBB":return s.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,s){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),s.ordinalNumber(n,{unit:"hour"})}return Oa.h(t,e)},H:function(t,e,s){return e==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):Oa.H(t,e)},K:function(t,e,s){const n=t.getHours()%12;return e==="Ko"?s.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},k:function(t,e,s){let n=t.getHours();return n===0&&(n=24),e==="ko"?s.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},m:function(t,e,s){return e==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):Oa.m(t,e)},s:function(t,e,s){return e==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):Oa.s(t,e)},S:function(t,e){return Oa.S(t,e)},X:function(t,e,s){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return E2(n);case"XXXX":case"XX":return Li(n);case"XXXXX":case"XXX":default:return Li(n,":")}},x:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"x":return E2(n);case"xxxx":case"xx":return Li(n);case"xxxxx":case"xxx":default:return Li(n,":")}},O:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_2(n,":");case"OOOO":default:return"GMT"+Li(n,":")}},z:function(t,e,s){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_2(n,":");case"zzzz":default:return"GMT"+Li(n,":")}},t:function(t,e,s){const n=Math.trunc(+t/1e3);return at(n,e.length)},T:function(t,e,s){return at(+t,e.length)}};function _2(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),l=n%60;return l===0?s+String(a):s+String(a)+e+at(l,2)}function E2(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):Li(t,e)}function Li(t,e=""){const s=t>0?"-":"+",n=Math.abs(t),a=at(Math.trunc(n/60),2),l=at(n%60,2);return s+a+e+l}const C2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},j_=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},mL=(t,e)=>{const s=t.match(/(P+)(p+)?/)||[],n=s[1],a=s[2];if(!a)return C2(t,e);let l;switch(n){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",C2(n,e)).replace("{{time}}",j_(a,e))},pL={p:j_,P:mL},xL=/^D+$/,gL=/^Y+$/,yL=["D","DD","YY","YYYY"];function bL(t){return xL.test(t)}function vL(t){return gL.test(t)}function wL(t,e,s){const n=jL(t,e,s);if(console.warn(n),yL.includes(t))throw new RangeError(n)}function jL(t,e,s){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const NL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_L=/^'([^]*?)'?$/,EL=/''/g,CL=/[a-zA-Z]/;function pt(t,e,s){var p,x,b,v,j,S,N,_;const n=Hd(),a=(s==null?void 0:s.locale)??n.locale??v_,l=(s==null?void 0:s.firstWeekContainsDate)??((x=(p=s==null?void 0:s.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(b=n.locale)==null?void 0:b.options)==null?void 0:v.firstWeekContainsDate)??1,c=(s==null?void 0:s.weekStartsOn)??((S=(j=s==null?void 0:s.locale)==null?void 0:j.options)==null?void 0:S.weekStartsOn)??n.weekStartsOn??((_=(N=n.locale)==null?void 0:N.options)==null?void 0:_.weekStartsOn)??0,u=hs(t,s==null?void 0:s.in);if(!Pg(u))throw new RangeError("Invalid time value");let h=e.match(SL).map(A=>{const k=A[0];if(k==="p"||k==="P"){const R=pL[k];return R(A,a.formatLong)}return A}).join("").match(NL).map(A=>{if(A==="''")return{isToken:!1,value:"'"};const k=A[0];if(k==="'")return{isToken:!1,value:TL(A)};if(S2[k])return{isToken:!0,value:A};if(k.match(CL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:A}});a.localize.preprocessor&&(h=a.localize.preprocessor(u,h));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return h.map(A=>{if(!A.isToken)return A.value;const k=A.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&vL(k)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&bL(k))&&wL(k,e,String(t));const R=S2[k[0]];return R(u,k,a.localize,m)}).join("")}function TL(t){const e=t.match(_L);return e?e[1].replace(EL,"'"):t}function kL(t,e,s){const n=Hd(),a=(s==null?void 0:s.locale)??n.locale??v_,l=2520,c=sf(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:c}),[h,m]=Yf(s==null?void 0:s.in,...c>0?[e,t]:[t,e]),p=A6(m,h),x=(vf(m)-vf(h))/1e3,b=Math.round((p-x)/60);let v;if(b<2)return s!=null&&s.includeSeconds?p<5?a.formatDistance("lessThanXSeconds",5,u):p<10?a.formatDistance("lessThanXSeconds",10,u):p<20?a.formatDistance("lessThanXSeconds",20,u):p<40?a.formatDistance("halfAMinute",0,u):p<60?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",1,u):b===0?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",b,u);if(b<45)return a.formatDistance("xMinutes",b,u);if(b<90)return a.formatDistance("aboutXHours",1,u);if(b<w2){const j=Math.round(b/60);return a.formatDistance("aboutXHours",j,u)}else{if(b<l)return a.formatDistance("xDays",1,u);if(b<vh){const j=Math.round(b/w2);return a.formatDistance("xDays",j,u)}else if(b<vh*2)return v=Math.round(b/vh),a.formatDistance("aboutXMonths",v,u)}if(v=M6(m,h),v<12){const j=Math.round(b/vh);return a.formatDistance("xMonths",j,u)}else{const j=v%12,S=Math.trunc(v/12);return j<3?a.formatDistance("aboutXYears",S,u):j<9?a.formatDistance("overXYears",S,u):a.formatDistance("almostXYears",S+1,u)}}function ML(t,e){return kL(t,j6(t),e)}const AL={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},DL=(t,e,s)=>{let n;const a=AL[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"en "+n:"hace "+n:n},RL={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},OL={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},LL={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},PL={date:sl({formats:RL,defaultWidth:"full"}),time:sl({formats:OL,defaultWidth:"full"}),dateTime:sl({formats:LL,defaultWidth:"full"})},zL={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},BL={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},VL=(t,e,s,n)=>e.getHours()!==1?BL[t]:zL[t],UL={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},HL={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},FL={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},$L={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},IL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},qL={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},YL=(t,e)=>Number(t)+"",XL={ordinalNumber:YL,era:or({values:UL,defaultWidth:"wide"}),quarter:or({values:HL,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:or({values:FL,defaultWidth:"wide"}),day:or({values:$L,defaultWidth:"wide"}),dayPeriod:or({values:IL,defaultWidth:"wide",formattingValues:qL,defaultFormattingWidth:"wide"})},WL=/^(\d+)()?/i,GL=/\d+/i,KL={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},QL={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},ZL={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},JL={any:[/1/i,/2/i,/3/i,/4/i]},eP={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},tP={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},sP={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},nP={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},rP={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},aP={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},iP={ordinalNumber:b_({matchPattern:WL,parsePattern:GL,valueCallback:function(t){return parseInt(t,10)}}),era:lr({matchPatterns:KL,defaultMatchWidth:"wide",parsePatterns:QL,defaultParseWidth:"any"}),quarter:lr({matchPatterns:ZL,defaultMatchWidth:"wide",parsePatterns:JL,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lr({matchPatterns:eP,defaultMatchWidth:"wide",parsePatterns:tP,defaultParseWidth:"any"}),day:lr({matchPatterns:sP,defaultMatchWidth:"wide",parsePatterns:nP,defaultParseWidth:"any"}),dayPeriod:lr({matchPatterns:rP,defaultMatchWidth:"any",parsePatterns:aP,defaultParseWidth:"any"})},bs={code:"es",formatDistance:DL,formatLong:PL,formatRelative:VL,localize:XL,match:iP,options:{weekStartsOn:1,firstWeekContainsDate:1}},rn="http://127.0.0.1:8000/api",Bn={fetchUsers:async()=>{var t,e;try{const s=await ge.get(`${rn}/usuarios`);return Array.isArray(s.data)?s.data:s.data.data?s.data.data:s.data.users?s.data.users:[]}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar usuarios")}},createUser:async t=>{var e,s;try{const n=await ge.post(`${rn}/usuarios`,{...t,sede_id:1});return n.data.data||n.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear usuario")}},updateUser:async(t,e)=>{var s,n;try{return(await ge.put(`${rn}/usuarios/${t}`,e)).data.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al actualizar usuario")}},deleteUser:async t=>{var e,s;try{return await ge.delete(`${rn}/usuarios/${t}`),!0}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al eliminar usuario")}},updateUserStatus:async(t,e)=>{var s,n;try{return(await ge.patch(`${rn}/usuarios/${t}/estado`,{activo:e})).data.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al cambiar estado del usuario")}},loadRoles:async()=>{var t,e;try{const s=await ge.get(`${rn}/roles`);return Array.isArray(s.data)?s.data:s.data.data?s.data.data:s.data.roles?s.data.roles:[]}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar roles")}},getUserById:async t=>{var e,s;try{const n=await ge.get(`${rn}/usuarios/${t}`);return n.data.data||n.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al obtener usuario")}},restoreUser:async t=>{var e,s;try{return await ge.post(`${rn}/usuarios/${t}/restore`),!0}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al restaurar usuario")}},getProfile:async()=>{var t,e;try{return(await ge.get(`${rn}/me`)).data.data}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al obtener el perfil")}},updateProfile:async t=>{var e,s;try{return(await ge.put(`${rn}/config/perfil`,t)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al actualizar el perfil")}},updatePassword:async t=>{var e,s;try{return(await ge.put(`${rn}/config/password`,{current_password:t.current_password,new_password:t.password})).data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al actualizar la contrasea")}},uploadAvatar:async t=>{var e,s;try{const n=new FormData;return n.append("avatar",t),(await ge.post(`${rn}/usuarios/me/avatar`,n,{headers:{"Content-Type":"multipart/form-data"}})).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al subir el avatar")}},logout:async()=>{var t,e;try{return await ge.post(`${rn}/logout`),!0}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cerrar sesin")}}},oP=({isOpen:t,onClose:e,user:s})=>{var H,L,F;const[n,a]=D.useState(!1),[l,c]=D.useState(null),[u,h]=D.useState(null),[m,p]=D.useState(!1),[x,b]=D.useState({current_password:"",password:"",password_confirmation:""}),[v,j]=D.useState({}),{logout:S}=Ht(),N=Qa();if(!t||!s)return null;const _=U=>{if(!U)return"No disponible";const X=new Date(U);return Pg(X)?pt(X,"dd/MM/yyyy HH:mm",{locale:bs}):"No disponible"},A=U=>{if(!U)return"No disponible";const X=new Date(U);return Pg(X)?pt(X,"MMMM yyyy",{locale:bs}):"No disponible"},k=async()=>{try{a(!0),Xc.logout(),S(),N("/auth/login")}catch(U){c(U.message||"Error al cerrar sesin")}finally{a(!1)}},R=()=>{e(),N("/dashboard/configuracion")},M=async U=>{U.preventDefault();const X={};if(x.current_password||(X.current_password="La contrasea actual es requerida"),x.password?x.password.length<6&&(X.password="La contrasea debe tener al menos 6 caracteres"):X.password="La nueva contrasea es requerida",x.password!==x.password_confirmation&&(X.password_confirmation="Las contraseas no coinciden"),Object.keys(X).length>0){j(X);return}try{a(!0),c(null),h(null),j({}),await Bn.updatePassword(x),b({current_password:"",password:"",password_confirmation:""}),h("Contrasea actualizada correctamente"),setTimeout(()=>{p(!1),setTimeout(()=>h(null),500)},2e3)}catch(Z){c(Z.message||"Error al cambiar la contrasea")}finally{a(!1)}},z=U=>{const{name:X,value:Z}=U.target;b(ae=>({...ae,[X]:Z})),v[X]&&j(ae=>({...ae,[X]:null}))};return o.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:e,children:o.jsxs(ye.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-bg rounded-xl shadow-lg w-full max-w-2xl overflow-hidden max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[o.jsx("div",{className:"relative h-48 bg-gradient-to-r from-solid-color to-solid-color-hover",children:o.jsx("div",{className:"absolute -bottom-16 left-8",children:o.jsx("div",{className:"relative",children:o.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-bg overflow-hidden bg-interactive-component",children:s.avatar?o.jsx("img",{src:s.avatar,alt:s.nombre,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx(on,{className:"w-16 h-16 text-text-tertiary"})})})})})}),o.jsxs("div",{className:"pt-20 px-8 pb-8",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-accessibility-text",children:s.nombre}),o.jsx("p",{className:"text-text-tertiary",children:((H=s.rol)==null?void 0:H.nombre)||"Sin rol asignado"})]}),o.jsxs("button",{onClick:k,disabled:n,className:"px-4 py-2 bg-error/10 text-error rounded-lg hover:bg-error/20 transition-colors flex items-center gap-2 disabled:opacity-50",children:[o.jsx(If,{className:"w-4 h-4"}),n?"Cerrando sesin...":"Cerrar sesin"]})]}),l&&o.jsxs("div",{className:"mb-4 p-3 bg-error/10 text-error rounded-lg text-sm flex items-center gap-2",children:[o.jsx(ts,{className:"w-4 h-4"}),l]}),u&&o.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-green-100 text-green-700 rounded-lg text-sm flex items-center gap-2",children:[o.jsx(Xa,{className:"w-4 h-4"}),u]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[o.jsx(jd,{className:"w-5 h-5 text-text-tertiary"}),o.jsx("span",{children:s.email||"No especificado"})]}),s.telefono&&o.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[o.jsx(p_,{className:"w-5 h-5 text-text-tertiary"}),o.jsx("span",{children:s.telefono})]}),o.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[o.jsx(Lg,{className:"w-5 h-5 text-text-tertiary"}),o.jsx("span",{children:((L=s.sede)==null?void 0:L.nombre)||"Sin sede asignada"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[o.jsx(Hn,{className:"w-5 h-5 text-text-tertiary"}),o.jsxs("span",{children:["Miembro desde ",A(s.created_at)]})]}),o.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[o.jsx(gf,{className:"w-5 h-5 text-text-tertiary"}),o.jsx("span",{children:((F=s.rol)==null?void 0:F.nombre)||"Sin rol asignado"})]}),s.ultimo_acceso&&o.jsxs("div",{className:"flex items-center gap-3 text-accessibility-text",children:[o.jsx(v2,{className:"w-5 h-5 text-text-tertiary"}),o.jsxs("span",{children:["ltimo acceso: ",_(s.ultimo_acceso)]})]})]})]}),m&&o.jsxs(ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-8 p-4 bg-bg-secondary rounded-lg",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-accessibility-text",children:"Cambiar contrasea"}),o.jsxs("form",{onSubmit:M,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-accessibility-text mb-1",children:"Contrasea actual"}),o.jsx("input",{type:"password",name:"current_password",value:x.current_password,onChange:z,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-1 focus:ring-solid-color bg-interactive-component text-accessibility-text"}),v.current_password&&o.jsx("p",{className:"text-error text-xs mt-1",children:v.current_password})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-accessibility-text mb-1",children:"Nueva contrasea"}),o.jsx("input",{type:"password",name:"password",value:x.password,onChange:z,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-1 focus:ring-solid-color bg-interactive-component text-accessibility-text"}),v.password&&o.jsx("p",{className:"text-error text-xs mt-1",children:v.password})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-accessibility-text mb-1",children:"Confirmar nueva contrasea"}),o.jsx("input",{type:"password",name:"password_confirmation",value:x.password_confirmation,onChange:z,className:"w-full px-3 py-2 border border-border rounded-md focus:outline-none focus:ring-1 focus:ring-solid-color bg-interactive-component text-accessibility-text"}),v.password_confirmation&&o.jsx("p",{className:"text-error text-xs mt-1",children:v.password_confirmation})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-accessibility-text rounded-lg border border-border hover:bg-bg-secondary transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-solid-color text-white rounded-lg hover:bg-solid-color-hover transition-colors disabled:opacity-50",children:n?"Guardando...":"Guardar cambios"})]})]})]}),!m&&o.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[o.jsxs("button",{onClick:R,className:"px-4 py-3 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors flex items-center justify-center gap-2",children:[o.jsx(qi,{className:"w-5 h-5"}),"Configuracin"]}),o.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-3 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors flex items-center justify-center gap-2",children:[o.jsx(v2,{className:"w-5 h-5"}),"Cambiar contrasea"]})]})]})]})})},Mc="http://127.0.0.1:8000/api",Ac=()=>!!localStorage.getItem("token"),Dc={fetchNotifications:async(t={})=>{var e,s;try{if(!Ac())return console.error("No hay token de autenticacin"),{data:[],meta:{}};const n=new URLSearchParams;t.unread&&n.append("unread",!0),t.perPage&&n.append("per_page",t.perPage),t.page&&n.append("page",t.page);const a=`${Mc}/notifications${n.toString()?"?"+n.toString():""}`;console.log("Fetching notifications from:",a);const l=await ge.get(a);return l.data&&l.data.success?l.data.data:{data:[],meta:{}}}catch(n){throw console.error("Error fetching notifications:",n),new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al obtener notificaciones")}},markAsRead:async t=>{var e,s,n;try{if(!Ac())throw new Error("No hay token de autenticacin");const a=await ge.put(`${Mc}/notifications/${t}/mark-as-read`);if(a.data&&a.data.success)return!0;throw new Error(((e=a.data)==null?void 0:e.message)||"Error al marcar notificacin como leda")}catch(a){throw console.error("Error marking notification as read:",a),new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al marcar notificacin como leda")}},markAllAsRead:async()=>{var t,e,s;try{if(!Ac())throw new Error("No hay token de autenticacin");const n=await ge.put(`${Mc}/notifications/mark-all-as-read`);if(n.data&&n.data.success)return!0;throw new Error(((t=n.data)==null?void 0:t.message)||"Error al marcar todas las notificaciones como ledas")}catch(n){throw console.error("Error marking all notifications as read:",n),new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al marcar todas las notificaciones como ledas")}},deleteNotification:async t=>{var e,s,n;try{if(!Ac())throw new Error("No hay token de autenticacin");const a=await ge.delete(`${Mc}/notifications/${t}`);if(a.data&&a.data.success)return!0;throw new Error(((e=a.data)==null?void 0:e.message)||"Error al eliminar notificacin")}catch(a){throw console.error("Error deleting notification:",a),new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al eliminar notificacin")}},deleteAllNotifications:async()=>{var t,e,s;try{if(!Ac())throw new Error("No hay token de autenticacin");const n=await ge.delete(`${Mc}/notifications`);if(n.data&&n.data.success)return!0;throw new Error(((t=n.data)==null?void 0:t.message)||"Error al eliminar todas las notificaciones")}catch(n){throw console.error("Error deleting all notifications:",n),new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al eliminar todas las notificaciones")}}};let lP={data:""},cP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||lP,dP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,uP=/\/\*[^]*?\*\/|  +/g,T2=/\n+/g,Ua=(t,e)=>{let s="",n="",a="";for(let l in t){let c=t[l];l[0]=="@"?l[1]=="i"?s=l+" "+c+";":n+=l[1]=="f"?Ua(c,l):l+"{"+Ua(c,l[1]=="k"?"":e)+"}":typeof c=="object"?n+=Ua(c,e?e.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ua.p?Ua.p(l,c):l+":"+c+";")}return s+(e&&a?e+"{"+a+"}":a)+n},Br={},N_=t=>{if(typeof t=="object"){let e="";for(let s in t)e+=s+N_(t[s]);return e}return t},hP=(t,e,s,n,a)=>{let l=N_(t),c=Br[l]||(Br[l]=(h=>{let m=0,p=11;for(;m<h.length;)p=101*p+h.charCodeAt(m++)>>>0;return"go"+p})(l));if(!Br[c]){let h=l!==t?t:(m=>{let p,x,b=[{}];for(;p=dP.exec(m.replace(uP,""));)p[4]?b.shift():p[3]?(x=p[3].replace(T2," ").trim(),b.unshift(b[0][x]=b[0][x]||{})):b[0][p[1]]=p[2].replace(T2," ").trim();return b[0]})(t);Br[c]=Ua(a?{["@keyframes "+c]:h}:h,s?"":"."+c)}let u=s&&Br.g?Br.g:null;return s&&(Br.g=Br[c]),((h,m,p,x)=>{x?m.data=m.data.replace(x,h):m.data.indexOf(h)===-1&&(m.data=p?h+m.data:m.data+h)})(Br[c],e,n,u),c},fP=(t,e,s)=>t.reduce((n,a,l)=>{let c=e[l];if(c&&c.call){let u=c(s),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=h?"."+h:u&&typeof u=="object"?u.props?"":Ua(u,""):u===!1?"":u}return n+a+(c??"")},"");function Xf(t){let e=this||{},s=t.call?t(e.p):t;return hP(s.unshift?s.raw?fP(s,[].slice.call(arguments,1),e.p):s.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):s,cP(e.target),e.g,e.o,e.k)}let S_,zg,Bg;Xf.bind({g:1});let Kr=Xf.bind({k:1});function mP(t,e,s,n){Ua.p=e,S_=t,zg=s,Bg=n}function Ja(t,e){let s=this||{};return function(){let n=arguments;function a(l,c){let u=Object.assign({},l),h=u.className||a.className;s.p=Object.assign({theme:zg&&zg()},u),s.o=/ *go\d+/.test(h),u.className=Xf.apply(s,n)+(h?" "+h:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),Bg&&m[0]&&Bg(u),S_(m,u)}return a}}var pP=t=>typeof t=="function",Vg=(t,e)=>pP(t)?t(e):t,xP=(()=>{let t=0;return()=>(++t).toString()})(),gP=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),yP=20,__=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,yP)};case 1:return{...t,toasts:t.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:s}=e;return __(t,{type:t.toasts.find(l=>l.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(l=>l.id===n||n===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},bP=[],Lx={toasts:[],pausedAt:void 0},qy=t=>{Lx=__(Lx,t),bP.forEach(e=>{e(Lx)})},vP=(t,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||xP()}),Fd=t=>(e,s)=>{let n=vP(e,t,s);return qy({type:2,toast:n}),n.id},we=(t,e)=>Fd("blank")(t,e);we.error=Fd("error");we.success=Fd("success");we.loading=Fd("loading");we.custom=Fd("custom");we.dismiss=t=>{qy({type:3,toastId:t})};we.remove=t=>qy({type:4,toastId:t});we.promise=(t,e,s)=>{let n=we.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let l=e.success?Vg(e.success,a):void 0;return l?we.success(l,{id:n,...s,...s==null?void 0:s.success}):we.dismiss(n),a}).catch(a=>{let l=e.error?Vg(e.error,a):void 0;l?we.error(l,{id:n,...s,...s==null?void 0:s.error}):we.dismiss(n)}),t};var wP=Kr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,jP=Kr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NP=Kr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,SP=Ja("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${jP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${NP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_P=Kr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,EP=Ja("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${_P} 1s linear infinite;
`,CP=Kr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,TP=Kr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kP=Ja("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${TP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,MP=Ja("div")`
  position: absolute;
`,AP=Ja("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,DP=Kr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RP=Ja("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${DP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,OP=({toast:t})=>{let{icon:e,type:s,iconTheme:n}=t;return e!==void 0?typeof e=="string"?D.createElement(RP,null,e):e:s==="blank"?null:D.createElement(AP,null,D.createElement(EP,{...n}),s!=="loading"&&D.createElement(MP,null,s==="error"?D.createElement(SP,{...n}):D.createElement(kP,{...n})))},LP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,PP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,zP="0%{opacity:0;} 100%{opacity:1;}",BP="0%{opacity:1;} 100%{opacity:0;}",VP=Ja("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,UP=Ja("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,HP=(t,e)=>{let s=t.includes("top")?1:-1,[n,a]=gP()?[zP,BP]:[LP(s),PP(s)];return{animation:e?`${Kr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Kr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};D.memo(({toast:t,position:e,style:s,children:n})=>{let a=t.height?HP(t.position||e||"top-center",t.visible):{opacity:0},l=D.createElement(OP,{toast:t}),c=D.createElement(UP,{...t.ariaProps},Vg(t.message,t));return D.createElement(VP,{className:t.className,style:{...a,...s,...t.style}},typeof n=="function"?n({icon:l,message:c}):D.createElement(D.Fragment,null,l,c))});mP(D.createElement);Xf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;function FP(t,e){let s;try{s=t()}catch{return}return{getItem:a=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),u=(l=s.getItem(a))!=null?l:null;return u instanceof Promise?u.then(c):c(u)},setItem:(a,l)=>s.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>s.removeItem(a)}}const Ug=t=>e=>{try{const s=t(e);return s instanceof Promise?s:{then(n){return Ug(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return Ug(n)(s)}}}},$P=(t,e)=>(s,n,a)=>{let l={storage:FP(()=>localStorage),partialize:S=>S,version:0,merge:(S,N)=>({...N,...S}),...e},c=!1;const u=new Set,h=new Set;let m=l.storage;if(!m)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),s(...S)},n,a);const p=()=>{const S=l.partialize({...n()});return m.setItem(l.name,{state:S,version:l.version})},x=a.setState;a.setState=(S,N)=>{x(S,N),p()};const b=t((...S)=>{s(...S),p()},n,a);a.getInitialState=()=>b;let v;const j=()=>{var S,N;if(!m)return;c=!1,u.forEach(A=>{var k;return A((k=n())!=null?k:b)});const _=((N=l.onRehydrateStorage)==null?void 0:N.call(l,(S=n())!=null?S:b))||void 0;return Ug(m.getItem.bind(m))(l.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==l.version){if(l.migrate){const k=l.migrate(A.state,A.version);return k instanceof Promise?k.then(R=>[!0,R]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var k;const[R,M]=A;if(v=l.merge(M,(k=n())!=null?k:b),s(v,!0),R)return p()}).then(()=>{_==null||_(v,void 0),v=n(),c=!0,h.forEach(A=>A(v))}).catch(A=>{_==null||_(void 0,A)})};return a.persist={setOptions:S=>{l={...l,...S},S.storage&&(m=S.storage)},clearStorage:()=>{m==null||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>j(),hasHydrated:()=>c,onHydrate:S=>(u.add(S),()=>{u.delete(S)}),onFinishHydration:S=>(h.add(S),()=>{h.delete(S)})},l.skipHydration||j(),v||b},IP=$P,Yy=Ps(IP((t,e)=>({notifications:[],unreadCount:0,isLoading:!1,error:null,pagination:{currentPage:1,lastPage:1,perPage:10,total:0},fetchNotifications:async(s={})=>{try{t({isLoading:!0,error:null});const n=await Dc.fetchNotifications({page:s.page||e().pagination.currentPage,perPage:s.perPage||e().pagination.perPage,unread:s.unread||!1});return t({notifications:n.data||[],pagination:{currentPage:n.current_page||1,lastPage:n.last_page||1,perPage:n.per_page||10,total:n.total||0},unreadCount:(n.data||[]).filter(a=>!a.read_at).length,isLoading:!1}),n}catch(n){return console.error("Error fetching notifications:",n),t({error:n.message,isLoading:!1}),{data:[],meta:{}}}},markAsRead:async s=>{try{return t({isLoading:!0,error:null}),await Dc.markAsRead(s),t(n=>{const a=n.notifications.map(l=>l.id===s?{...l,read_at:new Date().toISOString()}:l);return{notifications:a,unreadCount:a.filter(l=>!l.read_at).length,isLoading:!1}}),!0}catch(n){return console.error("Error marking notification as read:",n),t({error:n.message,isLoading:!1}),we.error("Error al marcar notificacin como leda"),!1}},markAllAsRead:async()=>{try{return t({isLoading:!0,error:null}),await Dc.markAllAsRead(),t(s=>({notifications:s.notifications.map(a=>a.read_at?a:{...a,read_at:new Date().toISOString()}),unreadCount:0,isLoading:!1})),!0}catch(s){return console.error("Error marking all notifications as read:",s),t({error:s.message,isLoading:!1}),we.error("Error al marcar todas las notificaciones como ledas"),!1}},deleteNotification:async s=>{try{return t({isLoading:!0,error:null}),await Dc.deleteNotification(s),t(n=>{const a=n.notifications.filter(l=>l.id!==s);return{notifications:a,unreadCount:a.filter(l=>!l.read_at).length,isLoading:!1}}),!0}catch(n){return console.error("Error deleting notification:",n),t({error:n.message,isLoading:!1}),we.error("Error al eliminar notificacin"),!1}},deleteAllNotifications:async()=>{try{return t({isLoading:!0,error:null}),await Dc.deleteAllNotifications(),t({notifications:[],unreadCount:0,isLoading:!1}),!0}catch(s){return console.error("Error deleting all notifications:",s),t({error:s.message,isLoading:!1}),we.error("Error al eliminar todas las notificaciones"),!1}},addNotification:s=>{t(n=>{if(n.notifications.some(c=>c.id===s.id))return n;const l=[s,...n.notifications];return{notifications:l,unreadCount:l.filter(c=>!c.read_at).length}})},clearError:()=>t({error:null})}),{name:"stockflow-notifications",partialize:t=>({notifications:t.notifications,unreadCount:t.unreadCount})})),qP=()=>{const{notifications:t,unreadCount:e,fetchNotifications:s,markAsRead:n,markAllAsRead:a,deleteNotification:l,deleteAllNotifications:c,isLoading:u,error:h,clearError:m}=Yy(),[p,x]=D.useState(!1),b=D.useRef(null),[v,j]=D.useState(!1);D.useEffect(()=>{h?(j(!0),console.error("Error en notificaciones:",h)):j(!1)},[h]),D.useEffect(()=>{s({perPage:10}).catch(L=>{console.error("Error al cargar notificaciones:",L),j(!0)});const H=setInterval(()=>{s({perPage:10}).catch(L=>{console.error("Error en actualizacin peridica:",L),j(!0)})},3e4);return()=>clearInterval(H)},[s]),D.useEffect(()=>{p&&s({perPage:10})},[p,s]),D.useEffect(()=>{function H(L){b.current&&!b.current.contains(L.target)&&x(!1)}return p?document.addEventListener("mousedown",H):document.removeEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[p]);const S=async H=>{try{await n(H),we.success("Notificacin marcada como leda")}catch(L){console.error("Error al marcar como leda:",L),we.error("Error al marcar como leda")}},N=async H=>{try{await l(H),we.success("Notificacin eliminada")}catch(L){console.error("Error al eliminar notificacin:",L),we.error("Error al eliminar notificacin")}},_=async()=>{try{await a(),we.success("Todas las notificaciones marcadas como ledas")}catch(H){console.error("Error al marcar todas como ledas:",H),we.error("Error al marcar notificaciones")}},A=async()=>{try{await c(),we.success("Todas las notificaciones eliminadas")}catch(H){console.error("Error al eliminar todas las notificaciones:",H),we.error("Error al eliminar notificaciones")}},k=H=>{try{return pt(new Date(H),"dd/MM/yy HH:mm",{locale:bs})}catch{return H}},R=()=>{j(!1),m(),console.log("Reintentando carga de notificaciones..."),s({perPage:10}).catch(()=>{j(!0)})},M=()=>{console.log("Forzando recarga de notificaciones..."),we.success("Actualizando notificaciones..."),s({perPage:10}).then(()=>{we.success("Notificaciones actualizadas")}).catch(H=>{console.error("Error en recarga forzada:",H),we.error("Error al actualizar notificaciones"),j(!0)})},z=H=>{var F;const L=((F=H.data)==null?void 0:F.type)||"";return L.includes("stock")?o.jsx(Et,{className:"h-5 w-5 text-warning shrink-0 mt-0.5"}):L.includes("transfer")?o.jsx(Hi,{className:"h-5 w-5 text-info shrink-0 mt-0.5"}):L.includes("message")?o.jsx(Ud,{className:"h-5 w-5 text-solid-color shrink-0 mt-0.5"}):o.jsx(ad,{className:"h-5 w-5 text-solid-color shrink-0 mt-0.5"})};return o.jsxs("div",{className:"relative",ref:b,children:[o.jsxs("button",{className:"p-2 rounded-full bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary transition-colors border border-border relative",onClick:()=>x(H=>!H),"aria-label":"Notificaciones",children:[o.jsx(ad,{className:"h-6 w-6"}),e>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-error text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:e>9?"9+":e})]}),p&&o.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-bg-secondary border border-border rounded-xl shadow-lg z-50 overflow-hidden",children:[o.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between bg-interactive-component/30",children:[o.jsx("span",{className:"font-semibold text-accessibility-text",children:"Notificaciones"}),o.jsxs("div",{className:"flex items-center gap-2",children:[u&&o.jsx(Xt,{className:"animate-spin h-5 w-5 text-solid-color"}),o.jsx("button",{onClick:M,className:"p-1 rounded-full hover:bg-interactive-component text-text-tertiary",title:"Actualizar notificaciones",disabled:u,children:o.jsx(tf,{className:"h-4 w-4"})}),o.jsx("button",{onClick:A,className:"p-1 rounded-full hover:bg-error/20 text-error",title:"Eliminar todas las notificaciones",disabled:u||t.length===0,children:o.jsx(Wr,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"max-h-[70vh] overflow-y-auto",children:v?o.jsxs("div",{className:"p-6 text-error text-center",children:[o.jsx(ts,{className:"h-10 w-10 mx-auto mb-2"}),o.jsx("p",{className:"mb-2",children:"Error al cargar notificaciones"}),o.jsxs("button",{onClick:R,className:"px-3 py-1 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center mx-auto gap-2",children:[o.jsx(tf,{className:"h-4 w-4"}),o.jsx("span",{children:"Reintentar"})]})]}):t.length===0&&!u?o.jsxs("div",{className:"p-6 text-text-tertiary text-center",children:[o.jsx(ad,{className:"h-10 w-10 mx-auto mb-2 opacity-30"}),o.jsx("p",{children:"No hay notificaciones"}),o.jsxs("button",{onClick:M,className:"px-3 py-1 mt-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center mx-auto gap-2 text-sm",children:[o.jsx(tf,{className:"h-3 w-3"}),o.jsx("span",{children:"Actualizar"})]})]}):o.jsx("div",{className:"divide-y divide-border",children:t.map(H=>{if(!H)return null;const L=!H.read_at,F=H.data||{};return o.jsxs("div",{className:`p-4 hover:bg-interactive-component/20 transition-colors ${L?"bg-interactive-component/10":""}`,children:[o.jsxs("div",{className:"flex justify-between items-start gap-3",children:[o.jsx("div",{className:`text-sm flex-1 ${L?"font-medium text-accessibility-text":"text-text-tertiary"}`,children:o.jsxs("div",{className:"flex items-start gap-2",children:[z(H),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium mb-0.5",children:F.title||"Notificacin"}),o.jsx("p",{children:F.message||H.data})]})]})}),o.jsxs("div",{className:"flex gap-1 shrink-0",children:[L&&o.jsx("button",{onClick:()=>S(H.id),className:"p-1.5 rounded-full hover:bg-info/20 text-info",title:"Marcar como leda",children:o.jsx(Wa,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>N(H.id),className:"p-1.5 rounded-full hover:bg-error/20 text-error",title:"Eliminar notificacin",children:o.jsx(Fn,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"text-xs text-text-tertiary mt-2 flex justify-between",children:[o.jsx("span",{children:F.sender_name&&`De: ${F.sender_name}`}),o.jsx("span",{children:k(H.created_at)})]}),F.url&&o.jsx("div",{className:"mt-2",children:o.jsx("a",{href:F.url,className:"text-xs text-solid-color hover:underline",onClick:()=>{L&&S(H.id),x(!1)},children:"Ver detalles "})})]},H.id)})})}),t.length>0&&!v&&o.jsxs("div",{className:"p-3 border-t border-border bg-interactive-component/10 text-center flex justify-between items-center",children:[o.jsx("button",{onClick:_,className:"text-xs text-solid-color hover:underline",disabled:u||e===0,children:u?"Procesando...":"Marcar todas como ledas"}),o.jsx(cr,{to:"/dashboard/notificaciones",className:"text-xs text-solid-color hover:underline",onClick:()=>x(!1),children:"Ver todas las notificaciones "})]})]})]})},Px="http://127.0.0.1:8000/api",zx=()=>!!localStorage.getItem("token"),Bx={sendToUser:async(t,e)=>{var s,n;try{if(!zx())throw new Error("No hay token de autenticacin");return(await ge.post(`${Px}/messages/user`,{recipient_id:t,message:e})).data}catch(a){throw console.error("Error al enviar mensaje a usuario:",a),new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al enviar mensaje")}},sendToSede:async(t,e)=>{var s,n;try{if(!zx())throw new Error("No hay token de autenticacin");return(await ge.post(`${Px}/messages/sede`,{sede_id:t,message:e})).data}catch(a){throw console.error("Error al enviar mensaje a sede:",a),new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al enviar mensaje")}},sendToAll:async t=>{var e,s;try{if(!zx())throw new Error("No hay token de autenticacin");return(await ge.post(`${Px}/messages/all`,{message:t})).data}catch(n){throw console.error("Error al enviar mensaje a todos:",n),new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al enviar mensaje")}}},YP=({isOpen:t,onClose:e,initialRecipientId:s=null,initialSedeId:n=null})=>{var H,L,F,U;const[a,l]=D.useState(""),[c,u]=D.useState(s),[h,m]=D.useState(n),[p,x]=D.useState(!1),[b,v]=D.useState([]),[j,S]=D.useState([]),[N,_]=D.useState("user"),{user:A}=Ht();D.useEffect(()=>{var X,Z;t?(k(),R(),s?_("user"):n?_("sede"):((Z=(X=A==null?void 0:A.data)==null?void 0:X.rol)==null?void 0:Z.nombre)==="Administrador"&&_("all")):(l(""),u(null),m(null))},[t,s,n,(L=(H=A==null?void 0:A.data)==null?void 0:H.rol)==null?void 0:L.nombre]);const k=async()=>{try{x(!0);const Z=await(await fetch("http://127.0.0.1:8000/api/usuarios",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).json();Z&&Z.data&&v(Z.data.filter(ae=>{var ne;return ae.id!==((ne=A==null?void 0:A.data)==null?void 0:ne.id)}))}catch(X){console.error("Error al cargar usuarios:",X),we.error("Error al cargar usuarios")}finally{x(!1)}},R=async()=>{try{x(!0);const Z=await(await fetch("http://127.0.0.1:8000/api/sedes",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).json();Z&&Z.data&&S(Z.data)}catch(X){console.error("Error al cargar sedes:",X),we.error("Error al cargar sedes")}finally{x(!1)}},M=async X=>{var Z,ae;if(X.preventDefault(),!a.trim()){we.error("El mensaje no puede estar vaco");return}try{x(!0);let ne;if(N==="all"){if(((ae=(Z=A==null?void 0:A.data)==null?void 0:Z.rol)==null?void 0:ae.nombre)!=="Administrador"){we.error("Solo los administradores pueden enviar mensajes a todos");return}ne=await Bx.sendToAll(a)}else if(N==="sede"&&h)ne=await Bx.sendToSede(h,a);else if(N==="user"&&c)ne=await Bx.sendToUser(c,a);else{we.error("Debes seleccionar un destinatario");return}we.success(ne.message||"Mensaje enviado correctamente"),l(""),e()}catch(ne){console.error("Error al enviar mensaje:",ne),we.error(ne.message||"Error al enviar mensaje")}finally{x(!1)}},z=X=>{_(X),u(null),m(null)};return t?o.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:e,children:o.jsxs(ye.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-bg-secondary rounded-xl shadow-lg w-full max-w-md overflow-hidden",onClick:X=>X.stopPropagation(),children:[o.jsx("div",{className:"relative bg-gradient-to-r from-solid-color to-solid-color-hover p-6 text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ud,{className:"h-6 w-6"}),o.jsx("h2",{className:"text-xl font-semibold",children:"Enviar mensaje"})]}),o.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-white/20 transition-colors",children:o.jsx(Fn,{className:"h-5 w-5"})})]})}),o.jsxs("form",{onSubmit:M,className:"p-6",children:[o.jsxs("div",{className:"flex border-b border-border mb-6",children:[o.jsxs("button",{type:"button",onClick:()=>z("user"),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm transition-colors ${N==="user"?"text-solid-color border-b-2 border-solid-color":"text-text-tertiary hover:text-accessibility-text"}`,children:[o.jsx(on,{className:"h-4 w-4"}),"Usuario"]}),o.jsxs("button",{type:"button",onClick:()=>z("sede"),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm transition-colors ${N==="sede"?"text-solid-color border-b-2 border-solid-color":"text-text-tertiary hover:text-accessibility-text"}`,children:[o.jsx(vn,{className:"h-4 w-4"}),"Sede"]}),((U=(F=A==null?void 0:A.data)==null?void 0:F.rol)==null?void 0:U.nombre)==="Administrador"&&o.jsxs("button",{type:"button",onClick:()=>z("all"),className:`flex items-center gap-2 px-4 py-3 font-medium text-sm transition-colors ${N==="all"?"text-solid-color border-b-2 border-solid-color":"text-text-tertiary hover:text-accessibility-text"}`,children:[o.jsx(ll,{className:"h-4 w-4"}),"Todos"]})]}),o.jsxs("div",{className:"space-y-6",children:[N==="user"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-accessibility-text",children:"Usuario destinatario"}),o.jsxs("select",{value:c||"",onChange:X=>u(X.target.value?Number(X.target.value):null),disabled:p,className:"w-full p-3 border border-border rounded-lg bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color/20 focus:border-solid-color transition-all",children:[o.jsx("option",{value:"",children:"Seleccionar usuario"}),b.map(X=>o.jsxs("option",{value:X.id,children:[X.nombre," (",X.email,")"]},X.id))]})]}),N==="sede"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-accessibility-text",children:"Sede destinataria"}),o.jsxs("select",{value:h||"",onChange:X=>m(X.target.value?Number(X.target.value):null),disabled:p,className:"w-full p-3 border border-border rounded-lg bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color/20 focus:border-solid-color transition-all",children:[o.jsx("option",{value:"",children:"Seleccionar sede"}),j.map(X=>o.jsx("option",{value:X.id,children:X.nombre},X.id))]})]}),N==="all"&&o.jsx("div",{className:"p-4 bg-solid-color/10 rounded-lg border border-solid-color/20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ll,{className:"h-5 w-5 text-solid-color"}),o.jsxs("p",{className:"text-sm text-accessibility-text",children:["El mensaje se enviar a ",o.jsx("span",{className:"font-semibold",children:"todos los usuarios"})," del sistema."]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-accessibility-text",children:"Mensaje"}),o.jsx("textarea",{value:a,onChange:X=>l(X.target.value),disabled:p,rows:4,className:"w-full p-3 border border-border rounded-lg bg-bg text-accessibility-text resize-none focus:ring-2 focus:ring-solid-color/20 focus:border-solid-color transition-all",placeholder:"Escribe tu mensaje aqu..."})]})]}),o.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[o.jsx("button",{type:"button",onClick:e,disabled:p,className:"px-4 py-2 border border-border rounded-lg text-accessibility-text hover:bg-interactive-component transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:p||!a.trim()||N==="user"&&!c||N==="sede"&&!h,className:"px-4 py-2 bg-solid-color text-white rounded-lg hover:bg-solid-color-hover transition-colors flex items-center gap-2 disabled:opacity-60 disabled:cursor-not-allowed",children:p?o.jsxs(o.Fragment,{children:[o.jsx(Xt,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Enviando..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(WO,{className:"h-4 w-4"}),o.jsx("span",{children:"Enviar"})]})})]})]})]})}):null},XP=({children:t})=>{var R,M;const[e,s]=D.useState(!1),[n,a]=D.useState(!1),[l,c]=D.useState(!1),[u,h]=D.useState(!1),[m,p]=D.useState(!1),x=qn(),b=Qa(),{user:v,loadUser:j,logout:S}=Ht(),N=x.pathname==="/dashboard/verificacion-pendiente";if(D.useEffect(()=>{j()},[j]),D.useEffect(()=>{h(!1)},[x]),N)return o.jsx(o.Fragment,{children:t});const A=(()=>{var U,X;const z=[{category:"Principal",items:[{name:"Dashboard",path:"/dashboard",icon:_O}]}],H={Administrador:[{category:"Administracin",items:[{name:"Usuarios",path:"/dashboard/usuarios",icon:ll},{name:"Gestiones",path:"/dashboard/gestiones",icon:QO},{name:"Auditora",path:"/dashboard/auditoria",icon:FR},{name:"Configuracin",path:"/dashboard/configuracion",icon:qi}]},{category:"Gestin",items:[{name:"Inventario",path:"/dashboard/inventario",icon:Et},{name:"Ventas",path:"/dashboard/ventas",icon:Sn},{name:"Compras",path:"/dashboard/compras",icon:Lg},{name:"Sedes",path:"/dashboard/sedes",icon:vn}]},{category:"Reportes",items:[{name:"Reportes",path:"/dashboard/reportes",icon:wd},{name:"Facturas",path:"/dashboard/facturas",icon:Vn}]}],Vendedor:[{category:"Ventas",items:[{name:"Nueva Venta",path:"/dashboard/ventas",icon:mr},{name:"Catlogo",path:"/dashboard/catalogo",icon:Et},{name:"Historial",path:"/dashboard/historial-ventas",icon:Vn}]},{category:"Compras",items:[{name:"Nueva Compra",path:"/dashboard/compras",icon:Lg}]},{category:"Reportes",items:[{name:"Reportes",path:"/dashboard/reportes",icon:wd},{name:"Facturas",path:"/dashboard/facturas",icon:Vn},{name:"Configuracin",path:"/dashboard/configuracion",icon:qi}]}],Almacenista:[{category:"Gestin",items:[{name:"Inventario",path:"/dashboard/inventario",icon:Et},{name:"Sedes",path:"/dashboard/sedes",icon:vn},{name:"Historial",path:"/dashboard/historial",icon:Vn},{name:"Configuracin",path:"/dashboard/configuracion",icon:qi}]}]},L=((X=(U=v==null?void 0:v.data)==null?void 0:U.rol)==null?void 0:X.nombre)||"Vendedor";console.log("Rol del usuario:",L);const F=H[L]||H.Vendedor;return Array.isArray(F)?[...z,...F]:(console.error(`Rol no vlido: ${L}, usando opciones por defecto`),[...z,...H.Vendedor])})(),k=()=>{S(),b("/auth/login")};return o.jsxs("div",{className:"flex h-screen bg-bg font-satoshi",children:[o.jsx("button",{onClick:()=>h(!u),className:"lg:hidden fixed bottom-6 right-6 z-50 w-14 h-14 flex items-center justify-center rounded-full bg-solid-color text-white hover:bg-solid-color-hover transition-colors shadow-lg","aria-label":u?"Cerrar men":"Abrir men",children:u?o.jsx(Fn,{size:24}):o.jsx(f_,{size:24})}),o.jsxs("aside",{className:`fixed lg:relative inset-y-0 left-0 z-40 transform ${u?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out ${e?"w-20":"w-64"} bg-bg-secondary border-r border-border flex flex-col`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[n&&o.jsx("button",{onClick:()=>s(!e),className:"absolute -right-3 top-6 z-10 w-6 h-6 rounded-full bg-solid-color shadow-md flex items-center justify-center text-white transition-transform hover:scale-110 hover:bg-solid-color-hover active:bg-solid-color-active","aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?o.jsx(rO,{size:16}):o.jsx(sO,{size:16})}),o.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-border h-16",children:[e?o.jsx(cr,{to:"/dashboard",className:"hover:opacity-80 transition-opacity",children:o.jsx("img",{src:"/assets/logo.png",alt:"RobotStock Logo",className:"h-8 w-auto mx-auto"})}):o.jsxs(cr,{to:"/dashboard",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[o.jsx("img",{src:"/assets/logo.png",alt:"RobotStock Logo",className:"h-8 w-auto"}),o.jsx("h1",{className:"text-xl font-bold text-accessibility-text",children:"StockFlow"})]}),u&&o.jsx("button",{onClick:()=>h(!1),className:"lg:hidden text-text-tertiary hover:text-accessibility-text","aria-label":"Cerrar men",children:o.jsx(Fn,{size:20})})]}),o.jsx("nav",{className:"flex-1 overflow-y-auto py-4 px-2",children:A.map(z=>o.jsxs("div",{className:"mb-6 last:mb-0",children:[!e&&o.jsx("h2",{className:"px-4 text-xs font-semibold uppercase tracking-wider text-text-tertiary mb-2",children:z.category}),o.jsx("div",{className:"space-y-1",children:z.items.map(H=>{const L=H.icon,F=x.pathname===H.path;return o.jsxs(cr,{to:H.path,className:`flex items-center px-3 py-2.5 rounded-lg mx-2 transition-all ${F?"bg-solid-color text-white shadow-md hover:bg-solid-color-hover active:bg-solid-color-active":"text-accessibility-text hover:bg-interactive-component hover:text-accessibility-text"} ${e?"justify-center":""}`,children:[o.jsx(L,{className:`w-5 h-5 ${F?"text-white":"text-accessibility-text"}`}),!e&&o.jsx("span",{className:"ml-3 text-sm font-medium",children:H.name}),F&&!e&&o.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-white/80"})]},H.name)})})]},z.category))}),o.jsxs("div",{className:"border-t border-border p-4",children:[o.jsxs("div",{onClick:()=>c(!0),className:"flex items-center space-x-3 mb-4 cursor-pointer hover:bg-interactive-component p-2 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-solid-color to-solid-color-secondary flex items-center justify-center shrink-0",children:o.jsx("span",{className:"text-white font-semibold",children:((R=v==null?void 0:v.data.nombre)==null?void 0:R.charAt(0).toUpperCase())||"U"})}),!e&&o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"text-sm font-medium text-accessibility-text truncate",children:(v==null?void 0:v.data.nombre)||"Usuario"}),o.jsx("p",{className:"text-xs text-text-tertiary truncate",children:(v==null?void 0:v.data.email)||"usuario@ejemplo.com"})]})]}),o.jsxs("button",{onClick:k,className:`w-full flex items-center px-3 py-2.5 rounded-lg text-accessibility-text hover:bg-interactive-component hover:text-solid-color transition-colors ${e?"justify-center":""}`,children:[o.jsx(If,{className:"w-5 h-5"}),!e&&o.jsx("span",{className:"ml-3 text-sm",children:"Cerrar sesin"})]})]})]}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>h(!1)}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsxs("header",{className:"h-16 border-b border-border flex items-center justify-between px-4 sm:px-6 bg-bg-secondary",children:[o.jsx("h2",{className:"text-base sm:text-lg font-medium text-accessibility-text truncate",children:((M=A.flatMap(z=>z.items).find(z=>x.pathname===z.path))==null?void 0:M.name)||"Dashboard"}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx("button",{onClick:()=>p(!0),className:"p-1.5 sm:p-2 rounded-full bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary transition-colors border border-border",title:"Enviar mensaje",children:o.jsx(Ud,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),o.jsx("div",{className:"mr-12",children:o.jsx(qP,{})})]})]}),o.jsx("main",{className:"flex-1 overflow-y-auto p-4 sm:p-6 bg-bg",children:o.jsxs("div",{className:"w-full mx-auto pb-16 lg:pb-0",children:[" ",t]})})]}),o.jsx(oP,{isOpen:l,onClose:()=>c(!1),user:v==null?void 0:v.data}),o.jsx(YP,{isOpen:m,onClose:()=>p(!1)})]})},E_=({title:t,subtitle:e,icon:s})=>o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(ye.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.5},className:"w-16 h-16 bg-interactive-component rounded-full flex items-center justify-center mx-auto mb-4",children:s||o.jsx("div",{className:"h-8 w-8 text-solid-color",children:s})}),o.jsx("h2",{className:"text-3xl font-bold text-accessibility-text mb-2",children:t}),o.jsx("p",{className:"text-accessibility-text-secondary",children:e})]}),WP={email:jd,password:h_,username:on},Jo=({type:t="text",name:e,label:s,value:n,onChange:a,error:l,placeholder:c,icon:u,delay:h=0})=>{const m=u?WP[u]:null;return o.jsxs(ye.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h},className:"mb-4",children:[o.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-accessibility-text mb-2",children:s}),o.jsxs("div",{className:"relative",children:[m&&o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(m,{className:"h-5 w-5 text-border-secondary"})}),o.jsx("input",{type:t,id:e,name:e,value:n,onChange:a,className:`${m?"pl-10":"pl-3"} block w-full rounded-lg border ${l?"border-border-tertiary":"border-border"} bg-bg text-accessibility-text shadow-sm focus:border-solid-color focus:ring-solid-color transition-colors duration-200 py-2 px-3`,placeholder:c})]}),l&&o.jsxs("p",{className:"mt-1 text-sm text-border-tertiary flex items-center",children:[o.jsx(ts,{className:"h-4 w-4 mr-1"}),l]})]})},C_=({error:t})=>t?o.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-interactive-component border border-border-tertiary text-accessibility-text px-4 py-3 rounded-lg mb-6 flex items-center",children:[o.jsx(ts,{className:"h-5 w-5 mr-2 text-border-tertiary"}),t]}):null,T_=({isLoading:t,children:e,...s})=>o.jsx(ye.button,{...s,whileHover:{scale:1.02},whileTap:{scale:.98},className:"text-white w-full bg-solid-color hover:bg-solid-color-secondary font-medium py-2 px-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-solid-color disabled:opacity-50 transition-all duration-200 flex items-center justify-center",children:t?o.jsxs(o.Fragment,{children:[o.jsx(Xt,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),e]}):e}),k_=({text:t,linkText:e,linkTo:s})=>o.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-accessibility-text-secondary",children:[t," ",o.jsx(cr,{to:s,className:"font-medium text-solid-color hover:text-solid-color-secondary transition-colors duration-200",children:e})]})}),GP=()=>{const[t,e]=D.useState({email:"",password:""}),[s,n]=D.useState({}),[a,l]=D.useState(!1),c=Qa(),{login:u,isLoading:h,error:m}=Ht(),p=()=>{const v={};return t.email||(v.email="El correo electrnico es requerido"),t.password||(v.password="La contrasea es requerida"),t.email&&!/\S+@\S+\.\S+/.test(t.email)&&(v.email="El correo electrnico no es vlido"),n(v),Object.keys(v).length===0},x=async v=>{if(v.preventDefault(),!p())return;await u(t)&&c("/dashboard")},b=v=>{const{name:j,value:S}=v.target;e(N=>({...N,[j]:S})),s[j]&&n(N=>({...N,[j]:""}))};return o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center py-8 px-4 sm:px-6 sm:py-12",children:o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md bg-bg rounded-xl shadow-lg p-4 sm:p-8",children:[o.jsx(E_,{title:"Bienvenido de nuevo",subtitle:"Ingresa tus credenciales para continuar",icon:o.jsx(on,{className:"h-6 w-6 sm:h-8 sm:w-8 text-solid-color"})}),o.jsx(C_,{error:m}),o.jsxs("form",{onSubmit:x,className:"space-y-3 sm:space-y-4",children:[o.jsx(Jo,{type:"email",name:"email",label:"Correo electrnico",value:t.email,onChange:b,error:s.email,placeholder:"ejemplo@correo.com",icon:"email",delay:.1}),o.jsx(Jo,{type:"password",name:"password",label:"Contrasea",value:t.password,onChange:b,error:s.password,placeholder:"",icon:"password",delay:.2}),o.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"remember-me",checked:a,onChange:v=>l(v.target.checked),className:"h-3 w-3 sm:h-4 sm:w-4 rounded border-border text-solid-color focus:ring-solid-color"}),o.jsx("label",{htmlFor:"remember-me",className:"text-accessibility-text",children:"Recordarme"})]}),o.jsx("div",{children:o.jsx(cr,{to:"/forgot-password",className:"font-medium text-solid-color hover:text-solid-color-secondary transition-colors duration-200",children:"Olvidaste tu contrasea?"})})]}),o.jsx("div",{className:"pt-2",children:o.jsx(T_,{isLoading:h,children:h?"Iniciando sesin...":"Iniciar sesin"})})]}),o.jsx(k_,{text:"No tienes una cuenta?",linkText:"Regstrate",linkTo:"/auth/register"})]})})},KP=()=>{const[t,e]=D.useState({name:"",email:"",password:"",confirmPassword:""}),[s,n]=D.useState({}),[a,l]=D.useState(!1),c=Qa(),{register:u,isLoading:h,error:m}=Ht(),p=()=>{const v={};return t.name||(v.name="El nombre es requerido"),t.email||(v.email="El correo electrnico es requerido"),t.password||(v.password="La contrasea es requerida"),t.confirmPassword||(v.confirmPassword="La confirmacin de contrasea es requerida"),t.email&&!/\S+@\S+\.\S+/.test(t.email)&&(v.email="El correo electrnico no es vlido"),t.password&&t.password.length<6&&(v.password="La contrasea debe tener al menos 6 caracteres"),t.password!==t.confirmPassword&&(v.confirmPassword="Las contraseas no coinciden"),a||(v.terms="Debes aceptar los trminos y condiciones"),n(v),Object.keys(v).length===0},x=async v=>{if(v.preventDefault(),!!p())try{console.log("Enviando datos de registro:",{nombre:t.name,email:t.email,password:t.password}),await u({nombre:t.name,email:t.email,password:t.password})&&c("/dashboard/verificacion-pendiente")}catch(j){console.error("Error en el registro:",j),n(S=>{var N,_;return{...S,general:((_=(N=j.response)==null?void 0:N.data)==null?void 0:_.message)||"Error al registrar usuario"}})}},b=v=>{const{name:j,value:S}=v.target;e(N=>({...N,[j]:S})),s[j]&&n(N=>({...N,[j]:""}))};return o.jsx("div",{className:"min-h-[80vh] flex items-center justify-center py-8 px-4 sm:px-6 sm:py-12",children:o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md bg-bg rounded-xl shadow-lg p-4 sm:p-8",children:[o.jsx(E_,{title:"Crear una cuenta",subtitle:o.jsxs(o.Fragment,{children:["Regstrate para gestionar el inventario",o.jsxs("div",{className:"mt-2 text-2xs sm:text-xs text-warning",children:[o.jsx(ts,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 inline mr-1"}),"Un administrador deber aprobar tu cuenta y asignarte un rol"]})]}),icon:o.jsx(f6,{className:"h-6 w-6 sm:h-8 sm:w-8 text-solid-color"})}),o.jsx(C_,{error:m}),o.jsxs("form",{onSubmit:x,className:"space-y-3 sm:space-y-4",children:[o.jsx(Jo,{type:"text",name:"name",label:"Nombre completo",value:t.name,onChange:b,error:s.name,placeholder:"Tu nombre completo",icon:"username",delay:.1}),o.jsx(Jo,{type:"email",name:"email",label:"Correo electrnico",value:t.email,onChange:b,error:s.email,placeholder:"ejemplo@correo.com",icon:"email",delay:.2}),o.jsx(Jo,{type:"password",name:"password",label:"Contrasea",value:t.password,onChange:b,error:s.password,placeholder:"",icon:"password",delay:.3}),o.jsx(Jo,{type:"password",name:"confirmPassword",label:"Confirmar contrasea",value:t.confirmPassword,onChange:b,error:s.confirmPassword,placeholder:"",icon:"password",delay:.4}),o.jsxs("div",{className:"flex items-start",children:[o.jsx("div",{className:"flex items-center h-5",children:o.jsx("input",{type:"checkbox",id:"terms",checked:a,onChange:v=>l(v.target.checked),className:"h-3 w-3 sm:h-4 sm:w-4 rounded border-border text-solid-color focus:ring-solid-color"})}),o.jsxs("div",{className:"ml-3 text-2xs sm:text-sm",children:[o.jsxs("label",{htmlFor:"terms",className:"font-medium text-accessibility-text",children:["Acepto los"," ",o.jsx(cr,{to:"/terms",className:"text-solid-color hover:text-solid-color-secondary",children:"trminos y condiciones"})]}),s.terms&&o.jsxs("p",{className:"mt-1 text-2xs sm:text-sm text-border-tertiary flex items-center",children:[o.jsx(ts,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),s.terms]})]})]}),o.jsx("div",{className:"pt-2",children:o.jsx(T_,{isLoading:h,children:h?"Registrando...":"Registrarse"})})]}),o.jsx(k_,{text:"Ya tienes una cuenta?",linkText:"Inicia sesin",linkTo:"/auth/login"})]})})},Ci="http://127.0.0.1:8000/api",QP={getDashboardData:async t=>{const e=localStorage.getItem("token"),s=await mt.get(`${Ci}/dashboard/stats`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),n=await mt.get(`${Ci}/dashboard/ventas-por-mes`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),a=await mt.get(`${Ci}/dashboard/productos-mas-vendidos`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),l=await mt.get(`${Ci}/dashboard/productos-stock-bajo`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),c=await mt.get(`${Ci}/dashboard/ultimas-ventas`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),u=await mt.get(`${Ci}/dashboard/ultimas-compras`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}}),h=await mt.get(`${Ci}/dashboard/ultimos-movimientos`,{headers:{Authorization:`Bearer ${e}`},params:{sede_id:t}});return{...s.data,ventasPorMes:n.data,productosMasVendidos:a.data,productosStockBajo:l.data,ultimasVentas:c.data,ultimasCompras:u.data,ultimosMovimientos:h.data}}},ZP=Ps(t=>({stats:null,isLoading:!1,error:null,fetchDashboardData:async e=>{t({isLoading:!0,error:null});try{const s=await QP.getDashboardData(e);t({stats:s,isLoading:!1})}catch(s){throw t({error:s.message,isLoading:!1}),s}},clearError:()=>t({error:null})})),Rc="http://127.0.0.1:8000/api",wh={fetchSedes:async()=>{var t,e;try{return(await ge.get(`${Rc}/sedes`)).data.data}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar las sedes")}},createSede:async t=>{var e,s;try{return(await ge.post(`${Rc}/sedes`,t)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear la sede")}},updateSede:async(t,e)=>{var s,n;try{return(await ge.put(`${Rc}/sedes/${t}`,e)).data.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al actualizar la sede")}},deleteSede:async t=>{var e,s;try{return await ge.delete(`${Rc}/sedes/${t}`),!0}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al eliminar la sede")}},getSedeById:async t=>{var e,s;try{return(await ge.get(`${Rc}/sedes/${t}`)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al obtener la sede")}}},_n=Ps(t=>({sedes:[],isLoading:!1,error:null,fetchSedes:async()=>{t({isLoading:!0,error:null});try{const e=await wh.fetchSedes();t({sedes:e,isLoading:!1})}catch(e){t({error:e.message,isLoading:!1,sedes:[]})}},createSede:async e=>{t({isLoading:!0,error:null});try{const s=await wh.createSede(e);return t(n=>({sedes:[...n.sedes,s],isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},updateSede:async(e,s)=>{t({isLoading:!0,error:null});try{const n=await wh.updateSede(e,s);return t(a=>({sedes:a.sedes.map(l=>l.id===e?n:l),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},deleteSede:async e=>{t({isLoading:!0,error:null});try{return await wh.deleteSede(e),t(s=>({sedes:s.sedes.filter(n=>n.id!==e),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},getSedeById:e=>_n.getState().sedes.find(n=>n.id===e),getSedeName:e=>{const n=_n.getState().sedes.find(a=>a.id===e);return n?n.nombre:"No asignada"}})),k2=(t,e="EUR")=>new Intl.NumberFormat("es-ES",{style:"currency",currency:e,minimumFractionDigits:2,maximumFractionDigits:2}).format(t),ft=({variant:t="inline",text:e="Cargando...",colSpan:s=8,className:n=""})=>t==="table"?o.jsx("tr",{children:o.jsx("td",{colSpan:s,className:"px-6 py-8 text-center",children:o.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[o.jsx(Xt,{className:"h-8 w-8 text-solid-color animate-spin"}),o.jsx("span",{className:"text-text-tertiary text-sm font-medium",children:e})]})})}):t==="fullscreen"?o.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-bg/80 backdrop-blur-sm z-50",children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx(Xt,{className:"h-12 w-12 text-solid-color animate-spin"}),o.jsx("p",{className:"text-accessibility-text text-lg font-medium",children:e})]})}):t==="button"?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Xt,{className:"h-4 w-4 text-current animate-spin"}),o.jsx("span",{children:e})]}):t==="container"?o.jsx("div",{className:`flex items-center justify-center w-full h-64 ${n}`,children:o.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[o.jsx(Xt,{className:"h-10 w-10 text-solid-color animate-spin"}),o.jsx("p",{className:"text-text-tertiary text-base",children:e})]})}):o.jsxs("div",{className:`flex items-center space-x-2 ${n}`,children:[o.jsx(Xt,{className:"h-5 w-5 text-solid-color animate-spin"}),o.jsx("span",{className:"text-text-tertiary",children:e})]}),JP=()=>{var x,b,v,j,S,N,_,A,k;const t=Qa(),{stats:e,isLoading:s,error:n,fetchDashboardData:a}=ZP(),{user:l}=Ht(),{fetchSedes:c}=_n(),u=(b=(x=l==null?void 0:l.data)==null?void 0:x.sede)==null?void 0:b.id,h=((j=(v=l==null?void 0:l.data)==null?void 0:v.sede)==null?void 0:j.nombre)||"No asignada";if(D.useEffect(()=>{(async()=>{try{u?(await c(),await a(u)):we.error("No se pudo determinar la sede actual")}catch{we.error("Error al cargar los datos del dashboard")}})()},[a,u,c]),n)return o.jsx("div",{className:"p-2 sm:p-4",children:o.jsxs("div",{className:"bg-error/10 border border-error text-error px-3 py-2 sm:px-4 sm:py-3 rounded-lg",children:["Error al cargar los datos: ",n]})});const m=({title:R,value:M,icon:z,trend:H,isLoading:L})=>o.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-text-tertiary",children:R}),L?o.jsx("div",{className:"mt-2",children:o.jsx(ft,{text:""})}):o.jsx("p",{className:"text-xl sm:text-2xl font-semibold text-accessibility-text mt-2",children:typeof M=="number"?R.includes("Ventas")||R.includes("Compras")?k2(M):M.toLocaleString("es-ES"):M||"0"})]}),o.jsx("div",{className:"p-2 sm:p-3 bg-interactive-component rounded-full",children:z&&o.jsx(z,{className:"h-5 w-5 sm:h-6 sm:w-6 text-solid-color"})})]}),H&&!L&&o.jsxs("div",{className:"mt-3 flex items-center",children:[H.tendencia==="up"?o.jsx(qf,{className:"h-3 w-3 sm:h-4 sm:w-4 text-success"}):o.jsx(o6,{className:"h-3 w-3 sm:h-4 sm:w-4 text-error"}),o.jsxs("span",{className:`text-xs sm:text-sm font-medium ml-1 ${H.tendencia==="up"?"text-success":"text-error"}`,children:[Math.abs(H.valor).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1}),"%"]}),o.jsx("span",{className:"text-xs sm:text-sm text-text-tertiary ml-1",children:"vs mes anterior"})]})]}),p=({title:R,headers:M,data:z,isLoading:H})=>o.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border",children:[o.jsx("div",{className:"px-3 py-3 sm:px-6 sm:py-4 border-b border-border",children:o.jsx("h3",{className:"text-base sm:text-lg font-medium text-accessibility-text",children:R})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-border",children:[o.jsx("thead",{className:"bg-interactive-component",children:o.jsx("tr",{children:M.map((L,F)=>o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:L},F))})}),o.jsx("tbody",{className:"bg-bg-secondary divide-y divide-border",children:H?o.jsx(ft,{variant:"table",colSpan:M.length,text:`Cargando ${R.toLowerCase()}...`}):z.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:M.length,className:"px-2 py-3 sm:px-6 sm:py-4 text-center text-text-tertiary",children:"No hay datos disponibles"})}):z.map((L,F)=>o.jsx("tr",{className:"hover:bg-interactive-component/50",children:Object.values(L).map((U,X)=>o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:typeof U=="number"?Number.isInteger(U)?U.toLocaleString("es-ES"):k2(U):U},X))},F))})]})})]});return o.jsxs("div",{className:"p-2 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 gap-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-accessibility-text",children:"Dashboard"}),o.jsxs("div",{className:"flex items-center mt-1 text-xs sm:text-sm text-text-tertiary",children:[o.jsx(vn,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),o.jsxs("span",{children:["Mostrando datos para la sede: ",o.jsx("span",{className:"font-medium",children:h})]})]})]}),o.jsxs("button",{onClick:()=>t("/dashboard/configuracion"),className:"inline-flex items-center px-3 py-1.5 sm:px-4 sm:py-2 border border-border rounded-lg shadow-sm text-xs sm:text-sm font-medium text-accessibility-text bg-bg-secondary hover:bg-interactive-component transition-colors duration-200",children:[o.jsx(qi,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2 text-text-tertiary"}),"Configuracin"]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-6 mb-4 sm:mb-6",children:[o.jsx(m,{title:"Productos en Stock",value:e!=null&&e.totalProductos?Number(e.totalProductos):0,icon:Et,trend:(S=e==null?void 0:e.cambios)==null?void 0:S.productos,isLoading:s}),o.jsx(m,{title:"Ventas Totales",value:e!=null&&e.totalVentas?Number(e.totalVentas):0,icon:Sn,trend:(N=e==null?void 0:e.cambios)==null?void 0:N.ventas,isLoading:s}),o.jsx(m,{title:"Compras Totales",value:e!=null&&e.totalCompras?Number(e.totalCompras):0,icon:mr,isLoading:s}),o.jsx(m,{title:"Usuarios Activos",value:e!=null&&e.totalUsuarios?Number(e.totalUsuarios):0,icon:ll,trend:(_=e==null?void 0:e.cambios)==null?void 0:_.usuarios,isLoading:s})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsx(p,{title:"Productos Ms Vendidos",headers:["Producto","Unidades","Total"],data:((e==null?void 0:e.productosMasVendidos)||[]).map(R=>{const M=typeof R.total_vendido=="number"?R.total_vendido:typeof R.total_vendido=="string"&&!isNaN(R.total_vendido)?Number(R.total_vendido):0,z=typeof R.total_ingresos=="number"?R.total_ingresos:typeof R.total_ingresos=="string"&&!isNaN(R.total_ingresos)?Number(R.total_ingresos):0;return{nombre:R.nombre||"Sin nombre",total_vendido:M,total_ingresos:z}}),isLoading:s}),o.jsx(p,{title:"Productos con Stock Bajo",headers:["Producto","Stock Actual","Stock Mnimo"],data:(((A=e==null?void 0:e.productosStockBajo)==null?void 0:A.data)||[]).map(R=>{const M=typeof R.stock=="number"?R.stock:typeof R.stock=="string"&&!isNaN(R.stock)?Number(R.stock):0,z=typeof R.stock_minimo=="number"?R.stock_minimo:typeof R.stock_minimo=="string"&&!isNaN(R.stock_minimo)?Number(R.stock_minimo):0;return{nombre:R.nombre||"Sin nombre",stock:M,stock_minimo:z}}),isLoading:s})]}),o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsx(p,{title:"ltimas Ventas",headers:["ID","Total","Usuario","Fecha"],data:((e==null?void 0:e.ultimasVentas)||[]).map(R=>{const M=typeof R.total=="number"?R.total:typeof R.total=="string"&&!isNaN(R.total)?Number(R.total):0;return{id:R.id,total:M,usuario:R.usuario||"Sin usuario",fecha:(()=>{try{if(!R.fecha)return"N/A";const z=new Date(R.fecha);return isNaN(z.getTime())?"N/A":z.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"Fecha invlida"}})()}}),isLoading:s}),o.jsx(p,{title:"ltimos Movimientos",headers:["Tipo","Cantidad","Producto","Usuario"],data:(((k=e==null?void 0:e.ultimosMovimientos)==null?void 0:k.data)||[]).map(R=>{const M=typeof R.cantidad=="number"?R.cantidad:typeof R.cantidad=="string"&&!isNaN(R.cantidad)?Number(R.cantidad):0;return{tipo:R.tipo||"Sin tipo",cantidad:M,producto:R.producto||"Sin producto",usuario:R.usuario||"Sin usuario"}}),isLoading:s})]})]})]})},Ti="http://127.0.0.1:8000/api",ki={fetchVentas:async()=>{var t,e;try{const s=await ge.get(`${Ti}/ventas`);return Array.isArray(s.data)?s.data:Array.isArray(s.data.data)?s.data.data:[]}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar ventas")}},fetchVentasByDateRange:async(t,e)=>{var s,n;try{return(await ge.get(`${Ti}/ventas/por-fechas`,{params:{fecha_inicio:t,fecha_fin:e}})).data.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al cargar las ventas por fecha")}},fetchResumen:async(t,e)=>{var s,n;try{if(!(t instanceof Date)||!(e instanceof Date))throw new Error("Las fechas proporcionadas no son vlidas");const a={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};console.log("Enviando parmetros:",a);const l=await ge.get(`${Ti}/ventas/resumen`,{params:a,headers:{Accept:"application/json","Content-Type":"application/json"}});if(console.log("Respuesta del servidor:",l.data),!l.data||!l.data.data)throw new Error("Formato de respuesta invlido");return l.data.data}catch(a){throw console.error("Error en fetchResumen:",a),new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al obtener el resumen de ventas")}},createVenta:async t=>{var e,s;try{if(!t.productos||!Array.isArray(t.productos)||t.productos.length===0)throw new Error("Los datos de la venta no son vlidos");t.productos.forEach((a,l)=>{if(!a.producto_id||!a.cantidad)throw new Error(`Datos invlidos en el producto ${l+1}`)});const n=await ge.post(`${Ti}/ventas`,t);return n.data.data||n.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear la venta")}},getVentaById:async t=>{var e,s;try{const n=await ge.get(`${Ti}/ventas/${t}`);return n.data.data||n.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al obtener la venta")}},updateVenta:async(t,e)=>{var s,n;try{const a=await ge.put(`${Ti}/ventas/${t}`,e);return a.data.data||a.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al actualizar la venta")}},deleteVenta:async t=>{var e,s;try{return await ge.delete(`${Ti}/ventas/${t}`),!0}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al eliminar la venta")}}},$d=Ps((t,e)=>({ventas:[],ventaActual:null,loading:!1,error:null,resumen:null,productosMasVendidos:[],fetchVentas:async()=>{t({loading:!0,error:null});try{const s=await ki.fetchVentas();t({ventas:s,loading:!1})}catch(s){t({error:s.message,loading:!1,ventas:[]})}},fetchVentasByDateRange:async(s,n)=>{t({loading:!0,error:null});try{const a=await ki.fetchVentasByDateRange(s,n);t({ventas:a,loading:!1})}catch(a){t({error:a.message,loading:!1})}},fetchResumen:async(s,n)=>{t({loading:!0,error:null});try{const a=await ki.fetchResumen(s,n);return console.log("Resumen de ventas:",a),t({resumen:a.resumen,productosMasVendidos:a.productos_mas_vendidos||[],loading:!1}),a}catch(a){throw console.error("Error al obtener resumen:",a),t({error:a.message,loading:!1,resumen:null,productosMasVendidos:[]}),a}},createVenta:async s=>{t({loading:!0,error:null});try{const n=await ki.createVenta(s);return t(a=>({ventas:[...a.ventas,n],ventaActual:n,loading:!1})),n}catch(n){throw t({error:n.message,loading:!1}),n}},fetchVenta:async s=>{t({loading:!0,error:null});try{const n=await ki.getVentaById(s);return t({ventaActual:n,loading:!1}),n}catch(n){throw t({error:n.message,loading:!1}),n}},updateVenta:async(s,n)=>{t({loading:!0,error:null});try{const a=await ki.updateVenta(s,n);return t(l=>({ventas:l.ventas.map(c=>c.id===s?a:c),ventaActual:a,loading:!1})),a}catch(a){throw t({error:a.message,loading:!1}),a}},deleteVenta:async s=>{t({loading:!0,error:null});try{await ki.deleteVenta(s),t(n=>{var a;return{ventas:n.ventas.filter(l=>l.id!==s),ventaActual:((a=n.ventaActual)==null?void 0:a.id)===s?null:n.ventaActual,loading:!1}})}catch(n){throw t({error:n.message,loading:!1}),n}},clearError:()=>t({error:null}),clearVentaActual:()=>t({ventaActual:null}),getVentasStats:()=>{const s=e().ventas||[];if(!Array.isArray(s))return console.error("ventas no es un array:",s),{totalVentas:0,totalVentasHoy:0,ventasPendientes:0,totalProductosVendidos:0};const n=s.reduce((h,m)=>h+(Number(m.total)||0),0),l=s.filter(h=>{try{const m=new Date(h.fecha),p=new Date;return m.toDateString()===p.toDateString()}catch(m){return console.error("Error al procesar fecha de venta:",m),!1}}).reduce((h,m)=>h+(Number(m.total)||0),0),c=s.filter(h=>h.estado==="pendiente").length,u=s.reduce((h,m)=>{var p;try{return h+(((p=m.detalles)==null?void 0:p.reduce((x,b)=>x+(Number(b.cantidad)||0),0))||0)}catch(x){return console.error("Error al procesar detalles de venta:",x),h}},0);return{totalVentas:n,totalVentasHoy:l,ventasPendientes:c,totalProductosVendidos:u}}}));function bt(t){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}const e8=()=>{const{loading:t,error:e,resumen:s,fetchVentas:n,fetchVentasByDateRange:a,fetchResumen:l,productosMasVendidos:c}=$d(),[u,h]=D.useState(new Date(new Date().setDate(1))),[m,p]=D.useState(new Date),[x,b]=D.useState(!0),[v,j]=D.useState(!1),[S,N]=D.useState(null);D.useEffect(()=>{(async()=>{var R,M;b(!0);try{await Promise.all([n(),l(u,m)]),N(null)}catch(z){console.error("Error al cargar datos iniciales:",z),N(((M=(R=z.response)==null?void 0:R.data)==null?void 0:M.message)||"Error al cargar datos iniciales")}finally{b(!1)}})()},[]),D.useEffect(()=>{(async()=>{var R,M;if(!x){j(!0);try{await Promise.all([a(u,m),l(u,m)]),N(null)}catch(z){console.error("Error al actualizar datos:",z),N(((M=(R=z.response)==null?void 0:R.data)==null?void 0:M.message)||"Error al actualizar datos")}finally{j(!1)}}})()},[u,m]);const _=async(k,R)=>{try{if(!(k instanceof Date)||!(R instanceof Date))throw new Error("Las fechas proporcionadas no son vlidas");h(k),p(R)}catch(M){console.error("Error al actualizar rango de fechas:",M),N(M.message)}},A=t||v;return x?o.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:o.jsxs(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center gap-4",children:[o.jsx(Xt,{className:"h-10 w-10 sm:h-12 sm:w-12 animate-spin text-solid-color"}),o.jsx("p",{className:"text-text-tertiary text-base sm:text-lg",children:"Cargando dashboard..."})]})}):e||S?o.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-3 sm:p-6 bg-error/10 border border-error text-error rounded-lg flex items-center gap-3",children:[o.jsx(ts,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("p",{className:"text-xs sm:text-sm",children:e||S})]}):o.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-4 sm:space-y-6 p-2 sm:p-0",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-6",children:A?Array(4).fill(0).map((k,R)=>o.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:R*.1},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:o.jsx("div",{className:"flex items-center justify-center h-16 sm:h-24",children:o.jsx(Xt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-solid-color"})})},R)):o.jsxs(o.Fragment,{children:[o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(Sn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-success"})}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-success",children:(s==null?void 0:s.total_monto)>0?`+${(s.promedio_venta/s.total_monto*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Total Ventas"}),o.jsx("p",{className:"mt-1 text-lg sm:text-2xl font-semibold text-accessibility-text",children:bt((s==null?void 0:s.total_monto)||0)})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(mr,{className:"h-4 w-4 sm:h-6 sm:w-6 text-warning"})}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-warning",children:(s==null?void 0:s.total_ventas)>0?`+${(s.total_ventas/100*10).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Ventas Realizadas"}),o.jsx("p",{className:"mt-1 text-lg sm:text-2xl font-semibold text-accessibility-text",children:(s==null?void 0:s.total_ventas)||0})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(qf,{className:"h-4 w-4 sm:h-6 sm:w-6 text-info"})}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-info",children:(s==null?void 0:s.promedio_venta)>0?`+${(s.promedio_venta/1e3*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Promedio por Venta"}),o.jsx("p",{className:"mt-1 text-lg sm:text-2xl font-semibold text-accessibility-text",children:bt((s==null?void 0:s.promedio_venta)||0)})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(Et,{className:"h-4 w-4 sm:h-6 sm:w-6 text-solid-color"})}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-solid-color",children:(c==null?void 0:c.length)>0?`+${(c[0].total_vendido/100*15).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Productos Vendidos"}),o.jsx("p",{className:"mt-1 text-lg sm:text-2xl font-semibold text-accessibility-text",children:(c==null?void 0:c.reduce((k,R)=>k+(R.total_vendido||0),0))||0})]})]})}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:space-x-4 bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx(Hn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("span",{className:"text-xs sm:text-sm text-text-tertiary",children:"Filtrar por fecha:"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4 w-full sm:w-auto",children:[o.jsx("input",{type:"date",value:pt(u,"yyyy-MM-dd"),onChange:k=>{const R=new Date(k.target.value);isNaN(R.getTime())||_(R,m)},className:"px-2 py-1 sm:px-4 sm:py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent text-xs sm:text-sm w-full sm:w-auto"}),o.jsx("span",{className:"text-xs sm:text-sm text-text-tertiary",children:"hasta"}),o.jsx("input",{type:"date",value:pt(m,"yyyy-MM-dd"),onChange:k=>{const R=new Date(k.target.value);isNaN(R.getTime())||_(u,R)},className:"px-2 py-1 sm:px-4 sm:py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent text-xs sm:text-sm w-full sm:w-auto"})]})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:[o.jsx("div",{className:"p-3 sm:p-6 border-b border-border",children:o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-accessibility-text",children:"Productos ms vendidos"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-interactive-component",children:[o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-right text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-right text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:A?o.jsx(ft,{variant:"table",colSpan:3,text:"Cargando productos..."}):(c==null?void 0:c.length)===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"3",className:"px-2 py-4 sm:px-6 sm:py-8 text-center text-text-tertiary text-xs sm:text-sm",children:"No hay productos vendidos en este perodo"})}):c==null?void 0:c.map((k,R)=>o.jsxs(ye.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:R*.05},className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsxs("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-xs sm:text-sm font-medium text-accessibility-text",children:k.producto.nombre}),o.jsx("div",{className:"text-xs text-text-tertiary",children:k.producto.codigo})]}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap text-right text-xs sm:text-sm text-accessibility-text",children:k.total_vendido.toLocaleString("es-ES")}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap text-right text-xs sm:text-sm font-medium text-accessibility-text",children:bt(k.total_monto)})]},k.producto.id))})]})})]})]})},Ds="http://127.0.0.1:8000/api",an={fetchProducts:async()=>{var t,e;try{return(await ge.get(`${Ds}/productos`)).data.data}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar los productos")}},getProductById:async(t,e=null)=>{var s,n;try{const a=e?`${Ds}/productos/${t}?sede_id=${e}`:`${Ds}/productos/${t}`;return(await ge.get(a)).data.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al obtener el producto")}},createProduct:async t=>{var e,s;try{return(await ge.post(`${Ds}/productos`,t)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear el producto")}},updateProduct:async(t,e)=>{var s,n;try{return(await ge.put(`${Ds}/productos/${t}`,e)).data.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al actualizar el producto")}},deleteProduct:async t=>{var e,s;try{return await ge.delete(`${Ds}/productos/${t}`),!0}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al eliminar el producto")}},getProductsBySede:async t=>{var e,s;try{return(await ge.get(`${Ds}/productos/por-sede/${t}`)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al cargar los productos por sede")}},getLowStockProducts:async(t=null)=>{var e,s;try{const n=t?`${Ds}/productos/stock-bajo?sede_id=${t}`:`${Ds}/productos/stock-bajo`;return(await ge.get(n)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al cargar los productos con stock bajo")}},getMovementById:async t=>{var e,s;try{return(await ge.get(`${Ds}/movimientos/${t}`)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al obtener el movimiento")}},createMovement:async t=>{var e,s;try{return(await ge.post(`${Ds}/movimientos`,t)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear el movimiento")}},getMovementsByDateRange:async(t,e,s=null)=>{var n,a;try{const l={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};return s&&(l.sede_id=s),(await ge.get(`${Ds}/movimientos/por-fecha`,{params:l})).data.data}catch(l){throw new Error(((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||"Error al cargar los movimientos por fecha")}},getMovementsSummary:async(t,e,s=null)=>{var n,a;try{const l={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};s&&(l.sede_id=s);const c=await ge.get(`${Ds}/movimientos/resumen`,{params:l});return console.log("Respuesta del resumen de movimientos:",c),c.data.data||[]}catch(l){throw console.error("Error al obtener resumen de movimientos:",l),new Error(((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||"Error al obtener el resumen de movimientos")}},updateProductStock:async(t,e,s)=>{var n,a;try{return(await ge.patch(`${Ds}/productos/${t}/stock`,{sede_id:e,stock:s})).data.data}catch(l){throw new Error(((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||"Error al actualizar el stock del producto")}},getProductStockBySede:async(t,e)=>{var s,n;try{return(await ge.get(`${Ds}/productos/${t}/stock/${e}`)).data.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al obtener el stock del producto")}}},Zr=Ps((t,e)=>({products:[],movements:[],isLoading:!1,error:null,loadProducts:async(s=null)=>{t({isLoading:!0,error:null});try{const a=(s?await an.getProductsBySede(s):await an.fetchProducts()).map(l=>{var c,u,h,m,p,x,b,v,j;return{...l,sedes:l.sedes||[],stock:((h=(u=(c=l.sedes)==null?void 0:c.find(S=>S.id===Number(s)))==null?void 0:u.pivot)==null?void 0:h.stock)||0,precio_compra:((x=(p=(m=l.sedes)==null?void 0:m.find(S=>S.id===Number(s)))==null?void 0:p.pivot)==null?void 0:x.precio_compra)||0,precio_venta:((j=(v=(b=l.sedes)==null?void 0:b.find(S=>S.id===Number(s)))==null?void 0:v.pivot)==null?void 0:j.precio_venta)||0}});t({products:a,isLoading:!1})}catch(n){t({error:n.message,isLoading:!1})}},loadMovements:async(s=null)=>{t({isLoading:!0,error:null});try{const n=new Date,a=new Date;a.setDate(a.getDate()-30);const l=new Date(a.toISOString().split("T")[0]),c=new Date(n.toISOString().split("T")[0]),u=await an.getMovementsByDateRange(l,c,s);t({movements:u,isLoading:!1})}catch(n){t({error:n.message,isLoading:!1})}},getProductById:async(s,n=null)=>{t({isLoading:!0,error:null});try{const a=await an.getProductById(s,n);return t({isLoading:!1}),a}catch(a){return t({error:a.message,isLoading:!1}),null}},createProduct:async s=>{t({isLoading:!0,error:null});try{const n=await an.createProduct(s);return t(a=>({products:[...a.products,n],isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},updateProduct:async(s,n)=>{t({isLoading:!0,error:null});try{const a=await an.updateProduct(s,n);return t(l=>({products:l.products.map(c=>c.id===s?a:c),isLoading:!1})),!0}catch(a){return t({error:a.message,isLoading:!1}),!1}},deleteProduct:async s=>{t({isLoading:!0,error:null});try{return await an.deleteProduct(s),t(n=>({products:n.products.filter(a=>a.id!==s),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},getProductsBySede:async s=>{t({isLoading:!0,error:null});try{const a=(await an.getProductsBySede(s)).map(l=>{var c,u,h,m,p,x,b,v,j;return{...l,sedes:l.sedes||[],stock:((h=(u=(c=l.sedes)==null?void 0:c.find(S=>S.id===Number(s)))==null?void 0:u.pivot)==null?void 0:h.stock)||0,precio_compra:((x=(p=(m=l.sedes)==null?void 0:m.find(S=>S.id===Number(s)))==null?void 0:p.pivot)==null?void 0:x.precio_compra)||0,precio_venta:((j=(v=(b=l.sedes)==null?void 0:b.find(S=>S.id===Number(s)))==null?void 0:v.pivot)==null?void 0:j.precio_venta)||0}});t({products:a,isLoading:!1})}catch(n){t({error:n.message,isLoading:!1})}},getLowStockProducts:async(s=null)=>{t({isLoading:!0,error:null});try{const n=await an.getLowStockProducts(s);t({products:n,isLoading:!1})}catch(n){t({error:n.message,isLoading:!1})}},getMovementById:async s=>{t({isLoading:!0,error:null});try{const n=await an.getMovementById(s);return t({isLoading:!1}),n}catch(n){return t({error:n.message,isLoading:!1}),null}},createMovement:async s=>{t({isLoading:!0,error:null});try{const n=await an.createMovement(s);return t(a=>({movements:[...a.movements,n],isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},getMovementsByDateRange:async(s,n)=>{t({isLoading:!0,error:null});try{const a=await an.getMovementsByDateRange(s,n);t({movements:a,isLoading:!1})}catch(a){t({error:a.message,isLoading:!1})}},getMovementsSummary:async(s,n)=>{t({isLoading:!0,error:null});try{const a=await an.getMovementsSummary(s,n);return console.log("Resumen de movimientos obtenido:",a),t({isLoading:!1}),a}catch(a){return console.error("Error en getMovementsSummary:",a),t({error:a.message,isLoading:!1}),[]}},searchProducts:s=>{const{products:n}=e();if(!s)return n;const a=s.toLowerCase();return n.filter(l=>{var c,u,h,m;return((c=l.nombre)==null?void 0:c.toLowerCase().includes(a))||((u=l.descripcion)==null?void 0:u.toLowerCase().includes(a))||((m=(h=l.categoria)==null?void 0:h.nombre)==null?void 0:m.toLowerCase().includes(a))})},filterProductsByCategory:s=>{const{products:n}=e();return s?n.filter(a=>a.categoria_id===s):n},filterMovementsByType:s=>{const{movements:n}=e();return s?n.filter(a=>a.tipo===s):n},getProductStats:(s=null)=>{const{products:n}=e(),a=s?n.filter(l=>{var c;return(c=l.sedes)==null?void 0:c.some(u=>u.id===Number(s))}):n;return{total:a.length,lowStock:a.filter(l=>{var u,h,m;return(((m=(h=(u=l.sedes)==null?void 0:u.find(p=>p.id===Number(s)))==null?void 0:h.pivot)==null?void 0:m.stock)||0)<=l.stock_minimo}).length,outOfStock:a.filter(l=>{var u,h,m;return(((m=(h=(u=l.sedes)==null?void 0:u.find(p=>p.id===Number(s)))==null?void 0:h.pivot)==null?void 0:m.stock)||0)===0}).length,totalValue:a.reduce((l,c)=>{var m,p,x,b,v,j;const u=((x=(p=(m=c.sedes)==null?void 0:m.find(S=>S.id===Number(s)))==null?void 0:p.pivot)==null?void 0:x.stock)||0,h=((j=(v=(b=c.sedes)==null?void 0:b.find(S=>S.id===Number(s)))==null?void 0:v.pivot)==null?void 0:j.precio_venta)||0;return l+h*u},0)}},getProductStockInSede:(s,n)=>{var u;const{products:a}=e(),l=a.find(h=>h.id===s);if(!l)return 0;const c=(u=l.sedes)==null?void 0:u.find(h=>h.id===n);return c?c.pivot.stock:0}})),La="http://127.0.0.1:8000/api",M2={fetchMovimientos:async()=>{var t,e;try{return(await ge.get(`${La}/movimientos`)).data.data}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar los movimientos")}},getMovimientoById:async t=>{var e,s;try{return(await ge.get(`${La}/movimientos/${t}`)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al obtener el movimiento")}},createMovimiento:async t=>{var e,s;try{return(await ge.post(`${La}/movimientos`,t)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear el movimiento")}},deleteMovimiento:async t=>{var e,s;try{return await ge.delete(`${La}/movimientos/${t}`),!0}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al eliminar el movimiento")}},getMovimientosByDateRange:async(t,e,s=null)=>{var n,a;try{const l={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};s&&(l.sede_id=s);const c=await ge.get(`${La}/movimientos/por-fecha`,{params:l});return{movimientos:c.data.data||[],resumen:c.data.resumen||[]}}catch(l){throw new Error(((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||"Error al cargar los movimientos por fecha")}},getMovimientosByProducto:async t=>{var e,s;try{return(await ge.get(`${La}/movimientos/por-producto/${t}`)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al cargar los movimientos del producto")}},getMovimientosBySede:async t=>{var e,s;try{return(await ge.get(`${La}/movimientos/por-sede/${t}`)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al cargar los movimientos de la sede")}},getMovimientosResumen:async(t,e,s=null)=>{var n,a;try{const l={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]};return s&&(l.sede_id=s),(await ge.get(`${La}/movimientos/resumen`,{params:l})).data.data}catch(l){throw new Error(((a=(n=l.response)==null?void 0:n.data)==null?void 0:a.message)||"Error al obtener el resumen de movimientos")}}},M_=Ps(t=>({movimientos:[],isLoading:!1,error:null,resumen:null,loadMovimientos:async()=>{t({isLoading:!0,error:null});try{const e=new Date,s=new Date;s.setDate(s.getDate()-30),console.log("Cargando movimientos con fechas:",{fechaInicio:s,fechaFin:e});const n=await M2.getMovimientosByDateRange(s,e);if(console.log("Respuesta completa de movimientos:",n),!n)throw console.error("No hay datos en la respuesta:",n),new Error("No se recibieron datos de movimientos");t({movimientos:n.movimientos||[],resumen:n.resumen||[],isLoading:!1})}catch(e){console.error("Error al cargar movimientos:",e),t({error:e.message||"Error al cargar los movimientos",isLoading:!1,movimientos:[],resumen:[]})}},addMovimiento:async e=>{t({isLoading:!0,error:null});try{const s=await M2.createMovimiento(e);return t(n=>({movimientos:[s,...Array.isArray(n.movimientos)?n.movimientos:[]],isLoading:!1})),s}catch(s){throw t({error:s.message||"Error al crear el movimiento",isLoading:!1}),s}},clearError:()=>t({error:null})})),Oc="http://127.0.0.1:8000/api",jh={fetchTransferencias:async()=>(await ge.get(`${Oc}/transferencias`)).data.data,createTransferencia:async t=>(await ge.post(`${Oc}/transferencias`,t)).data.data,updateTransferencia:async(t,e)=>(await ge.put(`${Oc}/transferencias/${t}`,e)).data.data,deleteTransferencia:async t=>(await ge.delete(`${Oc}/transferencias/${t}`),!0),getTransferenciaById:async t=>(await ge.get(`${Oc}/transferencias/${t}`)).data.data},A_=Ps(t=>({transferencias:[],isLoading:!1,error:null,fetchTransferencias:async()=>{t({isLoading:!0,error:null});try{const e=await jh.fetchTransferencias();t({transferencias:e,isLoading:!1})}catch(e){t({error:e.message,isLoading:!1,transferencias:[]})}},createTransferencia:async e=>{t({isLoading:!0,error:null});try{const s=await jh.createTransferencia(e);return t(n=>({transferencias:[s,...n.transferencias],isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},updateTransferencia:async(e,s)=>{t({isLoading:!0,error:null});try{const n=await jh.updateTransferencia(e,s);return t(a=>({transferencias:a.transferencias.map(l=>l.id===e?n:l),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},deleteTransferencia:async e=>{t({isLoading:!0,error:null});try{return await jh.deleteTransferencia(e),t(s=>({transferencias:s.transferencias.filter(n=>n.id!==e),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}}})),t8=()=>{var z,H;const{products:t,loadProducts:e}=Zr(),{movimientos:s,loadMovimientos:n}=M_(),{transferencias:a,fetchTransferencias:l}=A_(),{sedes:c,fetchSedes:u}=_n(),{user:h}=Ht(),[m,p]=D.useState(!0),[x,b]=D.useState(null),v=(H=(z=h==null?void 0:h.data)==null?void 0:z.sede)==null?void 0:H.id;D.useEffect(()=>{(async()=>{try{p(!0),await Promise.all([e(),n(),l(),u()])}catch(F){console.error("Error al cargar datos iniciales:",F),b("Error al cargar los datos iniciales")}finally{p(!1)}})()},[e,n,l,u]);const j=Array.isArray(s)?s:[],S=Array.isArray(a)?a:[],N=t.filter(L=>{var F;return(F=L.sedes)==null?void 0:F.some(U=>U.id===v)}),_=N.filter(L=>{var U,X;return(((X=(U=L.sedes)==null?void 0:U.find(Z=>Z.id===v))==null?void 0:X.stock)||0)<5}),A=j.filter(L=>(L.sede_id===v||L.sede_origen_id===v||L.sede_destino_id===v)&&L.tipo!=="transferencia").sort((L,F)=>new Date(F.fecha)-new Date(L.fecha)).slice(0,5),k=S.filter(L=>L.sede_origen_id===v||L.sede_destino_id===v).sort((L,F)=>new Date(F.fecha)-new Date(L.fecha)).slice(0,5),R={totalProductos:N.length,stockBajo:_.length,entradasHoy:j.filter(L=>(L.sede_id===v||L.sede_destino_id===v)&&L.tipo==="entrada"&&new Date(L.fecha).toDateString()===new Date().toDateString()).length,salidasHoy:j.filter(L=>(L.sede_id===v||L.sede_origen_id===v)&&L.tipo==="salida"&&new Date(L.fecha).toDateString()===new Date().toDateString()).length,transferenciasHoy:S.filter(L=>(L.sede_origen_id===v||L.sede_destino_id===v)&&new Date(L.fecha).toDateString()===new Date().toDateString()).length};if(m)return o.jsx("div",{className:"p-3 sm:p-6",children:o.jsx(ft,{variant:"container",text:"Cargando datos del dashboard..."})});if(x)return o.jsx("div",{className:"p-3 sm:p-6",children:o.jsxs("div",{className:"bg-error/10 text-error p-3 sm:p-4 rounded-lg",children:[o.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2",children:"Error"}),o.jsx("p",{children:x})]})});const M=c.find(L=>L.id===v);return o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Dashboard Almacenista"}),M&&o.jsxs("p",{className:"text-text-tertiary mt-1 text-xs sm:text-sm",children:[o.jsx(vn,{className:"inline-block h-3 w-3 sm:h-4 sm:w-4 mr-1"}),M.nombre]})]})}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-6 mb-4 sm:mb-8",children:[o.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-bg-secondary p-3 sm:p-6 rounded-lg shadow-md border border-border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-text-tertiary text-xs sm:text-sm",children:"Total Productos"}),o.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-accessibility-text",children:R.totalProductos})]}),o.jsx("div",{className:"p-2 sm:p-3 bg-interactive-component rounded-lg",children:o.jsx(Et,{className:"h-4 w-4 sm:h-6 sm:w-6 text-solid-color"})})]})}),o.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-bg-secondary p-3 sm:p-6 rounded-lg shadow-md border border-border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-text-tertiary text-xs sm:text-sm",children:"Stock Bajo"}),o.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-warning",children:R.stockBajo})]}),o.jsx("div",{className:"p-2 sm:p-3 bg-warning/10 rounded-lg",children:o.jsx(x_,{className:"h-4 w-4 sm:h-6 sm:w-6 text-warning"})})]})}),o.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-bg-secondary p-3 sm:p-6 rounded-lg shadow-md border border-border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-text-tertiary text-xs sm:text-sm",children:"Entradas Hoy"}),o.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-success",children:R.entradasHoy})]}),o.jsx("div",{className:"p-2 sm:p-3 bg-success/10 rounded-lg",children:o.jsx(Ag,{className:"h-4 w-4 sm:h-6 sm:w-6 text-success"})})]})}),o.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-bg-secondary p-3 sm:p-6 rounded-lg shadow-md border border-border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-text-tertiary text-xs sm:text-sm",children:"Salidas Hoy"}),o.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-error",children:R.salidasHoy})]}),o.jsx("div",{className:"p-2 sm:p-3 bg-error/10 rounded-lg",children:o.jsx(Dg,{className:"h-4 w-4 sm:h-6 sm:w-6 text-error"})})]})}),o.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-bg-secondary p-3 sm:p-6 rounded-lg shadow-md border border-border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-text-tertiary text-xs sm:text-sm",children:"Transferencias Hoy"}),o.jsx("h3",{className:"text-lg sm:text-2xl font-bold text-info",children:R.transferenciasHoy})]}),o.jsx("div",{className:"p-2 sm:p-3 bg-info/10 rounded-lg",children:o.jsx(Gi,{className:"h-4 w-4 sm:h-6 sm:w-6 text-info"})})]})})]}),o.jsxs("div",{className:"mb-4 sm:mb-8",children:[o.jsx("h2",{className:"text-base sm:text-xl font-semibold text-accessibility-text mb-2 sm:mb-4",children:"Productos con Stock Bajo"}),o.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-bg border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"SKU"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Stock Actual"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:_.map(L=>{var F,U;return o.jsxs("tr",{className:"hover:bg-bg/50",children:[o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-sm font-medium text-accessibility-text",children:L.nombre})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-sm text-text-tertiary",children:L.sku||"N/A"})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-xs sm:text-sm text-warning",children:[((U=(F=L.sedes)==null?void 0:F.find(X=>X.id===v))==null?void 0:U.stock)||0," unidades"]})})]},L.id)})})]})})})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-base sm:text-xl font-semibold text-accessibility-text mb-2 sm:mb-4",children:"Movimientos Recientes"}),o.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-bg border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:A.map(L=>{var F;return o.jsxs("tr",{className:"hover:bg-bg/50",children:[o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-sm text-text-tertiary",children:new Date(L.fecha).toLocaleDateString()})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsxs("div",{className:`inline-flex items-center px-1.5 py-0.5 sm:px-2.5 sm:py-0.5 rounded-full text-xs font-medium ${L.tipo==="entrada"?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:[L.tipo==="entrada"?o.jsx(Ag,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}):o.jsx(Dg,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),L.tipo]})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-sm font-medium text-accessibility-text",children:((F=L.producto)==null?void 0:F.nombre)||"N/A"})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-xs sm:text-sm text-text-tertiary",children:[L.cantidad," unidades"]})})]},L.id)})})]})})})]}),o.jsxs("div",{className:"mt-4 sm:mt-8",children:[o.jsx("h2",{className:"text-base sm:text-xl font-semibold text-accessibility-text mb-2 sm:mb-4",children:"Transferencias Recientes"}),o.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-bg border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Origen"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Destino"}),o.jsx("th",{className:"px-2 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:k.length>0?k.map(L=>{var F,U,X;return o.jsxs("tr",{className:"hover:bg-bg/50",children:[o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-sm text-text-tertiary",children:new Date(L.fecha).toLocaleDateString()})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsxs("div",{className:`inline-flex items-center px-1.5 py-0.5 sm:px-2.5 sm:py-0.5 rounded-full text-xs font-medium ${L.sede_destino_id===v?"bg-success/10 text-success":"bg-warning/10 text-warning"}`,children:[o.jsx(Gi,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),L.sede_destino_id===v?"Entrante":"Saliente"]})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-sm font-medium text-accessibility-text",children:((F=L.producto)==null?void 0:F.nombre)||"N/A"})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-xs sm:text-sm text-text-tertiary",children:[L.cantidad," unidades"]})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-sm text-text-tertiary",children:((U=c.find(Z=>Z.id===L.sede_origen_id))==null?void 0:U.nombre)||"N/A"})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-sm text-text-tertiary",children:((X=c.find(Z=>Z.id===L.sede_destino_id))==null?void 0:X.nombre)||"N/A"})}),o.jsx("td",{className:"px-2 py-2 sm:px-6 sm:py-4 whitespace-nowrap",children:o.jsx("div",{className:`inline-flex items-center px-1.5 py-0.5 sm:px-2.5 sm:py-0.5 rounded-full text-xs font-medium ${L.estado==="recibido"?"bg-success/10 text-success":L.estado==="enviado"?"bg-warning/10 text-warning":"bg-info/10 text-info"}`,children:L.estado})})]},L.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"px-2 py-3 sm:px-6 sm:py-4 text-center text-text-tertiary text-xs sm:text-sm",children:"No hay transferencias recientes"})})})]})})})]})]})},Nh="http://127.0.0.1:8000/api",Sh={fetchCategories:async()=>{var t,e;try{return(await ge.get(`${Nh}/categorias`)).data.data}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar las categoras")}},createCategory:async t=>{var e,s;try{return(await ge.post(`${Nh}/categorias`,t)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear la categora")}},updateCategory:async(t,e)=>{var s,n;try{return(await ge.put(`${Nh}/categorias/${t}`,e)).data.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al actualizar la categora")}},deleteCategory:async t=>{var e,s;try{return await ge.delete(`${Nh}/categorias/${t}`),!0}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al eliminar la categora")}}},Xy=Ps(t=>({categories:[],isLoading:!1,error:null,fetchCategories:async()=>{t({isLoading:!0,error:null});try{const e=await Sh.fetchCategories();t({categories:e,isLoading:!1})}catch(e){t({error:e.message,isLoading:!1})}},createCategory:async e=>{t({isLoading:!0,error:null});try{const s=await Sh.createCategory(e);return t(n=>({categories:[...n.categories,s],isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},updateCategory:async(e,s)=>{t({isLoading:!0,error:null});try{const n=await Sh.updateCategory(e,s);return t(a=>({categories:a.categories.map(l=>l.id===e?n:l),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},deleteCategory:async e=>{t({isLoading:!0,error:null});try{return await Sh.deleteCategory(e),t(s=>({categories:s.categories.filter(n=>n.id!==e),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}}})),_h="http://127.0.0.1:8000/api",Eh={fetchBrands:async()=>{var t,e;try{return(await ge.get(`${_h}/marcas`)).data.data}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar las marcas")}},createBrand:async t=>{var e,s;try{return(await ge.post(`${_h}/marcas`,t)).data.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear la marca")}},updateBrand:async(t,e)=>{var s,n;try{return(await ge.put(`${_h}/marcas/${t}`,e)).data.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al actualizar la marca")}},deleteBrand:async t=>{var e,s;try{return await ge.delete(`${_h}/marcas/${t}`),!0}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al eliminar la marca")}}},Wy=Ps(t=>({brands:[],isLoading:!1,error:null,fetchBrands:async()=>{t({isLoading:!0,error:null});try{const e=await Eh.fetchBrands();t({brands:e,isLoading:!1})}catch(e){t({error:e.message,isLoading:!1})}},createBrand:async e=>{t({isLoading:!0,error:null});try{const s=await Eh.createBrand(e);return t(n=>({brands:[...n.brands,s],isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}},updateBrand:async(e,s)=>{t({isLoading:!0,error:null});try{const n=await Eh.updateBrand(e,s);return t(a=>({brands:a.brands.map(l=>l.id===e?n:l),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},deleteBrand:async e=>{t({isLoading:!0,error:null});try{return await Eh.deleteBrand(e),t(s=>({brands:s.brands.filter(n=>n.id!==e),isLoading:!1})),!0}catch(s){return t({error:s.message,isLoading:!1}),!1}}})),Qr=({isOpen:t,onClose:e,title:s,children:n,size:a="md",showCloseButton:l=!0,footer:c})=>{const u={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return o.jsx(hN,{children:t&&o.jsxs(D.Fragment,{children:[o.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 h-full w-full"}),o.jsxs(ye.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",duration:.5},className:`fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full ${u[a]} bg-bg rounded-xl shadow-lg border border-border z-50`,children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[o.jsx("h2",{className:"text-xl font-semibold text-accessibility-text",children:s}),l&&o.jsx("button",{onClick:e,className:"p-2 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:o.jsx(Fn,{className:"h-5 w-5 text-text-tertiary"})})]}),o.jsx("div",{className:"p-6",children:n}),c&&o.jsx("div",{className:"flex items-center justify-end gap-4 p-6 border-t border-border",children:c})]})]})})},s8=({product:t,onClose:e})=>{var F,U,X,Z;const{createProduct:s,updateProduct:n,products:a}=Zr(),{sedes:l,fetchSedes:c}=_n(),{categories:u,fetchCategories:h}=Xy(),{brands:m,fetchBrands:p}=Wy(),{user:x}=Ht(),b=((F=x==null?void 0:x.data)==null?void 0:F.sede_id)||((X=(U=x==null?void 0:x.data)==null?void 0:U.sede)==null?void 0:X.id),[v,j]=D.useState({nombre:"",descripcion:"",sku:"",tipo_producto:"ROB",categoria_id:"",marca_id:"",stock:0,stock_minimo:0,precio_compra:0,precio_venta:0,sede_id:b||""}),[S,N]=D.useState({}),[_,A]=D.useState(!1),k=[{id:"ROB",nombre:"Robot"},{id:"REP",nombre:"Repuesto"},{id:"ACC",nombre:"Accesorio"},{id:"OTR",nombre:"Otro"}];D.useEffect(()=>{c(),h(),p()},[c,h,p]),D.useEffect(()=>{b&&j(ae=>({...ae,sede_id:b}))},[b]),D.useEffect(()=>{!t&&v.tipo_producto&&R(v.tipo_producto)},[v.tipo_producto,t,a]),D.useEffect(()=>{t&&j({nombre:t.nombre||"",descripcion:t.descripcion||"",sku:t.sku||"",tipo_producto:t.tipo_producto||"ROB",categoria_id:t.categoria_id||"",marca_id:t.marca_id||"",stock:t.stock||0,stock_minimo:t.stock_minimo||0,precio_compra:t.precio_compra||0,precio_venta:t.precio_venta||0,sede_id:b||t.sede_id||""})},[t,b]);const R=ae=>{const ne=a.filter(W=>(W.sku?W.sku.split("-")[0]:"")===ae);let le=0;ne.forEach(W=>{if(W.sku){const B=W.sku.split("-");if(B.length===2){const G=parseInt(B[1],10);!isNaN(G)&&G>le&&(le=G)}}});const P=le+1,I=String(P).padStart(3,"0"),$=`${ae}-${I}`;j(W=>({...W,sku:$}))},M=ae=>{const{name:ne,value:le}=ae.target;j(ne==="tipo_producto"?P=>({...P,[ne]:le}):P=>({...P,[ne]:ne.includes("precio")||ne.includes("stock")?Number(le):le})),S[ne]&&N(P=>({...P,[ne]:null}))},z=()=>{const ae={};return v.nombre||(ae.nombre="El nombre es requerido"),v.categoria_id||(ae.categoria_id="La categora es requerida"),v.marca_id||(ae.marca_id="La marca es requerida"),v.sede_id||(ae.sede_id="La sede es requerida"),v.sku||(ae.sku="El SKU es requerido"),v.stock<0&&(ae.stock="El stock no puede ser negativo"),v.stock_minimo<0&&(ae.stock_minimo="El stock mnimo no puede ser negativo"),v.precio_compra<0&&(ae.precio_compra="El precio de compra no puede ser negativo"),v.precio_venta<0&&(ae.precio_venta="El precio de venta no puede ser negativo"),v.precio_venta<v.precio_compra&&(ae.precio_venta="El precio de venta debe ser mayor al precio de compra"),N(ae),Object.keys(ae).length===0},H=async ae=>{var ne,le;if(ae.preventDefault(),!!z()){A(!0);try{t?await n(t.id,v):await s(v),e()}catch(P){console.error("Error saving product:",P),N({submit:((le=(ne=P.response)==null?void 0:ne.data)==null?void 0:le.message)||"Error al guardar el producto"})}finally{A(!1)}}},L=b?((Z=l.find(ae=>ae.id===parseInt(b)))==null?void 0:Z.nombre)||"Tu sede actual":"Sede no determinada";return o.jsxs("form",{onSubmit:H,className:"space-y-4",children:[S.submit&&o.jsx("div",{className:"bg-error/10 text-error p-3 rounded-lg text-sm",children:S.submit}),o.jsx("div",{className:"bg-bg-secondary p-3 rounded-lg mb-4",children:o.jsxs("p",{className:"text-sm text-text-secondary",children:["Este producto se crear en: ",o.jsx("strong",{children:L})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Nombre"}),o.jsx("input",{type:"text",name:"nombre",value:v.nombre,onChange:M,className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.nombre?"border-error":"border-border"}`}),S.nombre&&o.jsx("p",{className:"mt-1 text-sm text-error",children:S.nombre})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Tipo de Producto"}),o.jsx("select",{name:"tipo_producto",value:v.tipo_producto,onChange:M,disabled:!!t,className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.tipo_producto?"border-error":"border-border"} ${t?"opacity-60 cursor-not-allowed":""}`,children:k.map(ae=>o.jsxs("option",{value:ae.id,children:[ae.nombre," (",ae.id,")"]},ae.id))}),t&&o.jsx("p",{className:"mt-1 text-xs text-text-tertiary",children:"El tipo de producto no se puede cambiar una vez creado."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"SKU"}),o.jsx("input",{type:"text",name:"sku",value:v.sku,readOnly:!0,className:`w-full px-3 py-2 bg-bg-secondary border rounded-lg focus:outline-none ${S.sku?"border-error":"border-border"} cursor-not-allowed`}),o.jsx("p",{className:"mt-1 text-xs text-text-tertiary",children:"El SKU se genera automticamente basado en el tipo de producto."}),S.sku&&o.jsx("p",{className:"mt-1 text-sm text-error",children:S.sku})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Descripcin"}),o.jsx("input",{type:"text",name:"descripcion",value:v.descripcion,onChange:M,className:"w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Categora"}),o.jsxs("select",{name:"categoria_id",value:v.categoria_id,onChange:M,className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.categoria_id?"border-error":"border-border"}`,children:[o.jsx("option",{value:"",children:"Seleccionar categora"}),u.map(ae=>o.jsx("option",{value:ae.id,children:ae.nombre},ae.id))]}),S.categoria_id&&o.jsx("p",{className:"mt-1 text-sm text-error",children:S.categoria_id})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Marca"}),o.jsxs("select",{name:"marca_id",value:v.marca_id,onChange:M,className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.marca_id?"border-error":"border-border"}`,children:[o.jsx("option",{value:"",children:"Seleccionar marca"}),m.map(ae=>o.jsx("option",{value:ae.id,children:ae.nombre},ae.id))]}),S.marca_id&&o.jsx("p",{className:"mt-1 text-sm text-error",children:S.marca_id})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Stock Actual"}),o.jsx("input",{type:"number",name:"stock",value:v.stock,onChange:M,min:"0",className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.stock?"border-error":"border-border"}`}),S.stock&&o.jsx("p",{className:"mt-1 text-sm text-error",children:S.stock})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Stock Mnimo"}),o.jsx("input",{type:"number",name:"stock_minimo",value:v.stock_minimo,onChange:M,min:"0",className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.stock_minimo?"border-error":"border-border"}`}),S.stock_minimo&&o.jsx("p",{className:"mt-1 text-sm text-error",children:S.stock_minimo})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Precio de Compra ()"}),o.jsx("input",{type:"number",name:"precio_compra",value:v.precio_compra,onChange:M,min:"0",step:"0.01",className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.precio_compra?"border-error":"border-border"}`}),S.precio_compra&&o.jsx("p",{className:"mt-1 text-sm text-error",children:S.precio_compra})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-1",children:"Precio de Venta ()"}),o.jsx("input",{type:"number",name:"precio_venta",value:v.precio_venta,onChange:M,min:"0",step:"0.01",className:`w-full px-3 py-2 bg-bg border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color ${S.precio_venta?"border-error":"border-border"}`}),S.precio_venta&&o.jsx("p",{className:"mt-1 text-sm text-error",children:S.precio_venta})]}),o.jsx("input",{type:"hidden",name:"sede_id",value:v.sede_id})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:_,className:"px-4 py-2 text-sm font-medium text-white bg-solid-color hover:bg-solid-color-hover rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Guardando...":t?"Actualizar":"Crear"})]})]})},n8=()=>{var ms,Ks;const{products:t,isLoading:e,error:s,loadProducts:n,loadMovements:a,deleteProduct:l}=Zr(),{categories:c,fetchCategories:u}=Xy(),{brands:h,fetchBrands:m}=Wy(),{user:p}=Ht(),x=(Ks=(ms=p==null?void 0:p.data)==null?void 0:ms.sede)==null?void 0:Ks.id,[b,v]=D.useState(""),[j,S]=D.useState(""),[N,_]=D.useState(""),[A,k]=D.useState(!1),[R,M]=D.useState(!1),[z,H]=D.useState(null),[L,F]=D.useState(!1),[U,X]=D.useState(null),[Z,ae]=D.useState(!1),[ne,le]=D.useState(!1);D.useEffect(()=>{x&&(n(x),a(x)),u(),m()},[x,n,a,u,m]);const P=t.filter(me=>{var xt,ss,ws,lt;const Qe=((xt=me.nombre)==null?void 0:xt.toLowerCase().includes(b.toLowerCase()))||((ss=me.descripcion)==null?void 0:ss.toLowerCase().includes(b.toLowerCase()))||((ws=me.sku)==null?void 0:ws.toLowerCase().includes(b.toLowerCase())),jt=!j||Number(me.categoria_id)===Number(j),Xe=(lt=me.sedes)==null?void 0:lt.some(Gt=>Gt.id===Number(x)),We=!N||Number(me.marca_id)===Number(N);return Qe&&jt&&Xe&&We}),I=me=>{var jt,Xe;const Qe=(Xe=(jt=me.sedes)==null?void 0:jt.find(We=>We.id===Number(x)))==null?void 0:Xe.pivot;return Qe?Qe.stock:0},$=(me,Qe="venta")=>{var Xe,We;const jt=(We=(Xe=me.sedes)==null?void 0:Xe.find(xt=>xt.id===Number(x)))==null?void 0:We.pivot;return jt?jt[`precio_${Qe}`]:0},W=me=>{const Qe=I(me),jt=Number(me.stock_minimo);return Qe===0?"sin_stock":Qe<=jt?"stock_bajo":"en_stock"},B=me=>{if(!me)return"N/A";const Qe=new Date(me);return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(Qe)},G=me=>me==null?"0,00":new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(me),te=[{title:"Productos Totales",value:t.length.toString(),icon:o.jsx(Et,{className:"h-5 w-5 sm:h-6 sm:w-6 text-solid-color"}),change:"+12%",trend:"up"},{title:"En Stock",value:t.filter(me=>W(me)==="en_stock").length.toString(),icon:o.jsx(Xa,{className:"h-5 w-5 sm:h-6 sm:w-6 text-success"}),change:"+8%",trend:"up"},{title:"Stock Bajo",value:t.filter(me=>W(me)==="stock_bajo").length.toString(),icon:o.jsx(ts,{className:"h-5 w-5 sm:h-6 sm:w-6 text-warning"}),change:"-5%",trend:"down"},{title:"Sin Stock",value:t.filter(me=>W(me)==="sin_stock").length.toString(),icon:o.jsx(Wi,{className:"h-5 w-5 sm:h-6 sm:w-6 text-error"}),change:"+2%",trend:"up"}],ie=me=>{switch(me){case"en_stock":return o.jsx(Xa,{className:"h-4 w-4 text-success"});case"stock_bajo":return o.jsx(ts,{className:"h-4 w-4 text-warning"});case"sin_stock":return o.jsx(Wi,{className:"h-4 w-4 text-error"});default:return null}},fe=me=>{switch(me){case"en_stock":return"En Stock";case"stock_bajo":return"Stock Bajo";case"sin_stock":return"Sin Stock";default:return"Desconocido"}},je=me=>{switch(me){case"en_stock":return"bg-success/10 text-success";case"stock_bajo":return"bg-warning/10 text-warning";case"sin_stock":return"bg-error/10 text-error";default:return"bg-text-tertiary/10 text-text-tertiary"}},xe=()=>{H(null),M(!0)},st=me=>{H(me),M(!0)},Ve=me=>{X(me),F(!0)},ot=async()=>{U&&(ae(!0),await l(U.id)&&(F(!1),X(null),ae(!1)))},fs=()=>{const me=P.map(We=>{var xt,ss,ws,lt;return{Nombre:We.nombre,Descripcin:We.descripcion,Categora:((xt=We.categoria)==null?void 0:xt.nombre)||"Sin categora",Marca:((ss=We.marca)==null?void 0:ss.nombre)||"Sin marca",Sede:((lt=(ws=We.sedes)==null?void 0:ws.find(Gt=>Gt.id===Number(x)))==null?void 0:lt.nombre)||"Sin sede",Stock:We.stock,"Stock Mnimo":We.stock_minimo,"Precio de Compra":We.precio_compra,"Precio de Venta":We.precio_venta,Estado:fe(W(We))}}),Qe=[Object.keys(me[0]).join(","),...me.map(We=>Object.values(We).join(","))].join(`
`),jt=new Blob([Qe],{type:"text/csv;charset=utf-8;"}),Xe=document.createElement("a");Xe.href=URL.createObjectURL(jt),Xe.download=`inventario_${new Date().toISOString().split("T")[0]}.csv`,Xe.click()},vs=()=>{console.log("Filtros aplicados:",{searchTerm:b,selectedCategory:j,sedeId:x,selectedBrand:N})};return o.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx(Et,{className:"h-6 w-6 sm:h-8 sm:w-8 text-solid-color"}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Inventario"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs("button",{onClick:xe,className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200 text-sm sm:text-base",children:[o.jsx(Ga,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{children:"Nuevo Producto"})]}),o.jsxs("button",{className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200 text-sm sm:text-base",children:[o.jsx(wd,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Reportes"})]})]})]}),s&&o.jsx("div",{className:"bg-error/10 text-error p-3 sm:p-4 rounded-lg text-sm",children:s}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:te.map((me,Qe)=>o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Qe*.1},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:me.icon}),o.jsx("span",{className:`text-xs sm:text-sm font-medium ${me.trend==="up"?"text-success":"text-error"}`,children:me.change})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:me.title}),o.jsx("p",{className:"mt-1 text-base sm:text-xl md:text-2xl font-semibold text-accessibility-text",children:me.value})]},Qe))}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(xr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:"Buscar productos...",value:b,onChange:me=>v(me.target.value),className:"w-full pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"hidden sm:flex sm:items-center sm:gap-3",children:[o.jsxs("select",{value:j,onChange:me=>S(me.target.value),className:"text-sm px-3 sm:px-4 py-1.5 sm:py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[o.jsx("option",{value:"",children:"Categoras"}),c.map(me=>o.jsx("option",{value:me.id,children:me.nombre},me.id))]}),o.jsxs("select",{value:N,onChange:me=>_(me.target.value),className:"text-sm px-3 sm:px-4 py-1.5 sm:py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[o.jsx("option",{value:"",children:"Marcas"}),h.map(me=>o.jsx("option",{value:me.id,children:me.nombre},me.id))]}),o.jsxs("button",{onClick:vs,className:"px-3 sm:px-4 py-1.5 sm:py-2 text-sm bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200",children:[o.jsx(fr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{children:"Filtrar"})]}),o.jsxs("button",{onClick:fs,className:"px-3 sm:px-4 py-1.5 sm:py-2 text-sm bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200",children:[o.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{children:"Exportar"})]})]}),o.jsxs("div",{className:"flex sm:hidden gap-2",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>le(!ne),className:"px-3 py-1.5 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-1 transition-colors duration-200 text-sm",children:[o.jsx(fr,{className:"h-4 w-4"}),o.jsx("span",{children:"Filtros"})]}),ne&&o.jsx("div",{className:"absolute right-0 top-full mt-1 bg-bg border border-border rounded-lg shadow-lg z-50 w-64",children:o.jsxs("div",{className:"p-3 space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary mb-1",children:"Categora"}),o.jsxs("select",{value:j,onChange:me=>S(me.target.value),className:"w-full text-sm px-2 py-1.5 bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color focus:border-transparent",children:[o.jsx("option",{value:"",children:"Todas las categoras"}),c.map(me=>o.jsx("option",{value:me.id,children:me.nombre},me.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary mb-1",children:"Marca"}),o.jsxs("select",{value:N,onChange:me=>_(me.target.value),className:"w-full text-sm px-2 py-1.5 bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color focus:border-transparent",children:[o.jsx("option",{value:"",children:"Todas las marcas"}),h.map(me=>o.jsx("option",{value:me.id,children:me.nombre},me.id))]})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx("button",{onClick:()=>{vs(),le(!1)},className:"flex-1 px-3 py-1.5 text-xs bg-solid-color hover:bg-solid-color-hover text-white rounded-lg transition-colors duration-200",children:"Aplicar"}),o.jsx("button",{onClick:()=>{S(""),_(""),le(!1)},className:"px-3 py-1.5 text-xs text-text-tertiary hover:text-text-primary rounded-lg transition-colors duration-200",children:"Limpiar"})]})]})})]}),o.jsx("button",{onClick:vs,className:"p-1.5 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",children:o.jsx(fr,{className:"h-4 w-4"})}),o.jsx("button",{onClick:fs,className:"p-1.5 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",children:o.jsx(wn,{className:"h-4 w-4"})})]})]}),o.jsx("div",{className:"hidden md:block bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-interactive-component",children:[o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"SKU"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Categora"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Stock"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Precio"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"ltima Actualizacin"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-right text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:e?o.jsx(ft,{variant:"table",colSpan:8,text:"Cargando productos..."}):P.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"8",className:"px-4 sm:px-8 py-3 sm:py-4 text-center text-text-tertiary",children:"No se encontraron productos"})}):P.map(me=>{var xt,ss;const Qe=W(me),jt=I(me),Xe=$(me,"venta"),We=$(me,"compra");return o.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(y2,{className:"h-4 w-4 sm:h-5 sm:w-5 text-solid-color"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm sm:text-base font-medium text-accessibility-text",children:me.nombre}),o.jsx("div",{className:"text-xs sm:text-sm text-text-tertiary",children:me.descripcion})]})]})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsx("span",{className:"text-sm sm:text-base text-text-tertiary",children:me.sku||"N/A"})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(yf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("span",{className:"text-sm sm:text-base text-text-tertiary",children:((xt=me.categoria)==null?void 0:xt.nombre)||me.categoria||"Sin categora"})]})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(Et,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm sm:text-base text-text-tertiary",children:jt.toLocaleString()}),o.jsxs("span",{className:"text-xs sm:text-sm text-text-tertiary",children:["Mn: ",((ss=me.stock_minimo)==null?void 0:ss.toLocaleString())||"0"]})]})]})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(Sn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-sm sm:text-base text-text-tertiary",children:G(Xe)}),We&&o.jsxs("span",{className:"text-xs sm:text-sm text-text-tertiary",children:["Compra: ",G(We)]})]})]})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[ie(Qe),o.jsx("span",{className:`text-sm sm:text-base font-medium ${je(Qe)} px-2 py-1 sm:px-3 sm:py-1.5 rounded-full`,children:fe(Qe)})]})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("span",{className:"text-xs sm:text-sm text-text-tertiary",children:["Actualizado: ",B(me.updated_at)]}),o.jsxs("span",{className:"text-xs sm:text-sm text-text-tertiary",children:["Creado: ",B(me.created_at)]})]})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap text-right",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2 sm:space-x-3",children:[o.jsx("button",{onClick:()=>st(me),className:"p-1.5 sm:p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Editar producto",children:o.jsx(Nd,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),o.jsx("button",{onClick:()=>Ve(me),className:"p-1.5 sm:p-2 text-error hover:text-error-hover rounded-lg transition-colors duration-200",title:"Eliminar producto",children:o.jsx(Wr,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})})]},me.id)})})]})})}),o.jsx("div",{className:"md:hidden space-y-3",children:e?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(ft,{text:"Cargando productos..."})}):P.length===0?o.jsx("div",{className:"text-center py-8 text-text-tertiary text-sm",children:"No se encontraron productos"}):P.map(me=>{var We;const Qe=W(me),jt=I(me),Xe=$(me,"venta");return o.jsxs("div",{className:"bg-bg rounded-lg border border-border p-3 hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-1.5 bg-interactive-component rounded-lg",children:o.jsx(y2,{className:"h-4 w-4 text-solid-color"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:me.nombre}),o.jsx("div",{className:"text-xs text-text-tertiary",children:me.sku||"Sin SKU"})]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:()=>st(me),className:"p-1.5 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Editar producto",children:o.jsx(Nd,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>Ve(me),className:"p-1.5 text-error hover:text-error-hover rounded-lg transition-colors duration-200",title:"Eliminar producto",children:o.jsx(Wr,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(yf,{className:"h-3 w-3 text-text-tertiary"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-text-tertiary",children:"Categora:"}),o.jsx("div",{className:"text-xs font-medium text-accessibility-text",children:((We=me.categoria)==null?void 0:We.nombre)||"Sin categora"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Sn,{className:"h-3 w-3 text-text-tertiary"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-text-tertiary",children:"Precio:"}),o.jsx("div",{className:"text-xs font-medium text-accessibility-text",children:G(Xe)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Et,{className:"h-3 w-3 text-text-tertiary"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-text-tertiary",children:"Stock:"}),o.jsxs("div",{className:"text-xs font-medium text-accessibility-text",children:[jt.toLocaleString()," (Mn: ",me.stock_minimo||0,")"]})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs text-text-tertiary mb-1",children:"Estado:"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[ie(Qe),o.jsx("span",{className:`text-xs font-medium ${je(Qe)} px-2 py-0.5 rounded-full`,children:fe(Qe)})]})]})]}),o.jsxs("div",{className:"border-t border-border pt-2 flex justify-between items-center",children:[o.jsxs("span",{className:"text-xs text-text-tertiary",children:["Actualizado: ",B(me.updated_at)]}),o.jsxs("button",{onClick:()=>k(!A),className:"p-1 text-info hover:text-info-hover rounded-lg transition-colors duration-200 flex items-center space-x-1",title:"Ver movimientos",children:[o.jsx(mr,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Movimientos"})]})]})]},me.id)})}),o.jsx(Qr,{isOpen:R,onClose:()=>M(!1),title:z?"Editar Producto":"Nuevo Producto",size:"lg",children:o.jsx(s8,{product:z,onClose:()=>M(!1)})}),o.jsx(Qr,{isOpen:L,onClose:()=>F(!1),title:"Confirmar Eliminacin",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-text-secondary",children:["Ests seguro de que deseas eliminar el producto ",U==null?void 0:U.nombre,"? Esta accin no se puede deshacer."]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:ot,className:"px-4 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-lg transition-colors",children:Z?o.jsx(ft,{variant:"button",text:"Eliminando..."}):"Eliminar"})]})]})})]})},r8=({onClose:t})=>{var M,z;const{createVenta:e}=$d(),{products:s,loadProducts:n,isLoading:a,error:l}=Zr(),{user:c}=Ht(),u=(z=(M=c==null?void 0:c.data)==null?void 0:M.sede)==null?void 0:z.id,[h,m]=D.useState([]),[p,x]=D.useState(!1),[b,v]=D.useState(null);D.useEffect(()=>{(async()=>{try{console.log("Iniciando carga de productos..."),await n(),console.log("Productos cargados:",s)}catch(L){console.error("Error al cargar productos:",L),v("Error al cargar los productos. Por favor, intente nuevamente.")}})()},[]);const j=()=>{m([...h,{producto_id:"",cantidad:1,precio_unitario:0}])},S=H=>{m(h.filter((L,F)=>F!==H))},N=H=>{var U;const L=s.find(X=>X.id===H);if(!L||!u)return 0;const F=(U=L.sedes)==null?void 0:U.find(X=>X.id===Number(u));return F?F.pivot.precio_venta:0},_=(H,L,F)=>{const U=[...h];L==="producto_id"?U[H]={...U[H],producto_id:parseInt(F),precio_unitario:N(parseInt(F))}:U[H]={...U[H],[L]:L==="cantidad"?parseInt(F)||0:F},m(U)},A=H=>{var U;const L=s.find(X=>X.id===H);if(!L||!u)return 0;const F=(U=L.sedes)==null?void 0:U.find(X=>X.id===Number(u));return console.log(F),F?F.pivot.stock:0},k=()=>h.reduce((H,L)=>H+L.cantidad*L.precio_unitario,0),R=async()=>{var H,L,F,U;try{if(x(!0),v(null),h.length===0)throw new Error("Debe seleccionar al menos un producto");for(const ae of h){if(!ae.producto_id)throw new Error("Todos los productos deben estar seleccionados");if(!ae.cantidad||ae.cantidad<=0)throw new Error("La cantidad debe ser mayor a 0");const ne=A(ae.producto_id);if(console.log(ne),ne<ae.cantidad){const le=s.find(P=>P.id===ae.producto_id);throw new Error(`Stock insuficiente para ${(le==null?void 0:le.nombre)||"el producto"}. Stock disponible: ${ne}`)}}const X={productos:h.map(ae=>({producto_id:parseInt(ae.producto_id),cantidad:parseInt(ae.cantidad)})),sede_id:u,fecha:new Date().toLocaleString("sv",{timeZone:"America/Mexico_City"}).replace(" ","T")};console.log("Enviando datos de venta:",X);const Z=await e(X);console.log("Respuesta del servidor:",Z),Z&&(console.log("Venta creada exitosamente"),t(),m([]))}catch(X){console.error("Error al crear venta:",X);const Z=((L=(H=X.response)==null?void 0:H.data)==null?void 0:L.message)||((U=(F=X.response)==null?void 0:F.data)==null?void 0:U.error)||X.message||"Error al registrar la venta";v(Z)}finally{x(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-bg rounded-lg w-full max-w-3xl max-h-[90vh] flex flex-col border border-border",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-border",children:[o.jsx("h2",{className:"text-xl font-semibold text-accessibility-text",children:"Nueva Venta"}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-interactive-component rounded-full transition-colors",children:o.jsx(Fn,{className:"h-5 w-5 text-text-tertiary"})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[l&&o.jsx("div",{className:"bg-error/10 border border-error text-error px-4 py-3 rounded mb-4",children:l}),b&&o.jsx("div",{className:"bg-error/10 border border-error text-error px-4 py-3 rounded mb-4",children:b}),a?o.jsx("div",{className:"flex justify-center items-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-solid-color border-t-transparent"})}):o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-3",children:h.map((H,L)=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-bg-secondary rounded-lg border border-border",children:[o.jsxs("select",{className:"flex-1 px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",value:H.producto_id,onChange:F=>_(L,"producto_id",F.target.value),children:[o.jsx("option",{value:"",children:"Seleccionar producto"}),Array.isArray(s)&&s.map(F=>o.jsxs("option",{value:F.id,disabled:A(F.id)<=0,children:[F.nombre," - Stock: ",A(F.id)]},F.id))]}),o.jsxs("div",{className:"flex items-center gap-2 bg-bg rounded-lg border border-border",children:[o.jsx("button",{type:"button",className:"p-2 hover:bg-interactive-component disabled:opacity-50 disabled:cursor-not-allowed rounded-l-lg",onClick:()=>_(L,"cantidad",H.cantidad-1),disabled:H.cantidad<=1,children:o.jsx(m_,{className:"h-4 w-4 text-text-tertiary"})}),o.jsx("input",{type:"number",min:"1",value:H.cantidad,onChange:F=>_(L,"cantidad",F.target.value),className:"w-16 px-2 py-1 text-center border-x border-border focus:outline-none bg-bg"}),o.jsx("button",{type:"button",className:"p-2 hover:bg-interactive-component disabled:opacity-50 disabled:cursor-not-allowed rounded-r-lg",onClick:()=>_(L,"cantidad",H.cantidad+1),disabled:H.cantidad>=A(H.producto_id),children:o.jsx(Ga,{className:"h-4 w-4 text-text-tertiary"})})]}),o.jsx("div",{className:"w-32 text-right font-medium text-accessibility-text",children:bt(H.cantidad*H.precio_unitario)}),o.jsx("button",{type:"button",className:"p-2 text-text-tertiary hover:text-error hover:bg-error/10 rounded-lg transition-colors",onClick:()=>S(L),children:o.jsx(Fn,{className:"h-4 w-4"})})]},L))}),o.jsxs("button",{type:"button",className:"w-full p-3 border-2 border-dashed border-border rounded-lg flex items-center justify-center gap-2 text-text-tertiary hover:border-solid-color hover:text-solid-color hover:bg-interactive-component transition-colors",onClick:j,children:[o.jsx(Ga,{className:"h-5 w-5"}),"Agregar Producto"]})]})]}),o.jsxs("div",{className:"border-t border-border p-4 bg-bg-secondary",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("span",{className:"text-lg font-medium text-accessibility-text",children:"Total:"}),o.jsx("span",{className:"text-2xl font-bold text-solid-color",children:bt(k())})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{type:"button",className:"px-4 py-2 border border-border rounded-lg bg-bg hover:bg-interactive-component text-accessibility-text disabled:opacity-50 disabled:cursor-not-allowed transition-colors",onClick:t,disabled:p,children:"Cancelar"}),o.jsx("button",{type:"button",className:"px-4 py-2 border border-transparent rounded-lg bg-solid-color hover:bg-solid-color-hover text-white disabled:opacity-50 disabled:cursor-not-allowed transition-colors",onClick:R,disabled:p||h.length===0,children:p?"Registrando...":"Registrar Venta"})]})]})]})})},a8=({venta:t,isOpen:e,onClose:s})=>{var m;const[n,a]=D.useState(!1),[l,c]=D.useState(null);if(D.useEffect(()=>{if(e&&t){a(!0),c(null);const p=setTimeout(()=>{a(!1)},300);return()=>clearTimeout(p)}},[e,t]),!t||!e)return null;const u=p=>{try{if(!p)return"Fecha no disponible";const x=new Date(p);return isNaN(x.getTime())?"Fecha invlida":pt(x,"dd/MM/yyyy HH:mm",{locale:bs})}catch(x){return console.error("Error formatting date:",x),"Error al formatear fecha"}},h=Array.isArray(t.detalles)?t.detalles.map(p=>({...p,cantidad:Number(p.cantidad)||0,precio_unitario:Number(p.precio_unitario)||0,producto:p.producto||{nombre:"Producto no disponible"}})):[];return o.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:o.jsxs(ye.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-bg rounded-lg p-6 w-full max-w-[600px] max-h-[90vh] overflow-y-auto border border-border",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-xl font-semibold text-accessibility-text",children:["Detalles de la Venta #",t.id]}),o.jsx("button",{onClick:s,className:"p-2 hover:bg-interactive-component rounded-lg transition-colors",children:o.jsx(Fn,{className:"h-5 w-5 text-text-tertiary"})})]}),n?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx(Xt,{className:"h-8 w-8 animate-spin text-solid-color mb-2"}),o.jsx("p",{className:"text-text-tertiary",children:"Cargando detalles..."})]}):l?o.jsx("div",{className:"bg-error/10 border border-error text-error p-4 rounded",children:l}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-text-tertiary",children:"Fecha"}),o.jsx("p",{className:"font-medium text-accessibility-text",children:u(t.fecha)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-text-tertiary",children:"Vendedor"}),o.jsx("p",{className:"font-medium text-accessibility-text",children:((m=t.usuario)==null?void 0:m.nombre)||"No especificado"})]})]}),o.jsx("div",{className:"border border-border rounded-lg overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-border",children:[o.jsx("thead",{className:"bg-interactive-component",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-text-tertiary",children:"Producto"}),o.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-text-tertiary",children:"Cantidad"}),o.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-text-tertiary",children:"Precio Unit."}),o.jsx("th",{className:"px-4 py-2 text-right text-sm font-medium text-text-tertiary",children:"Subtotal"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:h.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"px-4 py-4 text-center text-text-tertiary",children:"No hay productos en esta venta"})}):h.map((p,x)=>{var b;return o.jsxs(ye.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:x*.05},className:"hover:bg-bg-secondary",children:[o.jsx("td",{className:"px-4 py-2 text-accessibility-text",children:((b=p.producto)==null?void 0:b.nombre)||"Producto no disponible"}),o.jsx("td",{className:"px-4 py-2 text-right text-accessibility-text",children:p.cantidad}),o.jsx("td",{className:"px-4 py-2 text-right text-accessibility-text",children:bt(p.precio_unitario)}),o.jsx("td",{className:"px-4 py-2 text-right text-accessibility-text font-medium",children:bt(p.cantidad*p.precio_unitario)})]},x)})})]})}),o.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border",children:[o.jsx("span",{className:"font-medium text-accessibility-text",children:"Total:"}),o.jsx("span",{className:"text-xl font-bold text-solid-color",children:bt(t.total)})]})]})]})})},i8=()=>{const{ventas:t,loading:e,error:s,resumen:n,productosMasVendidos:a,fetchVentas:l,fetchVentasByDateRange:c,fetchResumen:u,fetchVenta:h}=$d(),[m,p]=D.useState(""),[x,b]=D.useState(new Date(new Date().setDate(1))),[v,j]=D.useState(new Date),[S,N]=D.useState(!1),[_,A]=D.useState(null),[k,R]=D.useState(!1),[M,z]=D.useState(null),[H,L]=D.useState(!0),[F,U]=D.useState(!1),[X,Z]=D.useState(!1);D.useEffect(()=>{(async()=>{L(!0);try{await Promise.all([l(),u(x,v)]),z(null)}catch($){console.error("Error al cargar datos iniciales:",$),z($.message)}finally{L(!1)}})()},[]),D.useEffect(()=>{(async()=>{if(!H){U(!0);try{await Promise.all([c(x,v),u(x,v)]),z(null)}catch($){console.error("Error al actualizar datos:",$),z($.message)}finally{U(!1)}}})()},[x,v]);const ae=async(I,$)=>{try{if(!(I instanceof Date)||!($ instanceof Date))throw new Error("Las fechas proporcionadas no son vlidas");b(I),j($)}catch(W){console.error("Error al actualizar rango de fechas:",W),z(W.message)}},ne=e||F,le=t.filter(I=>{var W,B,G;const $=m.toLowerCase();return I.id.toString().includes($)||((B=(W=I.usuario)==null?void 0:W.nombre)==null?void 0:B.toLowerCase().includes($))||((G=I.detalles)==null?void 0:G.some(te=>{var ie,fe;return(fe=(ie=te.producto)==null?void 0:ie.nombre)==null?void 0:fe.toLowerCase().includes($)}))}),P=async I=>{try{if(I.detalles&&I.detalles.length>0){A(I),R(!0);return}const $=await h(I.id);A($),R(!0)}catch($){console.error("Error al cargar los detalles de la venta:",$)}};return H?o.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:o.jsxs(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col items-center gap-4",children:[o.jsx(ye.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:1,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},children:o.jsx(Xt,{className:"h-12 w-12 text-solid-color"})}),o.jsx(ye.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-text-tertiary text-lg",children:"Cargando ventas..."})]})}):s?o.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6 bg-error/10 border border-error text-error rounded-lg flex items-center gap-3",children:[o.jsx(ts,{className:"h-5 w-5"}),o.jsx("p",{children:s})]}):o.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-4 sm:space-y-6 p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx(mr,{className:"h-6 w-6 sm:h-8 sm:w-8 text-solid-color"}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Ventas"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs("button",{onClick:()=>N(!0),className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200 text-sm sm:text-base",children:[o.jsx(Ga,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{children:"Nueva Venta"})]}),o.jsxs("button",{className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200 text-sm sm:text-base",children:[o.jsx(wd,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Reportes"})]})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:ne?Array(4).fill(0).map((I,$)=>o.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:$*.1},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:o.jsx("div",{className:"flex items-center justify-center h-16 sm:h-24",children:o.jsx(Xt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-solid-color"})})},$)):M?o.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"col-span-full bg-error/10 border border-error text-error p-3 sm:p-4 rounded-lg flex items-center gap-3 text-sm",children:[o.jsx(ts,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),o.jsxs("p",{children:["Error al cargar el resumen: ",M]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(Sn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-success"})}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-success",children:(n==null?void 0:n.total_monto)>0?`+${(n.promedio_venta/n.total_monto*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Total Ventas"}),o.jsx("p",{className:"mt-1 text-base sm:text-xl md:text-2xl font-semibold text-accessibility-text",children:bt((n==null?void 0:n.total_monto)||0)})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(mr,{className:"h-4 w-4 sm:h-6 sm:w-6 text-warning"})}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-warning",children:(n==null?void 0:n.total_ventas)>0?`+${(n.total_ventas/100*10).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Ventas Realizadas"}),o.jsx("p",{className:"mt-1 text-base sm:text-xl md:text-2xl font-semibold text-accessibility-text",children:n!=null&&n.total_ventas?n.total_ventas.toLocaleString("es-ES"):0})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(qf,{className:"h-4 w-4 sm:h-6 sm:w-6 text-info"})}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-info",children:(n==null?void 0:n.promedio_venta)>0?`+${(n.promedio_venta/1e3*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Promedio por Venta"}),o.jsx("p",{className:"mt-1 text-base sm:text-xl md:text-2xl font-semibold text-accessibility-text",children:bt((n==null?void 0:n.promedio_venta)||0)})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(Et,{className:"h-4 w-4 sm:h-6 sm:w-6 text-solid-color"})}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-solid-color",children:(a==null?void 0:a.length)>0?`+${(a[0].total_vendido/100*15).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Productos Vendidos"}),o.jsx("p",{className:"mt-1 text-base sm:text-xl md:text-2xl font-semibold text-accessibility-text",children:((a==null?void 0:a.reduce((I,$)=>I+($.total_vendido||0),0))||0).toLocaleString("es-ES")})]})]})}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"flex flex-col sm:flex-row gap-3 sm:gap-4 bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(xr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:"Buscar ventas...",value:m,onChange:I=>p(I.target.value),className:"w-full pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[o.jsx(Hn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("input",{type:"date",value:pt(x,"yyyy-MM-dd"),onChange:I=>{const $=new Date(I.target.value);isNaN($.getTime())||ae($,v)},className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"}),o.jsx("span",{className:"text-text-tertiary text-sm",children:"hasta"}),o.jsx("input",{type:"date",value:pt(v,"yyyy-MM-dd"),onChange:I=>{const $=new Date(I.target.value);isNaN($.getTime())||ae(x,$)},className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"sm:hidden",children:[o.jsxs("button",{onClick:()=>Z(!X),className:"w-full px-3 py-1.5 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center justify-center space-x-2 transition-colors duration-200 text-sm",children:[o.jsx(Hn,{className:"h-4 w-4"}),o.jsx("span",{children:"Filtrar por fechas"})]}),X&&o.jsxs("div",{className:"mt-3 p-3 bg-bg-secondary border border-border rounded-lg space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary",children:"Fecha inicio"}),o.jsx("input",{type:"date",value:pt(x,"yyyy-MM-dd"),onChange:I=>{const $=new Date(I.target.value);isNaN($.getTime())||ae($,v)},className:"w-full px-3 py-1.5 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary",children:"Fecha fin"}),o.jsx("input",{type:"date",value:pt(v,"yyyy-MM-dd"),onChange:I=>{const $=new Date(I.target.value);isNaN($.getTime())||ae(x,$)},className:"w-full px-3 py-1.5 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color focus:border-transparent"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>Z(!1),className:"px-3 py-1.5 text-xs bg-solid-color hover:bg-solid-color-hover text-white rounded-lg transition-colors duration-200",children:"Aplicar"})})]})]})]}),o.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},className:"hidden sm:block bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-interactive-component",children:[o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"ID"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Vendedor"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Productos"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-right text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Total"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-center text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:ne?o.jsx(ft,{variant:"table",colSpan:6,text:F?"Actualizando datos...":"Cargando ventas..."}):le.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"px-4 sm:px-6 py-6 sm:py-8 text-center text-text-tertiary",children:"No se encontraron ventas"})}):le.map((I,$)=>{var W,B;return o.jsxs(ye.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:$*.05},className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsxs("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:["#",I.id]}),o.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:(()=>{const G=I.fecha||I.created_at;if(!G)return"N/A";const te=new Date(G);return isNaN(te)?"N/A":pt(te,"dd/MM/yyyy HH:mm",{locale:bs})})()}),o.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:((W=I.usuario)==null?void 0:W.nombre)||"No especificado"}),o.jsxs("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:[(((B=I.detalles)==null?void 0:B.length)||0).toLocaleString("es-ES")," productos"]}),o.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-right text-xs sm:text-sm text-accessibility-text font-medium",children:bt(I.total)}),o.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>P(I),className:"px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",children:"Ver detalles"})})]},I.id)})})]})})}),o.jsx("div",{className:"sm:hidden space-y-3",children:ne?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(ft,{text:F?"Actualizando datos...":"Cargando ventas..."})}):le.length===0?o.jsx("div",{className:"text-center py-8 text-text-tertiary text-sm",children:"No se encontraron ventas"}):le.map(I=>{var B,G;const $=I.fecha||I.created_at,W=$?pt(new Date($),"dd/MM/yyyy HH:mm",{locale:bs}):"N/A";return o.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-bg rounded-lg border border-border p-3 hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mr,{className:"h-4 w-4 text-solid-color"}),o.jsxs("span",{className:"text-sm font-medium text-accessibility-text",children:["Venta #",I.id]})]}),o.jsx("span",{className:"text-sm font-bold text-success",children:bt(I.total)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary",children:"Fecha:"}),o.jsx("div",{className:"font-medium",children:W})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary",children:"Vendedor:"}),o.jsx("div",{className:"font-medium",children:((B=I.usuario)==null?void 0:B.nombre)||"No especificado"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary",children:"Productos:"}),o.jsxs("div",{className:"font-medium",children:[((G=I.detalles)==null?void 0:G.length)||0," artculos"]})]})]}),o.jsx("button",{onClick:()=>P(I),className:"w-full py-1.5 text-xs bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200 flex items-center justify-center",children:"Ver detalles"})]},I.id)})}),S&&o.jsx(r8,{isOpen:S,onClose:async()=>{N(!1),U(!0);try{await Promise.all([l(),u(x,v)])}catch(I){console.error("Error al actualizar despus de nueva venta:",I)}finally{U(!1)}}}),k&&_&&o.jsx(a8,{venta:_,isOpen:k,onClose:()=>{R(!1)}})]})},Mi="http://127.0.0.1:8000/api",Va={getCompras:async()=>{var t,e;try{const s=await ge.get(`${Mi}/compras`);return Array.isArray(s.data)?s.data:Array.isArray(s.data.data)?s.data.data:[]}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al obtener las compras")}},getComprasByDateRange:async(t,e)=>{var s,n;try{if(!(t instanceof Date)||!(e instanceof Date))throw new Error("Las fechas proporcionadas no son vlidas");const a={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]},l=await ge.get(`${Mi}/compras/date-range`,{params:a});return Array.isArray(l.data)?l.data:Array.isArray(l.data.data)?l.data.data:[]}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al obtener las compras por fecha")}},getCompra:async t=>{var e,s;try{const n=await ge.get(`${Mi}/compras/${t}`);return n.data.data||n.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al obtener la compra")}},getResumen:async(t,e)=>{var s,n;try{if(!(t instanceof Date)||!(e instanceof Date))throw new Error("Las fechas proporcionadas no son vlidas");const a={fecha_inicio:t.toISOString().split("T")[0],fecha_fin:e.toISOString().split("T")[0]},l=await ge.get(`${Mi}/compras/resumen`,{params:a});return l.data.data||l.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al obtener el resumen de compras")}},createCompra:async t=>{var e,s;try{const n=await ge.post(`${Mi}/compras`,t);return n.data.data||n.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear la compra")}},updateCompraEstado:async(t,e)=>{var s,n;try{const a=await ge.patch(`${Mi}/compras/${t}`,{estado:e});return a.data.data||a.data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al actualizar el estado de la compra")}},deleteCompra:async t=>{var e,s;try{const n=await ge.delete(`${Mi}/compras/${t}`);return n.data.data||n.data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al eliminar la compra")}},cancelarCompra:async t=>Va.updateCompraEstado(t,"cancelada"),completarCompra:async t=>Va.updateCompraEstado(t,"completada")},Wf=Ps(t=>({compras:[],loading:!1,error:null,selectedCompra:null,resumen:null,productosMasComprados:[],fetchCompras:async()=>{t({loading:!0,error:null});try{const e=await Va.getCompras();t({compras:e,loading:!1})}catch(e){t({error:e.message,loading:!1})}},fetchComprasByDateRange:async(e,s)=>{t({loading:!0,error:null});try{const n=await Va.getComprasByDateRange(e,s);t({compras:n,loading:!1})}catch(n){t({error:n.message,loading:!1})}},fetchResumen:async(e,s)=>{t({loading:!0,error:null});try{const n=await Va.getResumen(e,s);return console.log("Resumen de compras:",n),t({resumen:n.resumen,productosMasComprados:n.productos_mas_comprados||[],loading:!1}),{resumen:n.resumen,productosMasComprados:n.productos_mas_comprados}}catch(n){throw console.error("Error al obtener resumen:",n),t({error:n.message,loading:!1,resumen:null,productosMasComprados:[]}),n}},createCompra:async e=>{t({loading:!0,error:null});try{const s=await Va.createCompra(e);return t(n=>({compras:[s,...n.compras],loading:!1})),s}catch(s){throw t({error:s.message,loading:!1}),s}},updateCompraEstado:async(e,s)=>{t({loading:!0,error:null});try{const n=await Va.updateCompraEstado(e,s);return t(a=>({compras:a.compras.map(l=>l.id===e?n:l),loading:!1})),n}catch(n){throw t({error:n.message,loading:!1}),n}},deleteCompra:async e=>{t({loading:!0,error:null});try{await Va.deleteCompra(e),t(s=>({compras:s.compras.filter(n=>n.id!==e),loading:!1}))}catch(s){throw t({error:s.message,loading:!1}),s}},setSelectedCompra:e=>{t({selectedCompra:e})},clearSelectedCompra:()=>{t({selectedCompra:null})},clearError:()=>{t({error:null})}})),qo="http://127.0.0.1:8000/api",Lc={getProveedores:async(t=null)=>{var e,s;try{const n=t?`${qo}/proveedores?_=${t}`:`${qo}/proveedores`;return console.log("Consultando proveedores en:",n),(await ge.get(n)).data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al obtener los proveedores")}},getProveedor:async t=>{var e,s;try{return(await ge.get(`${qo}/proveedores/${t}`)).data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al obtener el proveedor")}},createProveedor:async t=>{var e,s;try{return(await ge.post(`${qo}/proveedores`,t)).data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al crear el proveedor")}},updateProveedor:async(t,e)=>{var s,n;try{return(await ge.put(`${qo}/proveedores/${t}`,e)).data}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al actualizar el proveedor")}},deleteProveedor:async t=>{try{const e=await ge.delete(`${qo}/proveedores/${t}`);if(console.log("Respuesta al eliminar proveedor:",e),e.data&&e.data.message&&e.status!==200)throw new Error(e.data.message);return!0}catch(e){throw console.error("Error completo al eliminar proveedor:",e),e.response&&e.response.data?(console.error("Datos de error del servidor:",e.response.data),new Error(e.response.data.message||"Error al eliminar el proveedor")):e}}},D_=Ps(t=>({proveedores:[],proveedorActual:null,loading:!1,error:null,setProveedores:e=>t({proveedores:Array.isArray(e)?e:[]}),setProveedorActual:e=>t({proveedorActual:e}),setLoading:e=>t({loading:e}),setError:e=>t({error:e}),fetchProveedores:async()=>{t({loading:!0,error:null});try{const e=new Date().getTime(),s=await Lc.getProveedores(e);console.log("Respuesta API proveedores:",s);const n=s!=null&&s.data?s.data:Array.isArray(s)?s:[];return console.log("Proveedores procesados:",n),t({proveedores:n,loading:!1}),n}catch(e){throw console.error("Error al cargar proveedores:",e),t({error:e.message,loading:!1,proveedores:[]}),e}},fetchProveedor:async e=>{t({loading:!0,error:null});try{const s=await Lc.getProveedor(e),n=s.data||s;return t({proveedorActual:n,loading:!1}),n}catch(s){throw t({error:s.message,loading:!1}),s}},createProveedor:async e=>{t({loading:!0,error:null});try{const s=await Lc.createProveedor(e),n=s.data||s;return t(a=>({proveedores:[n,...Array.isArray(a.proveedores)?a.proveedores:[]],loading:!1})),n}catch(s){throw t({error:s.message,loading:!1}),s}},updateProveedor:async(e,s)=>{t({loading:!0,error:null});try{const n=await Lc.updateProveedor(e,s),a=n.data||n;return t(l=>{var c;return{proveedores:(Array.isArray(l.proveedores)?l.proveedores:[]).map(u=>u.id===e?a:u),proveedorActual:((c=l.proveedorActual)==null?void 0:c.id)===e?a:l.proveedorActual,loading:!1}}),a}catch(n){throw t({error:n.message,loading:!1}),n}},deleteProveedor:async e=>{t({loading:!0,error:null});try{return await Lc.deleteProveedor(e),t(s=>{var a;const n=s.proveedores.filter(l=>l.id!==e);return console.log(`Proveedor ${e} eliminado. Proveedores restantes: ${n.length}`),{proveedores:n,proveedorActual:((a=s.proveedorActual)==null?void 0:a.id)===e?null:s.proveedorActual,loading:!1}}),!0}catch(s){throw console.error("Error completo al eliminar proveedor:",s),t({error:s.message,loading:!1}),s}}})),o8=({isOpen:t,onClose:e})=>{var le,P;const{createCompra:s,loading:n}=Wf(),{products:a,loadProducts:l,isLoading:c}=Zr(),{proveedores:u,fetchProveedores:h,loading:m}=D_(),p=Ht(I=>I.user),x=(P=(le=p==null?void 0:p.data)==null?void 0:le.sede)==null?void 0:P.id;console.log(x);const[b,v]=D.useState(""),[j,S]=D.useState([]),[N,_]=D.useState(""),[A,k]=D.useState(null),[R,M]=D.useState(!0);D.useEffect(()=>{t&&(async()=>{M(!0);try{await Promise.all([l(x),h()]),k(null)}catch($){console.error("Error al cargar datos:",$),k("Error al cargar los datos necesarios")}finally{M(!1)}})()},[t,x]);const z=()=>{S([...j,{producto_id:"",cantidad:1,precio_unitario:0}])},H=I=>{S(j.filter(($,W)=>W!==I))},L=(I,$)=>{var ie,fe;const W=a.find(je=>je.id===parseInt($)),B=(ie=W==null?void 0:W.sedes)==null?void 0:ie.find(je=>je.id===x),G=((fe=B==null?void 0:B.pivot)==null?void 0:fe.precio_compra)||0;console.log("Producto seleccionado:",W),console.log("Sede ID:",x),console.log("Relacin sede:",B),console.log("Precio compra:",G);const te=[...j];te[I]={...te[I],producto_id:$,precio_unitario:G},S(te)},F=(I,$)=>{const W=[...j];W[I]={...W[I],cantidad:Math.max(1,parseInt($)||1)},S(W)},U=I=>I.cantidad*I.precio_unitario,X=()=>j.reduce((I,$)=>I+U($),0),Z=async I=>{if(I.preventDefault(),k(null),!b){k("Debe seleccionar un proveedor");return}if(j.length===0){k("Debe agregar al menos un producto");return}if(j.some($=>!$.producto_id)){k("Todos los productos deben estar seleccionados");return}try{const $={proveedor_id:parseInt(b),productos:j.map(W=>({producto_id:parseInt(W.producto_id),cantidad:W.cantidad,precio_unitario:W.precio_unitario})),sede_id:x,fecha:new Date().toISOString()};await s($),e()}catch($){console.error("Error al crear la compra:",$),k($.message)}},ae=Array.isArray(a)?a.filter(I=>I.nombre.toLowerCase().includes(N.toLowerCase())||I.codigo.toLowerCase().includes(N.toLowerCase())):[];if(!t)return null;const ne=Array.isArray(u)?u:[];return o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-bg-secondary rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[o.jsx("h2",{className:"text-xl font-semibold text-accessibility-text",children:"Nueva Compra"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:o.jsx(Fn,{className:"h-5 w-5 text-text-tertiary"})})]}),o.jsx("form",{onSubmit:Z,className:"p-6 overflow-y-auto max-h-[calc(90vh-8rem)]",children:R||c||m?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx(Xt,{className:"h-8 w-8 animate-spin text-solid-color mb-4"}),o.jsx("p",{className:"text-text-tertiary",children:"Cargando datos..."})]}):A?o.jsxs("div",{className:"bg-error/10 border border-error text-error p-4 rounded-lg flex items-center gap-3 mb-6",children:[o.jsx(ts,{className:"h-5 w-5"}),o.jsx("p",{children:A})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(on,{className:"h-5 w-5 text-text-tertiary"}),o.jsx("h3",{className:"font-medium text-accessibility-text",children:"Proveedor"})]}),o.jsxs("select",{value:b,onChange:I=>v(I.target.value),className:"w-full px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Seleccione un proveedor"}),ne.map(I=>o.jsx("option",{value:I.id,children:I.nombre},I.id))]})]}),o.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Et,{className:"h-5 w-5 text-text-tertiary"}),o.jsx("h3",{className:"font-medium text-accessibility-text",children:"Productos"})]}),o.jsxs("button",{type:"button",onClick:z,className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[o.jsx(Ga,{className:"h-4 w-4"}),o.jsx("span",{children:"Agregar Producto"})]})]}),o.jsxs("div",{className:"relative mb-4",children:[o.jsx(xr,{className:"h-5 w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:"Buscar productos...",value:N,onChange:I=>_(I.target.value),className:"w-full pl-10 pr-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-interactive-component",children:[o.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"}),o.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Precio Unitario"}),o.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Subtotal"}),o.jsx("th",{className:"px-6 py-3 text-center text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:j.map((I,$)=>o.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("select",{value:I.producto_id,onChange:W=>L($,W.target.value),className:"w-full px-4 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:"Seleccione un producto"}),ae.map(W=>{var te,ie;const B=(te=W.sedes)==null?void 0:te.find(fe=>fe.id===x),G=((ie=B==null?void 0:B.pivot)==null?void 0:ie.precio_compra)||0;return o.jsxs("option",{value:W.id,children:[W.nombre," (",W.codigo,") - ",bt(G)]},W.id)})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[o.jsx("button",{type:"button",onClick:()=>F($,I.cantidad-1),className:"p-1 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:o.jsx(m_,{className:"h-4 w-4 text-text-tertiary"})}),o.jsx("input",{type:"number",value:I.cantidad,onChange:W=>F($,W.target.value),min:"1",className:"w-20 px-2 py-1 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent text-right"}),o.jsx("button",{type:"button",onClick:()=>F($,I.cantidad+1),className:"p-1 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:o.jsx(Ga,{className:"h-4 w-4 text-text-tertiary"})})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"flex items-center justify-end",children:o.jsx("div",{className:"w-32 px-4 py-2 bg-interactive-component border border-border rounded-lg text-right cursor-not-allowed text-accessibility-text",children:bt(I.precio_unitario)})})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium text-accessibility-text",children:bt(U(I))}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{type:"button",onClick:()=>H($),className:"p-2 text-error hover:bg-error/10 rounded-lg transition-colors duration-200",children:o.jsx(Wr,{className:"h-4 w-4"})})})]},$))})]})})]}),o.jsx("div",{className:"bg-bg rounded-lg p-4 border border-border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Sn,{className:"h-5 w-5 text-text-tertiary"}),o.jsx("h3",{className:"font-medium text-accessibility-text",children:"Total"})]}),o.jsx("p",{className:"text-2xl font-semibold text-accessibility-text",children:bt(X())})]})}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 border border-border rounded-lg text-text-tertiary hover:bg-interactive-component transition-colors duration-200",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?o.jsxs(o.Fragment,{children:[o.jsx(Xt,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Guardando..."})]}):o.jsx("span",{children:"Guardar Compra"})})]})]})})]})})},l8=({compra:t,isOpen:e,onClose:s})=>{var N,_;const{updateCompraEstado:n,loading:a,fetchCompras:l}=Wf(),[c,u]=D.useState(!0),[h,m]=D.useState(null),[p,x]=D.useState(null);D.useEffect(()=>{if(e&&t){u(!0),m(null);const A=setTimeout(()=>{var k;try{const R=((k=t.detalles)==null?void 0:k.map(M=>{let z="Fecha no disponible";try{if(M.created_at){const H=new Date(M.created_at);isNaN(H.getTime())||(z=pt(H,"dd/MM/yyyy HH:mm",{locale:bs}))}}catch(H){console.error("Error al formatear fecha:",H)}return{...M,subtotal:M.cantidad*M.precio_unitario,fecha_formateada:z}}))||[];x(R),u(!1)}catch(R){console.error("Error al procesar los detalles:",R),m("Error al procesar los detalles de la compra"),u(!1)}},300);return()=>clearTimeout(A)}},[e,t]);const b=async A=>{var k,R,M,z;try{if(u(!0),m(null),t.estado!=="pendiente"){m("No se puede cambiar el estado de una compra que no est pendiente");return}await n(t.id,A),await l(),s()}catch(H){console.error("Error al actualizar el estado:",H);const L=((R=(k=H.response)==null?void 0:k.data)==null?void 0:R.message)||((z=(M=H.response)==null?void 0:M.data)==null?void 0:z.error)||"Error al actualizar el estado de la compra";m(L)}finally{u(!1)}},v=A=>{switch(A){case"completada":return o.jsx(Xa,{className:"h-5 w-5 text-success"});case"pendiente":return o.jsx(Wi,{className:"h-5 w-5 text-warning"});case"cancelada":return o.jsx(Og,{className:"h-5 w-5 text-error"});default:return null}},j=A=>{switch(A){case"completada":return"Completada";case"pendiente":return"Pendiente";case"cancelada":return"Cancelada";default:return"Desconocido"}},S=A=>{try{if(!A)return"Fecha no disponible";const k=new Date(A);return isNaN(k.getTime())?"Fecha invlida":pt(k,"dd 'de' MMMM 'de' yyyy 'a las' HH:mm",{locale:bs})}catch(k){return console.error("Error al formatear fecha de compra:",k),"Error al formatear fecha"}};return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsxs(ye.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-bg rounded-xl shadow-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b border-border flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Et,{className:"h-6 w-6 text-solid-color"}),o.jsxs("h2",{className:"text-xl font-semibold text-accessibility-text",children:["Detalles de la Compra #",t.id]})]}),o.jsx("button",{onClick:s,className:"p-2 hover:bg-interactive-component rounded-lg transition-colors duration-200",children:o.jsx(Fn,{className:"h-5 w-5 text-text-tertiary"})})]}),o.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-8rem)]",children:c?o.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[o.jsx(Xt,{className:"h-8 w-8 animate-spin text-solid-color mb-4"}),o.jsx("p",{className:"text-text-tertiary",children:"Cargando detalles..."})]}):h?o.jsxs("div",{className:"bg-error/10 border border-error text-error p-4 rounded-lg flex items-center gap-3",children:[o.jsx(ts,{className:"h-5 w-5"}),o.jsx("p",{children:h})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(on,{className:"h-5 w-5 text-text-tertiary"}),o.jsx("h3",{className:"font-medium text-accessibility-text",children:"Proveedor"})]}),o.jsx("p",{className:"text-accessibility-text",children:((N=t.proveedor)==null?void 0:N.nombre)||"No especificado"}),((_=t.proveedor)==null?void 0:_.email)&&o.jsx("p",{className:"text-text-tertiary mt-1",children:t.proveedor.email})]}),o.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(Gi,{className:"h-5 w-5 text-text-tertiary"}),o.jsx("h3",{className:"font-medium text-accessibility-text",children:"Estado"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[v(t.estado),o.jsx("span",{className:`font-medium ${t.estado==="completada"?"text-success":t.estado==="pendiente"?"text-warning":"text-error"}`,children:j(t.estado)})]})]}),o.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(Wi,{className:"h-5 w-5 text-text-tertiary"}),o.jsx("h3",{className:"font-medium text-accessibility-text",children:"Fecha"})]}),o.jsx("p",{className:"text-accessibility-text",children:S(t.fecha)})]}),o.jsxs("div",{className:"bg-bg rounded-lg p-4 border border-border",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[o.jsx(Sn,{className:"h-5 w-5 text-text-tertiary"}),o.jsx("h3",{className:"font-medium text-accessibility-text",children:"Total"})]}),o.jsx("p",{className:"text-2xl font-semibold text-accessibility-text",children:bt(t.total)})]})]}),o.jsx("div",{className:"bg-bg rounded-lg border border-border overflow-hidden",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-interactive-component",children:[o.jsx("th",{className:"px-6 py-3 text-left text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"}),o.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Precio Unitario"}),o.jsx("th",{className:"px-6 py-3 text-right text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Subtotal"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:p==null?void 0:p.map((A,k)=>{var R,M;return o.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:(R=A.producto)==null?void 0:R.nombre}),o.jsx("div",{className:"text-sm text-text-tertiary",children:(M=A.producto)==null?void 0:M.codigo})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-accessibility-text",children:A.cantidad}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-accessibility-text",children:bt(A.precio_unitario)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-accessibility-text",children:bt(A.subtotal)})]},k)})})]})}),t.estado==="pendiente"&&o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsxs("button",{onClick:()=>b("cancelada"),disabled:a||c,className:"px-4 py-2 bg-error/10 hover:bg-error/20 text-error rounded-lg transition-colors duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a||c?o.jsx(Xt,{className:"h-4 w-4 animate-spin"}):o.jsx(Og,{className:"h-4 w-4"}),o.jsx("span",{children:"Cancelar Compra"})]}),o.jsxs("button",{onClick:()=>b("completada"),disabled:a||c,className:"px-4 py-2 bg-success/10 hover:bg-success/20 text-success rounded-lg transition-colors duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a||c?o.jsx(Xt,{className:"h-4 w-4 animate-spin"}):o.jsx(Xa,{className:"h-4 w-4"}),o.jsx("span",{children:"Completar Compra"})]})]})]})})]})}):null},c8=()=>{const{compras:t,loading:e,error:s,resumen:n,productosMasComprados:a,fetchCompras:l,fetchComprasByDateRange:c,fetchResumen:u,fetchCompra:h}=Wf(),[m,p]=D.useState(""),[x,b]=D.useState(new Date(new Date().setDate(1))),[v,j]=D.useState(new Date),[S,N]=D.useState(!1),[_,A]=D.useState(null),[k,R]=D.useState(!1),[M,z]=D.useState(null),[H,L]=D.useState(!0),[F,U]=D.useState(!1),[X,Z]=D.useState(null),[ae,ne]=D.useState(!1);D.useEffect(()=>{(async()=>{var B,G,te,ie;L(!0);try{await Promise.all([l(),u(x,v)]),z(null),Z(null)}catch(fe){console.error("Error al cargar datos iniciales:",fe),z(((G=(B=fe.response)==null?void 0:B.data)==null?void 0:G.message)||"Error al cargar datos iniciales"),Z(((ie=(te=fe.response)==null?void 0:te.data)==null?void 0:ie.message)||"Error al cargar datos iniciales")}finally{L(!1)}})()},[]),D.useEffect(()=>{(async()=>{var B,G,te,ie;if(!H){U(!0);try{await Promise.all([c(x,v),u(x,v)]),z(null),Z(null)}catch(fe){console.error("Error al actualizar datos:",fe),z(((G=(B=fe.response)==null?void 0:B.data)==null?void 0:G.message)||"Error al actualizar datos"),Z(((ie=(te=fe.response)==null?void 0:te.data)==null?void 0:ie.message)||"Error al actualizar datos")}finally{U(!1)}}})()},[x,v]);const le=async(W,B)=>{try{if(!(W instanceof Date)||!(B instanceof Date))throw new Error("Las fechas proporcionadas no son vlidas");b(W),j(B)}catch(G){console.error("Error al actualizar rango de fechas:",G),z(G.message),Z(G.message)}},P=e||F,I=t.filter(W=>{var G,te,ie;const B=m.toLowerCase();return W.id.toString().includes(B)||((te=(G=W.proveedor)==null?void 0:G.nombre)==null?void 0:te.toLowerCase().includes(B))||((ie=W.detalles)==null?void 0:ie.some(fe=>{var je,xe;return(xe=(je=fe.producto)==null?void 0:je.nombre)==null?void 0:xe.toLowerCase().includes(B)}))}),$=async W=>{var B,G;try{if(U(!0),W.detalles&&W.detalles.length>0){A(W),R(!0);return}const te=await h(W.id);A(te),R(!0)}catch(te){console.error("Error al cargar los detalles de la compra:",te),Z(((G=(B=te.response)==null?void 0:B.data)==null?void 0:G.message)||"Error al cargar los detalles de la compra")}finally{U(!1)}};return H?o.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:o.jsxs(ye.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col items-center gap-4",children:[o.jsx(ye.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:1,repeat:1/0,ease:"linear"},scale:{duration:1.5,repeat:1/0,ease:"easeInOut"}},children:o.jsx(Xt,{className:"h-12 w-12 text-solid-color"})}),o.jsx(ye.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-text-tertiary text-lg",children:"Cargando compras..."})]})}):s||X?o.jsxs(ye.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-3 sm:p-6 bg-error/10 border border-error text-error rounded-lg flex items-center gap-3 text-sm",children:[o.jsx(ts,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),o.jsx("p",{children:s||X})]}):o.jsxs(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-4 sm:space-y-6 p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx(Gi,{className:"h-6 w-6 sm:h-8 sm:w-8 text-solid-color"}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Compras"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs("button",{onClick:()=>N(!0),className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200 text-sm sm:text-base",children:[o.jsx(Ga,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{children:"Nueva Compra"})]}),o.jsxs("button",{className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200 text-sm sm:text-base",children:[o.jsx(wd,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Reportes"})]})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:P?Array(4).fill(0).map((W,B)=>o.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:B*.1},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:o.jsx("div",{className:"flex items-center justify-center h-16 sm:h-24",children:o.jsx(Xt,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-solid-color"})})},B)):M?o.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"col-span-full bg-error/10 border border-error text-error p-3 sm:p-4 rounded-lg flex items-center gap-3 text-sm",children:[o.jsx(ts,{className:"h-4 w-4 sm:h-5 sm:w-5 flex-shrink-0"}),o.jsxs("p",{children:["Error al cargar el resumen: ",M]})]}):o.jsxs(o.Fragment,{children:[o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(Sn,{className:"h-4 w-4 sm:h-6 sm:w-6 text-success"})}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-success",children:(n==null?void 0:n.total_monto)>0?`+${(n.promedio_compra/n.total_monto*100).toLocaleString("es-ES",{minimumFractionDigits:1,maximumFractionDigits:1})}%`:"0%"})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Total Compras"}),o.jsx("p",{className:"mt-1 text-base sm:text-xl md:text-2xl font-semibold text-accessibility-text",children:bt((n==null?void 0:n.total_monto)||0)})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(mr,{className:"h-4 w-4 sm:h-6 sm:w-6 text-solid-color"})})}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Compras Realizadas"}),o.jsx("p",{className:"mt-1 text-base sm:text-xl md:text-2xl font-semibold text-accessibility-text",children:n!=null&&n.total_compras?n.total_compras.toLocaleString("es-ES"):0})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(qf,{className:"h-4 w-4 sm:h-6 sm:w-6 text-solid-color"})})}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Promedio por Compra"}),o.jsx("p",{className:"mt-1 text-base sm:text-xl md:text-2xl font-semibold text-accessibility-text",children:bt((n==null?void 0:n.promedio_compra)||0)})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(Et,{className:"h-4 w-4 sm:h-6 sm:w-6 text-solid-color"})})}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:"Productos Comprados"}),o.jsx("p",{className:"mt-1 text-base sm:text-xl md:text-2xl font-semibold text-accessibility-text",children:((a==null?void 0:a.reduce((W,B)=>W+B.total_comprado,0))||0).toLocaleString("es-ES")})]})]})}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"flex flex-col sm:flex-row gap-3 sm:gap-4 bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(xr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:"Buscar compras...",value:m,onChange:W=>p(W.target.value),className:"w-full pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[o.jsx(Hn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("input",{type:"date",value:pt(x,"yyyy-MM-dd"),onChange:W=>{const B=new Date(W.target.value);isNaN(B.getTime())||le(B,v)},className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"}),o.jsx("span",{className:"text-text-tertiary text-sm",children:"hasta"}),o.jsx("input",{type:"date",value:pt(v,"yyyy-MM-dd"),onChange:W=>{const B=new Date(W.target.value);isNaN(B.getTime())||le(x,B)},className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"sm:hidden",children:[o.jsxs("button",{onClick:()=>ne(!ae),className:"w-full px-3 py-1.5 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center justify-center space-x-2 transition-colors duration-200 text-sm",children:[o.jsx(Hn,{className:"h-4 w-4"}),o.jsx("span",{children:"Filtrar por fechas"})]}),ae&&o.jsxs("div",{className:"mt-3 p-3 bg-bg-secondary border border-border rounded-lg space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary",children:"Fecha inicio"}),o.jsx("input",{type:"date",value:pt(x,"yyyy-MM-dd"),onChange:W=>{const B=new Date(W.target.value);isNaN(B.getTime())||le(B,v)},className:"w-full px-3 py-1.5 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary",children:"Fecha fin"}),o.jsx("input",{type:"date",value:pt(v,"yyyy-MM-dd"),onChange:W=>{const B=new Date(W.target.value);isNaN(B.getTime())||le(x,B)},className:"w-full px-3 py-1.5 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color focus:border-transparent"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>ne(!1),className:"px-3 py-1.5 text-xs bg-solid-color hover:bg-solid-color-hover text-white rounded-lg transition-colors duration-200",children:"Aplicar"})})]})]})]}),o.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},className:"hidden sm:block bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-interactive-component",children:[o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"ID"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Proveedor"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Productos"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-right text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Total"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-center text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-center text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:P?o.jsx(ft,{variant:"table",colSpan:7,text:F?"Actualizando datos...":"Cargando compras..."}):I.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"px-4 sm:px-6 py-6 sm:py-8 text-center text-text-tertiary",children:"No se encontraron compras"})}):I.map((W,B)=>{var G,te;return o.jsxs(ye.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:B*.05},className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsxs("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:["#",W.id]}),o.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:(()=>{try{const ie=W.created_at||W.fecha;if(!ie)return"N/A";const fe=new Date(ie);return isNaN(fe.getTime())?"N/A":pt(fe,"dd/MM/yyyy HH:mm",{locale:bs})}catch{return"Fecha invlida"}})()}),o.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:((G=W.proveedor)==null?void 0:G.nombre)||"No especificado"}),o.jsxs("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:[(((te=W.detalles)==null?void 0:te.length)||0).toLocaleString("es-ES")," productos"]}),o.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-right text-xs sm:text-sm text-accessibility-text font-medium",children:bt(W.total)}),o.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-center",children:o.jsx("span",{className:`px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs sm:text-sm font-medium ${W.estado==="pendiente"?"bg-warning/10 text-warning":W.estado==="completada"?"bg-success/10 text-success":"bg-error/10 text-error"}`,children:W.estado==="pendiente"?"Pendiente":W.estado==="completada"?"Completada":"Cancelada"})}),o.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>$(W),className:"px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",children:"Ver detalles"})})]},W.id)})})]})})}),o.jsx("div",{className:"sm:hidden space-y-3",children:P?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(ft,{text:F?"Actualizando datos...":"Cargando compras..."})}):I.length===0?o.jsx("div",{className:"text-center py-8 text-text-tertiary text-sm",children:"No se encontraron compras"}):I.map(W=>{var fe,je;const B=W.created_at||W.fecha;let G="N/A";try{if(B){const xe=new Date(B);isNaN(xe.getTime())||(G=pt(xe,"dd/MM/yyyy HH:mm",{locale:bs}))}}catch{G="Fecha invlida"}const te=xe=>{switch(xe){case"pendiente":return"bg-warning/10 text-warning";case"completada":return"bg-success/10 text-success";default:return"bg-error/10 text-error"}},ie=xe=>{switch(xe){case"pendiente":return"Pendiente";case"completada":return"Completada";default:return"Cancelada"}};return o.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-bg rounded-lg border border-border p-3 hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Gi,{className:"h-4 w-4 text-solid-color"}),o.jsxs("span",{className:"text-sm font-medium text-accessibility-text",children:["Compra #",W.id]})]}),o.jsx("span",{className:"text-sm font-bold text-solid-color",children:bt(W.total)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary",children:"Fecha:"}),o.jsx("div",{className:"font-medium",children:G})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary",children:"Proveedor:"}),o.jsx("div",{className:"font-medium",children:((fe=W.proveedor)==null?void 0:fe.nombre)||"No especificado"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary",children:"Productos:"}),o.jsxs("div",{className:"font-medium",children:[((je=W.detalles)==null?void 0:je.length)||0," artculos"]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary",children:"Estado:"}),o.jsx("div",{className:"font-medium",children:o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${te(W.estado)}`,children:ie(W.estado)})})]})]}),o.jsx("button",{onClick:()=>$(W),className:"w-full py-1.5 text-xs bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200 flex items-center justify-center",children:"Ver detalles"})]},W.id)})}),S&&o.jsx(o8,{isOpen:S,onClose:async()=>{var W,B;N(!1),U(!0);try{await Promise.all([l(),u(x,v)])}catch(G){console.error("Error al actualizar despus de nueva compra:",G),Z(((B=(W=G.response)==null?void 0:W.data)==null?void 0:B.message)||"Error al actualizar despus de nueva compra")}finally{U(!1)}}}),k&&_&&o.jsx(l8,{compra:_,isOpen:k,onClose:async()=>{var W,B;R(!1),U(!0);try{await Promise.all([l(),u(x,v)])}catch(G){console.error("Error al actualizar despus de cambiar estado:",G),Z(((B=(W=G.response)==null?void 0:W.data)==null?void 0:B.message)||"Error al actualizar despus de cambiar estado")}finally{U(!1)}}})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Id(t){return t+.5|0}const Ha=(t,e,s)=>Math.max(Math.min(t,s),e);function Wc(t){return Ha(Id(t*2.55),0,255)}function Ia(t){return Ha(Id(t*255),0,255)}function Fr(t){return Ha(Id(t/2.55)/100,0,1)}function A2(t){return Ha(Id(t*100),0,100)}const yn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Hg=[..."0123456789ABCDEF"],d8=t=>Hg[t&15],u8=t=>Hg[(t&240)>>4]+Hg[t&15],Ch=t=>(t&240)>>4===(t&15),h8=t=>Ch(t.r)&&Ch(t.g)&&Ch(t.b)&&Ch(t.a);function f8(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&yn[t[1]]*17,g:255&yn[t[2]]*17,b:255&yn[t[3]]*17,a:e===5?yn[t[4]]*17:255}:(e===7||e===9)&&(s={r:yn[t[1]]<<4|yn[t[2]],g:yn[t[3]]<<4|yn[t[4]],b:yn[t[5]]<<4|yn[t[6]],a:e===9?yn[t[7]]<<4|yn[t[8]]:255})),s}const m8=(t,e)=>t<255?e(t):"";function p8(t){var e=h8(t)?d8:u8;return t?"#"+e(t.r)+e(t.g)+e(t.b)+m8(t.a,e):void 0}const x8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R_(t,e,s){const n=e*Math.min(s,1-s),a=(l,c=(l+t/30)%12)=>s-n*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function g8(t,e,s){const n=(a,l=(a+t/60)%6)=>s-s*e*Math.max(Math.min(l,4-l,1),0);return[n(5),n(3),n(1)]}function y8(t,e,s){const n=R_(t,1,.5);let a;for(e+s>1&&(a=1/(e+s),e*=a,s*=a),a=0;a<3;a++)n[a]*=1-e-s,n[a]+=e;return n}function b8(t,e,s,n,a){return t===a?(e-s)/n+(e<s?6:0):e===a?(s-t)/n+2:(t-e)/n+4}function Gy(t){const s=t.r/255,n=t.g/255,a=t.b/255,l=Math.max(s,n,a),c=Math.min(s,n,a),u=(l+c)/2;let h,m,p;return l!==c&&(p=l-c,m=u>.5?p/(2-l-c):p/(l+c),h=b8(s,n,a,p,l),h=h*60+.5),[h|0,m||0,u]}function Ky(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(Ia)}function Qy(t,e,s){return Ky(R_,t,e,s)}function v8(t,e,s){return Ky(y8,t,e,s)}function w8(t,e,s){return Ky(g8,t,e,s)}function O_(t){return(t%360+360)%360}function j8(t){const e=x8.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?Wc(+e[5]):Ia(+e[5]));const a=O_(+e[2]),l=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?n=v8(a,l,c):e[1]==="hsv"?n=w8(a,l,c):n=Qy(a,l,c),{r:n[0],g:n[1],b:n[2],a:s}}function N8(t,e){var s=Gy(t);s[0]=O_(s[0]+e),s=Qy(s),t.r=s[0],t.g=s[1],t.b=s[2]}function S8(t){if(!t)return;const e=Gy(t),s=e[0],n=A2(e[1]),a=A2(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${a}%, ${Fr(t.a)})`:`hsl(${s}, ${n}%, ${a}%)`}const D2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},R2={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _8(){const t={},e=Object.keys(R2),s=Object.keys(D2);let n,a,l,c,u;for(n=0;n<e.length;n++){for(c=u=e[n],a=0;a<s.length;a++)l=s[a],u=u.replace(l,D2[l]);l=parseInt(R2[c],16),t[u]=[l>>16&255,l>>8&255,l&255]}return t}let Th;function E8(t){Th||(Th=_8(),Th.transparent=[0,0,0,0]);const e=Th[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const C8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function T8(t){const e=C8.exec(t);let s=255,n,a,l;if(e){if(e[7]!==n){const c=+e[7];s=e[8]?Wc(c):Ha(c*255,0,255)}return n=+e[1],a=+e[3],l=+e[5],n=255&(e[2]?Wc(n):Ha(n,0,255)),a=255&(e[4]?Wc(a):Ha(a,0,255)),l=255&(e[6]?Wc(l):Ha(l,0,255)),{r:n,g:a,b:l,a:s}}}function k8(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Fr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Vx=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Yo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function M8(t,e,s){const n=Yo(Fr(t.r)),a=Yo(Fr(t.g)),l=Yo(Fr(t.b));return{r:Ia(Vx(n+s*(Yo(Fr(e.r))-n))),g:Ia(Vx(a+s*(Yo(Fr(e.g))-a))),b:Ia(Vx(l+s*(Yo(Fr(e.b))-l))),a:t.a+s*(e.a-t.a)}}function kh(t,e,s){if(t){let n=Gy(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=Qy(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function L_(t,e){return t&&Object.assign(e||{},t)}function O2(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ia(t[3]))):(e=L_(t,{r:0,g:0,b:0,a:1}),e.a=Ia(e.a)),e}function A8(t){return t.charAt(0)==="r"?T8(t):j8(t)}class _d{constructor(e){if(e instanceof _d)return e;const s=typeof e;let n;s==="object"?n=O2(e):s==="string"&&(n=f8(e)||E8(e)||A8(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=L_(this._rgb);return e&&(e.a=Fr(e.a)),e}set rgb(e){this._rgb=O2(e)}rgbString(){return this._valid?k8(this._rgb):void 0}hexString(){return this._valid?p8(this._rgb):void 0}hslString(){return this._valid?S8(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,a=e.rgb;let l;const c=s===l?.5:s,u=2*c-1,h=n.a-a.a,m=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;l=1-m,n.r=255&m*n.r+l*a.r+.5,n.g=255&m*n.g+l*a.g+.5,n.b=255&m*n.b+l*a.b+.5,n.a=c*n.a+(1-c)*a.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=M8(this._rgb,e._rgb,s)),this}clone(){return new _d(this.rgb)}alpha(e){return this._rgb.a=Ia(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Id(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return kh(this._rgb,2,e),this}darken(e){return kh(this._rgb,2,-e),this}saturate(e){return kh(this._rgb,1,e),this}desaturate(e){return kh(this._rgb,1,-e),this}rotate(e){return N8(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Vr(){}const D8=(()=>{let t=0;return()=>t++})();function yt(t){return t==null}function is(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ze(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function En(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function rr(t,e){return En(t)?t:e}function Ye(t,e){return typeof t>"u"?e:t}const R8=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,P_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Nt(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function it(t,e,s,n){let a,l,c;if(is(t))for(l=t.length,a=0;a<l;a++)e.call(s,t[a],a);else if(Ze(t))for(c=Object.keys(t),l=c.length,a=0;a<l;a++)e.call(s,t[c[a]],c[a])}function wf(t,e){let s,n,a,l;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(a=t[s],l=e[s],a.datasetIndex!==l.datasetIndex||a.index!==l.index)return!1;return!0}function jf(t){if(is(t))return t.map(jf);if(Ze(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let a=0;for(;a<n;++a)e[s[a]]=jf(t[s[a]]);return e}return t}function z_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function O8(t,e,s,n){if(!z_(t))return;const a=e[t],l=s[t];Ze(a)&&Ze(l)?Ed(a,l,n):e[t]=jf(l)}function Ed(t,e,s){const n=is(e)?e:[e],a=n.length;if(!Ze(t))return t;s=s||{};const l=s.merger||O8;let c;for(let u=0;u<a;++u){if(c=n[u],!Ze(c))continue;const h=Object.keys(c);for(let m=0,p=h.length;m<p;++m)l(h[m],t,c,s)}return t}function id(t,e){return Ed(t,e,{merger:L8})}function L8(t,e,s){if(!z_(t))return;const n=e[t],a=s[t];Ze(n)&&Ze(a)?id(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=jf(a))}const L2={"":t=>t,x:t=>t.x,y:t=>t.y};function P8(t){const e=t.split("."),s=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function z8(t){const e=P8(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function Ki(t,e){return(L2[e]||(L2[e]=z8(e)))(t)}function Zy(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Cd=t=>typeof t<"u",Ka=t=>typeof t=="function",P2=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function B8(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ut=Math.PI,Vt=2*Ut,V8=Vt+Ut,Nf=Number.POSITIVE_INFINITY,U8=Ut/180,os=Ut/2,Ai=Ut/4,z2=Ut*2/3,B_=Math.log10,pr=Math.sign;function od(t,e,s){return Math.abs(t-e)<s}function B2(t){const e=Math.round(t);t=od(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(B_(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function H8(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((a,l)=>a-l).pop(),e}function F8(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Sf(t){return!F8(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function $8(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function I8(t,e,s){let n,a,l;for(n=0,a=t.length;n<a;n++)l=t[n][s],isNaN(l)||(e.min=Math.min(e.min,l),e.max=Math.max(e.max,l))}function $r(t){return t*(Ut/180)}function q8(t){return t*(180/Ut)}function V2(t){if(!En(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function V_(t,e){const s=e.x-t.x,n=e.y-t.y,a=Math.sqrt(s*s+n*n);let l=Math.atan2(n,s);return l<-.5*Ut&&(l+=Vt),{angle:l,distance:a}}function Fg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Y8(t,e){return(t-e+V8)%Vt-Ut}function Ba(t){return(t%Vt+Vt)%Vt}function Td(t,e,s,n){const a=Ba(t),l=Ba(e),c=Ba(s),u=Ba(l-a),h=Ba(c-a),m=Ba(a-l),p=Ba(a-c);return a===l||a===c||n&&l===c||u>h&&m<p}function Xs(t,e,s){return Math.max(e,Math.min(s,t))}function X8(t){return Xs(t,-32768,32767)}function Fa(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function Jy(t,e,s){s=s||(c=>t[c]<e);let n=t.length-1,a=0,l;for(;n-a>1;)l=a+n>>1,s(l)?a=l:n=l;return{lo:a,hi:n}}const $g=(t,e,s,n)=>Jy(t,s,n?a=>{const l=t[a][e];return l<s||l===s&&t[a+1][e]===s}:a=>t[a][e]<s),W8=(t,e,s)=>Jy(t,s,n=>t[n][e]>=s);function G8(t,e,s){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>s;)a--;return n>0||a<t.length?t.slice(n,a):t}const U_=["push","pop","shift","splice","unshift"];function K8(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),U_.forEach(s=>{const n="_onData"+Zy(s),a=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...l){const c=a.apply(this,l);return t._chartjs.listeners.forEach(u=>{typeof u[n]=="function"&&u[n](...l)}),c}})})}function U2(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(U_.forEach(l=>{delete t[l]}),delete t._chartjs)}function H_(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const F_=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function $_(t,e){let s=[],n=!1;return function(...a){s=a,n||(n=!0,F_.call(window,()=>{n=!1,t.apply(e,s)}))}}function Q8(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const eb=t=>t==="start"?"left":t==="end"?"right":"center",Ss=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,Z8=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e,Mh=t=>t===0||t===1,H2=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Vt/s)),F2=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Vt/s)+1,ld={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*os)+1,easeOutSine:t=>Math.sin(t*os),easeInOutSine:t=>-.5*(Math.cos(Ut*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Mh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Mh(t)?t:H2(t,.075,.3),easeOutElastic:t=>Mh(t)?t:F2(t,.075,.3),easeInOutElastic(t){return Mh(t)?t:t<.5?.5*H2(t*2,.1125,.45):.5+.5*F2(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ld.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ld.easeInBounce(t*2)*.5:ld.easeOutBounce(t*2-1)*.5+.5};function tb(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $2(t){return tb(t)?t:new _d(t)}function Ux(t){return tb(t)?t:new _d(t).saturate(.5).darken(.1).hexString()}const J8=["x","y","borderWidth","radius","tension"],ez=["color","borderColor","backgroundColor"];function tz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:ez},numbers:{type:"number",properties:J8}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function sz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const I2=new Map;function nz(t,e){e=e||{};const s=t+JSON.stringify(e);let n=I2.get(s);return n||(n=new Intl.NumberFormat(t,e),I2.set(s,n)),n}function sb(t,e,s){return nz(e,s).format(t)}const rz={values(t){return is(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let a,l=t;if(s.length>1){const m=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),l=az(t,s)}const c=B_(Math.abs(l)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),h={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),sb(t,n,h)}};function az(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var I_={formatters:rz};function iz(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:I_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Qi=Object.create(null),Ig=Object.create(null);function cd(t,e){if(!e)return t;const s=e.split(".");for(let n=0,a=s.length;n<a;++n){const l=s[n];t=t[l]||(t[l]=Object.create(null))}return t}function Hx(t,e,s){return typeof e=="string"?Ed(cd(t,e),s):Ed(cd(t,""),e)}class oz{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>Ux(a.backgroundColor),this.hoverBorderColor=(n,a)=>Ux(a.borderColor),this.hoverColor=(n,a)=>Ux(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Hx(this,e,s)}get(e){return cd(this,e)}describe(e,s){return Hx(Ig,e,s)}override(e,s){return Hx(Qi,e,s)}route(e,s,n,a){const l=cd(this,e),c=cd(this,n),u="_"+s;Object.defineProperties(l,{[u]:{value:l[s],writable:!0},[s]:{enumerable:!0,get(){const h=this[u],m=c[a];return Ze(h)?Object.assign({},m,h):Ye(h,m)},set(h){this[u]=h}}})}apply(e){e.forEach(s=>s(this))}}var Wt=new oz({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tz,sz,iz]);function lz(t){return!t||yt(t.size)||yt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function q2(t,e,s,n,a){let l=e[a];return l||(l=e[a]=t.measureText(a).width,s.push(a)),l>n&&(n=l),n}function Di(t,e,s){const n=t.currentDevicePixelRatio,a=s!==0?Math.max(s/2,.5):0;return Math.round((e-a)*n)/n+a}function Y2(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function qg(t,e,s,n){q_(t,e,s,n,null)}function q_(t,e,s,n,a){let l,c,u,h,m,p,x,b;const v=e.pointStyle,j=e.rotation,S=e.radius;let N=(j||0)*U8;if(v&&typeof v=="object"&&(l=v.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(N),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),v){default:a?t.ellipse(s,n,a/2,S,0,0,Vt):t.arc(s,n,S,0,Vt),t.closePath();break;case"triangle":p=a?a/2:S,t.moveTo(s+Math.sin(N)*p,n-Math.cos(N)*S),N+=z2,t.lineTo(s+Math.sin(N)*p,n-Math.cos(N)*S),N+=z2,t.lineTo(s+Math.sin(N)*p,n-Math.cos(N)*S),t.closePath();break;case"rectRounded":m=S*.516,h=S-m,c=Math.cos(N+Ai)*h,x=Math.cos(N+Ai)*(a?a/2-m:h),u=Math.sin(N+Ai)*h,b=Math.sin(N+Ai)*(a?a/2-m:h),t.arc(s-x,n-u,m,N-Ut,N-os),t.arc(s+b,n-c,m,N-os,N),t.arc(s+x,n+u,m,N,N+os),t.arc(s-b,n+c,m,N+os,N+Ut),t.closePath();break;case"rect":if(!j){h=Math.SQRT1_2*S,p=a?a/2:h,t.rect(s-p,n-h,2*p,2*h);break}N+=Ai;case"rectRot":x=Math.cos(N)*(a?a/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,b=Math.sin(N)*(a?a/2:S),t.moveTo(s-x,n-u),t.lineTo(s+b,n-c),t.lineTo(s+x,n+u),t.lineTo(s-b,n+c),t.closePath();break;case"crossRot":N+=Ai;case"cross":x=Math.cos(N)*(a?a/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,b=Math.sin(N)*(a?a/2:S),t.moveTo(s-x,n-u),t.lineTo(s+x,n+u),t.moveTo(s+b,n-c),t.lineTo(s-b,n+c);break;case"star":x=Math.cos(N)*(a?a/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,b=Math.sin(N)*(a?a/2:S),t.moveTo(s-x,n-u),t.lineTo(s+x,n+u),t.moveTo(s+b,n-c),t.lineTo(s-b,n+c),N+=Ai,x=Math.cos(N)*(a?a/2:S),c=Math.cos(N)*S,u=Math.sin(N)*S,b=Math.sin(N)*(a?a/2:S),t.moveTo(s-x,n-u),t.lineTo(s+x,n+u),t.moveTo(s+b,n-c),t.lineTo(s-b,n+c);break;case"line":c=a?a/2:Math.cos(N)*S,u=Math.sin(N)*S,t.moveTo(s-c,n-u),t.lineTo(s+c,n+u);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(N)*(a?a/2:S),n+Math.sin(N)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function kd(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function nb(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function rb(t){t.restore()}function cz(t,e,s,n,a){if(!e)return t.lineTo(s.x,s.y);if(a==="middle"){const l=(e.x+s.x)/2;t.lineTo(l,e.y),t.lineTo(l,s.y)}else a==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function dz(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function uz(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),yt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function hz(t,e,s,n,a){if(a.strikethrough||a.underline){const l=t.measureText(n),c=e-l.actualBoundingBoxLeft,u=e+l.actualBoundingBoxRight,h=s-l.actualBoundingBoxAscent,m=s+l.actualBoundingBoxDescent,p=a.strikethrough?(h+m)/2:m;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(c,p),t.lineTo(u,p),t.stroke()}}function fz(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Md(t,e,s,n,a,l={}){const c=is(e)?e:[e],u=l.strokeWidth>0&&l.strokeColor!=="";let h,m;for(t.save(),t.font=a.string,uz(t,l),h=0;h<c.length;++h)m=c[h],l.backdrop&&fz(t,l.backdrop),u&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),yt(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(m,s,n,l.maxWidth)),t.fillText(m,s,n,l.maxWidth),hz(t,s,n,m,l),n+=Number(a.lineHeight);t.restore()}function _f(t,e){const{x:s,y:n,w:a,h:l,radius:c}=e;t.arc(s+c.topLeft,n+c.topLeft,c.topLeft,1.5*Ut,Ut,!0),t.lineTo(s,n+l-c.bottomLeft),t.arc(s+c.bottomLeft,n+l-c.bottomLeft,c.bottomLeft,Ut,os,!0),t.lineTo(s+a-c.bottomRight,n+l),t.arc(s+a-c.bottomRight,n+l-c.bottomRight,c.bottomRight,os,0,!0),t.lineTo(s+a,n+c.topRight),t.arc(s+a-c.topRight,n+c.topRight,c.topRight,0,-os,!0),t.lineTo(s+c.topLeft,n)}const mz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xz(t,e){const s=(""+t).match(mz);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const gz=t=>+t||0;function ab(t,e){const s={},n=Ze(e),a=n?Object.keys(e):e,l=Ze(t)?n?c=>Ye(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of a)s[c]=gz(l(c));return s}function Y_(t){return ab(t,{top:"y",right:"x",bottom:"y",left:"x"})}function nl(t){return ab(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Cn(t){const e=Y_(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ts(t,e){t=t||{},e=e||Wt.font;let s=Ye(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=Ye(t.style,e.style);n&&!(""+n).match(pz)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Ye(t.family,e.family),lineHeight:xz(Ye(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:Ye(t.weight,e.weight),string:""};return a.string=lz(a),a}function Ah(t,e,s,n){let a,l,c;for(a=0,l=t.length;a<l;++a)if(c=t[a],c!==void 0&&c!==void 0)return c}function yz(t,e,s){const{min:n,max:a}=t,l=P_(e,(a-n)/2),c=(u,h)=>s&&u===0?0:u+h;return{min:c(n,-Math.abs(l)),max:c(a,l)}}function Zi(t,e){return Object.assign(Object.create(t),e)}function ib(t,e=[""],s,n,a=()=>t[0]){const l=s||t;typeof n>"u"&&(n=K_("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:l,_fallback:n,_getTarget:a,override:u=>ib([u,...t],e,l,n)};return new Proxy(c,{deleteProperty(u,h){return delete u[h],delete u._keys,delete t[0][h],!0},get(u,h){return W_(u,h,()=>Ez(h,e,t,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(u,h){return W2(u).includes(h)},ownKeys(u){return W2(u)},set(u,h,m){const p=u._storage||(u._storage=a());return u[h]=p[h]=m,delete u._keys,!0}})}function cl(t,e,s,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:X_(t,n),setContext:l=>cl(t,l,s,n),override:l=>cl(t.override(l),e,s,n)};return new Proxy(a,{deleteProperty(l,c){return delete l[c],delete t[c],!0},get(l,c,u){return W_(l,c,()=>vz(l,c,u))},getOwnPropertyDescriptor(l,c){return l._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(l,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(l,c,u){return t[c]=u,delete l[c],!0}})}function X_(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:s,indexable:n,isScriptable:Ka(s)?s:()=>s,isIndexable:Ka(n)?n:()=>n}}const bz=(t,e)=>t?t+Zy(e):e,ob=(t,e)=>Ze(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function W_(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function vz(t,e,s){const{_proxy:n,_context:a,_subProxy:l,_descriptors:c}=t;let u=n[e];return Ka(u)&&c.isScriptable(e)&&(u=wz(e,u,t,s)),is(u)&&u.length&&(u=jz(e,u,t,c.isIndexable)),ob(e,u)&&(u=cl(u,a,l&&l[e],c)),u}function wz(t,e,s,n){const{_proxy:a,_context:l,_subProxy:c,_stack:u}=s;if(u.has(t))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+t);u.add(t);let h=e(l,c||n);return u.delete(t),ob(t,h)&&(h=lb(a._scopes,a,t,h)),h}function jz(t,e,s,n){const{_proxy:a,_context:l,_subProxy:c,_descriptors:u}=s;if(typeof l.index<"u"&&n(t))return e[l.index%e.length];if(Ze(e[0])){const h=e,m=a._scopes.filter(p=>p!==h);e=[];for(const p of h){const x=lb(m,a,t,p);e.push(cl(x,l,c&&c[t],u))}}return e}function G_(t,e,s){return Ka(t)?t(e,s):t}const Nz=(t,e)=>t===!0?e:typeof t=="string"?Ki(e,t):void 0;function Sz(t,e,s,n,a){for(const l of e){const c=Nz(s,l);if(c){t.add(c);const u=G_(c._fallback,s,a);if(typeof u<"u"&&u!==s&&u!==n)return u}else if(c===!1&&typeof n<"u"&&s!==n)return null}return!1}function lb(t,e,s,n){const a=e._rootScopes,l=G_(e._fallback,s,n),c=[...t,...a],u=new Set;u.add(n);let h=X2(u,c,s,l||s,n);return h===null||typeof l<"u"&&l!==s&&(h=X2(u,c,l,h,n),h===null)?!1:ib(Array.from(u),[""],a,l,()=>_z(e,s,n))}function X2(t,e,s,n,a){for(;s;)s=Sz(t,e,s,n,a);return s}function _z(t,e,s){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return is(a)&&Ze(s)?s:a||{}}function Ez(t,e,s,n){let a;for(const l of e)if(a=K_(bz(l,t),s),typeof a<"u")return ob(t,a)?lb(s,n,t,a):a}function K_(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function W2(t){let e=t._keys;return e||(e=t._keys=Cz(t._scopes)),e}function Cz(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}const Tz=Number.EPSILON||1e-14,dl=(t,e)=>e<t.length&&!t[e].skip&&t[e],Q_=t=>t==="x"?"y":"x";function kz(t,e,s,n){const a=t.skip?e:t,l=e,c=s.skip?e:s,u=Fg(l,a),h=Fg(c,l);let m=u/(u+h),p=h/(u+h);m=isNaN(m)?0:m,p=isNaN(p)?0:p;const x=n*m,b=n*p;return{previous:{x:l.x-x*(c.x-a.x),y:l.y-x*(c.y-a.y)},next:{x:l.x+b*(c.x-a.x),y:l.y+b*(c.y-a.y)}}}function Mz(t,e,s){const n=t.length;let a,l,c,u,h,m=dl(t,0);for(let p=0;p<n-1;++p)if(h=m,m=dl(t,p+1),!(!h||!m)){if(od(e[p],0,Tz)){s[p]=s[p+1]=0;continue}a=s[p]/e[p],l=s[p+1]/e[p],u=Math.pow(a,2)+Math.pow(l,2),!(u<=9)&&(c=3/Math.sqrt(u),s[p]=a*c*e[p],s[p+1]=l*c*e[p])}}function Az(t,e,s="x"){const n=Q_(s),a=t.length;let l,c,u,h=dl(t,0);for(let m=0;m<a;++m){if(c=u,u=h,h=dl(t,m+1),!u)continue;const p=u[s],x=u[n];c&&(l=(p-c[s])/3,u[`cp1${s}`]=p-l,u[`cp1${n}`]=x-l*e[m]),h&&(l=(h[s]-p)/3,u[`cp2${s}`]=p+l,u[`cp2${n}`]=x+l*e[m])}}function Dz(t,e="x"){const s=Q_(e),n=t.length,a=Array(n).fill(0),l=Array(n);let c,u,h,m=dl(t,0);for(c=0;c<n;++c)if(u=h,h=m,m=dl(t,c+1),!!h){if(m){const p=m[e]-h[e];a[c]=p!==0?(m[s]-h[s])/p:0}l[c]=u?m?pr(a[c-1])!==pr(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}Mz(t,a,l),Az(t,l,e)}function Dh(t,e,s){return Math.max(Math.min(t,s),e)}function Rz(t,e){let s,n,a,l,c,u=kd(t[0],e);for(s=0,n=t.length;s<n;++s)c=l,l=u,u=s<n-1&&kd(t[s+1],e),l&&(a=t[s],c&&(a.cp1x=Dh(a.cp1x,e.left,e.right),a.cp1y=Dh(a.cp1y,e.top,e.bottom)),u&&(a.cp2x=Dh(a.cp2x,e.left,e.right),a.cp2y=Dh(a.cp2y,e.top,e.bottom)))}function Oz(t,e,s,n,a){let l,c,u,h;if(e.spanGaps&&(t=t.filter(m=>!m.skip)),e.cubicInterpolationMode==="monotone")Dz(t,a);else{let m=n?t[t.length-1]:t[0];for(l=0,c=t.length;l<c;++l)u=t[l],h=kz(m,u,t[Math.min(l+1,c-(n?0:1))%c],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,m=u}e.capBezierPoints&&Rz(t,s)}function cb(){return typeof window<"u"&&typeof document<"u"}function db(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ef(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Gf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Lz(t,e){return Gf(t).getPropertyValue(e)}const Pz=["top","right","bottom","left"];function Yi(t,e,s){const n={};s=s?"-"+s:"";for(let a=0;a<4;a++){const l=Pz[a];n[l]=parseFloat(t[e+"-"+l+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const zz=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function Bz(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:a,offsetY:l}=n;let c=!1,u,h;if(zz(a,l,t.target))u=a,h=l;else{const m=e.getBoundingClientRect();u=n.clientX-m.left,h=n.clientY-m.top,c=!0}return{x:u,y:h,box:c}}function Pi(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,a=Gf(s),l=a.boxSizing==="border-box",c=Yi(a,"padding"),u=Yi(a,"border","width"),{x:h,y:m,box:p}=Bz(t,s),x=c.left+(p&&u.left),b=c.top+(p&&u.top);let{width:v,height:j}=e;return l&&(v-=c.width+u.width,j-=c.height+u.height),{x:Math.round((h-x)/v*s.width/n),y:Math.round((m-b)/j*s.height/n)}}function Vz(t,e,s){let n,a;if(e===void 0||s===void 0){const l=t&&db(t);if(!l)e=t.clientWidth,s=t.clientHeight;else{const c=l.getBoundingClientRect(),u=Gf(l),h=Yi(u,"border","width"),m=Yi(u,"padding");e=c.width-m.width-h.width,s=c.height-m.height-h.height,n=Ef(u.maxWidth,l,"clientWidth"),a=Ef(u.maxHeight,l,"clientHeight")}}return{width:e,height:s,maxWidth:n||Nf,maxHeight:a||Nf}}const Rh=t=>Math.round(t*10)/10;function Uz(t,e,s,n){const a=Gf(t),l=Yi(a,"margin"),c=Ef(a.maxWidth,t,"clientWidth")||Nf,u=Ef(a.maxHeight,t,"clientHeight")||Nf,h=Vz(t,e,s);let{width:m,height:p}=h;if(a.boxSizing==="content-box"){const b=Yi(a,"border","width"),v=Yi(a,"padding");m-=v.width+b.width,p-=v.height+b.height}return m=Math.max(0,m-l.width),p=Math.max(0,n?m/n:p-l.height),m=Rh(Math.min(m,c,h.maxWidth)),p=Rh(Math.min(p,u,h.maxHeight)),m&&!p&&(p=Rh(m/2)),(e!==void 0||s!==void 0)&&n&&h.height&&p>h.height&&(p=h.height,m=Rh(Math.floor(p*n))),{width:m,height:p}}function G2(t,e,s){const n=e||1,a=Math.floor(t.height*n),l=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(s||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||c.height!==a||c.width!==l?(t.currentDevicePixelRatio=n,c.height=a,c.width=l,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Hz=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};cb()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function K2(t,e){const s=Lz(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function zi(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function Fz(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function $z(t,e,s,n){const a={x:t.cp2x,y:t.cp2y},l={x:e.cp1x,y:e.cp1y},c=zi(t,a,s),u=zi(a,l,s),h=zi(l,e,s),m=zi(c,u,s),p=zi(u,h,s);return zi(m,p,s)}const Iz=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},qz=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function rl(t,e,s){return t?Iz(e,s):qz()}function Z_(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function J_(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function eE(t){return t==="angle"?{between:Td,compare:Y8,normalize:Ba}:{between:Fa,compare:(e,s)=>e-s,normalize:e=>e}}function Q2({start:t,end:e,count:s,loop:n,style:a}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:a}}function Yz(t,e,s){const{property:n,start:a,end:l}=s,{between:c,normalize:u}=eE(n),h=e.length;let{start:m,end:p,loop:x}=t,b,v;if(x){for(m+=h,p+=h,b=0,v=h;b<v&&c(u(e[m%h][n]),a,l);++b)m--,p--;m%=h,p%=h}return p<m&&(p+=h),{start:m,end:p,loop:x,style:t.style}}function Xz(t,e,s){if(!s)return[t];const{property:n,start:a,end:l}=s,c=e.length,{compare:u,between:h,normalize:m}=eE(n),{start:p,end:x,loop:b,style:v}=Yz(t,e,s),j=[];let S=!1,N=null,_,A,k;const R=()=>h(a,k,_)&&u(a,k)!==0,M=()=>u(l,_)===0||h(l,k,_),z=()=>S||R(),H=()=>!S||M();for(let L=p,F=p;L<=x;++L)A=e[L%c],!A.skip&&(_=m(A[n]),_!==k&&(S=h(_,a,l),N===null&&z()&&(N=u(_,a)===0?L:F),N!==null&&H()&&(j.push(Q2({start:N,end:L,loop:b,count:c,style:v})),N=null),F=L,k=_));return N!==null&&j.push(Q2({start:N,end:x,loop:b,count:c,style:v})),j}function Wz(t,e){const s=[],n=t.segments;for(let a=0;a<n.length;a++){const l=Xz(n[a],t.points,e);l.length&&s.push(...l)}return s}function Gz(t,e,s,n){let a=0,l=e-1;if(s&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,s&&(l+=a);l>a&&t[l%e].skip;)l--;return l%=e,{start:a,end:l}}function Kz(t,e,s,n){const a=t.length,l=[];let c=e,u=t[e],h;for(h=e+1;h<=s;++h){const m=t[h%a];m.skip||m.stop?u.skip||(n=!1,l.push({start:e%a,end:(h-1)%a,loop:n}),e=c=m.stop?h:null):(c=h,u.skip&&(e=h)),u=m}return c!==null&&l.push({start:e%a,end:c%a,loop:n}),l}function Qz(t,e){const s=t.points,n=t.options.spanGaps,a=s.length;if(!a)return[];const l=!!t._loop,{start:c,end:u}=Gz(s,a,l,n);if(n===!0)return Z2(t,[{start:c,end:u,loop:l}],s,e);const h=u<c?u+a:u,m=!!t._fullLoop&&c===0&&u===a-1;return Z2(t,Kz(s,c,h,m),s,e)}function Z2(t,e,s,n){return!n||!n.setContext||!s?e:Zz(t,e,s,n)}function Zz(t,e,s,n){const a=t._chart.getContext(),l=J2(t.options),{_datasetIndex:c,options:{spanGaps:u}}=t,h=s.length,m=[];let p=l,x=e[0].start,b=x;function v(j,S,N,_){const A=u?-1:1;if(j!==S){for(j+=h;s[j%h].skip;)j-=A;for(;s[S%h].skip;)S+=A;j%h!==S%h&&(m.push({start:j%h,end:S%h,loop:N,style:_}),p=_,x=S%h)}}for(const j of e){x=u?x:j.start;let S=s[x%h],N;for(b=x+1;b<=j.end;b++){const _=s[b%h];N=J2(n.setContext(Zi(a,{type:"segment",p0:S,p1:_,p0DataIndex:(b-1)%h,p1DataIndex:b%h,datasetIndex:c}))),Jz(N,p)&&v(x,b-1,j.loop,p),S=_,p=N}x<b-1&&v(x,b-1,j.loop,p)}return m}function J2(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Jz(t,e){if(!e)return!1;const s=[],n=function(a,l){return tb(l)?(s.includes(l)||s.push(l),s.indexOf(l)):l};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Oh(t,e,s){return t.options.clip?t[s]:e[s]}function eB(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:Oh(s,e,"left"),right:Oh(s,e,"right"),top:Oh(n,e,"top"),bottom:Oh(n,e,"bottom")}:e}function tB(t,e){const s=e._clip;if(s.disabled)return!1;const n=eB(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class sB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,a){const l=s.listeners[a],c=s.duration;l.forEach(u=>u({chart:e,initial:s.initial,numSteps:c,currentStep:Math.min(n-s.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=F_.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const l=n.items;let c=l.length-1,u=!1,h;for(;c>=0;--c)h=l[c],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(e),u=!0):(l[c]=l[l.length-1],l.pop());u&&(a.draw(),this._notify(a,n,e,"progress")),l.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),s+=l.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ur=new sB;const ej="transparent",nB={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=$2(t||ej),a=n.valid&&$2(e||ej);return a&&a.valid?a.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class rB{constructor(e,s,n,a){const l=s[n];a=Ah([e.to,a,l,e.from]);const c=Ah([e.from,l,a]);this._active=!0,this._fn=e.fn||nB[e.type||typeof c],this._easing=ld[e.easing]||ld.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const a=this._target[this._prop],l=n-this._start,c=this._duration-l;this._start=n,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=l,this._loop=!!e.loop,this._to=Ah([e.to,s,a,e.from]),this._from=Ah([e.from,a,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,a=this._prop,l=this._from,c=this._loop,u=this._to;let h;if(this._active=l!==u&&(c||s<n),!this._active){this._target[a]=u,this._notify(!0);return}if(s<0){this._target[a]=l;return}h=s/n%2,h=c&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[a]=this._fn(l,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][s]()}}class tE{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!Ze(e))return;const s=Object.keys(Wt.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const l=e[a];if(!Ze(l))return;const c={};for(const u of s)c[u]=l[u];(is(l.properties)&&l.properties||[a]).forEach(u=>{(u===a||!n.has(u))&&n.set(u,c)})})}_animateOptions(e,s){const n=s.options,a=iB(e,n);if(!a)return[];const l=this._createAnimations(a,n);return n.$shared&&aB(e.options.$animations,n).then(()=>{e.options=n},()=>{}),l}_createAnimations(e,s){const n=this._properties,a=[],l=e.$animations||(e.$animations={}),c=Object.keys(s),u=Date.now();let h;for(h=c.length-1;h>=0;--h){const m=c[h];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(e,s));continue}const p=s[m];let x=l[m];const b=n.get(m);if(x)if(b&&x.active()){x.update(b,p,u);continue}else x.cancel();if(!b||!b.duration){e[m]=p;continue}l[m]=x=new rB(b,e,m,p),a.push(x)}return a}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return Ur.add(this._chart,n),!0}}function aB(t,e){const s=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const l=t[n[a]];l&&l.active()&&s.push(l.wait())}return Promise.all(s)}function iB(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function tj(t,e){const s=t&&t.options||{},n=s.reverse,a=s.min===void 0?e:0,l=s.max===void 0?e:0;return{start:n?l:a,end:n?a:l}}function oB(t,e,s){if(s===!1)return!1;const n=tj(t,s),a=tj(e,s);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function lB(t){let e,s,n,a;return Ze(t)?(e=t.top,s=t.right,n=t.bottom,a=t.left):e=s=n=a=t,{top:e,right:s,bottom:n,left:a,disabled:t===!1}}function sE(t,e){const s=[],n=t._getSortedDatasetMetas(e);let a,l;for(a=0,l=n.length;a<l;++a)s.push(n[a].index);return s}function sj(t,e,s,n={}){const a=t.keys,l=n.mode==="single";let c,u,h,m;if(e===null)return;let p=!1;for(c=0,u=a.length;c<u;++c){if(h=+a[c],h===s){if(p=!0,n.all)continue;break}m=t.values[h],En(m)&&(l||e===0||pr(e)===pr(m))&&(e+=m)}return!p&&!n.all?0:e}function cB(t,e){const{iScale:s,vScale:n}=e,a=s.axis==="x"?"x":"y",l=n.axis==="x"?"x":"y",c=Object.keys(t),u=new Array(c.length);let h,m,p;for(h=0,m=c.length;h<m;++h)p=c[h],u[h]={[a]:p,[l]:t[p]};return u}function Fx(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function dB(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function uB(t){const{min:e,max:s,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?s:Number.POSITIVE_INFINITY}}function hB(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function nj(t,e,s,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const l=t[a.index];if(s&&l>0||!s&&l<0)return a.index}return null}function rj(t,e){const{chart:s,_cachedMeta:n}=t,a=s._stacks||(s._stacks={}),{iScale:l,vScale:c,index:u}=n,h=l.axis,m=c.axis,p=dB(l,c,n),x=e.length;let b;for(let v=0;v<x;++v){const j=e[v],{[h]:S,[m]:N}=j,_=j._stacks||(j._stacks={});b=_[m]=hB(a,p,S),b[u]=N,b._top=nj(b,c,!0,n.type),b._bottom=nj(b,c,!1,n.type);const A=b._visualValues||(b._visualValues={});A[u]=N}}function $x(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function fB(t,e){return Zi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function mB(t,e,s){return Zi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Pc(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const l=a._stacks;if(!l||l[n]===void 0||l[n][s]===void 0)return;delete l[n][s],l[n]._visualValues!==void 0&&l[n]._visualValues[s]!==void 0&&delete l[n]._visualValues[s]}}}const Ix=t=>t==="reset"||t==="none",aj=(t,e)=>e?t:Object.assign({},t),pB=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:sE(s,!0),values:null};class al{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Fx(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Pc(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),a=(x,b,v,j)=>x==="x"?b:x==="r"?j:v,l=s.xAxisID=Ye(n.xAxisID,$x(e,"x")),c=s.yAxisID=Ye(n.yAxisID,$x(e,"y")),u=s.rAxisID=Ye(n.rAxisID,$x(e,"r")),h=s.indexAxis,m=s.iAxisID=a(h,l,c,u),p=s.vAxisID=a(h,c,l,u);s.xScale=this.getScaleForId(l),s.yScale=this.getScaleForId(c),s.rScale=this.getScaleForId(u),s.iScale=this.getScaleForId(m),s.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&U2(this._data,this),e._stacked&&Pc(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(Ze(s)){const a=this._cachedMeta;this._data=cB(s,a)}else if(n!==s){if(n){U2(n,this);const a=this._cachedMeta;Pc(a),a._parsed=[]}s&&Object.isExtensible(s)&&K8(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const l=s._stacked;s._stacked=Fx(s.vScale,s),s.stack!==n.stack&&(a=!0,Pc(s),s.stack=n.stack),this._resyncElements(e),(a||l!==s._stacked)&&(rj(this,s._parsed),s._stacked=Fx(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:a}=this,{iScale:l,_stacked:c}=n,u=l.axis;let h=e===0&&s===a.length?!0:n._sorted,m=e>0&&n._parsed[e-1],p,x,b;if(this._parsing===!1)n._parsed=a,n._sorted=!0,b=a;else{is(a[e])?b=this.parseArrayData(n,a,e,s):Ze(a[e])?b=this.parseObjectData(n,a,e,s):b=this.parsePrimitiveData(n,a,e,s);const v=()=>x[u]===null||m&&x[u]<m[u];for(p=0;p<s;++p)n._parsed[p+e]=x=b[p],h&&(v()&&(h=!1),m=x);n._sorted=h}c&&rj(this,b)}parsePrimitiveData(e,s,n,a){const{iScale:l,vScale:c}=e,u=l.axis,h=c.axis,m=l.getLabels(),p=l===c,x=new Array(a);let b,v,j;for(b=0,v=a;b<v;++b)j=b+n,x[b]={[u]:p||l.parse(m[j],j),[h]:c.parse(s[j],j)};return x}parseArrayData(e,s,n,a){const{xScale:l,yScale:c}=e,u=new Array(a);let h,m,p,x;for(h=0,m=a;h<m;++h)p=h+n,x=s[p],u[h]={x:l.parse(x[0],p),y:c.parse(x[1],p)};return u}parseObjectData(e,s,n,a){const{xScale:l,yScale:c}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=new Array(a);let p,x,b,v;for(p=0,x=a;p<x;++p)b=p+n,v=s[b],m[p]={x:l.parse(Ki(v,u),b),y:c.parse(Ki(v,h),b)};return m}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const a=this.chart,l=this._cachedMeta,c=s[e.axis],u={keys:sE(a,!0),values:s._stacks[e.axis]._visualValues};return sj(u,c,l.index,{mode:n})}updateRangeFromParsed(e,s,n,a){const l=n[s.axis];let c=l===null?NaN:l;const u=a&&n._stacks[s.axis];a&&u&&(a.values=u,c=sj(a,l,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,s){const n=this._cachedMeta,a=n._parsed,l=n._sorted&&e===n.iScale,c=a.length,u=this._getOtherScale(e),h=pB(s,n,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:x}=uB(u);let b,v;function j(){v=a[b];const S=v[u.axis];return!En(v[e.axis])||p>S||x<S}for(b=0;b<c&&!(!j()&&(this.updateRangeFromParsed(m,e,v,h),l));++b);if(l){for(b=c-1;b>=0;--b)if(!j()){this.updateRangeFromParsed(m,e,v,h);break}}return m}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let a,l,c;for(a=0,l=s.length;a<l;++a)c=s[a][e.axis],En(c)&&n.push(c);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,a=s.vScale,l=this.getParsed(e);return{label:n?""+n.getLabelForValue(l[n.axis]):"",value:a?""+a.getLabelForValue(l[a.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=lB(Ye(this.options.clip,oB(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,a=n.data||[],l=s.chartArea,c=[],u=this._drawStart||0,h=this._drawCount||a.length-u,m=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(e,l,u,h),p=u;p<u+h;++p){const x=a[p];x.hidden||(x.active&&m?c.push(x):x.draw(e,l))}for(p=0;p<c.length;++p)c[p].draw(e,l)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const a=this.getDataset();let l;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];l=c.$context||(c.$context=mB(this.getContext(),e,c)),l.parsed=this.getParsed(e),l.raw=a.data[e],l.index=l.dataIndex=e}else l=this.$context||(this.$context=fB(this.chart.getContext(),this.index)),l.dataset=a,l.index=l.datasetIndex=this.index;return l.active=!!s,l.mode=n,l}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const a=s==="active",l=this._cachedDataOpts,c=e+"-"+s,u=l[c],h=this.enableOptionSharing&&Cd(n);if(u)return aj(u,h);const m=this.chart.config,p=m.datasetElementScopeKeys(this._type,e),x=a?[`${e}Hover`,"hover",e,""]:[e,""],b=m.getOptionScopes(this.getDataset(),p),v=Object.keys(Wt.elements[e]),j=()=>this.getContext(n,a,s),S=m.resolveNamedOptions(b,v,j,x);return S.$shared&&(S.$shared=h,l[c]=Object.freeze(aj(S,h))),S}_resolveAnimations(e,s,n){const a=this.chart,l=this._cachedDataOpts,c=`animation-${s}`,u=l[c];if(u)return u;let h;if(a.options.animation!==!1){const p=this.chart.config,x=p.datasetAnimationScopeKeys(this._type,s),b=p.getOptionScopes(this.getDataset(),x);h=p.createResolver(b,this.getContext(e,n,s))}const m=new tE(a,h&&h.animations);return h&&h._cacheable&&(l[c]=Object.freeze(m)),m}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||Ix(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),a=this._sharedOptions,l=this.getSharedOptions(n),c=this.includeOptions(s,l)||l!==a;return this.updateSharedOptions(l,s,n),{sharedOptions:l,includeOptions:c}}updateElement(e,s,n,a){Ix(a)?Object.assign(e,n):this._resolveAnimations(s,a).update(e,n)}updateSharedOptions(e,s,n){e&&!Ix(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,a){e.active=a;const l=this.getStyle(s,a);this._resolveAnimations(s,n,a).update(e,{options:!a&&this.getSharedOptions(l)||l})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[u,h,m]of this._syncList)this[u](h,m);this._syncList=[];const a=n.length,l=s.length,c=Math.min(l,a);c&&this.parse(0,c),l>a?this._insertElements(a,l-a,e):l<a&&this._removeElements(l,a-l)}_insertElements(e,s,n=!0){const a=this._cachedMeta,l=a.data,c=e+s;let u;const h=m=>{for(m.length+=s,u=m.length-1;u>=c;u--)m[u]=m[u-s]};for(h(l),u=e;u<c;++u)l[u]=new this.dataElementType;this._parsing&&h(a._parsed),this.parse(e,s),n&&this.updateElements(l,e,s,"reset")}updateElements(e,s,n,a){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,s);n._stacked&&Pc(n,a)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,a]=e;this[s](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Me(al,"defaults",{}),Me(al,"datasetElementType",null),Me(al,"dataElementType",null);function xB(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,l=s.length;a<l;a++)n=n.concat(s[a].controller.getAllParsedValues(t));t._cache.$bar=H_(n.sort((a,l)=>a-l))}return t._cache.$bar}function gB(t){const e=t.iScale,s=xB(e,t.type);let n=e._length,a,l,c,u;const h=()=>{c===32767||c===-32768||(Cd(u)&&(n=Math.min(n,Math.abs(c-u)||n)),u=c)};for(a=0,l=s.length;a<l;++a)c=e.getPixelForValue(s[a]),h();for(u=void 0,a=0,l=e.ticks.length;a<l;++a)c=e.getPixelForTick(a),h();return n}function yB(t,e,s,n){const a=s.barThickness;let l,c;return yt(a)?(l=e.min*s.categoryPercentage,c=s.barPercentage):(l=a*n,c=1),{chunk:l/n,ratio:c,start:e.pixels[t]-l/2}}function bB(t,e,s,n){const a=e.pixels,l=a[t];let c=t>0?a[t-1]:null,u=t<a.length-1?a[t+1]:null;const h=s.categoryPercentage;c===null&&(c=l-(u===null?e.end-e.start:u-l)),u===null&&(u=l+l-c);const m=l-(l-Math.min(c,u))/2*h;return{chunk:Math.abs(u-c)/2*h/n,ratio:s.barPercentage,start:m}}function vB(t,e,s,n){const a=s.parse(t[0],n),l=s.parse(t[1],n),c=Math.min(a,l),u=Math.max(a,l);let h=c,m=u;Math.abs(c)>Math.abs(u)&&(h=u,m=c),e[s.axis]=m,e._custom={barStart:h,barEnd:m,start:a,end:l,min:c,max:u}}function nE(t,e,s,n){return is(t)?vB(t,e,s,n):e[s.axis]=s.parse(t,n),e}function ij(t,e,s,n){const a=t.iScale,l=t.vScale,c=a.getLabels(),u=a===l,h=[];let m,p,x,b;for(m=s,p=s+n;m<p;++m)b=e[m],x={},x[a.axis]=u||a.parse(c[m],m),h.push(nE(b,x,l,m));return h}function qx(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function wB(t,e,s){return t!==0?pr(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function jB(t){let e,s,n,a,l;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(a="end",l="start"):(a="start",l="end"),{start:s,end:n,reverse:e,top:a,bottom:l}}function NB(t,e,s,n){let a=e.borderSkipped;const l={};if(!a){t.borderSkipped=l;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:h,top:m,bottom:p}=jB(t);a==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?a=m:(s._bottom||0)===n?a=p:(l[oj(p,c,u,h)]=!0,a=m)),l[oj(a,c,u,h)]=!0,t.borderSkipped=l}function oj(t,e,s,n){return n?(t=SB(t,e,s),t=lj(t,s,e)):t=lj(t,e,s),t}function SB(t,e,s){return t===e?s:t===s?e:t}function lj(t,e,s){return t==="start"?e:t==="end"?s:t}function _B(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class nf extends al{parsePrimitiveData(e,s,n,a){return ij(e,s,n,a)}parseArrayData(e,s,n,a){return ij(e,s,n,a)}parseObjectData(e,s,n,a){const{iScale:l,vScale:c}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,m=l.axis==="x"?u:h,p=c.axis==="x"?u:h,x=[];let b,v,j,S;for(b=n,v=n+a;b<v;++b)S=s[b],j={},j[l.axis]=l.parse(Ki(S,m),b),x.push(nE(Ki(S,p),j,c,b));return x}updateRangeFromParsed(e,s,n,a){super.updateRangeFromParsed(e,s,n,a);const l=n._custom;l&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,l.min),e.max=Math.max(e.max,l.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:a}=s,l=this.getParsed(e),c=l._custom,u=qx(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(l[a.axis]);return{label:""+n.getLabelForValue(l[n.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,a){const l=a==="reset",{index:c,_cachedMeta:{vScale:u}}=this,h=u.getBasePixel(),m=u.isHorizontal(),p=this._getRuler(),{sharedOptions:x,includeOptions:b}=this._getSharedOptions(s,a);for(let v=s;v<s+n;v++){const j=this.getParsed(v),S=l||yt(j[u.axis])?{base:h,head:h}:this._calculateBarValuePixels(v),N=this._calculateBarIndexPixels(v,p),_=(j._stacks||{})[u.axis],A={horizontal:m,base:S.base,enableBorderRadius:!_||qx(j._custom)||c===_._top||c===_._bottom,x:m?S.head:N.center,y:m?N.center:S.head,height:m?N.size:Math.abs(S.size),width:m?Math.abs(S.size):N.size};b&&(A.options=x||this.resolveDataElementOptions(v,e[v].active?"active":a));const k=A.options||e[v].options;NB(A,k,_,c),_B(A,k,p.ratio),this.updateElement(e[v],v,A,a)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),l=n.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(s),h=u&&u[n.axis],m=p=>{const x=p._parsed.find(v=>v[n.axis]===h),b=x&&x[p.vScale.axis];if(yt(b)||isNaN(b))return!0};for(const p of a)if(!(s!==void 0&&m(p))&&((l===!1||c.indexOf(p.stack)===-1||l===void 0&&p.stack===void 0)&&c.push(p.stack),p.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,n){const a=this._getStacks(e,n),l=s!==void 0?a.indexOf(s):-1;return l===-1?a.length-1:l}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,a=[];let l,c;for(l=0,c=s.data.length;l<c;++l)a.push(n.getPixelForValue(this.getParsed(l)[n.axis],l));const u=e.barThickness;return{min:u||gB(s),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:u?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:a},options:{base:l,minBarLength:c}}=this,u=l||0,h=this.getParsed(e),m=h._custom,p=qx(m);let x=h[s.axis],b=0,v=n?this.applyStack(s,h,n):x,j,S;v!==x&&(b=v-x,v=x),p&&(x=m.barStart,v=m.barEnd-m.barStart,x!==0&&pr(x)!==pr(m.barEnd)&&(b=0),b+=x);const N=!yt(l)&&!p?l:b;let _=s.getPixelForValue(N);if(this.chart.getDataVisibility(e)?j=s.getPixelForValue(b+v):j=_,S=j-_,Math.abs(S)<c){S=wB(S,s,u)*c,x===u&&(_-=S/2);const A=s.getPixelForDecimal(0),k=s.getPixelForDecimal(1),R=Math.min(A,k),M=Math.max(A,k);_=Math.max(Math.min(_,M),R),j=_+S,n&&!p&&(h._stacks[s.axis]._visualValues[a]=s.getValueForPixel(j)-s.getValueForPixel(_))}if(_===s.getPixelForValue(u)){const A=pr(S)*s.getLineWidthForValue(u)/2;_+=A,S-=A}return{size:S,base:_,head:j,center:j+S/2}}_calculateBarIndexPixels(e,s){const n=s.scale,a=this.options,l=a.skipNull,c=Ye(a.maxBarThickness,1/0);let u,h;if(s.grouped){const m=l?this._getStackCount(e):s.stackCount,p=a.barThickness==="flex"?bB(e,s,a,m):yB(e,s,a,m),x=this._getStackIndex(this.index,this._cachedMeta.stack,l?e:void 0);u=p.start+p.chunk*x+p.chunk/2,h=Math.min(c,p.chunk*p.ratio)}else u=n.getPixelForValue(this.getParsed(e)[n.axis],e),h=Math.min(c,s.min*s.ratio);return{base:u-h/2,head:u+h/2,center:u,size:h}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,a=n.length;let l=0;for(;l<a;++l)this.getParsed(l)[s.axis]!==null&&!n[l].hidden&&n[l].draw(this._ctx)}}Me(nf,"id","bar"),Me(nf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Me(nf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function EB(t,e,s){let n=1,a=1,l=0,c=0;if(e<Vt){const u=t,h=u+e,m=Math.cos(u),p=Math.sin(u),x=Math.cos(h),b=Math.sin(h),v=(k,R,M)=>Td(k,u,h,!0)?1:Math.max(R,R*s,M,M*s),j=(k,R,M)=>Td(k,u,h,!0)?-1:Math.min(R,R*s,M,M*s),S=v(0,m,x),N=v(os,p,b),_=j(Ut,m,x),A=j(Ut+os,p,b);n=(S-_)/2,a=(N-A)/2,l=-(S+_)/2,c=-(N+A)/2}return{ratioX:n,ratioY:a,offsetX:l,offsetY:c}}class Gc extends al{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let l=h=>+n[h];if(Ze(n[e])){const{key:h="value"}=this._parsing;l=m=>+Ki(n[m],h)}let c,u;for(c=e,u=e+s;c<u;++c)a._parsed[c]=l(c)}}_getRotation(){return $r(this.options.rotation-90)}_getCircumference(){return $r(this.options.circumference)}_getRotationExtents(){let e=Vt,s=-Vt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,l=a._getRotation(),c=a._getCircumference();e=Math.min(e,l),s=Math.max(s,l+c)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,a=this._cachedMeta,l=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(l)+this.options.spacing,u=Math.max((Math.min(n.width,n.height)-c)/2,0),h=Math.min(R8(this.options.cutout,u),1),m=this._getRingWeight(this.index),{circumference:p,rotation:x}=this._getRotationExtents(),{ratioX:b,ratioY:v,offsetX:j,offsetY:S}=EB(x,p,h),N=(n.width-c)/b,_=(n.height-c)/v,A=Math.max(Math.min(N,_)/2,0),k=P_(this.options.radius,A),R=Math.max(k*h,0),M=(k-R)/this._getVisibleDatasetWeightTotal();this.offsetX=j*k,this.offsetY=S*k,a.total=this.calculateTotal(),this.outerRadius=k-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*m,0),this.updateElements(l,0,l.length,e)}_circumference(e,s){const n=this.options,a=this._cachedMeta,l=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*l/Vt)}updateElements(e,s,n,a){const l=a==="reset",c=this.chart,u=c.chartArea,m=c.options.animation,p=(u.left+u.right)/2,x=(u.top+u.bottom)/2,b=l&&m.animateScale,v=b?0:this.innerRadius,j=b?0:this.outerRadius,{sharedOptions:S,includeOptions:N}=this._getSharedOptions(s,a);let _=this._getRotation(),A;for(A=0;A<s;++A)_+=this._circumference(A,l);for(A=s;A<s+n;++A){const k=this._circumference(A,l),R=e[A],M={x:p+this.offsetX,y:x+this.offsetY,startAngle:_,endAngle:_+k,circumference:k,outerRadius:j,innerRadius:v};N&&(M.options=S||this.resolveDataElementOptions(A,R.active?"active":a)),_+=k,this.updateElement(R,A,M,a)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,a;for(a=0;a<s.length;a++){const l=e._parsed[a];l!==null&&!isNaN(l)&&this.chart.getDataVisibility(a)&&!s[a].hidden&&(n+=Math.abs(l))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Vt*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,a=n.data.labels||[],l=sb(s._parsed[e],n.options.locale);return{label:a[e]||"",value:l}}getMaxBorderWidth(e){let s=0;const n=this.chart;let a,l,c,u,h;if(!e){for(a=0,l=n.data.datasets.length;a<l;++a)if(n.isDatasetVisible(a)){c=n.getDatasetMeta(a),e=c.data,u=c.controller;break}}if(!e)return 0;for(a=0,l=e.length;a<l;++a)h=u.resolveDataElementOptions(a),h.borderAlign!=="inner"&&(s=Math.max(s,h.borderWidth||0,h.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,a=e.length;n<a;++n){const l=this.resolveDataElementOptions(n);s=Math.max(s,l.offset||0,l.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(Ye(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Me(Gc,"id","doughnut"),Me(Gc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Me(Gc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Me(Gc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return s.labels.map((l,c)=>{const h=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:a,lineWidth:h.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(c),index:c}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class Yg extends Gc{}Me(Yg,"id","pie"),Me(Yg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ri(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ub{constructor(e){Me(this,"options");this.options=e||{}}static override(e){Object.assign(ub.prototype,e)}init(){}formats(){return Ri()}parse(){return Ri()}format(){return Ri()}add(){return Ri()}diff(){return Ri()}startOf(){return Ri()}endOf(){return Ri()}}var CB={_date:ub};function TB(t,e,s,n){const{controller:a,data:l,_sorted:c}=t,u=a._cachedMeta.iScale,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&c&&l.length){const m=u._reversePixels?W8:$g;if(n){if(a._sharedOptions){const p=l[0],x=typeof p.getRange=="function"&&p.getRange(e);if(x){const b=m(l,e,s-x),v=m(l,e,s+x);return{lo:b.lo,hi:v.hi}}}}else{const p=m(l,e,s);if(h){const{vScale:x}=a._cachedMeta,{_parsed:b}=t,v=b.slice(0,p.lo+1).reverse().findIndex(S=>!yt(S[x.axis]));p.lo-=Math.max(0,v);const j=b.slice(p.hi).findIndex(S=>!yt(S[x.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:l.length-1}}function Kf(t,e,s,n,a){const l=t.getSortedVisibleDatasetMetas(),c=s[e];for(let u=0,h=l.length;u<h;++u){const{index:m,data:p}=l[u],{lo:x,hi:b}=TB(l[u],e,c,a);for(let v=x;v<=b;++v){const j=p[v];j.skip||n(j,m,v)}}}function kB(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,a){const l=e?Math.abs(n.x-a.x):0,c=s?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(c,2))}}function Yx(t,e,s,n,a){const l=[];return!a&&!t.isPointInArea(e)||Kf(t,s,e,function(u,h,m){!a&&!kd(u,t.chartArea,0)||u.inRange(e.x,e.y,n)&&l.push({element:u,datasetIndex:h,index:m})},!0),l}function MB(t,e,s,n){let a=[];function l(c,u,h){const{startAngle:m,endAngle:p}=c.getProps(["startAngle","endAngle"],n),{angle:x}=V_(c,{x:e.x,y:e.y});Td(x,m,p)&&a.push({element:c,datasetIndex:u,index:h})}return Kf(t,s,e,l),a}function AB(t,e,s,n,a,l){let c=[];const u=kB(s);let h=Number.POSITIVE_INFINITY;function m(p,x,b){const v=p.inRange(e.x,e.y,a);if(n&&!v)return;const j=p.getCenterPoint(a);if(!(!!l||t.isPointInArea(j))&&!v)return;const N=u(e,j);N<h?(c=[{element:p,datasetIndex:x,index:b}],h=N):N===h&&c.push({element:p,datasetIndex:x,index:b})}return Kf(t,s,e,m),c}function Xx(t,e,s,n,a,l){return!l&&!t.isPointInArea(e)?[]:s==="r"&&!n?MB(t,e,s,a):AB(t,e,s,n,a,l)}function cj(t,e,s,n,a){const l=[],c=s==="x"?"inXRange":"inYRange";let u=!1;return Kf(t,s,e,(h,m,p)=>{h[c]&&h[c](e[s],a)&&(l.push({element:h,datasetIndex:m,index:p}),u=u||h.inRange(e.x,e.y,a))}),n&&!u?[]:l}var DB={modes:{index(t,e,s,n){const a=Pi(e,t),l=s.axis||"x",c=s.includeInvisible||!1,u=s.intersect?Yx(t,a,l,n,c):Xx(t,a,l,!1,n,c),h=[];return u.length?(t.getSortedVisibleDatasetMetas().forEach(m=>{const p=u[0].index,x=m.data[p];x&&!x.skip&&h.push({element:x,datasetIndex:m.index,index:p})}),h):[]},dataset(t,e,s,n){const a=Pi(e,t),l=s.axis||"xy",c=s.includeInvisible||!1;let u=s.intersect?Yx(t,a,l,n,c):Xx(t,a,l,!1,n,c);if(u.length>0){const h=u[0].datasetIndex,m=t.getDatasetMeta(h).data;u=[];for(let p=0;p<m.length;++p)u.push({element:m[p],datasetIndex:h,index:p})}return u},point(t,e,s,n){const a=Pi(e,t),l=s.axis||"xy",c=s.includeInvisible||!1;return Yx(t,a,l,n,c)},nearest(t,e,s,n){const a=Pi(e,t),l=s.axis||"xy",c=s.includeInvisible||!1;return Xx(t,a,l,s.intersect,n,c)},x(t,e,s,n){const a=Pi(e,t);return cj(t,a,"x",s.intersect,n)},y(t,e,s,n){const a=Pi(e,t);return cj(t,a,"y",s.intersect,n)}}};const rE=["left","top","right","bottom"];function zc(t,e){return t.filter(s=>s.pos===e)}function dj(t,e){return t.filter(s=>rE.indexOf(s.pos)===-1&&s.box.axis===e)}function Bc(t,e){return t.sort((s,n)=>{const a=e?n:s,l=e?s:n;return a.weight===l.weight?a.index-l.index:a.weight-l.weight})}function RB(t){const e=[];let s,n,a,l,c,u;for(s=0,n=(t||[]).length;s<n;++s)a=t[s],{position:l,options:{stack:c,stackWeight:u=1}}=a,e.push({index:s,box:a,pos:l,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&l+c,stackWeight:u});return e}function OB(t){const e={};for(const s of t){const{stack:n,pos:a,stackWeight:l}=s;if(!n||!rE.includes(a))continue;const c=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=l}return e}function LB(t,e){const s=OB(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let l,c,u;for(l=0,c=t.length;l<c;++l){u=t[l];const{fullSize:h}=u.box,m=s[u.stack],p=m&&u.stackWeight/m.weight;u.horizontal?(u.width=p?p*n:h&&e.availableWidth,u.height=a):(u.width=n,u.height=p?p*a:h&&e.availableHeight)}return s}function PB(t){const e=RB(t),s=Bc(e.filter(m=>m.box.fullSize),!0),n=Bc(zc(e,"left"),!0),a=Bc(zc(e,"right")),l=Bc(zc(e,"top"),!0),c=Bc(zc(e,"bottom")),u=dj(e,"x"),h=dj(e,"y");return{fullSize:s,leftAndTop:n.concat(l),rightAndBottom:a.concat(h).concat(c).concat(u),chartArea:zc(e,"chartArea"),vertical:n.concat(a).concat(h),horizontal:l.concat(c).concat(u)}}function uj(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function aE(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function zB(t,e,s,n){const{pos:a,box:l}=s,c=t.maxPadding;if(!Ze(a)){s.size&&(t[a]-=s.size);const x=n[s.stack]||{size:0,count:1};x.size=Math.max(x.size,s.horizontal?l.height:l.width),s.size=x.size/x.count,t[a]+=s.size}l.getPadding&&aE(c,l.getPadding());const u=Math.max(0,e.outerWidth-uj(c,t,"left","right")),h=Math.max(0,e.outerHeight-uj(c,t,"top","bottom")),m=u!==t.w,p=h!==t.h;return t.w=u,t.h=h,s.horizontal?{same:m,other:p}:{same:p,other:m}}function BB(t){const e=t.maxPadding;function s(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function VB(t,e){const s=e.maxPadding;function n(a){const l={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{l[c]=Math.max(e[c],s[c])}),l}return n(t?["left","right"]:["top","bottom"])}function Kc(t,e,s,n){const a=[];let l,c,u,h,m,p;for(l=0,c=t.length,m=0;l<c;++l){u=t[l],h=u.box,h.update(u.width||e.w,u.height||e.h,VB(u.horizontal,e));const{same:x,other:b}=zB(e,s,u,n);m|=x&&a.length,p=p||b,h.fullSize||a.push(u)}return m&&Kc(a,e,s,n)||p}function Lh(t,e,s,n,a){t.top=s,t.left=e,t.right=e+n,t.bottom=s+a,t.width=n,t.height=a}function hj(t,e,s,n){const a=s.padding;let{x:l,y:c}=e;for(const u of t){const h=u.box,m=n[u.stack]||{placed:0,weight:1},p=u.stackWeight/m.weight||1;if(u.horizontal){const x=e.w*p,b=m.size||h.height;Cd(m.start)&&(c=m.start),h.fullSize?Lh(h,a.left,c,s.outerWidth-a.right-a.left,b):Lh(h,e.left+m.placed,c,x,b),m.start=c,m.placed+=x,c=h.bottom}else{const x=e.h*p,b=m.size||h.width;Cd(m.start)&&(l=m.start),h.fullSize?Lh(h,l,a.top,b,s.outerHeight-a.bottom-a.top):Lh(h,l,e.top+m.placed,b,x),m.start=l,m.placed+=x,l=h.right}}e.x=l,e.y=c}var jn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const a=Cn(t.options.layout.padding),l=Math.max(e-a.width,0),c=Math.max(s-a.height,0),u=PB(t.boxes),h=u.vertical,m=u.horizontal;it(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,N)=>N.box.options&&N.box.options.display===!1?S:S+1,0)||1,x=Object.freeze({outerWidth:e,outerHeight:s,padding:a,availableWidth:l,availableHeight:c,vBoxMaxWidth:l/2/p,hBoxMaxHeight:c/2}),b=Object.assign({},a);aE(b,Cn(n));const v=Object.assign({maxPadding:b,w:l,h:c,x:a.left,y:a.top},a),j=LB(h.concat(m),x);Kc(u.fullSize,v,x,j),Kc(h,v,x,j),Kc(m,v,x,j)&&Kc(h,v,x,j),BB(v),hj(u.leftAndTop,v,x,j),v.x+=v.w,v.y+=v.h,hj(u.rightAndBottom,v,x,j),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},it(u.chartArea,S=>{const N=S.box;Object.assign(N,t.chartArea),N.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class iE{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,a){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,a?Math.floor(s/a):n)}}isAttached(e){return!0}updateConfig(e){}}class UB extends iE{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const rf="$chartjs",HB={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fj=t=>t===null||t==="";function FB(t,e){const s=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[rf]={initial:{height:n,width:a,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",fj(a)){const l=K2(t,"width");l!==void 0&&(t.width=l)}if(fj(n))if(t.style.height==="")t.height=t.width/(e||2);else{const l=K2(t,"height");l!==void 0&&(t.height=l)}return t}const oE=Hz?{passive:!0}:!1;function $B(t,e,s){t&&t.addEventListener(e,s,oE)}function IB(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,oE)}function qB(t,e){const s=HB[t.type]||t.type,{x:n,y:a}=Pi(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function Cf(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function YB(t,e,s){const n=t.canvas,a=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||Cf(u.addedNodes,n),c=c&&!Cf(u.removedNodes,n);c&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}function XB(t,e,s){const n=t.canvas,a=new MutationObserver(l=>{let c=!1;for(const u of l)c=c||Cf(u.removedNodes,n),c=c&&!Cf(u.addedNodes,n);c&&s()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ad=new Map;let mj=0;function lE(){const t=window.devicePixelRatio;t!==mj&&(mj=t,Ad.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function WB(t,e){Ad.size||window.addEventListener("resize",lE),Ad.set(t,e)}function GB(t){Ad.delete(t),Ad.size||window.removeEventListener("resize",lE)}function KB(t,e,s){const n=t.canvas,a=n&&db(n);if(!a)return;const l=$_((u,h)=>{const m=a.clientWidth;s(u,h),m<a.clientWidth&&s()},window),c=new ResizeObserver(u=>{const h=u[0],m=h.contentRect.width,p=h.contentRect.height;m===0&&p===0||l(m,p)});return c.observe(a),WB(t,l),c}function Wx(t,e,s){s&&s.disconnect(),e==="resize"&&GB(t)}function QB(t,e,s){const n=t.canvas,a=$_(l=>{t.ctx!==null&&s(qB(l,t))},t);return $B(n,e,a),a}class ZB extends iE{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(FB(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[rf])return!1;const n=s[rf].initial;["height","width"].forEach(l=>{const c=n[l];yt(c)?s.removeAttribute(l):s.setAttribute(l,c)});const a=n.style||{};return Object.keys(a).forEach(l=>{s.style[l]=a[l]}),s.width=s.width,delete s[rf],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const a=e.$proxies||(e.$proxies={}),c={attach:YB,detach:XB,resize:KB}[s]||QB;a[s]=c(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),a=n[s];if(!a)return;({attach:Wx,detach:Wx,resize:Wx}[s]||IB)(e,s,a),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,a){return Uz(e,s,n,a)}isAttached(e){const s=e&&db(e);return!!(s&&s.isConnected)}}function JB(t){return!cb()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?UB:ZB}var Yh;let Jr=(Yh=class{constructor(){Me(this,"x");Me(this,"y");Me(this,"active",!1);Me(this,"options");Me(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return Sf(this.x)&&Sf(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const a={};return e.forEach(l=>{a[l]=n[l]&&n[l].active()?n[l]._to:this[l]}),a}},Me(Yh,"defaults",{}),Me(Yh,"defaultRoutes"),Yh);function eV(t,e){const s=t.options.ticks,n=tV(t),a=Math.min(s.maxTicksLimit||n,n),l=s.major.enabled?nV(e):[],c=l.length,u=l[0],h=l[c-1],m=[];if(c>a)return rV(e,m,l,c/a),m;const p=sV(l,e,a);if(c>0){let x,b;const v=c>1?Math.round((h-u)/(c-1)):null;for(Ph(e,m,p,yt(v)?0:u-v,u),x=0,b=c-1;x<b;x++)Ph(e,m,p,l[x],l[x+1]);return Ph(e,m,p,h,yt(v)?e.length:h+v),m}return Ph(e,m,p),m}function tV(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),a=t._maxLength/s;return Math.floor(Math.min(n,a))}function sV(t,e,s){const n=aV(t),a=e.length/s;if(!n)return Math.max(a,1);const l=H8(n);for(let c=0,u=l.length-1;c<u;c++){const h=l[c];if(h>a)return h}return Math.max(a,1)}function nV(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function rV(t,e,s,n){let a=0,l=s[0],c;for(n=Math.ceil(n),c=0;c<t.length;c++)c===l&&(e.push(t[c]),a++,l=s[a*n])}function Ph(t,e,s,n,a){const l=Ye(n,0),c=Math.min(Ye(a,t.length),t.length);let u=0,h,m,p;for(s=Math.ceil(s),a&&(h=a-n,s=h/Math.floor(h/s)),p=l;p<0;)u++,p=Math.round(l+u*s);for(m=Math.max(l,0);m<c;m++)m===p&&(e.push(t[m]),u++,p=Math.round(l+u*s))}function aV(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const iV=t=>t==="left"?"right":t==="right"?"left":t,pj=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,xj=(t,e)=>Math.min(e||t,t);function gj(t,e){const s=[],n=t.length/e,a=t.length;let l=0;for(;l<a;l+=n)s.push(t[Math.floor(l)]);return s}function oV(t,e,s){const n=t.ticks.length,a=Math.min(e,n-1),l=t._startPixel,c=t._endPixel,u=1e-6;let h=t.getPixelForTick(a),m;if(!(s&&(n===1?m=Math.max(h-l,c-h):e===0?m=(t.getPixelForTick(1)-h)/2:m=(h-t.getPixelForTick(a-1))/2,h+=a<e?m:-m,h<l-u||h>c+u)))return h}function lV(t,e){it(t,s=>{const n=s.gc,a=n.length/2;let l;if(a>e){for(l=0;l<a;++l)delete s.data[n[l]];n.splice(0,a)}})}function Vc(t){return t.drawTicks?t.tickLength:0}function yj(t,e){if(!t.display)return 0;const s=Ts(t.font,e),n=Cn(t.padding);return(is(t.text)?t.text.length:1)*s.lineHeight+n.height}function cV(t,e){return Zi(t,{scale:e,type:"scale"})}function dV(t,e,s){return Zi(t,{tick:s,index:e,type:"tick"})}function uV(t,e,s){let n=eb(t);return(s&&e!=="right"||!s&&e==="right")&&(n=iV(n)),n}function hV(t,e,s,n){const{top:a,left:l,bottom:c,right:u,chart:h}=t,{chartArea:m,scales:p}=h;let x=0,b,v,j;const S=c-a,N=u-l;if(t.isHorizontal()){if(v=Ss(n,l,u),Ze(s)){const _=Object.keys(s)[0],A=s[_];j=p[_].getPixelForValue(A)+S-e}else s==="center"?j=(m.bottom+m.top)/2+S-e:j=pj(t,s,e);b=u-l}else{if(Ze(s)){const _=Object.keys(s)[0],A=s[_];v=p[_].getPixelForValue(A)-N+e}else s==="center"?v=(m.left+m.right)/2-N+e:v=pj(t,s,e);j=Ss(n,c,a),x=s==="left"?-os:os}return{titleX:v,titleY:j,maxWidth:b,rotation:x}}class bl extends Jr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:a}=this;return e=rr(e,Number.POSITIVE_INFINITY),s=rr(s,Number.NEGATIVE_INFINITY),n=rr(n,Number.POSITIVE_INFINITY),a=rr(a,Number.NEGATIVE_INFINITY),{min:rr(e,n),max:rr(s,a),minDefined:En(e),maxDefined:En(s)}}getMinMax(e){let{min:s,max:n,minDefined:a,maxDefined:l}=this.getUserBounds(),c;if(a&&l)return{min:s,max:n};const u=this.getMatchingVisibleMetas();for(let h=0,m=u.length;h<m;++h)c=u[h].controller.getMinMax(this,e),a||(s=Math.min(s,c.min)),l||(n=Math.max(n,c.max));return s=l&&s>n?n:s,n=a&&s>n?s:n,{min:rr(s,rr(n,s)),max:rr(n,rr(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nt(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:a,grace:l,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yz(this,l,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?gj(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=eV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nt(this.options.afterUpdate,[this])}beforeSetDimensions(){Nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Nt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,a,l;for(n=0,a=e.length;n<a;n++)l=e[n],l.label=Nt(s.callback,[l.value,n,e],this)}afterTickToLabelConversion(){Nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=xj(this.ticks.length,e.ticks.maxTicksLimit),a=s.minRotation||0,l=s.maxRotation;let c=a,u,h,m;if(!this._isVisible()||!s.display||a>=l||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const p=this._getLabelSizes(),x=p.widest.width,b=p.highest.height,v=Xs(this.chart.width-x,0,this.maxWidth);u=e.offset?this.maxWidth/n:v/(n-1),x+6>u&&(u=v/(n-(e.offset?.5:1)),h=this.maxHeight-Vc(e.grid)-s.padding-yj(e.title,this.chart.options.font),m=Math.sqrt(x*x+b*b),c=q8(Math.min(Math.asin(Xs((p.highest.height+6)/u,-1,1)),Math.asin(Xs(h/m,-1,1))-Math.asin(Xs(b/m,-1,1)))),c=Math.max(a,Math.min(l,c))),this.labelRotation=c}afterCalculateLabelRotation(){Nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:a,grid:l}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const h=yj(a,s.options.font);if(u?(e.width=this.maxWidth,e.height=Vc(l)+h):(e.height=this.maxHeight,e.width=Vc(l)+h),n.display&&this.ticks.length){const{first:m,last:p,widest:x,highest:b}=this._getLabelSizes(),v=n.padding*2,j=$r(this.labelRotation),S=Math.cos(j),N=Math.sin(j);if(u){const _=n.mirror?0:N*x.width+S*b.height;e.height=Math.min(this.maxHeight,e.height+_+v)}else{const _=n.mirror?0:S*x.width+N*b.height;e.width=Math.min(this.maxWidth,e.width+_+v)}this._calculatePadding(m,p,N,S)}}this._handleMargins(),u?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,a){const{ticks:{align:l,padding:c},position:u}=this.options,h=this.labelRotation!==0,m=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,x=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,v=0;h?m?(b=a*e.width,v=n*s.height):(b=n*e.height,v=a*s.width):l==="start"?v=s.width:l==="end"?b=e.width:l!=="inner"&&(b=e.width/2,v=s.width/2),this.paddingLeft=Math.max((b-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-x+c)*this.width/(this.width-x),0)}else{let p=s.height/2,x=e.height/2;l==="start"?(p=0,x=e.height):l==="end"&&(p=s.height,x=0),this.paddingTop=p+c,this.paddingBottom=x+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)yt(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=gj(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:a,_longestTextCache:l}=this,c=[],u=[],h=Math.floor(s/xj(s,n));let m=0,p=0,x,b,v,j,S,N,_,A,k,R,M;for(x=0;x<s;x+=h){if(j=e[x].label,S=this._resolveTickFontOptions(x),a.font=N=S.string,_=l[N]=l[N]||{data:{},gc:[]},A=S.lineHeight,k=R=0,!yt(j)&&!is(j))k=q2(a,_.data,_.gc,k,j),R=A;else if(is(j))for(b=0,v=j.length;b<v;++b)M=j[b],!yt(M)&&!is(M)&&(k=q2(a,_.data,_.gc,k,M),R+=A);c.push(k),u.push(R),m=Math.max(k,m),p=Math.max(R,p)}lV(l,s);const z=c.indexOf(m),H=u.indexOf(p),L=F=>({width:c[F]||0,height:u[F]||0});return{first:L(0),last:L(s-1),widest:L(z),highest:L(H),widths:c,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return X8(this._alignToPixels?Di(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=dV(this.getContext(),e,n))}return this.$context||(this.$context=cV(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=$r(this.labelRotation),n=Math.abs(Math.cos(s)),a=Math.abs(Math.sin(s)),l=this._getLabelSizes(),c=e.autoSkipPadding||0,u=l?l.widest.width+c:0,h=l?l.highest.height+c:0;return this.isHorizontal()?h*n>u*a?u/n:h/a:h*a<u*n?h/n:u/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,a=this.options,{grid:l,position:c,border:u}=a,h=l.offset,m=this.isHorizontal(),x=this.ticks.length+(h?1:0),b=Vc(l),v=[],j=u.setContext(this.getContext()),S=j.display?j.width:0,N=S/2,_=function(P){return Di(n,P,S)};let A,k,R,M,z,H,L,F,U,X,Z,ae;if(c==="top")A=_(this.bottom),H=this.bottom-b,F=A-N,X=_(e.top)+N,ae=e.bottom;else if(c==="bottom")A=_(this.top),X=e.top,ae=_(e.bottom)-N,H=A+N,F=this.top+b;else if(c==="left")A=_(this.right),z=this.right-b,L=A-N,U=_(e.left)+N,Z=e.right;else if(c==="right")A=_(this.left),U=e.left,Z=_(e.right)-N,z=A+N,L=this.left+b;else if(s==="x"){if(c==="center")A=_((e.top+e.bottom)/2+.5);else if(Ze(c)){const P=Object.keys(c)[0],I=c[P];A=_(this.chart.scales[P].getPixelForValue(I))}X=e.top,ae=e.bottom,H=A+N,F=H+b}else if(s==="y"){if(c==="center")A=_((e.left+e.right)/2);else if(Ze(c)){const P=Object.keys(c)[0],I=c[P];A=_(this.chart.scales[P].getPixelForValue(I))}z=A-N,L=z-b,U=e.left,Z=e.right}const ne=Ye(a.ticks.maxTicksLimit,x),le=Math.max(1,Math.ceil(x/ne));for(k=0;k<x;k+=le){const P=this.getContext(k),I=l.setContext(P),$=u.setContext(P),W=I.lineWidth,B=I.color,G=$.dash||[],te=$.dashOffset,ie=I.tickWidth,fe=I.tickColor,je=I.tickBorderDash||[],xe=I.tickBorderDashOffset;R=oV(this,k,h),R!==void 0&&(M=Di(n,R,W),m?z=L=U=Z=M:H=F=X=ae=M,v.push({tx1:z,ty1:H,tx2:L,ty2:F,x1:U,y1:X,x2:Z,y2:ae,width:W,color:B,borderDash:G,borderDashOffset:te,tickWidth:ie,tickColor:fe,tickBorderDash:je,tickBorderDashOffset:xe}))}return this._ticksLength=x,this._borderValue=A,v}_computeLabelItems(e){const s=this.axis,n=this.options,{position:a,ticks:l}=n,c=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:m,padding:p,mirror:x}=l,b=Vc(n.grid),v=b+p,j=x?-p:v,S=-$r(this.labelRotation),N=[];let _,A,k,R,M,z,H,L,F,U,X,Z,ae="middle";if(a==="top")z=this.bottom-j,H=this._getXAxisLabelAlignment();else if(a==="bottom")z=this.top+j,H=this._getXAxisLabelAlignment();else if(a==="left"){const le=this._getYAxisLabelAlignment(b);H=le.textAlign,M=le.x}else if(a==="right"){const le=this._getYAxisLabelAlignment(b);H=le.textAlign,M=le.x}else if(s==="x"){if(a==="center")z=(e.top+e.bottom)/2+v;else if(Ze(a)){const le=Object.keys(a)[0],P=a[le];z=this.chart.scales[le].getPixelForValue(P)+v}H=this._getXAxisLabelAlignment()}else if(s==="y"){if(a==="center")M=(e.left+e.right)/2-v;else if(Ze(a)){const le=Object.keys(a)[0],P=a[le];M=this.chart.scales[le].getPixelForValue(P)}H=this._getYAxisLabelAlignment(b).textAlign}s==="y"&&(h==="start"?ae="top":h==="end"&&(ae="bottom"));const ne=this._getLabelSizes();for(_=0,A=u.length;_<A;++_){k=u[_],R=k.label;const le=l.setContext(this.getContext(_));L=this.getPixelForTick(_)+l.labelOffset,F=this._resolveTickFontOptions(_),U=F.lineHeight,X=is(R)?R.length:1;const P=X/2,I=le.color,$=le.textStrokeColor,W=le.textStrokeWidth;let B=H;c?(M=L,H==="inner"&&(_===A-1?B=this.options.reverse?"left":"right":_===0?B=this.options.reverse?"right":"left":B="center"),a==="top"?m==="near"||S!==0?Z=-X*U+U/2:m==="center"?Z=-ne.highest.height/2-P*U+U:Z=-ne.highest.height+U/2:m==="near"||S!==0?Z=U/2:m==="center"?Z=ne.highest.height/2-P*U:Z=ne.highest.height-X*U,x&&(Z*=-1),S!==0&&!le.showLabelBackdrop&&(M+=U/2*Math.sin(S))):(z=L,Z=(1-X)*U/2);let G;if(le.showLabelBackdrop){const te=Cn(le.backdropPadding),ie=ne.heights[_],fe=ne.widths[_];let je=Z-te.top,xe=0-te.left;switch(ae){case"middle":je-=ie/2;break;case"bottom":je-=ie;break}switch(H){case"center":xe-=fe/2;break;case"right":xe-=fe;break;case"inner":_===A-1?xe-=fe:_>0&&(xe-=fe/2);break}G={left:xe,top:je,width:fe+te.width,height:ie+te.height,color:le.backdropColor}}N.push({label:R,font:F,textOffset:Z,options:{rotation:S,color:I,strokeColor:$,strokeWidth:W,textAlign:B,textBaseline:ae,translation:[M,z],backdrop:G}})}return N}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-$r(this.labelRotation))return e==="top"?"left":"right";let a="center";return s.align==="start"?a="left":s.align==="end"?a="right":s.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:a,padding:l}}=this.options,c=this._getLabelSizes(),u=e+l,h=c.widest.width;let m,p;return s==="left"?a?(p=this.right+l,n==="near"?m="left":n==="center"?(m="center",p+=h/2):(m="right",p+=h)):(p=this.right-u,n==="near"?m="right":n==="center"?(m="center",p-=h/2):(m="left",p=this.left)):s==="right"?a?(p=this.left+l,n==="near"?m="right":n==="center"?(m="center",p-=h/2):(m="left",p-=h)):(p=this.left+u,n==="near"?m="left":n==="center"?(m="center",p+=h/2):(m="right",p=this.right)):m="right",{textAlign:m,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:a,width:l,height:c}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,a,l,c),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const a=this.ticks.findIndex(l=>l.value===e);return a>=0?s.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let l,c;const u=(h,m,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(m.x,m.y),n.stroke(),n.restore())};if(s.display)for(l=0,c=a.length;l<c;++l){const h=a[l];s.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),s.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:a}}=this,l=n.setContext(this.getContext()),c=n.display?l.width:0;if(!c)return;const u=a.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let m,p,x,b;this.isHorizontal()?(m=Di(e,this.left,c)-c/2,p=Di(e,this.right,u)+u/2,x=b=h):(x=Di(e,this.top,c)-c/2,b=Di(e,this.bottom,u)+u/2,m=p=h),s.save(),s.lineWidth=l.width,s.strokeStyle=l.color,s.beginPath(),s.moveTo(m,x),s.lineTo(p,b),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&nb(n,a);const l=this.getLabelItems(e);for(const c of l){const u=c.options,h=c.font,m=c.label,p=c.textOffset;Md(n,m,0,p,h,u)}a&&rb(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:a}}=this;if(!n.display)return;const l=Ts(n.font),c=Cn(n.padding),u=n.align;let h=l.lineHeight/2;s==="bottom"||s==="center"||Ze(s)?(h+=c.bottom,is(n.text)&&(h+=l.lineHeight*(n.text.length-1))):h+=c.top;const{titleX:m,titleY:p,maxWidth:x,rotation:b}=hV(this,h,s,u);Md(e,n.text,0,0,l,{color:n.color,maxWidth:x,rotation:b,textAlign:uV(u,s,a),textBaseline:"middle",translation:[m,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=Ye(e.grid&&e.grid.z,-1),a=Ye(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==bl.prototype.draw?[{z:s,draw:l=>{this.draw(l)}}]:[{z:n,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:s,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let l,c;for(l=0,c=s.length;l<c;++l){const u=s[l];u[n]===this.id&&(!e||u.type===e)&&a.push(u)}return a}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Ts(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class zh{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;pV(s)&&(n=this.register(s));const a=this.items,l=e.id,c=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+e);return l in a||(a[l]=e,fV(e,c,n),this.override&&Wt.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,a=this.scope;n in s&&delete s[n],a&&n in Wt[a]&&(delete Wt[a][n],this.override&&delete Qi[n])}}function fV(t,e,s){const n=Ed(Object.create(null),[s?Wt.get(s):{},Wt.get(e),t.defaults]);Wt.set(e,n),t.defaultRoutes&&mV(e,t.defaultRoutes),t.descriptors&&Wt.describe(e,t.descriptors)}function mV(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),a=n.pop(),l=[t].concat(n).join("."),c=e[s].split("."),u=c.pop(),h=c.join(".");Wt.route(l,a,h,u)})}function pV(t){return"id"in t&&"defaults"in t}class xV{constructor(){this.controllers=new zh(al,"datasets",!0),this.elements=new zh(Jr,"elements"),this.plugins=new zh(Object,"plugins"),this.scales=new zh(bl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(a=>{const l=n||this._getRegistryForType(a);n||l.isForType(a)||l===this.plugins&&a.id?this._exec(e,l,a):it(a,c=>{const u=n||this._getRegistryForType(c);this._exec(e,u,c)})})}_exec(e,s,n){const a=Zy(e);Nt(n["before"+a],[],n),s[e](n),Nt(n["after"+a],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const a=s.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var ir=new xV;class gV{constructor(){this._init=[]}notify(e,s,n,a){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const l=a?this._descriptors(e).filter(a):this._descriptors(e),c=this._notify(l,e,s,n);return s==="afterDestroy"&&(this._notify(l,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,s,n,a){a=a||{};for(const l of e){const c=l.plugin,u=c[n],h=[s,a,l.options];if(Nt(u,h,c)===!1&&a.cancelable)return!1}return!0}invalidate(){yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,a=Ye(n.options&&n.options.plugins,{}),l=yV(n);return a===!1&&!s?[]:vV(e,l,a,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,a=(l,c)=>l.filter(u=>!c.some(h=>u.plugin.id===h.plugin.id));this._notify(a(s,n),e,"stop"),this._notify(a(n,s),e,"start")}}function yV(t){const e={},s=[],n=Object.keys(ir.plugins.items);for(let l=0;l<n.length;l++)s.push(ir.getPlugin(n[l]));const a=t.plugins||[];for(let l=0;l<a.length;l++){const c=a[l];s.indexOf(c)===-1&&(s.push(c),e[c.id]=!0)}return{plugins:s,localIds:e}}function bV(t,e){return!e&&t===!1?null:t===!0?{}:t}function vV(t,{plugins:e,localIds:s},n,a){const l=[],c=t.getContext();for(const u of e){const h=u.id,m=bV(n[h],a);m!==null&&l.push({plugin:u,options:wV(t.config,{plugin:u,local:s[h]},m,c)})}return l}function wV(t,{plugin:e,local:s},n,a){const l=t.pluginScopeKeys(e),c=t.getOptionScopes(n,l);return s&&e.defaults&&c.push(e.defaults),t.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xg(t,e){const s=Wt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function jV(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function NV(t,e){return t===e?"_index_":"_value_"}function bj(t){if(t==="x"||t==="y"||t==="r")return t}function SV(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Wg(t,...e){if(bj(t))return t;for(const s of e){const n=s.axis||SV(s.position)||t.length>1&&bj(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function vj(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function _V(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return vj(t,"x",s[0])||vj(t,"y",s[0])}return{}}function EV(t,e){const s=Qi[t.type]||{scales:{}},n=e.scales||{},a=Xg(t.type,e),l=Object.create(null);return Object.keys(n).forEach(c=>{const u=n[c];if(!Ze(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const h=Wg(c,u,_V(c,t),Wt.scales[u.type]),m=NV(h,a),p=s.scales||{};l[c]=id(Object.create(null),[{axis:h},u,p[h],p[m]])}),t.data.datasets.forEach(c=>{const u=c.type||t.type,h=c.indexAxis||Xg(u,e),p=(Qi[u]||{}).scales||{};Object.keys(p).forEach(x=>{const b=jV(x,h),v=c[b+"AxisID"]||b;l[v]=l[v]||Object.create(null),id(l[v],[{axis:b},n[v],p[x]])})}),Object.keys(l).forEach(c=>{const u=l[c];id(u,[Wt.scales[u.type],Wt.scale])}),l}function cE(t){const e=t.options||(t.options={});e.plugins=Ye(e.plugins,{}),e.scales=EV(t,e)}function dE(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function CV(t){return t=t||{},t.data=dE(t.data),cE(t),t}const wj=new Map,uE=new Set;function Bh(t,e){let s=wj.get(t);return s||(s=e(),wj.set(t,s),uE.add(s)),s}const Uc=(t,e,s)=>{const n=Ki(e,s);n!==void 0&&t.add(n)};class TV{constructor(e){this._config=CV(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dE(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),cE(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Bh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return Bh(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return Bh(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return Bh(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let a=n.get(e);return(!a||s)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,s,n){const{options:a,type:l}=this,c=this._cachedScopes(e,n),u=c.get(s);if(u)return u;const h=new Set;s.forEach(p=>{e&&(h.add(e),p.forEach(x=>Uc(h,e,x))),p.forEach(x=>Uc(h,a,x)),p.forEach(x=>Uc(h,Qi[l]||{},x)),p.forEach(x=>Uc(h,Wt,x)),p.forEach(x=>Uc(h,Ig,x))});const m=Array.from(h);return m.length===0&&m.push(Object.create(null)),uE.has(s)&&c.set(s,m),m}chartOptionScopes(){const{options:e,type:s}=this;return[e,Qi[s]||{},Wt.datasets[s]||{},{type:s},Wt,Ig]}resolveNamedOptions(e,s,n,a=[""]){const l={$shared:!0},{resolver:c,subPrefixes:u}=jj(this._resolverCache,e,a);let h=c;if(MV(c,s)){l.$shared=!1,n=Ka(n)?n():n;const m=this.createResolver(e,n,u);h=cl(c,n,m)}for(const m of s)l[m]=h[m];return l}createResolver(e,s,n=[""],a){const{resolver:l}=jj(this._resolverCache,e,n);return Ze(s)?cl(l,s,void 0,a):l}}function jj(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=s.join();let l=n.get(a);return l||(l={resolver:ib(e,s),subPrefixes:s.filter(u=>!u.toLowerCase().includes("hover"))},n.set(a,l)),l}const kV=t=>Ze(t)&&Object.getOwnPropertyNames(t).some(e=>Ka(t[e]));function MV(t,e){const{isScriptable:s,isIndexable:n}=X_(t);for(const a of e){const l=s(a),c=n(a),u=(c||l)&&t[a];if(l&&(Ka(u)||kV(u))||c&&is(u))return!0}return!1}var AV="4.4.9";const DV=["top","bottom","left","right","chartArea"];function Nj(t,e){return t==="top"||t==="bottom"||DV.indexOf(t)===-1&&e==="x"}function Sj(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function _j(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Nt(s&&s.onComplete,[t],e)}function RV(t){const e=t.chart,s=e.options.animation;Nt(s&&s.onProgress,[t],e)}function hE(t){return cb()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const af={},Ej=t=>{const e=hE(t);return Object.values(af).filter(s=>s.canvas===e).pop()};function OV(t,e,s){const n=Object.keys(t);for(const a of n){const l=+a;if(l>=e){const c=t[a];delete t[a],(s>0||l>e)&&(t[l+s]=c)}}}function LV(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}var Pa;let Qf=(Pa=class{static register(...e){ir.add(...e),Cj()}static unregister(...e){ir.remove(...e),Cj()}constructor(e,s){const n=this.config=new TV(s),a=hE(e),l=Ej(a);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const c=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||JB(a)),this.platform.updateConfig(n);const u=this.platform.acquireContext(a,c.aspectRatio),h=u&&u.canvas,m=h&&h.height,p=h&&h.width;if(this.id=D8(),this.ctx=u,this.canvas=h,this.width=p,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new gV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Q8(x=>this.update(x),c.resizeDelay||0),this._dataChanges=[],af[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}Ur.listen(this,"complete",_j),Ur.listen(this,"progress",RV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:a,_aspectRatio:l}=this;return yt(e)?s&&l?l:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ir}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():G2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Y2(this.canvas,this.ctx),this}stop(){return Ur.stop(this),this}resize(e,s){Ur.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,a=this.canvas,l=n.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,e,s,l),u=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,G2(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),Nt(n.onResize,[this,c],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};it(s,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,a=Object.keys(n).reduce((c,u)=>(c[u]=!1,c),{});let l=[];s&&(l=l.concat(Object.keys(s).map(c=>{const u=s[c],h=Wg(c,u),m=h==="r",p=h==="x";return{options:u,dposition:m?"chartArea":p?"bottom":"left",dtype:m?"radialLinear":p?"category":"linear"}}))),it(l,c=>{const u=c.options,h=u.id,m=Wg(h,u),p=Ye(u.type,c.dtype);(u.position===void 0||Nj(u.position,m)!==Nj(c.dposition))&&(u.position=c.dposition),a[h]=!0;let x=null;if(h in n&&n[h].type===p)x=n[h];else{const b=ir.getScale(p);x=new b({id:h,type:p,ctx:this.ctx,chart:this}),n[x.id]=x}x.init(u,e)}),it(a,(c,u)=>{c||delete n[u]}),it(n,c=>{jn.configure(this,c,c.options),jn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((a,l)=>a.index-l.index),n>s){for(let a=s;a<n;++a)this._destroyDatasetMeta(a);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(Sj("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,a)=>{s.filter(l=>l===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=s.length;n<a;n++){const l=s[n];let c=this.getDatasetMeta(n);const u=l.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(n),c=this.getDatasetMeta(n)),c.type=u,c.indexAxis=l.indexAxis||Xg(u,this.options),c.order=l.order||0,c.index=n,c.label=""+l.label,c.visible=this.isDatasetVisible(n),c.controller)c.controller.updateIndex(n),c.controller.linkScales();else{const h=ir.getController(u),{datasetElementType:m,dataElementType:p}=Wt.datasets[u];Object.assign(h,{dataElementType:ir.getElement(p),datasetElementType:m&&ir.getElement(m)}),c.controller=new h(this,n),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){it(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,p=this.data.datasets.length;m<p;m++){const{controller:x}=this.getDatasetMeta(m),b=!a&&l.indexOf(x)===-1;x.buildOrUpdateElements(b),c=Math.max(+x.getMaxOverflow(),c)}c=this._minPadding=n.layout.autoPadding?c:0,this._updateLayout(c),a||it(l,m=>{m.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Sj("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){it(this.scales,e=>{jn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!P2(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:l}of s){const c=n==="_removeElements"?-l:l;OV(e,a,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=l=>new Set(e.filter(c=>c[0]===l).map((c,u)=>u+","+c.splice(1).join(","))),a=n(0);for(let l=1;l<s;l++)if(!P2(a,n(l)))return;return Array.from(a).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jn.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],it(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,l)=>{a._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Ka(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(s),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ur.has(this)?this.attached&&!Ur.running(this)&&Ur.start(this):(this.draw(),_j({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let a,l;for(a=0,l=s.length;a<l;++a){const c=s[a];(!e||c.visible)&&n.push(c)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=tB(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&nb(s,a),e.controller.draw(),a&&rb(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return kd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,a){const l=DB.modes[s];return typeof l=="function"?l(this,e,n,a):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let a=n.filter(l=>l&&l._dataset===s).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=Zi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const a=n?"show":"hide",l=this.getDatasetMeta(e),c=l.controller._resolveAnimations(void 0,a);Cd(s)?(l.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),c.update(l,{visible:n}),this.update(u=>u.datasetIndex===e?a:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),Ur.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Y2(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete af[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},a=(l,c,u)=>{l.offsetX=c,l.offsetY=u,this._eventHandler(l)};it(this.options.events,l=>n(l,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(h,m)=>{s.addEventListener(this,h,m),e[h]=m},a=(h,m)=>{e[h]&&(s.removeEventListener(this,h,m),delete e[h])},l=(h,m)=>{this.canvas&&this.resize(h,m)};let c;const u=()=>{a("attach",u),this.attached=!0,this.resize(),n("resize",l),n("detach",c)};c=()=>{this.attached=!1,a("resize",l),this._stop(),this._resize(0,0),n("attach",u)},s.isAttached(this.canvas)?u():c()}unbindEvents(){it(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},it(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const a=n?"set":"remove";let l,c,u,h;for(s==="dataset"&&(l=this.getDatasetMeta(e[0].datasetIndex),l.controller["_"+a+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){c=e[u];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:l,index:c})=>{const u=this.getDatasetMeta(l);if(!u)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:u.data[c],index:c}});!wf(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const a=this.options.hover,l=(h,m)=>h.filter(p=>!m.some(x=>p.datasetIndex===x.datasetIndex&&p.index===x.index)),c=l(s,e),u=n?e:l(e,s);c.length&&this.updateHoverStyle(c,a.mode,!1),u.length&&a.mode&&this.updateHoverStyle(u,a.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},a=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const l=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(l||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:a=[],options:l}=this,c=s,u=this._getActiveElements(e,a,n,c),h=B8(e),m=LV(e,this._lastEvent,n,h);n&&(this._lastEvent=null,Nt(l.onHover,[e,u,this],this),h&&Nt(l.onClick,[e,u,this],this));const p=!wf(u,a);return(p||s)&&(this._active=u,this._updateHoverStyles(u,a,s)),this._lastEvent=m,p}_getActiveElements(e,s,n,a){if(e.type==="mouseout")return[];if(!n)return s;const l=this.options.hover;return this.getElementsAtEventForMode(e,l.mode,l,a)}},Me(Pa,"defaults",Wt),Me(Pa,"instances",af),Me(Pa,"overrides",Qi),Me(Pa,"registry",ir),Me(Pa,"version",AV),Me(Pa,"getChart",Ej),Pa);function Cj(){return it(Qf.instances,t=>t._plugins.invalidate())}function PV(t,e,s){const{startAngle:n,pixelMargin:a,x:l,y:c,outerRadius:u,innerRadius:h}=e;let m=a/u;t.beginPath(),t.arc(l,c,u,n-m,s+m),h>a?(m=a/h,t.arc(l,c,h,s+m,n-m,!0)):t.arc(l,c,a,s+os,n-os),t.closePath(),t.clip()}function zV(t){return ab(t,["outerStart","outerEnd","innerStart","innerEnd"])}function BV(t,e,s,n){const a=zV(t.options.borderRadius),l=(s-e)/2,c=Math.min(l,n*e/2),u=h=>{const m=(s-Math.min(l,h))*n/2;return Xs(h,0,Math.min(l,m))};return{outerStart:u(a.outerStart),outerEnd:u(a.outerEnd),innerStart:Xs(a.innerStart,0,c),innerEnd:Xs(a.innerEnd,0,c)}}function Xo(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function Tf(t,e,s,n,a,l){const{x:c,y:u,startAngle:h,pixelMargin:m,innerRadius:p}=e,x=Math.max(e.outerRadius+n+s-m,0),b=p>0?p+n+s+m:0;let v=0;const j=a-h;if(n){const le=p>0?p-n:0,P=x>0?x-n:0,I=(le+P)/2,$=I!==0?j*I/(I+n):j;v=(j-$)/2}const S=Math.max(.001,j*x-s/Ut)/x,N=(j-S)/2,_=h+N+v,A=a-N-v,{outerStart:k,outerEnd:R,innerStart:M,innerEnd:z}=BV(e,b,x,A-_),H=x-k,L=x-R,F=_+k/H,U=A-R/L,X=b+M,Z=b+z,ae=_+M/X,ne=A-z/Z;if(t.beginPath(),l){const le=(F+U)/2;if(t.arc(c,u,x,F,le),t.arc(c,u,x,le,U),R>0){const W=Xo(L,U,c,u);t.arc(W.x,W.y,R,U,A+os)}const P=Xo(Z,A,c,u);if(t.lineTo(P.x,P.y),z>0){const W=Xo(Z,ne,c,u);t.arc(W.x,W.y,z,A+os,ne+Math.PI)}const I=(A-z/b+(_+M/b))/2;if(t.arc(c,u,b,A-z/b,I,!0),t.arc(c,u,b,I,_+M/b,!0),M>0){const W=Xo(X,ae,c,u);t.arc(W.x,W.y,M,ae+Math.PI,_-os)}const $=Xo(H,_,c,u);if(t.lineTo($.x,$.y),k>0){const W=Xo(H,F,c,u);t.arc(W.x,W.y,k,_-os,F)}}else{t.moveTo(c,u);const le=Math.cos(F)*x+c,P=Math.sin(F)*x+u;t.lineTo(le,P);const I=Math.cos(U)*x+c,$=Math.sin(U)*x+u;t.lineTo(I,$)}t.closePath()}function VV(t,e,s,n,a){const{fullCircles:l,startAngle:c,circumference:u}=e;let h=e.endAngle;if(l){Tf(t,e,s,n,h,a);for(let m=0;m<l;++m)t.fill();isNaN(u)||(h=c+(u%Vt||Vt))}return Tf(t,e,s,n,h,a),t.fill(),h}function UV(t,e,s,n,a){const{fullCircles:l,startAngle:c,circumference:u,options:h}=e,{borderWidth:m,borderJoinStyle:p,borderDash:x,borderDashOffset:b}=h,v=h.borderAlign==="inner";if(!m)return;t.setLineDash(x||[]),t.lineDashOffset=b,v?(t.lineWidth=m*2,t.lineJoin=p||"round"):(t.lineWidth=m,t.lineJoin=p||"bevel");let j=e.endAngle;if(l){Tf(t,e,s,n,j,a);for(let S=0;S<l;++S)t.stroke();isNaN(u)||(j=c+(u%Vt||Vt))}v&&PV(t,e,j),l||(Tf(t,e,s,n,j,a),t.stroke())}class Qc extends Jr{constructor(s){super();Me(this,"circumference");Me(this,"endAngle");Me(this,"fullCircles");Me(this,"innerRadius");Me(this,"outerRadius");Me(this,"pixelMargin");Me(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,a){const l=this.getProps(["x","y"],a),{angle:c,distance:u}=V_(l,{x:s,y:n}),{startAngle:h,endAngle:m,innerRadius:p,outerRadius:x,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),v=(this.options.spacing+this.options.borderWidth)/2,j=Ye(b,m-h),S=Td(c,h,m)&&h!==m,N=j>=Vt||S,_=Fa(u,p+v,x+v);return N&&_}getCenterPoint(s){const{x:n,y:a,startAngle:l,endAngle:c,innerRadius:u,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:m,spacing:p}=this.options,x=(l+c)/2,b=(u+h+p+m)/2;return{x:n+Math.cos(x)*b,y:a+Math.sin(x)*b}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:a}=this,l=(n.offset||0)/4,c=(n.spacing||0)/2,u=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=a>Vt?Math.floor(a/Vt):0,a===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const h=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(h)*l,Math.sin(h)*l);const m=1-Math.sin(Math.min(Ut,a||0)),p=l*m;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,VV(s,this,p,c,u),UV(s,this,p,c,u),s.restore()}}Me(Qc,"id","arc"),Me(Qc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Me(Qc,"defaultRoutes",{backgroundColor:"backgroundColor"}),Me(Qc,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function fE(t,e,s=e){t.lineCap=Ye(s.borderCapStyle,e.borderCapStyle),t.setLineDash(Ye(s.borderDash,e.borderDash)),t.lineDashOffset=Ye(s.borderDashOffset,e.borderDashOffset),t.lineJoin=Ye(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ye(s.borderWidth,e.borderWidth),t.strokeStyle=Ye(s.borderColor,e.borderColor)}function HV(t,e,s){t.lineTo(s.x,s.y)}function FV(t){return t.stepped?cz:t.tension||t.cubicInterpolationMode==="monotone"?dz:HV}function mE(t,e,s={}){const n=t.length,{start:a=0,end:l=n-1}=s,{start:c,end:u}=e,h=Math.max(a,c),m=Math.min(l,u),p=a<c&&l<c||a>u&&l>u;return{count:n,start:h,loop:e.loop,ilen:m<h&&!p?n+m-h:m-h}}function $V(t,e,s,n){const{points:a,options:l}=e,{count:c,start:u,loop:h,ilen:m}=mE(a,s,n),p=FV(l);let{move:x=!0,reverse:b}=n||{},v,j,S;for(v=0;v<=m;++v)j=a[(u+(b?m-v:v))%c],!j.skip&&(x?(t.moveTo(j.x,j.y),x=!1):p(t,S,j,b,l.stepped),S=j);return h&&(j=a[(u+(b?m:0))%c],p(t,S,j,b,l.stepped)),!!h}function IV(t,e,s,n){const a=e.points,{count:l,start:c,ilen:u}=mE(a,s,n),{move:h=!0,reverse:m}=n||{};let p=0,x=0,b,v,j,S,N,_;const A=R=>(c+(m?u-R:R))%l,k=()=>{S!==N&&(t.lineTo(p,N),t.lineTo(p,S),t.lineTo(p,_))};for(h&&(v=a[A(0)],t.moveTo(v.x,v.y)),b=0;b<=u;++b){if(v=a[A(b)],v.skip)continue;const R=v.x,M=v.y,z=R|0;z===j?(M<S?S=M:M>N&&(N=M),p=(x*p+R)/++x):(k(),t.lineTo(R,M),j=z,x=0,S=N=M),_=M}k()}function Gg(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?IV:$V}function qV(t){return t.stepped?Fz:t.tension||t.cubicInterpolationMode==="monotone"?$z:zi}function YV(t,e,s,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,s,n)&&a.closePath()),fE(t,e.options),t.stroke(a)}function XV(t,e,s,n){const{segments:a,options:l}=e,c=Gg(e);for(const u of a)fE(t,l,u.style),t.beginPath(),c(t,e,u,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const WV=typeof Path2D=="function";function GV(t,e,s,n){WV&&!e.options.segment?YV(t,e,s,n):XV(t,e,s,n)}class Zc extends Jr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;Oz(this._points,n,e,a,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Qz(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,a=e[s],l=this.points,c=Wz(this,{property:s,start:a,end:a});if(!c.length)return;const u=[],h=qV(n);let m,p;for(m=0,p=c.length;m<p;++m){const{start:x,end:b}=c[m],v=l[x],j=l[b];if(v===j){u.push(v);continue}const S=Math.abs((a-v[s])/(j[s]-v[s])),N=h(v,j,S,n.stepped);N[s]=e[s],u.push(N)}return u.length===1?u[0]:u}pathSegment(e,s,n){return Gg(this)(e,this,s,n)}path(e,s,n){const a=this.segments,l=Gg(this);let c=this._loop;s=s||0,n=n||this.points.length-s;for(const u of a)c&=l(e,this,u,{start:s,end:s+n-1});return!!c}draw(e,s,n,a){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(e.save(),GV(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Me(Zc,"id","line"),Me(Zc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Me(Zc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Me(Zc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Tj(t,e,s,n){const a=t.options,{[s]:l}=t.getProps([s],n);return Math.abs(e-l)<a.radius+a.hitRadius}class of extends Jr{constructor(s){super();Me(this,"parsed");Me(this,"skip");Me(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,a){const l=this.options,{x:c,y:u}=this.getProps(["x","y"],a);return Math.pow(s-c,2)+Math.pow(n-u,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(s,n){return Tj(this,s,"x",n)}inYRange(s,n){return Tj(this,s,"y",n)}getCenterPoint(s){const{x:n,y:a}=this.getProps(["x","y"],s);return{x:n,y:a}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const a=n&&s.borderWidth||0;return(n+a)*2}draw(s,n){const a=this.options;this.skip||a.radius<.1||!kd(this,n,this.size(a)/2)||(s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.fillStyle=a.backgroundColor,qg(s,a,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}Me(of,"id","point"),Me(of,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Me(of,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function pE(t,e){const{x:s,y:n,base:a,width:l,height:c}=t.getProps(["x","y","base","width","height"],e);let u,h,m,p,x;return t.horizontal?(x=c/2,u=Math.min(s,a),h=Math.max(s,a),m=n-x,p=n+x):(x=l/2,u=s-x,h=s+x,m=Math.min(n,a),p=Math.max(n,a)),{left:u,top:m,right:h,bottom:p}}function $a(t,e,s,n){return t?0:Xs(e,s,n)}function KV(t,e,s){const n=t.options.borderWidth,a=t.borderSkipped,l=Y_(n);return{t:$a(a.top,l.top,0,s),r:$a(a.right,l.right,0,e),b:$a(a.bottom,l.bottom,0,s),l:$a(a.left,l.left,0,e)}}function QV(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,l=nl(a),c=Math.min(e,s),u=t.borderSkipped,h=n||Ze(a);return{topLeft:$a(!h||u.top||u.left,l.topLeft,0,c),topRight:$a(!h||u.top||u.right,l.topRight,0,c),bottomLeft:$a(!h||u.bottom||u.left,l.bottomLeft,0,c),bottomRight:$a(!h||u.bottom||u.right,l.bottomRight,0,c)}}function ZV(t){const e=pE(t),s=e.right-e.left,n=e.bottom-e.top,a=KV(t,s/2,n/2),l=QV(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:l},inner:{x:e.left+a.l,y:e.top+a.t,w:s-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,l.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,l.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,l.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,l.bottomRight-Math.max(a.b,a.r))}}}}function Gx(t,e,s,n){const a=e===null,l=s===null,u=t&&!(a&&l)&&pE(t,n);return u&&(a||Fa(e,u.left,u.right))&&(l||Fa(s,u.top,u.bottom))}function JV(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function e7(t,e){t.rect(e.x,e.y,e.w,e.h)}function Kx(t,e,s={}){const n=t.x!==s.x?-e:0,a=t.y!==s.y?-e:0,l=(t.x+t.w!==s.x+s.w?e:0)-n,c=(t.y+t.h!==s.y+s.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+l,h:t.h+c,radius:t.radius}}class lf extends Jr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:a}}=this,{inner:l,outer:c}=ZV(this),u=JV(c.radius)?_f:e7;e.save(),(c.w!==l.w||c.h!==l.h)&&(e.beginPath(),u(e,Kx(c,s,l)),e.clip(),u(e,Kx(l,-s,c)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),u(e,Kx(l,s)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,s,n){return Gx(this,e,s,n)}inXRange(e,s){return Gx(this,e,null,s)}inYRange(e,s){return Gx(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:a,horizontal:l}=this.getProps(["x","y","base","horizontal"],e);return{x:l?(s+a)/2:s,y:l?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Me(lf,"id","bar"),Me(lf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Me(lf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const kj=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},t7=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Mj extends Jr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Nt(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Ts(n.font),l=a.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=kj(n,l);let m,p;s.font=a.string,this.isHorizontal()?(m=this.maxWidth,p=this._fitRows(c,l,u,h)+10):(p=this.maxHeight,m=this._fitCols(c,a,u,h)+10),this.width=Math.min(m,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,a){const{ctx:l,maxWidth:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.lineWidths=[0],p=a+u;let x=e;l.textAlign="left",l.textBaseline="middle";let b=-1,v=-p;return this.legendItems.forEach((j,S)=>{const N=n+s/2+l.measureText(j.text).width;(S===0||m[m.length-1]+N+2*u>c)&&(x+=p,m[m.length-(S>0?0:1)]=0,v+=p,b++),h[S]={left:0,top:v,row:b,width:N,height:a},m[m.length-1]+=N+u}),x}_fitCols(e,s,n,a){const{ctx:l,maxHeight:c,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],m=this.columnSizes=[],p=c-e;let x=u,b=0,v=0,j=0,S=0;return this.legendItems.forEach((N,_)=>{const{itemWidth:A,itemHeight:k}=s7(n,s,l,N,a);_>0&&v+k+2*u>p&&(x+=b+u,m.push({width:b,height:v}),j+=b+u,S++,b=v=0),h[_]={left:j,top:v,col:S,width:A,height:k},b=Math.max(b,A),v+=k+u}),x+=b,m.push({width:b,height:v}),x}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:a},rtl:l}}=this,c=rl(l,this.left,this.width);if(this.isHorizontal()){let u=0,h=Ss(n,this.left+a,this.right-this.lineWidths[u]);for(const m of s)u!==m.row&&(u=m.row,h=Ss(n,this.left+a,this.right-this.lineWidths[u])),m.top+=this.top+e+a,m.left=c.leftForLtr(c.x(h),m.width),h+=m.width+a}else{let u=0,h=Ss(n,this.top+e+a,this.bottom-this.columnSizes[u].height);for(const m of s)m.col!==u&&(u=m.col,h=Ss(n,this.top+e+a,this.bottom-this.columnSizes[u].height)),m.top=h,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),h+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;nb(e,this),this._draw(),rb(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:a}=this,{align:l,labels:c}=e,u=Wt.color,h=rl(e.rtl,this.left,this.width),m=Ts(c.font),{padding:p}=c,x=m.size,b=x/2;let v;this.drawTitle(),a.textAlign=h.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:j,boxHeight:S,itemHeight:N}=kj(c,x),_=function(z,H,L){if(isNaN(j)||j<=0||isNaN(S)||S<0)return;a.save();const F=Ye(L.lineWidth,1);if(a.fillStyle=Ye(L.fillStyle,u),a.lineCap=Ye(L.lineCap,"butt"),a.lineDashOffset=Ye(L.lineDashOffset,0),a.lineJoin=Ye(L.lineJoin,"miter"),a.lineWidth=F,a.strokeStyle=Ye(L.strokeStyle,u),a.setLineDash(Ye(L.lineDash,[])),c.usePointStyle){const U={radius:S*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:F},X=h.xPlus(z,j/2),Z=H+b;q_(a,U,X,Z,c.pointStyleWidth&&j)}else{const U=H+Math.max((x-S)/2,0),X=h.leftForLtr(z,j),Z=nl(L.borderRadius);a.beginPath(),Object.values(Z).some(ae=>ae!==0)?_f(a,{x:X,y:U,w:j,h:S,radius:Z}):a.rect(X,U,j,S),a.fill(),F!==0&&a.stroke()}a.restore()},A=function(z,H,L){Md(a,L.text,z,H+N/2,m,{strikethrough:L.hidden,textAlign:h.textAlign(L.textAlign)})},k=this.isHorizontal(),R=this._computeTitleHeight();k?v={x:Ss(l,this.left+p,this.right-n[0]),y:this.top+p+R,line:0}:v={x:this.left+p,y:Ss(l,this.top+R+p,this.bottom-s[0].height),line:0},Z_(this.ctx,e.textDirection);const M=N+p;this.legendItems.forEach((z,H)=>{a.strokeStyle=z.fontColor,a.fillStyle=z.fontColor;const L=a.measureText(z.text).width,F=h.textAlign(z.textAlign||(z.textAlign=c.textAlign)),U=j+b+L;let X=v.x,Z=v.y;h.setWidth(this.width),k?H>0&&X+U+p>this.right&&(Z=v.y+=M,v.line++,X=v.x=Ss(l,this.left+p,this.right-n[v.line])):H>0&&Z+M>this.bottom&&(X=v.x=X+s[v.line].width+p,v.line++,Z=v.y=Ss(l,this.top+R+p,this.bottom-s[v.line].height));const ae=h.x(X);if(_(ae,Z,z),X=Z8(F,X+j+b,k?X+U:this.right,e.rtl),A(h.x(X),Z,z),k)v.x+=U+p;else if(typeof z.text!="string"){const ne=m.lineHeight;v.y+=xE(z,ne)+p}else v.y+=M}),J_(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=Ts(s.font),a=Cn(s.padding);if(!s.display)return;const l=rl(e.rtl,this.left,this.width),c=this.ctx,u=s.position,h=n.size/2,m=a.top+h;let p,x=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+m,x=Ss(e.align,x,this.right-b);else{const j=this.columnSizes.reduce((S,N)=>Math.max(S,N.height),0);p=m+Ss(e.align,this.top,this.bottom-j-e.labels.padding-this._computeTitleHeight())}const v=Ss(u,x,x+b);c.textAlign=l.textAlign(eb(u)),c.textBaseline="middle",c.strokeStyle=s.color,c.fillStyle=s.color,c.font=n.string,Md(c,s.text,v,p,n)}_computeTitleHeight(){const e=this.options.title,s=Ts(e.font),n=Cn(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,a,l;if(Fa(e,this.left,this.right)&&Fa(s,this.top,this.bottom)){for(l=this.legendHitBoxes,n=0;n<l.length;++n)if(a=l[n],Fa(e,a.left,a.left+a.width)&&Fa(s,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!a7(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,l=t7(a,n);a&&!l&&Nt(s.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!l&&Nt(s.onHover,[e,n,this],this)}else n&&Nt(s.onClick,[e,n,this],this)}}function s7(t,e,s,n,a){const l=n7(n,t,e,s),c=r7(a,n,e.lineHeight);return{itemWidth:l,itemHeight:c}}function n7(t,e,s,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((l,c)=>l.length>c.length?l:c)),e+s.size/2+n.measureText(a).width}function r7(t,e,s){let n=t;return typeof e.text!="string"&&(n=xE(e,s)),n}function xE(t,e){const s=t.text?t.text.length:0;return e*s}function a7(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var i7={id:"legend",_element:Mj,start(t,e,s){const n=t.legend=new Mj({ctx:t.ctx,options:s,chart:t});jn.configure(t,n,s),jn.addBox(t,n)},stop(t){jn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;jn.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,a=s.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:a,color:l,useBorderRadius:c,borderRadius:u}}=t.legend.options;return t._getSortedDatasetMetas().map(h=>{const m=h.controller.getStyle(s?0:void 0),p=Cn(m.borderWidth);return{text:e[h.index].label,fillStyle:m.backgroundColor,fontColor:l,hidden:!h.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:m.borderColor,pointStyle:n||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(u||m.borderRadius),datasetIndex:h.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class gE extends Jr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const a=is(n.text)?n.text.length:1;this._padding=Cn(n.padding);const l=a*Ts(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:a,right:l,options:c}=this,u=c.align;let h=0,m,p,x;return this.isHorizontal()?(p=Ss(u,n,l),x=s+e,m=l-n):(c.position==="left"?(p=n+e,x=Ss(u,a,s),h=Ut*-.5):(p=l-e,x=Ss(u,s,a),h=Ut*.5),m=a-s),{titleX:p,titleY:x,maxWidth:m,rotation:h}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=Ts(s.font),l=n.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:h,rotation:m}=this._drawArgs(l);Md(e,s.text,0,0,n,{color:s.color,maxWidth:h,rotation:m,textAlign:eb(s.align),textBaseline:"middle",translation:[c,u]})}}function o7(t,e){const s=new gE({ctx:t.ctx,options:e,chart:t});jn.configure(t,s,e),jn.addBox(t,s),t.titleBlock=s}var l7={id:"title",_element:gE,start(t,e,s){o7(t,s)},stop(t){const e=t.titleBlock;jn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;jn.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Jc={average(t){if(!t.length)return!1;let e,s,n=new Set,a=0,l=0;for(e=0,s=t.length;e<s;++e){const u=t[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();n.add(h.x),a+=h.y,++l}}return l===0||n.size===0?!1:{x:[...n].reduce((u,h)=>u+h)/n.size,y:a/l}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,a=Number.POSITIVE_INFINITY,l,c,u;for(l=0,c=t.length;l<c;++l){const h=t[l].element;if(h&&h.hasValue()){const m=h.getCenterPoint(),p=Fg(e,m);p<a&&(a=p,u=h)}}if(u){const h=u.tooltipPosition();s=h.x,n=h.y}return{x:s,y:n}}};function ar(t,e){return e&&(is(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Hr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function c7(t,e){const{element:s,datasetIndex:n,index:a}=e,l=t.getDatasetMeta(n).controller,{label:c,value:u}=l.getLabelAndValue(a);return{chart:t,label:c,parsed:l.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:u,dataset:l.getDataset(),dataIndex:a,datasetIndex:n,element:s}}function Aj(t,e){const s=t.chart.ctx,{body:n,footer:a,title:l}=t,{boxWidth:c,boxHeight:u}=e,h=Ts(e.bodyFont),m=Ts(e.titleFont),p=Ts(e.footerFont),x=l.length,b=a.length,v=n.length,j=Cn(e.padding);let S=j.height,N=0,_=n.reduce((R,M)=>R+M.before.length+M.lines.length+M.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,x&&(S+=x*m.lineHeight+(x-1)*e.titleSpacing+e.titleMarginBottom),_){const R=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;S+=v*R+(_-v)*h.lineHeight+(_-1)*e.bodySpacing}b&&(S+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let A=0;const k=function(R){N=Math.max(N,s.measureText(R).width+A)};return s.save(),s.font=m.string,it(t.title,k),s.font=h.string,it(t.beforeBody.concat(t.afterBody),k),A=e.displayColors?c+2+e.boxPadding:0,it(n,R=>{it(R.before,k),it(R.lines,k),it(R.after,k)}),A=0,s.font=p.string,it(t.footer,k),s.restore(),N+=j.width,{width:N,height:S}}function d7(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function u7(t,e,s,n){const{x:a,width:l}=n,c=s.caretSize+s.caretPadding;if(t==="left"&&a+l+c>e.width||t==="right"&&a-l-c<0)return!0}function h7(t,e,s,n){const{x:a,width:l}=s,{width:c,chartArea:{left:u,right:h}}=t;let m="center";return n==="center"?m=a<=(u+h)/2?"left":"right":a<=l/2?m="left":a>=c-l/2&&(m="right"),u7(m,t,e,s)&&(m="center"),m}function Dj(t,e,s){const n=s.yAlign||e.yAlign||d7(t,s);return{xAlign:s.xAlign||e.xAlign||h7(t,e,s,n),yAlign:n}}function f7(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function m7(t,e,s){let{y:n,height:a}=t;return e==="top"?n+=s:e==="bottom"?n-=a+s:n-=a/2,n}function Rj(t,e,s,n){const{caretSize:a,caretPadding:l,cornerRadius:c}=t,{xAlign:u,yAlign:h}=s,m=a+l,{topLeft:p,topRight:x,bottomLeft:b,bottomRight:v}=nl(c);let j=f7(e,u);const S=m7(e,h,m);return h==="center"?u==="left"?j+=m:u==="right"&&(j-=m):u==="left"?j-=Math.max(p,b)+a:u==="right"&&(j+=Math.max(x,v)+a),{x:Xs(j,0,n.width-e.width),y:Xs(S,0,n.height-e.height)}}function Vh(t,e,s){const n=Cn(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function Oj(t){return ar([],Hr(t))}function p7(t,e,s){return Zi(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function Lj(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const yE={beforeTitle:Vr,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:Vr,beforeBody:Vr,beforeLabel:Vr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return yt(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Vr,afterBody:Vr,beforeFooter:Vr,footer:Vr,afterFooter:Vr};function $s(t,e,s,n){const a=t[e].call(s,n);return typeof a>"u"?yE[e].call(s,n):a}class Kg extends Jr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&s.options.animation&&n.animations,l=new tE(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=p7(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,a=$s(n,"beforeTitle",this,e),l=$s(n,"title",this,e),c=$s(n,"afterTitle",this,e);let u=[];return u=ar(u,Hr(a)),u=ar(u,Hr(l)),u=ar(u,Hr(c)),u}getBeforeBody(e,s){return Oj($s(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,a=[];return it(e,l=>{const c={before:[],lines:[],after:[]},u=Lj(n,l);ar(c.before,Hr($s(u,"beforeLabel",this,l))),ar(c.lines,$s(u,"label",this,l)),ar(c.after,Hr($s(u,"afterLabel",this,l))),a.push(c)}),a}getAfterBody(e,s){return Oj($s(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,a=$s(n,"beforeFooter",this,e),l=$s(n,"footer",this,e),c=$s(n,"afterFooter",this,e);let u=[];return u=ar(u,Hr(a)),u=ar(u,Hr(l)),u=ar(u,Hr(c)),u}_createItems(e){const s=this._active,n=this.chart.data,a=[],l=[],c=[];let u=[],h,m;for(h=0,m=s.length;h<m;++h)u.push(c7(this.chart,s[h]));return e.filter&&(u=u.filter((p,x,b)=>e.filter(p,x,b,n))),e.itemSort&&(u=u.sort((p,x)=>e.itemSort(p,x,n))),it(u,p=>{const x=Lj(e.callbacks,p);a.push($s(x,"labelColor",this,p)),l.push($s(x,"labelPointStyle",this,p)),c.push($s(x,"labelTextColor",this,p))}),this.labelColors=a,this.labelPointStyles=l,this.labelTextColors=c,this.dataPoints=u,u}update(e,s){const n=this.options.setContext(this.getContext()),a=this._active;let l,c=[];if(!a.length)this.opacity!==0&&(l={opacity:0});else{const u=Jc[n.position].call(this,a,this._eventPosition);c=this._createItems(n),this.title=this.getTitle(c,n),this.beforeBody=this.getBeforeBody(c,n),this.body=this.getBody(c,n),this.afterBody=this.getAfterBody(c,n),this.footer=this.getFooter(c,n);const h=this._size=Aj(this,n),m=Object.assign({},u,h),p=Dj(this.chart,n,m),x=Rj(n,m,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,l={opacity:1,x:x.x,y:x.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,l&&this._resolveAnimations().update(this,l),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,a){const l=this.getCaretPosition(e,n,a);s.lineTo(l.x1,l.y1),s.lineTo(l.x2,l.y2),s.lineTo(l.x3,l.y3)}getCaretPosition(e,s,n){const{xAlign:a,yAlign:l}=this,{caretSize:c,cornerRadius:u}=n,{topLeft:h,topRight:m,bottomLeft:p,bottomRight:x}=nl(u),{x:b,y:v}=e,{width:j,height:S}=s;let N,_,A,k,R,M;return l==="center"?(R=v+S/2,a==="left"?(N=b,_=N-c,k=R+c,M=R-c):(N=b+j,_=N+c,k=R-c,M=R+c),A=N):(a==="left"?_=b+Math.max(h,p)+c:a==="right"?_=b+j-Math.max(m,x)-c:_=this.caretX,l==="top"?(k=v,R=k-c,N=_-c,A=_+c):(k=v+S,R=k+c,N=_+c,A=_-c),M=k),{x1:N,x2:_,x3:A,y1:k,y2:R,y3:M}}drawTitle(e,s,n){const a=this.title,l=a.length;let c,u,h;if(l){const m=rl(n.rtl,this.x,this.width);for(e.x=Vh(this,n.titleAlign,n),s.textAlign=m.textAlign(n.titleAlign),s.textBaseline="middle",c=Ts(n.titleFont),u=n.titleSpacing,s.fillStyle=n.titleColor,s.font=c.string,h=0;h<l;++h)s.fillText(a[h],m.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+u,h+1===l&&(e.y+=n.titleMarginBottom-u)}}_drawColorBox(e,s,n,a,l){const c=this.labelColors[n],u=this.labelPointStyles[n],{boxHeight:h,boxWidth:m}=l,p=Ts(l.bodyFont),x=Vh(this,"left",l),b=a.x(x),v=h<p.lineHeight?(p.lineHeight-h)/2:0,j=s.y+v;if(l.usePointStyle){const S={radius:Math.min(m,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},N=a.leftForLtr(b,m)+m/2,_=j+h/2;e.strokeStyle=l.multiKeyBackground,e.fillStyle=l.multiKeyBackground,qg(e,S,N,_),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,qg(e,S,N,_)}else{e.lineWidth=Ze(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const S=a.leftForLtr(b,m),N=a.leftForLtr(a.xPlus(b,1),m-2),_=nl(c.borderRadius);Object.values(_).some(A=>A!==0)?(e.beginPath(),e.fillStyle=l.multiKeyBackground,_f(e,{x:S,y:j,w:m,h,radius:_}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),_f(e,{x:N,y:j+1,w:m-2,h:h-2,radius:_}),e.fill()):(e.fillStyle=l.multiKeyBackground,e.fillRect(S,j,m,h),e.strokeRect(S,j,m,h),e.fillStyle=c.backgroundColor,e.fillRect(N,j+1,m-2,h-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:a}=this,{bodySpacing:l,bodyAlign:c,displayColors:u,boxHeight:h,boxWidth:m,boxPadding:p}=n,x=Ts(n.bodyFont);let b=x.lineHeight,v=0;const j=rl(n.rtl,this.x,this.width),S=function(L){s.fillText(L,j.x(e.x+v),e.y+b/2),e.y+=b+l},N=j.textAlign(c);let _,A,k,R,M,z,H;for(s.textAlign=c,s.textBaseline="middle",s.font=x.string,e.x=Vh(this,N,n),s.fillStyle=n.bodyColor,it(this.beforeBody,S),v=u&&N!=="right"?c==="center"?m/2+p:m+2+p:0,R=0,z=a.length;R<z;++R){for(_=a[R],A=this.labelTextColors[R],s.fillStyle=A,it(_.before,S),k=_.lines,u&&k.length&&(this._drawColorBox(s,e,R,j,n),b=Math.max(x.lineHeight,h)),M=0,H=k.length;M<H;++M)S(k[M]),b=x.lineHeight;it(_.after,S)}v=0,b=x.lineHeight,it(this.afterBody,S),e.y-=l}drawFooter(e,s,n){const a=this.footer,l=a.length;let c,u;if(l){const h=rl(n.rtl,this.x,this.width);for(e.x=Vh(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=h.textAlign(n.footerAlign),s.textBaseline="middle",c=Ts(n.footerFont),s.fillStyle=n.footerColor,s.font=c.string,u=0;u<l;++u)s.fillText(a[u],h.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+n.footerSpacing}}drawBackground(e,s,n,a){const{xAlign:l,yAlign:c}=this,{x:u,y:h}=e,{width:m,height:p}=n,{topLeft:x,topRight:b,bottomLeft:v,bottomRight:j}=nl(a.cornerRadius);s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,s.lineWidth=a.borderWidth,s.beginPath(),s.moveTo(u+x,h),c==="top"&&this.drawCaret(e,s,n,a),s.lineTo(u+m-b,h),s.quadraticCurveTo(u+m,h,u+m,h+b),c==="center"&&l==="right"&&this.drawCaret(e,s,n,a),s.lineTo(u+m,h+p-j),s.quadraticCurveTo(u+m,h+p,u+m-j,h+p),c==="bottom"&&this.drawCaret(e,s,n,a),s.lineTo(u+v,h+p),s.quadraticCurveTo(u,h+p,u,h+p-v),c==="center"&&l==="left"&&this.drawCaret(e,s,n,a),s.lineTo(u,h+x),s.quadraticCurveTo(u,h,u+x,h),s.closePath(),s.fill(),a.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,a=n&&n.x,l=n&&n.y;if(a||l){const c=Jc[e.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=Aj(this,e),h=Object.assign({},c,this._size),m=Dj(s,e,h),p=Rj(e,h,m,s);(a._to!==p.x||l._to!==p.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const a={width:this.width,height:this.height},l={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const c=Cn(s.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&u&&(e.save(),e.globalAlpha=n,this.drawBackground(l,e,a,s),Z_(e,s.textDirection),l.y+=c.top,this.drawTitle(l,e,s),this.drawBody(l,e,s),this.drawFooter(l,e,s),J_(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,a=e.map(({datasetIndex:u,index:h})=>{const m=this.chart.getDatasetMeta(u);if(!m)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:m.data[h],index:h}}),l=!wf(n,a),c=this._positionChanged(a,s);(l||c)&&(this._active=a,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,l=this._active||[],c=this._getActiveElements(e,l,s,n),u=this._positionChanged(c,e),h=s||!wf(c,l)||u;return h&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),h}_getActiveElements(e,s,n,a){const l=this.options;if(e.type==="mouseout")return[];if(!a)return s.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,l.mode,l,n);return l.reverse&&c.reverse(),c}_positionChanged(e,s){const{caretX:n,caretY:a,options:l}=this,c=Jc[l.position].call(this,e,s);return c!==!1&&(n!==c.x||a!==c.y)}}Me(Kg,"positioners",Jc);var x7={id:"tooltip",_element:Kg,positioners:Jc,afterInit(t,e,s){s&&(t.tooltip=new Kg({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yE},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const g7=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function y7(t,e,s,n){const a=t.indexOf(e);if(a===-1)return g7(t,e,s,n);const l=t.lastIndexOf(e);return a!==l?s:a}const b7=(t,e)=>t===null?null:Xs(Math.round(t),0,e);function Pj(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Qg extends bl{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:a,label:l}of s)n[a]===l&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(yt(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:y7(n,e,Ye(s,e),this._addedLabels),b7(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,a=[];let l=this.getLabels();l=e===0&&s===l.length-1?l:l.slice(e,s+1),this._valueRange=Math.max(l.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let c=e;c<=s;c++)a.push({value:c});return a}getLabelForValue(e){return Pj.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Me(Qg,"id","category"),Me(Qg,"defaults",{ticks:{callback:Pj}});function v7(t,e){const s=[],{bounds:a,step:l,min:c,max:u,precision:h,count:m,maxTicks:p,maxDigits:x,includeBounds:b}=t,v=l||1,j=p-1,{min:S,max:N}=e,_=!yt(c),A=!yt(u),k=!yt(m),R=(N-S)/(x+1);let M=B2((N-S)/j/v)*v,z,H,L,F;if(M<1e-14&&!_&&!A)return[{value:S},{value:N}];F=Math.ceil(N/M)-Math.floor(S/M),F>j&&(M=B2(F*M/j/v)*v),yt(h)||(z=Math.pow(10,h),M=Math.ceil(M*z)/z),a==="ticks"?(H=Math.floor(S/M)*M,L=Math.ceil(N/M)*M):(H=S,L=N),_&&A&&l&&$8((u-c)/l,M/1e3)?(F=Math.round(Math.min((u-c)/M,p)),M=(u-c)/F,H=c,L=u):k?(H=_?c:H,L=A?u:L,F=m-1,M=(L-H)/F):(F=(L-H)/M,od(F,Math.round(F),M/1e3)?F=Math.round(F):F=Math.ceil(F));const U=Math.max(V2(M),V2(H));z=Math.pow(10,yt(h)?U:h),H=Math.round(H*z)/z,L=Math.round(L*z)/z;let X=0;for(_&&(b&&H!==c?(s.push({value:c}),H<c&&X++,od(Math.round((H+X*M)*z)/z,c,zj(c,R,t))&&X++):H<c&&X++);X<F;++X){const Z=Math.round((H+X*M)*z)/z;if(A&&Z>u)break;s.push({value:Z})}return A&&b&&L!==u?s.length&&od(s[s.length-1].value,u,zj(u,R,t))?s[s.length-1].value=u:s.push({value:u}):(!A||L===u)&&s.push({value:L}),s}function zj(t,e,{horizontal:s,minRotation:n}){const a=$r(n),l=(s?Math.sin(a):Math.cos(a))||.001,c=.75*e*(""+t).length;return Math.min(e/l,c)}class w7 extends bl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return yt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:a,max:l}=this;const c=h=>a=s?a:h,u=h=>l=n?l:h;if(e){const h=pr(a),m=pr(l);h<0&&m<0?u(0):h>0&&m>0&&c(0)}if(a===l){let h=l===0?1:Math.abs(l*.05);u(l+h),e||c(a-h)}this.min=a,this.max=l}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),s=s||11),s&&(a=Math.min(s,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},l=this._range||this,c=v7(a,l);return e.bounds==="ticks"&&I8(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-s)/Math.max(e.length-1,1)/2;s-=a,n+=a}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return sb(e,this.chart.options.locale,this.options.ticks.format)}}class Zg extends w7{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=En(e)?e:0,this.max=En(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=$r(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,l.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Me(Zg,"id","linear"),Me(Zg,"defaults",{ticks:{callback:I_.formatters.numeric}});const Zf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qs=Object.keys(Zf);function Bj(t,e){return t-e}function Vj(t,e){if(yt(e))return null;const s=t._adapter,{parser:n,round:a,isoWeekday:l}=t._parseOpts;let c=e;return typeof n=="function"&&(c=n(c)),En(c)||(c=typeof n=="string"?s.parse(c,n):s.parse(c)),c===null?null:(a&&(c=a==="week"&&(Sf(l)||l===!0)?s.startOf(c,"isoWeek",l):s.startOf(c,a)),+c)}function Uj(t,e,s,n){const a=qs.length;for(let l=qs.indexOf(t);l<a-1;++l){const c=Zf[qs[l]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((s-e)/(u*c.size))<=n)return qs[l]}return qs[a-1]}function j7(t,e,s,n,a){for(let l=qs.length-1;l>=qs.indexOf(s);l--){const c=qs[l];if(Zf[c].common&&t._adapter.diff(a,n,c)>=e-1)return c}return qs[s?qs.indexOf(s):0]}function N7(t){for(let e=qs.indexOf(t)+1,s=qs.length;e<s;++e)if(Zf[qs[e]].common)return qs[e]}function Hj(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:a}=Jy(s,e),l=s[n]>=e?s[n]:s[a];t[l]=!0}}function S7(t,e,s,n){const a=t._adapter,l=+a.startOf(e[0].value,n),c=e[e.length-1].value;let u,h;for(u=l;u<=c;u=+a.add(u,1,n))h=s[u],h>=0&&(e[h].major=!0);return e}function Fj(t,e,s){const n=[],a={},l=e.length;let c,u;for(c=0;c<l;++c)u=e[c],a[u]=c,n.push({value:u,major:!1});return l===0||!s?n:S7(t,n,a,s)}class kf extends bl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),a=this._adapter=new CB._date(e.adapters.date);a.init(s),id(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:Vj(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:a,max:l,minDefined:c,maxDefined:u}=this.getUserBounds();function h(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!u&&!isNaN(m.max)&&(l=Math.max(l,m.max))}(!c||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=En(a)&&!isNaN(a)?a:+s.startOf(Date.now(),n),l=En(l)&&!isNaN(l)?l:+s.endOf(Date.now(),n)+1,this.min=Math.min(a,l-1),this.max=Math.max(a+1,l)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const l=this.min,c=this.max,u=G8(a,l,c);return this._unit=s.unit||(n.autoSkip?Uj(s.minUnit,this.min,this.max,this._getLabelCapacity(l)):j7(this,u.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:N7(this._unit),this.initOffsets(a),e.reverse&&u.reverse(),Fj(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,a,l;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?s=1-a:s=(this.getDecimalForValue(e[1])-a)/2,l=this.getDecimalForValue(e[e.length-1]),e.length===1?n=l:n=(l-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;s=Xs(s,0,c),n=Xs(n,0,c),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,a=this.options,l=a.time,c=l.unit||Uj(l.minUnit,s,n,this._getLabelCapacity(s)),u=Ye(a.ticks.stepSize,1),h=c==="week"?l.isoWeekday:!1,m=Sf(h)||h===!0,p={};let x=s,b,v;if(m&&(x=+e.startOf(x,"isoWeek",h)),x=+e.startOf(x,m?"day":c),e.diff(n,s,c)>1e5*u)throw new Error(s+" and "+n+" are too far apart with stepSize of "+u+" "+c);const j=a.ticks.source==="data"&&this.getDataTimestamps();for(b=x,v=0;b<n;b=+e.add(b,u,c),v++)Hj(p,b,j);return(b===n||a.bounds==="ticks"||v===1)&&Hj(p,b,j),Object.keys(p).sort(Bj).map(S=>+S)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const a=this.options.time.displayFormats,l=this._unit,c=s||a[l];return this._adapter.format(e,c)}_tickFormatFunction(e,s,n,a){const l=this.options,c=l.ticks.callback;if(c)return Nt(c,[e,s,n],this);const u=l.time.displayFormats,h=this._unit,m=this._majorUnit,p=h&&u[h],x=m&&u[m],b=n[s],v=m&&x&&b&&b.major;return this._adapter.format(e,a||(v?x:p))}generateTickLabels(e){let s,n,a;for(s=0,n=e.length;s<n;++s)a=e[s],a.label=this._tickFormatFunction(a.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,a=$r(this.isHorizontal()?s.maxRotation:s.minRotation),l=Math.cos(a),c=Math.sin(a),u=this._resolveTickFontOptions(0).size;return{w:n*l+u*c,h:n*c+u*l}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,a=n[s.unit]||n.millisecond,l=this._tickFormatFunction(e,0,Fj(this,[e],this._majorUnit),a),c=this._getLabelSize(l),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(s=0,n=a.length;s<n;++s)e=e.concat(a[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const a=this.getLabels();for(s=0,n=a.length;s<n;++s)e.push(Vj(this,a[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return H_(e.sort(Bj))}}Me(kf,"id","time"),Me(kf,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Uh(t,e,s){let n=0,a=t.length-1,l,c,u,h;s?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=$g(t,"pos",e)),{pos:l,time:u}=t[n],{pos:c,time:h}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=$g(t,"time",e)),{time:l,pos:u}=t[n],{time:c,pos:h}=t[a]);const m=c-l;return m?u+(h-u)*(e-l)/m:u}class $j extends kf{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Uh(s,this.min),this._tableRange=Uh(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,a=[],l=[];let c,u,h,m,p;for(c=0,u=e.length;c<u;++c)m=e[c],m>=s&&m<=n&&a.push(m);if(a.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(c=0,u=a.length;c<u;++c)p=a[c+1],h=a[c-1],m=a[c],Math.round((p+h)/2)!==m&&l.push({time:m,pos:c/(u-1)});return l}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((a,l)=>a-l)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Uh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return Uh(this._table,n*this._tableRange+this._minPos,!0)}}Me($j,"id","timeseries"),Me($j,"defaults",kf.defaults);const bE="label";function Ij(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function _7(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function vE(t,e){t.labels=e}function wE(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bE;const n=[];t.datasets=e.map(a=>{const l=t.datasets.find(c=>c[s]===a[s]);return!l||!a.data||n.includes(l)?{...a}:(n.push(l),Object.assign(l,a),l)})}function E7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bE;const s={labels:[],datasets:[]};return vE(s,t.labels),wE(s,t.datasets,e),s}function C7(t,e){const{height:s=150,width:n=300,redraw:a=!1,datasetIdKey:l,type:c,data:u,options:h,plugins:m=[],fallbackContent:p,updateMode:x,...b}=t,v=D.useRef(null),j=D.useRef(null),S=()=>{v.current&&(j.current=new Qf(v.current,{type:c,data:E7(u,l),options:h&&{...h},plugins:m}),Ij(e,j.current))},N=()=>{Ij(e,null),j.current&&(j.current.destroy(),j.current=null)};return D.useEffect(()=>{!a&&j.current&&h&&_7(j.current,h)},[a,h]),D.useEffect(()=>{!a&&j.current&&vE(j.current.config.data,u.labels)},[a,u.labels]),D.useEffect(()=>{!a&&j.current&&u.datasets&&wE(j.current.config.data,u.datasets,l)},[a,u.datasets]),D.useEffect(()=>{j.current&&(a?(N(),setTimeout(S)):j.current.update(x))},[a,h,u.labels,u.datasets,x]),D.useEffect(()=>{j.current&&(N(),setTimeout(S))},[c]),D.useEffect(()=>(S(),()=>N()),[]),ve.createElement("canvas",{ref:v,role:"img",height:s,width:n,...b},p)}const T7=D.forwardRef(C7);function jE(t,e){return Qf.register(e),D.forwardRef((s,n)=>ve.createElement(T7,{...s,ref:n,type:t}))}const Qx=jE("bar",nf),Zx=jE("pie",Yg);Qf.register(Qg,Zg,lf,l7,x7,i7,Qc,of,Zc);const k7=()=>{const{fetchResumen:t}=$d(),{fetchResumen:e}=Wf(),{getMovementsSummary:s}=Zr(),[n,a]=D.useState("ventas"),[l,c]=D.useState(new Date(new Date().setDate(new Date().getDate()-30))),[u,h]=D.useState(new Date),[m,p]=D.useState(!1),[x,b]=D.useState(null),[v,j]=D.useState(null),[S,N]=D.useState(null),[_,A]=D.useState(null);D.useEffect(()=>{k()},[l,u]);const k=async()=>{try{p(!0),b(null),console.log("Cargando resmenes con fechas:",{fechaInicio:l,fechaFin:u});const[L,F,U]=await Promise.all([t(l,u),e(l,u),s(l,u)]);console.log("Datos recibidos:",{ventasData:L,comprasData:F,movimientosData:U}),j(L),N(F),A(U)}catch(L){console.error("Error al cargar resmenes:",L),b(L.message),we.error("Error al cargar los resmenes")}finally{p(!1)}},R=()=>{we.error("Funcin de exportacin no implementada an")},M=()=>{if(!v)return console.log("No hay datos de resumen de ventas"),null;console.log("Renderizando resumen de ventas:",v);const{resumen:L,productos_mas_vendidos:F}=v;if(!L||!F)return console.log("Datos incompletos en resumen de ventas"),null;const U={labels:["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],datasets:[{label:"Ventas por da",data:[65,59,80,81,56,55,40],backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},X={labels:F.map(Z=>Z.producto.nombre),datasets:[{label:"Unidades vendidas",data:F.map(Z=>Z.total_vendido),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]};return o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary",children:"Total Ventas"}),o.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-success",children:["",L.total_monto.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),o.jsxs("p",{className:"text-xs sm:text-sm text-text-tertiary",children:[L.total_ventas," ventas"]})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary",children:"Promedio por Venta"}),o.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-solid-color",children:["",L.promedio_venta.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary",children:"Productos Vendidos"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-solid-color",children:F.reduce((Z,ae)=>Z+ae.total_vendido,0)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary mb-3 sm:mb-4",children:"Ventas por Da"}),o.jsx("div",{className:"h-60 sm:h-auto",children:o.jsx(Qx,{data:U,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{labels:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}}}},scales:{y:{ticks:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}},grid:{color:"#374151"}},x:{ticks:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}},grid:{color:"#374151"}}}}})})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary mb-3 sm:mb-4",children:"Productos Ms Vendidos"}),o.jsx("div",{className:"h-60 sm:h-auto",children:o.jsx(Zx,{data:X,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:window.innerWidth>=640,position:"right",labels:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}}}}}})})]})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary mb-3 sm:mb-4",children:"Detalle de Productos Ms Vendidos"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-border",children:[o.jsx("thead",{className:"bg-interactive-component",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Unidades Vendidas"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total Vendido"})]})}),o.jsx("tbody",{className:"bg-bg divide-y divide-border",children:F.map((Z,ae)=>o.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm font-medium text-accessibility-text",children:Z.producto.nombre}),o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-text-tertiary",children:Z.total_vendido}),o.jsxs("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-text-tertiary",children:["",Z.total_monto.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},ae))})]})})]})]})},z=()=>{if(!S)return null;console.log("Resumen de compras en reportes:",S);const{resumen:L,productosMasComprados:F}=S;if(!L||!F)return console.log("Datos incompletos en resumen de compras"),null;const U={labels:["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],datasets:[{label:"Compras por da",data:[45,39,60,71,46,45,30],backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},X={labels:F.map(Z=>Z.producto.nombre),datasets:[{label:"Unidades compradas",data:F.map(Z=>Z.total_comprado),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]};return o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary",children:"Total Compras"}),o.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-error",children:["",L.total_monto.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),o.jsxs("p",{className:"text-xs sm:text-sm text-text-tertiary",children:[L.total_compras," compras"]})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary",children:"Promedio por Compra"}),o.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-solid-color",children:["",L.promedio_compra.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary",children:"Productos Comprados"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-solid-color",children:F.reduce((Z,ae)=>Z+ae.total_comprado,0)})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary mb-3 sm:mb-4",children:"Compras por Da"}),o.jsx("div",{className:"h-60 sm:h-auto",children:o.jsx(Qx,{data:U,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{labels:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}}}},scales:{y:{ticks:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}},grid:{color:"#374151"}},x:{ticks:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}},grid:{color:"#374151"}}}}})})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary mb-3 sm:mb-4",children:"Productos Ms Comprados"}),o.jsx("div",{className:"h-60 sm:h-auto",children:o.jsx(Zx,{data:X,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:window.innerWidth>=640,position:"right",labels:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}}}}}})})]})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary mb-3 sm:mb-4",children:"Detalle de Productos Ms Comprados"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-border",children:[o.jsx("thead",{className:"bg-interactive-component",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Unidades Compradas"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total Comprado"})]})}),o.jsx("tbody",{className:"bg-bg divide-y divide-border",children:F.map((Z,ae)=>o.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm font-medium text-accessibility-text",children:Z.producto.nombre}),o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-text-tertiary",children:Z.total_comprado}),o.jsxs("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-text-tertiary",children:["",Z.total_monto.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},ae))})]})})]})]})},H=()=>{var U,X,Z,ae,ne,le;if(!_)return console.log("No hay datos de resumen de movimientos"),null;console.log("Renderizando resumen de movimientos:",_);const L={labels:["Entradas","Salidas"],datasets:[{label:"Movimientos por tipo",data:[((U=_.find(P=>P.tipo==="entrada"))==null?void 0:U.total_movimientos)||0,((X=_.find(P=>P.tipo==="salida"))==null?void 0:X.total_movimientos)||0],backgroundColor:["rgba(75, 192, 192, 0.5)","rgba(255, 99, 132, 0.5)"],borderColor:["rgba(75, 192, 192, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]},F={labels:["Entradas","Salidas"],datasets:[{label:"Cantidad por tipo",data:[((Z=_.find(P=>P.tipo==="entrada"))==null?void 0:Z.total_cantidad)||0,((ae=_.find(P=>P.tipo==="salida"))==null?void 0:ae.total_cantidad)||0],backgroundColor:"rgba(153, 102, 255, 0.5)",borderColor:"rgba(153, 102, 255, 1)",borderWidth:1}]};return console.log("Datos procesados para grficos:",{movimientosPorTipo:L,cantidadPorTipo:F}),o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary",children:"Total Movimientos"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-solid-color",children:_.reduce((P,I)=>P+I.total_movimientos,0)})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary",children:"Total Entradas"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-success",children:((ne=_.find(P=>P.tipo==="entrada"))==null?void 0:ne.total_cantidad)||0})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary",children:"Total Salidas"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-error",children:((le=_.find(P=>P.tipo==="salida"))==null?void 0:le.total_cantidad)||0})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary mb-3 sm:mb-4",children:"Movimientos por Tipo"}),o.jsx("div",{className:"h-60 sm:h-auto",children:o.jsx(Zx,{data:L,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{display:window.innerWidth>=640,position:"right",labels:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}}}}}})})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary mb-3 sm:mb-4",children:"Cantidad por Tipo de Movimiento"}),o.jsx("div",{className:"h-60 sm:h-auto",children:o.jsx(Qx,{data:F,options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{labels:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}}}},scales:{y:{ticks:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}},grid:{color:"#374151"}},x:{ticks:{color:"#6B7280",font:{size:window.innerWidth<640?10:12}},grid:{color:"#374151"}}}}})})]})]}),o.jsxs("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-text-secondary mb-3 sm:mb-4",children:"Detalle de Movimientos"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-border",children:[o.jsx("thead",{className:"bg-interactive-component",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total Movimientos"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total Cantidad"})]})}),o.jsx("tbody",{className:"bg-bg divide-y divide-border",children:_.map((P,I)=>o.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm font-medium text-accessibility-text",children:P.tipo==="entrada"?"Entrada":P.tipo==="salida"?"Salida":P.tipo.charAt(0).toUpperCase()+P.tipo.slice(1)}),o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-text-tertiary",children:P.total_movimientos}),o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-text-tertiary",children:P.total_cantidad})]},I))})]})})]})]})};return o.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-4 sm:mb-8",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text mb-4",children:"Reportes"}),o.jsx("div",{className:"bg-bg p-3 sm:p-4 rounded-lg border border-border mb-4 sm:mb-6",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 sm:gap-4 sm:items-center",children:[o.jsxs("div",{className:"w-full sm:w-auto",children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-secondary mb-1",children:"Fecha Inicio"}),o.jsx("input",{type:"date",value:pt(l,"yyyy-MM-dd"),onChange:L=>c(new Date(L.target.value)),className:"w-full mt-1 block rounded-lg bg-bg border border-border shadow-sm focus:border-solid-color focus:ring-2 focus:ring-solid-color focus:ring-opacity-50 text-xs sm:text-sm px-2 py-1.5 sm:py-2"})]}),o.jsxs("div",{className:"w-full sm:w-auto",children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-secondary mb-1",children:"Fecha Fin"}),o.jsx("input",{type:"date",value:pt(u,"yyyy-MM-dd"),onChange:L=>h(new Date(L.target.value)),className:"w-full mt-1 block rounded-lg bg-bg border border-border shadow-sm focus:border-solid-color focus:ring-2 focus:ring-solid-color focus:ring-opacity-50 text-xs sm:text-sm px-2 py-1.5 sm:py-2"})]}),o.jsx("div",{className:"flex-grow"}),o.jsx("button",{onClick:()=>R(),className:"w-full sm:w-auto inline-flex items-center justify-center px-3 py-1.5 sm:px-4 sm:py-2 border border-transparent text-xs sm:text-sm font-medium rounded-lg shadow-sm text-white bg-solid-color hover:bg-solid-color-hover focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-solid-color transition-colors duration-200",children:"Exportar Reporte"})]})}),o.jsx("div",{className:"border-b border-border overflow-x-auto",children:o.jsxs("div",{className:"flex space-x-4 sm:space-x-8 min-w-max",children:[o.jsx("button",{onClick:()=>a("ventas"),className:`${n==="ventas"?"border-solid-color text-solid-color":"border-transparent text-text-tertiary hover:text-accessibility-text hover:border-border"} whitespace-nowrap py-3 sm:py-4 px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200`,children:"Ventas"}),o.jsx("button",{onClick:()=>a("compras"),className:`${n==="compras"?"border-solid-color text-solid-color":"border-transparent text-text-tertiary hover:text-accessibility-text hover:border-border"} whitespace-nowrap py-3 sm:py-4 px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200`,children:"Compras"}),o.jsx("button",{onClick:()=>a("inventario"),className:`${n==="inventario"?"border-solid-color text-solid-color":"border-transparent text-text-tertiary hover:text-accessibility-text hover:border-border"} whitespace-nowrap py-3 sm:py-4 px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200`,children:"Inventario"})]})})]}),o.jsx("div",{className:"mt-4 sm:mt-6",children:m?o.jsx("div",{className:"flex justify-center items-center h-40 sm:h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 border-b-2 border-solid-color"})}):x?o.jsx("div",{className:"bg-error/10 border-l-4 border-error p-3 sm:p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[o.jsx("svg",{className:"h-5 w-5 text-error",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),o.jsx("p",{className:"text-xs sm:text-sm text-error",children:x})]})}):o.jsxs(o.Fragment,{children:[n==="ventas"&&M(),n==="compras"&&z(),n==="inventario"&&H()]})})]})},Hc="http://127.0.0.1:8000/api",Fc={getFacturas:async(t={})=>{try{return(await ge.get(`${Hc}/facturas`,{params:t})).data.data||[]}catch(e){throw console.error("Error en getFacturas:",e),e.response?(console.error("Respuesta del servidor:",e.response.data),new Error(e.response.data.message||"Error al obtener las facturas")):e.request?(console.error("No se recibi respuesta del servidor"),new Error("No se pudo conectar con el servidor")):(console.error("Error al configurar la peticin:",e.message),new Error("Error al configurar la peticin: "+e.message))}},generarFacturaVenta:async t=>{var e,s;try{return(await ge.get(`${Hc}/facturas/venta/${t}`,{responseType:"blob"})).data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al generar la factura de venta")}},generarFacturaCompra:async t=>{var e,s;try{return(await ge.get(`${Hc}/facturas/compra/${t}`,{responseType:"blob"})).data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al generar la factura de compra")}},descargarFactura:async(t,e)=>{var s,n;try{const a=await ge.get(`${Hc}/facturas/descargar/${t}/${e}`,{responseType:"blob"}),l=new Blob([a.data],{type:"application/pdf"}),c=window.URL.createObjectURL(l),u=document.createElement("a");return u.href=c,u.setAttribute("download",`factura-${t}-${e}.pdf`),document.body.appendChild(u),u.click(),window.URL.revokeObjectURL(c),document.body.removeChild(u),!0}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al descargar la factura")}},abrirFactura:async(t,e)=>{var s,n;try{const a=await ge.get(`${Hc}/facturas/descargar/${t}/${e}`,{responseType:"blob"}),l=new Blob([a.data],{type:"application/pdf"}),c=window.URL.createObjectURL(l);return window.open(c,"_blank"),!0}catch(a){throw new Error(((n=(s=a.response)==null?void 0:s.data)==null?void 0:n.message)||"Error al abrir la factura")}}},M7=Ps(t=>({facturas:[],loading:!1,error:null,fetchFacturas:async(e={})=>{t({loading:!0,error:null});try{const s=await Fc.getFacturas(e);t({facturas:s,loading:!1})}catch(s){console.error("Error al obtener facturas:",s),t({error:s.message,loading:!1})}},generarFacturaVenta:async e=>{t({loading:!0,error:null});try{return await Fc.generarFacturaVenta(e),t({loading:!1}),!0}catch(s){return console.error("Error al generar factura de venta:",s),t({error:s.message,loading:!1}),!1}},generarFacturaCompra:async e=>{t({loading:!0,error:null});try{return await Fc.generarFacturaCompra(e),t({loading:!1}),!0}catch(s){return console.error("Error al generar factura de compra:",s),t({error:s.message,loading:!1}),!1}},descargarFactura:async(e,s)=>{t({loading:!0,error:null});try{return await Fc.descargarFactura(e,s),t({loading:!1}),!0}catch(n){return console.error("Error al descargar factura:",n),t({error:n.message,loading:!1}),!1}},abrirFactura:async(e,s)=>{t({loading:!0,error:null});try{return await Fc.abrirFactura(e,s),t({loading:!1}),!0}catch(n){return console.error("Error al abrir factura:",n),t({error:n.message,loading:!1}),!1}},clearError:()=>{t({error:null})}})),Hh=t=>{if(!t)return"N/A";const e=new Date(t);return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(e)},$c=t=>t==null?"0,00":new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),qj=t=>{switch(t){case"completada":return o.jsx(Xa,{className:"h-4 w-4 text-success"});case"pendiente":return o.jsx(Wi,{className:"h-4 w-4 text-warning"});case"cancelada":return o.jsx(Og,{className:"h-4 w-4 text-error"});default:return null}},Fh=t=>{switch(t){case"completada":return"Completada";case"pendiente":return"Pendiente";case"cancelada":return"Cancelada";default:return"Desconocido"}},Jx=t=>{switch(t){case"completada":return"bg-success/10 text-success";case"pendiente":return"bg-warning/10 text-warning";case"cancelada":return"bg-error/10 text-error";default:return"bg-text-tertiary/10 text-text-tertiary"}},eg=t=>{switch(t){case"venta":return o.jsx(mr,{className:"h-4 w-4 text-success"});case"compra":return o.jsx(Et,{className:"h-4 w-4 text-warning"});default:return o.jsx(Vn,{className:"h-4 w-4 text-text-tertiary"})}},$h=t=>{switch(t){case"venta":return"Venta";case"compra":return"Compra";default:return"Desconocido"}},Yj=t=>{switch(t){case"venta":return"bg-success/10 text-success";case"compra":return"bg-warning/10 text-warning";default:return"bg-text-tertiary/10 text-text-tertiary"}},A7=()=>{var P,I;const{facturas:t,loading:e,error:s,fetchFacturas:n,descargarFactura:a,abrirFactura:l}=M7(),{sedes:c,fetchSedes:u}=_n(),[h,m]=D.useState(""),[p,x]=D.useState(""),[b,v]=D.useState(""),[j,S]=D.useState(""),[N,_]=D.useState({start:"",end:""}),[A,k]=D.useState(!1),[R,M]=D.useState(null),[z,H]=D.useState(!1),[L,F]=D.useState(!1);D.useEffect(()=>{(async()=>{try{await Promise.all([n({fecha_inicio:N.start||void 0,fecha_fin:N.end||void 0}),u()])}catch(W){we.error("Error al cargar las facturas: "+(W.message||"Error desconocido"))}})()},[n,u,N]);const U=[{title:"Total Facturas",value:t.length.toString(),icon:o.jsx(Vn,{className:"h-6 w-6 text-solid-color"}),change:"+12%",trend:"up"},{title:"Total Facturado",value:$c(t.reduce(($,W)=>$+Number(W.total),0)),icon:o.jsx(Sn,{className:"h-6 w-6 text-success"}),change:"+8%",trend:"up"},{title:"Facturas Pendientes",value:t.filter($=>$.estado==="pendiente").length.toString(),icon:o.jsx(Wi,{className:"h-6 w-6 text-warning"}),change:"-5%",trend:"down"}],X=t.filter($=>{var fe,je,xe,st,Ve;const W=((fe=$.numero)==null?void 0:fe.toLowerCase().includes(h.toLowerCase()))||((xe=(je=$.usuario)==null?void 0:je.nombre)==null?void 0:xe.toLowerCase().includes(h.toLowerCase()))||((Ve=(st=$.proveedor)==null?void 0:st.nombre)==null?void 0:Ve.toLowerCase().includes(h.toLowerCase())),B=!p||Number($.sede_id)===Number(p),G=!b||$.tipo===b,te=!j||$.estado===j,ie=(!N.start||new Date($.fecha)>=new Date(N.start))&&(!N.end||new Date($.fecha)<=new Date(N.end));return W&&B&&G&&te&&ie}),Z=$=>{M($),k(!0)},ae=async $=>{try{F(!0),await a($.tipo,$.id),we.success("Factura descargada correctamente")}catch(W){we.error("Error al descargar la factura: "+(W.message||"Error desconocido"))}finally{F(!1)}},ne=async $=>{try{H(!0),await l($.tipo,$.id)}catch(W){we.error("Error al abrir la factura: "+(W.message||"Error desconocido"))}finally{H(!1)}},le=()=>{const $=X.map(te=>{var ie,fe;return{Nmero:te.numero,Tipo:$h(te.tipo),Fecha:Hh(te.fecha),Total:$c(te.total),Estado:Fh(te.estado),Sede:((ie=te.sede)==null?void 0:ie.nombre)||"N/A",Usuario:((fe=te.usuario)==null?void 0:fe.nombre)||"N/A"}}),W=[Object.keys($[0]).join(","),...$.map(te=>Object.values(te).join(","))].join(`
`),B=new Blob([W],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a");G.href=URL.createObjectURL(B),G.download=`facturas_${new Date().toISOString().split("T")[0]}.csv`,G.click()};return o.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx(Vn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-solid-color"}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Facturas"})]}),o.jsx("div",{className:"flex items-center justify-end space-x-2 sm:space-x-4",children:o.jsxs("button",{onClick:le,className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200 text-xs sm:text-base",children:[o.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{children:"Exportar"})]})})]}),s&&o.jsx("div",{className:"bg-error/10 text-error p-3 sm:p-4 rounded-lg text-xs sm:text-sm",children:s}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-6",children:U.map(($,W)=>o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:W*.1},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:$.icon}),o.jsx("span",{className:`text-xs sm:text-sm font-medium ${$.trend==="up"?"text-success":"text-error"}`,children:$.change})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:$.title}),o.jsx("p",{className:"mt-1 text-base sm:text-2xl font-semibold text-accessibility-text",children:$.value})]},W))}),o.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-0 sm:flex-row sm:flex-wrap sm:items-center gap-2 sm:gap-4",children:[o.jsxs("div",{className:"flex-1 min-w-0 sm:min-w-[200px] relative",children:[o.jsx(xr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:"Buscar facturas...",value:h,onChange:$=>m($.target.value),className:"w-full pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 text-xs sm:text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"hidden sm:flex sm:flex-wrap gap-2 sm:gap-4",children:[o.jsxs("select",{value:p,onChange:$=>x($.target.value),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[o.jsx("option",{value:"",children:"Todas las sedes"}),c.map($=>o.jsx("option",{value:$.id,children:$.nombre},$.id))]}),o.jsxs("select",{value:b,onChange:$=>v($.target.value),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[o.jsx("option",{value:"",children:"Todos los tipos"}),o.jsx("option",{value:"venta",children:"Ventas"}),o.jsx("option",{value:"compra",children:"Compras"})]}),o.jsxs("select",{value:j,onChange:$=>S($.target.value),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[o.jsx("option",{value:"",children:"Todos los estados"}),o.jsx("option",{value:"completada",children:"Completada"}),o.jsx("option",{value:"pendiente",children:"Pendiente"}),o.jsx("option",{value:"cancelada",children:"Cancelada"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"date",value:N.start,onChange:$=>_(W=>({...W,start:$.target.value})),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"}),o.jsx("input",{type:"date",value:N.end,onChange:$=>_(W=>({...W,end:$.target.value})),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]})]}),o.jsxs("div",{className:"flex flex-wrap sm:hidden gap-2 w-full",children:[o.jsxs("select",{value:b,onChange:$=>v($.target.value),className:"flex-1 px-3 py-1.5 text-xs bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color",children:[o.jsx("option",{value:"",children:"Tipo"}),o.jsx("option",{value:"venta",children:"Ventas"}),o.jsx("option",{value:"compra",children:"Compras"})]}),o.jsxs("select",{value:j,onChange:$=>S($.target.value),className:"flex-1 px-3 py-1.5 text-xs bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color",children:[o.jsx("option",{value:"",children:"Estado"}),o.jsx("option",{value:"completada",children:"Completada"}),o.jsx("option",{value:"pendiente",children:"Pendiente"}),o.jsx("option",{value:"cancelada",children:"Cancelada"})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[o.jsxs("div",{className:"flex sm:hidden gap-2 w-full",children:[o.jsx("input",{type:"date",value:N.start,onChange:$=>_(W=>({...W,start:$.target.value})),className:"flex-1 px-3 py-1.5 text-xs bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color",placeholder:"Fecha inicio"}),o.jsx("input",{type:"date",value:N.end,onChange:$=>_(W=>({...W,end:$.target.value})),className:"flex-1 px-3 py-1.5 text-xs bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color",placeholder:"Fecha fin"})]}),o.jsxs("button",{onClick:()=>{m(""),x(""),v(""),S(""),_({start:"",end:""})},className:"w-full sm:w-auto px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center justify-center sm:justify-start space-x-1 sm:space-x-2 transition-colors duration-200",children:[o.jsx(fr,{className:"h-3 w-3 sm:h-5 sm:w-5"}),o.jsx("span",{children:"Limpiar Filtros"})]})]})]}),o.jsx("div",{className:"hidden sm:block bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-interactive-component",children:[o.jsx("th",{className:"px-3 sm:px-8 py-2 sm:py-4 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Factura"}),o.jsx("th",{className:"px-3 sm:px-8 py-2 sm:py-4 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{className:"px-3 sm:px-8 py-2 sm:py-4 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-3 sm:px-8 py-2 sm:py-4 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total"}),o.jsx("th",{className:"px-3 sm:px-8 py-2 sm:py-4 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-3 sm:px-8 py-2 sm:py-4 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Sede"}),o.jsx("th",{className:"px-3 sm:px-8 py-2 sm:py-4 text-right text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:e?o.jsx(ft,{variant:"table",colSpan:7,text:"Cargando facturas..."}):X.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"px-3 sm:px-8 py-2 sm:py-4 text-center text-text-tertiary text-xs sm:text-sm",children:"No se encontraron facturas"})}):X.map($=>{var W;return o.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsx("td",{className:"px-3 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(Vn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-solid-color"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-xs sm:text-base font-medium text-accessibility-text",children:$.numero}),o.jsxs("div",{className:"text-xs sm:text-sm text-text-tertiary",children:["ID: ",$.id]})]})]})}),o.jsx("td",{className:"px-3 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[eg($.tipo),o.jsx("span",{className:`text-xs sm:text-base font-medium ${Yj($.tipo)} px-2 sm:px-3 py-1 sm:py-1.5 rounded-full`,children:$h($.tipo)})]})}),o.jsx("td",{className:"px-3 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(Hn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("span",{className:"text-xs sm:text-base text-text-tertiary",children:Hh($.fecha)})]})}),o.jsx("td",{className:"px-3 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(Sn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("span",{className:"text-xs sm:text-base font-medium text-accessibility-text",children:$c($.total)})]})}),o.jsx("td",{className:"px-3 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[qj($.estado),o.jsx("span",{className:`text-xs sm:text-base font-medium ${Jx($.estado)} px-2 sm:px-3 py-1 sm:py-1.5 rounded-full`,children:Fh($.estado)})]})}),o.jsx("td",{className:"px-3 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(vd,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("span",{className:"text-xs sm:text-base text-text-tertiary",children:((W=$.sede)==null?void 0:W.nombre)||"N/A"})]})}),o.jsx("td",{className:"px-3 sm:px-8 py-3 sm:py-5 whitespace-nowrap text-right",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2 sm:space-x-3",children:[o.jsx("button",{onClick:()=>Z($),className:"p-1.5 sm:p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Ver factura",children:o.jsx(Wa,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),o.jsx("button",{onClick:()=>ne($),className:"p-1.5 sm:p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Ver PDF",disabled:z,children:z?o.jsx(ft,{variant:"button",text:"Cargando PDF..."}):o.jsx(tl,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),o.jsx("button",{onClick:()=>ae($),className:"p-1.5 sm:p-2 text-success hover:text-success-hover rounded-lg transition-colors duration-200",title:"Descargar factura",disabled:L,children:L?o.jsx(ft,{variant:"button",text:"Descargando..."}):o.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})})]},`${$.tipo}-${$.id}`)})})]})})}),o.jsx("div",{className:"sm:hidden space-y-3",children:e?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(ft,{text:"Cargando facturas..."})}):X.length===0?o.jsx("div",{className:"text-center py-8 text-text-tertiary text-xs",children:"No se encontraron facturas"}):X.map($=>{var W;return o.jsxs("div",{className:"bg-bg rounded-lg border border-border p-3 hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"p-1.5 bg-interactive-component rounded-lg",children:o.jsx(Vn,{className:"h-4 w-4 text-solid-color"})}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:$.numero}),o.jsxs("div",{className:"text-xs text-text-tertiary",children:["ID: ",$.id]})]})]}),o.jsx("span",{className:`text-xs font-medium ${Jx($.estado)} px-2 py-1 rounded-full`,children:Fh($.estado)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary mb-1",children:"Tipo:"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[eg($.tipo),o.jsx("span",{children:$h($.tipo)})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary mb-1",children:"Fecha:"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Hn,{className:"h-3 w-3 text-text-tertiary"}),o.jsx("span",{children:Hh($.fecha)})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary mb-1",children:"Total:"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Sn,{className:"h-3 w-3 text-text-tertiary"}),o.jsx("span",{className:"font-medium",children:$c($.total)})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary mb-1",children:"Sede:"}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(vd,{className:"h-3 w-3 text-text-tertiary"}),o.jsx("span",{children:((W=$.sede)==null?void 0:W.nombre)||"N/A"})]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-2 border-t border-border pt-2",children:[o.jsx("button",{onClick:()=>Z($),className:"p-1.5 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Ver factura",children:o.jsx(Wa,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>ne($),className:"p-1.5 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Ver PDF",disabled:z,children:z?o.jsx(ft,{variant:"button",size:"sm",text:""}):o.jsx(tl,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>ae($),className:"p-1.5 text-success hover:text-success-hover rounded-lg transition-colors duration-200",title:"Descargar factura",disabled:L,children:L?o.jsx(ft,{variant:"button",size:"sm",text:""}):o.jsx(wn,{className:"h-4 w-4"})})]})]},`${$.tipo}-${$.id}`)})}),o.jsx(Qr,{isOpen:A,onClose:()=>k(!1),title:`Factura ${R==null?void 0:R.numero}`,size:"lg",children:R&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Tipo"}),o.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium ${Yj(R.tipo)}`,children:[eg(R.tipo),o.jsx("span",{className:"ml-2",children:$h(R.tipo)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Fecha"}),o.jsx("p",{className:"text-base text-accessibility-text",children:Hh(R.fecha)})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Estado"}),o.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium ${Jx(R.estado)}`,children:[qj(R.estado),o.jsx("span",{className:"ml-2",children:Fh(R.estado)})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Total"}),o.jsx("p",{className:"text-xl font-semibold text-accessibility-text",children:$c(R.total)})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Sede"}),o.jsx("p",{className:"text-base text-accessibility-text",children:((P=R.sede)==null?void 0:P.nombre)||"N/A"})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-text-tertiary mb-1",children:"Usuario"}),o.jsx("p",{className:"text-base text-accessibility-text",children:((I=R.usuario)==null?void 0:I.nombre)||"N/A"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>ne(R),className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",disabled:z,children:z?o.jsx(ft,{variant:"button",text:"Cargando PDF..."}):o.jsxs(o.Fragment,{children:[o.jsx(tl,{className:"h-5 w-5"}),o.jsx("span",{children:"Ver PDF"})]})}),o.jsx("button",{onClick:()=>ae(R),className:"px-4 py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200",disabled:L,children:L?o.jsx(ft,{variant:"button",text:"Descargando..."}):o.jsxs(o.Fragment,{children:[o.jsx(wn,{className:"h-5 w-5"}),o.jsx("span",{children:"Descargar"})]})})]})]})})]})},NE=Ps((t,e)=>({users:[],roles:[],isLoading:!1,error:null,loadUsers:async()=>{t({isLoading:!0,error:null});try{const s=await Bn.fetchUsers();t({users:s,isLoading:!1})}catch(s){t({error:s.message,isLoading:!1,users:[]})}},createUser:async s=>{t({isLoading:!0,error:null});try{const n=await Bn.createUser(s);return t(a=>({users:[...a.users,n],isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},updateUser:async(s,n)=>{t({isLoading:!0,error:null});try{const a=await Bn.updateUser(s,n);return t(l=>({users:l.users.map(c=>c.id===s?a:c),isLoading:!1})),!0}catch(a){return t({error:a.message,isLoading:!1}),!1}},deleteUser:async s=>{t({isLoading:!0,error:null});try{return await Bn.deleteUser(s),t(n=>({users:n.users.filter(a=>a.id!==s),isLoading:!1})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},searchUsers:s=>{const{users:n}=e();if(!s)return n;const a=s.toLowerCase();return n.filter(l=>{var c,u,h,m;return((c=l.nombre)==null?void 0:c.toLowerCase().includes(a))||((u=l.email)==null?void 0:u.toLowerCase().includes(a))||((m=(h=l.rol)==null?void 0:h.nombre)==null?void 0:m.toLowerCase().includes(a))})},filterUsersByRole:s=>{const{users:n}=e();return s?n.filter(a=>a.rol_id===s):n},loadRoles:async()=>{t({isLoading:!0,error:null});try{const s=await Bn.loadRoles();t({roles:s,isLoading:!1})}catch(s){t({error:s.message,isLoading:!1,roles:[]})}},getUserById:async s=>{t({isLoading:!0,error:null});try{const n=await Bn.getUserById(s);return t({isLoading:!1}),n}catch(n){return t({error:n.message,isLoading:!1}),null}},restoreUser:async s=>{t({isLoading:!0,error:null});try{return await Bn.restoreUser(s),t(n=>({isLoading:!1,users:n.users.map(a=>a.id===s?{...a,deleted_at:null}:a)})),!0}catch(n){return t({error:n.message,isLoading:!1}),!1}},updateUserStatus:async(s,n)=>{t({isLoading:!0,error:null});try{const a=await Bn.updateUserStatus(s,n);return t(l=>({users:l.users.map(c=>c.id===s?a:c),isLoading:!1})),!0}catch(a){return t({error:a.message,isLoading:!1}),!1}}})),D7=({user:t=null,onClose:e})=>{const{createUser:s,updateUser:n,cambiarEstado:a}=NE(),{sedes:l,fetchSedes:c}=_n(),[u,h]=D.useState({nombre:"",email:"",password:"",rol_id:2,sede_id:1,activo:1}),[m,p]=D.useState({}),[x,b]=D.useState(!1);D.useEffect(()=>{c(),t&&h({nombre:t.nombre||"",email:t.email||"",password:"",rol_id:t.rol_id||2,sede_id:t.sede_id||1,activo:t.activo??1})},[t,c]);const v=()=>{const _={};return u.nombre||(_.nombre="El nombre es requerido"),u.email||(_.email="El email es requerido"),!t&&!u.password&&(_.password="La contrasea es requerida"),u.password&&u.password.length<6&&(_.password="La contrasea debe tener al menos 6 caracteres"),p(_),Object.keys(_).length===0},j=async _=>{var A,k;if(_.preventDefault(),!!v())try{b(!0);const R={nombre:u.nombre,email:u.email,password:u.password,rol_id:parseInt(u.rol_id),sede_id:parseInt(u.sede_id)};t&&!R.password&&delete R.password,console.log("Enviando datos:",R),t?await n(t.id,R):await s(R),e()}catch(R){console.error("Error al guardar usuario:",R),p({general:((k=(A=R.response)==null?void 0:A.data)==null?void 0:k.message)||"Error al procesar la solicitud"})}finally{b(!1)}},S=async _=>{var k,R;const A=_.target.checked?1:0;try{b(!0),await a(t.id,A),h(M=>({...M,activo:A}))}catch(M){console.error("Error al cambiar estado:",M),p({general:((R=(k=M.response)==null?void 0:k.data)==null?void 0:R.message)||"Error al cambiar el estado"})}finally{b(!1)}},N=_=>{const{name:A,value:k}=_.target;h(R=>({...R,[A]:k}))};return o.jsxs("form",{onSubmit:j,className:"space-y-4",children:[m.general&&o.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 text-sm",children:m.general}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-accessibility-text",children:"Nombre"}),o.jsx("input",{type:"text",id:"nombre",name:"nombre",value:u.nombre,onChange:N,required:!0,className:`mt-1 block w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.nombre?"border-red-500":""}`}),m.nombre&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.nombre})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-accessibility-text",children:"Email"}),o.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:N,required:!0,className:`mt-1 block w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.email?"border-red-500":""}`}),m.email&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.email})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-accessibility-text",children:["Contrasea ",t&&"(dejar en blanco para mantener)"]}),o.jsx("input",{type:"password",id:"password",name:"password",value:u.password,onChange:N,required:!t,className:`mt-1 block w-full px-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.password?"border-red-500":""}`}),m.password&&o.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.password})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"rol_id",className:"block text-sm font-medium text-accessibility-text",children:"Rol"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(gf,{className:"h-5 w-5 text-text-tertiary"})}),o.jsxs("select",{id:"rol_id",name:"rol_id",value:u.rol_id,onChange:N,required:!0,className:`block w-full pl-10 pr-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.rol_id?"border-red-500":""}`,children:[o.jsx("option",{value:"1",children:"Administrador"}),o.jsx("option",{value:"2",children:"Vendedor"}),o.jsx("option",{value:"3",children:"Almacn"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"sede_id",className:"block text-sm font-medium text-accessibility-text",children:"Sede"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(vd,{className:"h-5 w-5 text-text-tertiary"})}),o.jsx("select",{id:"sede_id",name:"sede_id",value:u.sede_id,onChange:N,required:!0,className:`block w-full pl-10 pr-3 py-2 bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent ${m.sede_id?"border-red-500":""}`,children:l.map(_=>o.jsx("option",{value:_.id,children:_.nombre},_.id))})]})]}),t&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"activo",name:"activo",checked:u.activo===1,onChange:S,disabled:x,className:"h-4 w-4 rounded border-border text-solid-color focus:ring-solid-color disabled:opacity-50"}),o.jsx("label",{htmlFor:"activo",className:"ml-2 block text-sm text-accessibility-text",children:"Usuario Activo"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 text-sm font-medium text-white bg-solid-color hover:bg-solid-color-hover rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Guardando...":"Guardar"})]})]})},R7=()=>{const{users:t,loadUsers:e,deleteUser:s,updateUserStatus:n}=NE(),{sedes:a,fetchSedes:l}=_n(),[c,u]=D.useState(""),[h,m]=D.useState(""),[p,x]=D.useState(!1),[b,v]=D.useState(!1),[j,S]=D.useState(null),[N,_]=D.useState(null);D.useEffect(()=>{(async()=>{try{await Promise.all([e(),l()])}catch(I){console.error("Error loading data:",I)}})()},[e,l]);const A=async(P,I)=>{try{we.loading("Cambiando estado...",{id:"statusChange"}),await n(P,I)?we.success(`Usuario ${I===1?"activado":"desactivado"} correctamente`,{id:"statusChange"}):we.error("Error al cambiar el estado del usuario",{id:"statusChange"})}catch($){console.error("Error al cambiar estado:",$),we.error($.message||"Error al cambiar el estado del usuario",{id:"statusChange"})}},k=P=>P===1?o.jsx(yh,{className:"h-3 w-3 sm:h-4 sm:w-4 text-success"}):o.jsx(bh,{className:"h-3 w-3 sm:h-4 sm:w-4 text-error"}),R=P=>P===1?"bg-success/10 text-success":"bg-error/10 text-error",M=P=>P===1?"Activo":"Inactivo",z=P=>{const I=a.find($=>$.id===P);return I?I.nombre:"No asignada"},H=P=>{switch(P){case 1:return"Administrador";case 2:return"Vendedor";case 3:return"Almacn";default:return"Desconocido"}},L=P=>{if(!P)return"";const I=P.trim().split(" ");return I.length===1?I[0][0].toUpperCase():(I[0][0]+I[I.length-1][0]).toUpperCase()},F=P=>{if(!P)return"Nunca";try{const I=new Date(P);return`${pt(I,"dd/MM/yyyy HH:mm",{locale:bs})} (${ML(I,{addSuffix:!0,locale:bs})})`}catch{return P}},U=t.filter(P=>{var W,B;const I=((W=P.nombre)==null?void 0:W.toLowerCase().includes(c.toLowerCase()))||((B=P.email)==null?void 0:B.toLowerCase().includes(c.toLowerCase())),$=!h||P.rol_id===parseInt(h);return I&&$}),X=[{title:"Usuarios Totales",value:t.length.toString(),icon:o.jsx(ll,{className:"h-4 w-4 sm:h-6 sm:w-6 text-solid-color"}),change:"+12%",trend:"up"},{title:"Usuarios Activos",value:t.filter(P=>P.activo===1).length.toString(),icon:o.jsx(yh,{className:"h-4 w-4 sm:h-6 sm:w-6 text-success"}),change:"+5%",trend:"up"},{title:"Usuarios Inactivos",value:t.filter(P=>P.activo===0).length.toString(),icon:o.jsx(bh,{className:"h-4 w-4 sm:h-6 sm:w-6 text-error"}),change:"-2%",trend:"down"}],Z=()=>{S(null),x(!0)},ae=P=>{S(P),x(!0)},ne=P=>{_(P),v(!0)},le=async()=>{N&&(await s(N.id),v(!1),_(null))};return o.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx(ll,{className:"h-6 w-6 sm:h-8 sm:w-8 text-solid-color"}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Usuarios"})]}),o.jsxs("button",{onClick:Z,className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center justify-center sm:justify-start space-x-2 transition-colors duration-200",children:[o.jsx(Ga,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{className:"text-sm sm:text-base",children:"Nuevo Usuario"})]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-6",children:X.map((P,I)=>o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:I*.1},className:"bg-bg rounded-xl shadow-md p-3 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:P.icon}),o.jsx("span",{className:`text-xs sm:text-sm font-medium ${P.trend==="up"?"text-success":"text-error"}`,children:P.change})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:P.title}),o.jsx("p",{className:"mt-1 text-lg sm:text-2xl font-semibold text-accessibility-text",children:P.value})]},I))}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-4",children:[o.jsxs("div",{className:"w-full sm:flex-1 relative",children:[o.jsx(xr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:c,onChange:P=>u(P.target.value),className:"w-full pl-9 pr-3 sm:pl-10 sm:pr-4 py-1.5 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"flex w-full sm:w-auto gap-2",children:[o.jsxs("select",{value:h,onChange:P=>m(P.target.value),className:"w-full sm:w-auto px-3 py-1.5 sm:px-4 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[o.jsx("option",{value:"",children:"Todos los roles"}),o.jsx("option",{value:"1",children:"Administrador"}),o.jsx("option",{value:"2",children:"Vendedor"}),o.jsx("option",{value:"3",children:"Almacn"})]}),o.jsxs("button",{className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[o.jsx(fr,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{className:"text-sm",children:"Filtrar"})]})]})]}),o.jsx("div",{className:"hidden sm:block bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-interactive-component",children:[o.jsx("th",{className:"px-4 py-3 sm:px-8 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Usuario"}),o.jsx("th",{className:"px-4 py-3 sm:px-8 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Rol"}),o.jsx("th",{className:"px-4 py-3 sm:px-8 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Sede"}),o.jsx("th",{className:"px-4 py-3 sm:px-8 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Contacto"}),o.jsx("th",{className:"px-4 py-3 sm:px-8 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Estado"}),o.jsx("th",{className:"px-4 py-3 sm:px-8 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"ltimo Acceso"}),o.jsx("th",{className:"px-4 py-3 sm:px-8 sm:py-4 text-right text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:U.map(P=>o.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsx("td",{className:"px-4 py-3 sm:px-8 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[o.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-solid-color/20 flex items-center justify-center text-sm sm:text-xl font-bold text-solid-color",children:L(P.nombre)}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm sm:text-base font-medium text-accessibility-text",children:P.nombre}),o.jsx("div",{className:"text-xs sm:text-sm text-text-tertiary",children:P.email})]})]})}),o.jsx("td",{className:"px-4 py-3 sm:px-8 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(gf,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("span",{className:"text-sm sm:text-base text-text-tertiary",children:H(P.rol_id)})]})}),o.jsx("td",{className:"px-4 py-3 sm:px-8 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(vd,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("span",{className:"text-sm sm:text-base text-text-tertiary",children:z(P.sede_id)})]})}),o.jsx("td",{className:"px-4 py-3 sm:px-8 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(jd,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsx("span",{className:"text-sm sm:text-base text-text-tertiary",children:P.email})]})}),o.jsx("td",{className:"px-4 py-3 sm:px-8 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[k(P.activo),o.jsx("span",{className:`text-xs sm:text-base font-medium ${R(P.activo)} px-2 py-1 sm:px-3 sm:py-1.5 rounded-full`,children:M(P.activo)})]})}),o.jsx("td",{className:"px-4 py-3 sm:px-8 sm:py-5 whitespace-nowrap",children:o.jsx("div",{className:"text-xs sm:text-base text-text-tertiary",children:F(P.ultimo_acceso)})}),o.jsx("td",{className:"px-4 py-3 sm:px-8 sm:py-5 whitespace-nowrap text-right",children:o.jsxs("div",{className:"flex items-center justify-end space-x-1 sm:space-x-3",children:[o.jsx("button",{onClick:()=>A(P.id,P.activo===1?0:1),className:`p-1 sm:p-2 ${P.activo===1?"text-error hover:text-error-hover":"text-success hover:text-success-hover"} rounded-lg transition-colors duration-200`,title:P.activo===1?"Desactivar usuario":"Activar usuario",children:P.activo===1?o.jsx(bh,{className:"h-4 w-4 sm:h-5 sm:w-5"}):o.jsx(yh,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),o.jsx("button",{onClick:()=>ae(P),className:"p-1 sm:p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Editar usuario",children:o.jsx(Nd,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),o.jsx("button",{onClick:()=>ne(P),className:"p-1 sm:p-2 text-error hover:text-error-hover rounded-lg transition-colors duration-200",title:"Eliminar usuario",children:o.jsx(Wr,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})})]},P.id))})]})})}),o.jsx("div",{className:"sm:hidden space-y-3",children:U.map(P=>o.jsxs("div",{className:"bg-bg rounded-lg shadow-sm border border-border p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-solid-color/20 flex items-center justify-center text-lg font-bold text-solid-color",children:L(P.nombre)}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:P.nombre}),o.jsx("div",{className:"text-xs text-text-tertiary",children:P.email})]})]}),o.jsxs("span",{className:`text-xs font-medium ${R(P.activo)} px-2 py-1 rounded-full flex items-center gap-1`,children:[k(P.activo),M(P.activo)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gf,{className:"h-3.5 w-3.5 text-text-tertiary"}),o.jsx("span",{className:"text-text-tertiary",children:H(P.rol_id)})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vd,{className:"h-3.5 w-3.5 text-text-tertiary"}),o.jsx("span",{className:"text-text-tertiary",children:z(P.sede_id)})]}),o.jsxs("div",{className:"flex items-center space-x-2 col-span-2",children:[o.jsx(jd,{className:"h-3.5 w-3.5 text-text-tertiary"}),o.jsx("span",{className:"text-text-tertiary truncate",children:P.email})]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:[o.jsxs("div",{className:"text-xs text-text-tertiary",children:["ltimo acceso: ",F(P.ultimo_acceso)]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>A(P.id,P.activo===1?0:1),className:`p-1 ${P.activo===1?"text-error hover:text-error-hover":"text-success hover:text-success-hover"} rounded-md transition-colors duration-200`,title:P.activo===1?"Desactivar usuario":"Activar usuario",children:P.activo===1?o.jsx(bh,{className:"h-4 w-4"}):o.jsx(yh,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>ae(P),className:"p-1 text-info hover:text-info-hover rounded-md transition-colors duration-200",title:"Editar usuario",children:o.jsx(Nd,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>ne(P),className:"p-1 text-error hover:text-error-hover rounded-md transition-colors duration-200",title:"Eliminar usuario",children:o.jsx(Wr,{className:"h-4 w-4"})})]})]})]},P.id))}),o.jsx(Qr,{isOpen:p,onClose:()=>x(!1),title:j?"Editar Usuario":"Nuevo Usuario",size:"md",children:o.jsx(D7,{user:j,onClose:()=>x(!1)})}),o.jsx(Qr,{isOpen:b,onClose:()=>v(!1),title:"Confirmar Eliminacin",size:"sm",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("p",{className:"text-text-secondary",children:["Ests seguro de que deseas eliminar al usuario ",N==null?void 0:N.nombre,"? Esta accin no se puede deshacer."]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-sm font-medium text-text-secondary hover:text-text-primary transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:le,className:"px-4 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-lg transition-colors",children:"Eliminar"})]})]})})]})},O7=()=>{const[t,e]=D.useState(!1),[s,n]=D.useState(null),[a,l]=D.useState(null),{userData:c,logout:u}=Ht(),[h,m]=D.useState({perfil:{nombre:"",email:""},seguridad:{currentPassword:"",newPassword:"",confirmPassword:""}});D.useEffect(()=>{p()},[]);const p=async()=>{try{e(!0),n(null),c&&m(k=>({...k,perfil:{nombre:c.nombre||"",email:c.email||""}}))}catch(k){n(k.message||"Error al cargar el perfil"),we.error("Error al cargar el perfil")}finally{e(!1)}},x=(k,R,M)=>{m(z=>({...z,[k]:{...z[k],[R]:M}}))},b=k=>{l(k),we.success(k),setTimeout(()=>{l(null)},4e3)},v=async k=>{try{if(e(!0),n(null),l(null),k==="seguridad"){if(h.seguridad.newPassword!==h.seguridad.confirmPassword){we.error("Las contraseas no coinciden");return}if(h.seguridad.newPassword.length<6){we.error("La contrasea debe tener al menos 6 caracteres");return}await Bn.updatePassword({current_password:h.seguridad.currentPassword,password:h.seguridad.newPassword,password_confirmation:h.seguridad.confirmPassword}),b("Contrasea actualizada correctamente"),m(R=>({...R,seguridad:{currentPassword:"",newPassword:"",confirmPassword:""}}))}else if(k==="perfil"){if(!h.perfil.nombre||!h.perfil.email){we.error("El nombre y el correo electrnico son obligatorios");return}await Bn.updateProfile({nombre:h.perfil.nombre,email:h.perfil.email}),b("Perfil actualizado correctamente")}}catch(R){n(R.message||"Error al actualizar la configuracin"),we.error(R.message||"Error al actualizar la configuracin")}finally{e(!1)}},j=()=>{u()},S=[{title:"Perfil",icon:o.jsx(on,{className:"h-4 w-4 sm:h-5 sm:w-5 text-solid-color"}),items:[{label:"Nombre",value:h.perfil.nombre||"",type:"text",placeholder:"Tu nombre completo",required:!0,onChange:k=>x("perfil","nombre",k.target.value)},{label:"Correo Electrnico",value:h.perfil.email||"",type:"email",placeholder:"correo@ejemplo.com",required:!0,onChange:k=>x("perfil","email",k.target.value)}],onSubmit:()=>v("perfil")},{title:"Seguridad",icon:o.jsx(h_,{className:"h-4 w-4 sm:h-5 sm:w-5 text-solid-color"}),items:[{label:"Contrasea Actual",value:h.seguridad.currentPassword,type:"password",placeholder:"Ingresa tu contrasea actual",required:!0,onChange:k=>x("seguridad","currentPassword",k.target.value)},{label:"Nueva Contrasea",value:h.seguridad.newPassword,type:"password",placeholder:"Mnimo 6 caracteres",required:!0,onChange:k=>x("seguridad","newPassword",k.target.value)},{label:"Confirmar Contrasea",value:h.seguridad.confirmPassword,type:"password",placeholder:"Confirma tu nueva contrasea",required:!0,onChange:k=>x("seguridad","confirmPassword",k.target.value)}],onSubmit:()=>v("seguridad")}],N=[{label:"Versin",value:"1.0.0"},{label:"ltima Actualizacin",value:new Date().toLocaleDateString()},{label:"Base de Datos",value:"MySQL 8.0"}],_=[{title:"Primeros pasos con StockFlow",icon:o.jsx(WR,{className:"h-4 w-4 sm:h-5 sm:w-5"}),description:"Aprende lo bsico para comenzar a utilizar la plataforma de manera efectiva."},{title:"Gestin de inventario",icon:o.jsx(b2,{className:"h-4 w-4 sm:h-5 sm:w-5"}),description:"Cmo realizar un seguimiento eficiente de tus productos y existencias."},{title:"Transferencias entre sedes",icon:o.jsx(Vn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),description:"Gua para gestionar movimientos de inventario entre diferentes ubicaciones."},{title:"Gestin de compras y ventas",icon:o.jsx(s6,{className:"h-4 w-4 sm:h-5 sm:w-5"}),description:"Procedimientos para registrar y dar seguimiento a transacciones comerciales."}],A=[{title:"Contactar Soporte",icon:o.jsx(jd,{className:"h-4 w-4 sm:h-5 sm:w-5"}),description:"Enva un correo a nuestro equipo de soporte para resolver dudas."},{title:"Ayuda telefnica",icon:o.jsx(p_,{className:"h-4 w-4 sm:h-5 sm:w-5"}),description:"Llama a nuestro centro de atencin al cliente: 01-800-123-4567"},{title:"Tutoriales en video",icon:o.jsx(PO,{className:"h-4 w-4 sm:h-5 sm:w-5"}),description:"Visualiza guas paso a paso para sacar el mximo provecho."},{title:"Actualizaciones",icon:o.jsx(wn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),description:"Revisa las novedades y mejoras ms recientes del sistema."}];return o.jsxs("div",{className:"h-full overflow-auto p-3 sm:p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-4 sm:mb-8",children:o.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[o.jsx("div",{className:"p-2 sm:p-3 bg-solid-color/10 rounded-full",children:o.jsx(qi,{className:"h-5 w-5 sm:h-7 sm:w-7 text-solid-color"})}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Configuracin"})]})}),s&&o.jsx("div",{className:"mb-4 sm:mb-8 bg-error/10 border border-error text-error px-3 py-2 sm:px-4 sm:py-3 rounded-lg text-sm",children:s}),a&&o.jsxs(ye.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mb-4 sm:mb-8 bg-green-100 border border-green-600 text-green-700 px-3 py-2 sm:px-4 sm:py-3 rounded-lg flex items-center text-sm",children:[o.jsx(Xa,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2 text-green-600"}),o.jsx("span",{children:a})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:S.map((k,R)=>o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:R*.1},className:"bg-bg rounded-xl shadow-md p-4 sm:p-6 border border-border hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-solid-color/10 rounded-lg",children:k.icon}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-accessibility-text",children:k.title})]}),o.jsx("button",{onClick:k.onSubmit,disabled:t,className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-2 transition-colors duration-200 disabled:opacity-50",children:t?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-3 w-3 sm:h-4 sm:w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-1 sm:mr-2"}),o.jsx("span",{className:"text-sm",children:"Guardando..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(qO,{className:"h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{className:"text-sm",children:"Guardar"})]})})]}),o.jsx("div",{className:"space-y-3 sm:space-y-5",children:k.items.map((M,z)=>o.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[o.jsxs("label",{className:"text-xs sm:text-sm font-medium text-text-tertiary flex items-center",children:[M.label,M.required&&o.jsx("span",{className:"text-error ml-1",children:"*"})]}),o.jsx("input",{type:M.type,value:M.value,onChange:M.onChange,placeholder:M.placeholder,className:"w-full px-3 py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent transition-all"})]},z))})]},R))}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},className:"bg-bg rounded-xl shadow-md p-4 sm:p-6 border border-border hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-4 sm:mb-6",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-solid-color/10 rounded-lg",children:o.jsx(b2,{className:"h-4 w-4 sm:h-5 sm:w-5 text-solid-color"})}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-accessibility-text",children:"Informacin del Sistema"})]}),o.jsx("div",{className:"space-y-3 sm:space-y-4",children:N.map((k,R)=>o.jsxs("div",{className:"flex justify-between py-1.5 sm:py-2 border-b border-border last:border-0",children:[o.jsx("span",{className:"text-xs sm:text-sm text-text-tertiary",children:k.label}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-accessibility-text",children:k.value})]},R))})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},className:"bg-bg rounded-xl shadow-md p-4 sm:p-6 border border-border hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-4 sm:mb-6",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-solid-color/10 rounded-lg",children:o.jsx(lO,{className:"h-4 w-4 sm:h-5 sm:w-5 text-solid-color"})}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-accessibility-text",children:"Centro de Ayuda"})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:_.map((k,R)=>o.jsx("div",{className:"p-3 sm:p-4 border border-border rounded-lg hover:bg-bg-secondary transition-colors cursor-pointer",children:o.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-solid-color/10 rounded-lg text-solid-color shrink-0",children:k.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-accessibility-text text-xs sm:text-sm mb-1",children:k.title}),o.jsx("p",{className:"text-xs text-text-tertiary",children:k.description})]})]})},R))})]}),o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},className:"bg-bg rounded-xl shadow-md p-4 sm:p-6 border border-border hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-4 sm:mb-6",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-solid-color/10 rounded-lg",children:o.jsx(mO,{className:"h-4 w-4 sm:h-5 sm:w-5 text-solid-color"})}),o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-accessibility-text",children:"Enlaces Rpidos"})]}),o.jsxs("div",{className:"space-y-3",children:[A.map((k,R)=>o.jsx("div",{className:"p-2 sm:p-3 border border-border rounded-lg hover:bg-bg-secondary transition-colors cursor-pointer",children:o.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[o.jsx("div",{className:"p-1 sm:p-1.5 bg-solid-color/10 rounded-lg text-solid-color shrink-0",children:k.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-accessibility-text text-xs sm:text-sm",children:k.title}),o.jsx("p",{className:"text-xs text-text-tertiary mt-0.5",children:k.description})]})]})},R)),o.jsxs("button",{onClick:j,className:"w-full mt-3 px-4 py-2 sm:py-3 bg-error/10 hover:bg-error/20 text-error rounded-lg flex items-center justify-center space-x-2 transition-colors duration-200 text-sm",children:[o.jsx(If,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{children:"Cerrar Sesin"})]})]})]})]})})]})},L7=()=>{const[t,e]=D.useState("productos"),[s,n]=D.useState(!1),[a,l]=D.useState(!1),[c,u]=D.useState(null),[h,m]=D.useState(""),[p,x]=D.useState({}),[b,v]=D.useState([]),[j,S]=D.useState(!1),{products:N,isLoading:_,error:A,loadProducts:k,deleteProduct:R,createProduct:M,updateProduct:z}=Zr(),{proveedores:H,isLoading:L,error:F,fetchProveedores:U,deleteProveedor:X,createProveedor:Z,updateProveedor:ae}=D_(),{brands:ne,isLoading:le,error:P,fetchBrands:I,deleteBrand:$,createBrand:W,updateBrand:B}=Wy(),{sedes:G,isLoading:te,error:ie,fetchSedes:fe,deleteSede:je,createSede:xe,updateSede:st}=_n(),{categories:Ve,isLoading:ot,error:fs,fetchCategories:vs,deleteCategory:ms,createCategory:Ks,updateCategory:me}=Xy();ve.useEffect(()=>{k(),U(),I(),fe(),vs()},[k,U,I,fe,vs]);const Qe=ce=>{if(m(ce),u(null),x({}),ce==="productos"){const _e=G.map(Ne=>({sede_id:Ne.id,stock:0,precio_compra:0,precio_venta:0}));v(_e)}n(!0)},jt=(ce,_e)=>{if(m(ce),u(_e),ce==="productos"&&_e.sedes){const Ne=_e.sedes.map(Te=>({sede_id:Te.id,stock:Te.pivot.stock,precio_compra:Te.pivot.precio_compra,precio_venta:Te.pivot.precio_venta}));v(Ne);const ke={id:_e.id,nombre:_e.nombre,descripcion:_e.descripcion,sku:_e.sku,stock_minimo:_e.stock_minimo,categoria_id:_e.categoria_id,marca_id:_e.marca_id,tipo_producto:_e.tipo_producto};x(ke)}else x(_e);n(!0)},Xe=(ce,_e)=>{m(ce),u(_e),l(!0)},We=async(ce,_e=null)=>{let Ne;switch(ce){case"productos":await k();break;case"proveedores":console.log("Recargando lista de proveedores..."),Ne=await U(),console.log("Proveedores recargados:",Ne),_e&&Ne.some(ke=>ke.id===_e.id)&&console.warn(`Advertencia! El proveedor ${_e.id} sigue apareciendo en la lista`);break;case"marcas":await I();break;case"sedes":await fe();break;case"categorias":await vs();break}return Ne},xt=async()=>{var ce,_e;S(!0);try{let Ne=!1,ke=(c==null?void 0:c.nombre)||"";switch(h){case"productos":Ne=await R(c.id);break;case"proveedores":console.log("Intentando eliminar proveedor con ID:",c.id),Ne=await X(c.id),console.log("Resultado de eliminar proveedor:",Ne);break;case"marcas":Ne=await $(c.id);break;case"sedes":Ne=await je(c.id);break;case"categorias":Ne=await ms(c.id);break;default:break}Ne?(we.success(`"${ke}" eliminado correctamente`),l(!1),await We(h,c)):we.error(`Error al eliminar "${ke}"`)}catch(Ne){console.error("Error detallado al eliminar:",Ne);let ke;(_e=(ce=Ne.response)==null?void 0:ce.data)!=null&&_e.message?ke=Ne.response.data.message:Ne.message?ke=Ne.message:ke="Error al eliminar el elemento",we.error(ke)}finally{S(!1)}},ss=(ce,_e,Ne)=>{v(ke=>ke.map(Te=>Te.sede_id===ce?{...Te,[_e]:Ne}:Te))},ws=async ce=>{var _e,Ne;ce.preventDefault(),S(!0);try{let ke=!1,Te={...p},Tt=p.nombre||"";if(h==="productos"){if(!Te.sku){we.error("El SKU es obligatorio");return}if(!Te.categoria_id){we.error("Debe seleccionar una categora");return}if(!Te.marca_id){we.error("Debe seleccionar una marca");return}if(!Te.tipo_producto){we.error("Debe seleccionar un tipo de producto");return}Te.sedes=b}const Tn=c?"actualizado":"creado";switch(h){case"productos":c?ke=await z(c.id,Te):ke=await M(Te);break;case"proveedores":c?ke=await ae(c.id,Te):ke=await Z(Te);break;case"marcas":c?ke=await B(c.id,Te):ke=await W(Te);break;case"sedes":c?ke=await st(c.id,Te):ke=await xe(Te);break;case"categorias":c?ke=await me(c.id,Te):ke=await Ks(Te);break;default:break}ke?(we.success(`"${Tt}" ${Tn} correctamente`),n(!1),await We(h,c)):we.error(`Error al ${Tn} "${Tt}"`)}catch(ke){console.error("Error al guardar:",ke);const Te=((Ne=(_e=ke.response)==null?void 0:_e.data)==null?void 0:Ne.message)||ke.message||"Error al procesar la solicitud";we.error(Te)}finally{S(!1)}},lt=ce=>{const{name:_e,value:Ne,type:ke,checked:Te}=ce.target,Tt=ke==="checkbox"?Te:Ne;x(Tn=>({...Tn,[_e]:Tt}))},Gt=()=>{switch(h){case"productos":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"sku",label:"SKU",type:"text",required:!0},{name:"tipo_producto",label:"Tipo de Producto",type:"select",required:!0,options:[{value:"ROB",label:"Robot (ROB)"},{value:"REP",label:"Repuesto (REP)"},{value:"ACC",label:"Accesorio (ACC)"},{value:"OTR",label:"Otro (OTR)"}]},{name:"descripcion",label:"Descripcin",type:"textarea"},{name:"categoria_id",label:"Categora",type:"select",required:!0,options:Ve.map(ce=>({value:ce.id,label:ce.nombre}))},{name:"marca_id",label:"Marca",type:"select",required:!0,options:ne.map(ce=>({value:ce.id,label:ce.nombre}))},{name:"stock_minimo",label:"Stock Mnimo",type:"number",required:!0,min:0}];case"proveedores":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"contacto",label:"Persona de Contacto",type:"text"},{name:"email",label:"Email",type:"email"},{name:"telefono",label:"Telfono",type:"tel"}];case"marcas":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"descripcion",label:"Descripcin",type:"textarea"}];case"sedes":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"direccion",label:"Direccin",type:"text"},{name:"telefono",label:"Telfono",type:"tel"},{name:"email",label:"Email",type:"email"}];case"categorias":return[{name:"nombre",label:"Nombre",type:"text",required:!0},{name:"descripcion",label:"Descripcin",type:"textarea"}];default:return[]}},ea=[{id:"productos",name:"Productos",icon:Et,data:N,isLoading:_,error:A,columns:[{header:"Nombre",accessor:"nombre"},{header:"SKU",accessor:"sku"},{header:"Categora",accessor:"categoria_id",render:ce=>{const _e=Ve.find(Ne=>Ne.id===ce);return _e?_e.nombre:"Sin categora"}},{header:"Marca",accessor:"marca_id",render:ce=>{const _e=ne.find(Ne=>Ne.id===ce);return _e?_e.nombre:"Sin marca"}},{header:"Stock",accessor:"sedes",render:ce=>((ce==null?void 0:ce.reduce((Ne,ke)=>{var Te;return Ne+(((Te=ke.pivot)==null?void 0:Te.stock)||0)},0))||0).toLocaleString("es-ES")},{header:"Precio Compra",accessor:"sedes",render:ce=>{if(!ce||ce.length===0)return bt(0);const _e=ce.length,Ne=ce.reduce((ke,Te)=>{var Tt;return ke+(((Tt=Te.pivot)==null?void 0:Tt.precio_compra)||0)},0);return bt(Ne/_e)}},{header:"Precio Venta",accessor:"sedes",render:ce=>{if(!ce||ce.length===0)return bt(0);const _e=ce.length,Ne=ce.reduce((ke,Te)=>{var Tt;return ke+(((Tt=Te.pivot)==null?void 0:Tt.precio_venta)||0)},0);return bt(Ne/_e)}}]},{id:"proveedores",name:"Proveedores",icon:Gi,data:H,isLoading:L,error:F,columns:[{header:"Nombre",accessor:"nombre"},{header:"Contacto",accessor:"contacto"},{header:"Telfono",accessor:"telefono"},{header:"Email",accessor:"email"},{header:"Ciudad",accessor:"ciudad"},{header:"Pas",accessor:"pais"}]},{id:"marcas",name:"Marcas",icon:yf,data:ne,isLoading:le,error:P,columns:[{header:"Nombre",accessor:"nombre"},{header:"Descripcin",accessor:"descripcion"}]},{id:"sedes",name:"Sedes",icon:vn,data:G,isLoading:te,error:ie,columns:[{header:"Nombre",accessor:"nombre"},{header:"Direccin",accessor:"direccion"},{header:"Telfono",accessor:"telefono"}]},{id:"categorias",name:"Categoras",icon:NO,data:Ve,isLoading:ot,error:fs,columns:[{header:"Nombre",accessor:"nombre"},{header:"Descripcin",accessor:"descripcion"}]}];return o.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx(qi,{className:"h-6 w-6 sm:h-8 sm:w-8 text-solid-color"}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Gestin del Sistema"})]})}),o.jsx("div",{className:"border-b border-border overflow-x-auto",children:o.jsx("nav",{className:"-mb-px flex space-x-4 sm:space-x-8 min-w-max",children:ea.map(ce=>o.jsxs("button",{onClick:()=>e(ce.id),className:`${t===ce.id?"border-solid-color text-solid-color":"border-transparent text-text-tertiary hover:text-accessibility-text hover:border-border"} whitespace-nowrap py-3 sm:py-4 px-1 border-b-2 font-medium text-xs sm:text-sm transition-colors duration-200 flex items-center space-x-1 sm:space-x-2`,children:[o.jsx(ce.icon,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{children:ce.name})]},ce.id))})}),o.jsx("div",{className:"mt-4 sm:mt-6",children:ea.map(ce=>{var _e,Ne;return o.jsx("div",{className:t===ce.id?"block":"hidden",children:o.jsxs("div",{className:"bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:[o.jsxs("div",{className:"p-3 sm:p-4 border-b border-border flex items-center justify-between",children:[o.jsx("h2",{className:"text-base sm:text-lg font-semibold text-accessibility-text",children:ce.name}),o.jsx("button",{onClick:()=>Qe(ce.id),className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200 text-xs sm:text-sm",children:o.jsxs("span",{children:["Agregar ",ce.name.slice(0,-1)]})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-border",children:[o.jsx("thead",{className:"bg-bg-secondary",children:o.jsxs("tr",{children:[ce.columns.map((ke,Te)=>o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-2xs sm:text-xs font-medium text-text-tertiary uppercase tracking-wider",children:ke.header},Te)),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-right text-2xs sm:text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-bg divide-y divide-border",children:ce.isLoading?o.jsx(ft,{variant:"table",colSpan:ce.columns.length+1,text:`Cargando ${ce.name.toLowerCase()}...`}):ce.error?o.jsx("tr",{children:o.jsxs("td",{colSpan:ce.columns.length+1,className:"px-3 sm:px-6 py-3 sm:py-4 text-center text-error text-xs sm:text-sm",children:["Error: ",ce.error]})}):((_e=ce.data)==null?void 0:_e.length)===0?o.jsx("tr",{children:o.jsx("td",{colSpan:ce.columns.length+1,className:"px-3 sm:px-6 py-3 sm:py-4 text-center text-text-tertiary text-xs sm:text-sm",children:"No hay datos disponibles"})}):(Ne=ce.data)==null?void 0:Ne.map(ke=>o.jsxs("tr",{className:"hover:bg-interactive-component/50",children:[ce.columns.map((Te,Tt)=>o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:Te.render?Te.render(ke[Te.accessor],ke):ke[Te.accessor]},Tt)),o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[o.jsx("button",{onClick:()=>jt(ce.id,ke),className:"p-1 sm:p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Editar",children:o.jsx(Nd,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),o.jsx("button",{onClick:()=>Xe(ce.id,ke),className:"p-1 sm:p-2 text-error hover:text-error-hover rounded-lg transition-colors duration-200",title:"Eliminar",children:o.jsx(Wr,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})})]},ke.id))})]})})]})},ce.id)})}),o.jsx(Qr,{isOpen:s,onClose:()=>!j&&n(!1),title:`${c?"Editar":"Agregar"} ${h.slice(0,-1)}`,size:"lg",children:o.jsxs("form",{onSubmit:ws,className:"p-3 sm:p-4 space-y-3 sm:space-y-4",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Gt().map(ce=>o.jsxs("div",{className:ce.type==="textarea"?"col-span-2":"",children:[o.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-text-secondary mb-1",children:[ce.label," ",ce.required&&o.jsx("span",{className:"text-error",children:"*"})]}),ce.type==="select"?o.jsxs("select",{name:ce.name,value:p[ce.name]||"",onChange:lt,required:ce.required,className:"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent",children:[o.jsx("option",{value:"",children:"Seleccionar..."}),ce.options.map(_e=>o.jsx("option",{value:_e.value,children:_e.label},_e.value))]}):ce.type==="textarea"?o.jsx("textarea",{name:ce.name,value:p[ce.name]||"",onChange:lt,required:ce.required,rows:3,className:"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"}):ce.type==="checkbox"?o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",name:ce.name,checked:!!p[ce.name],onChange:lt,className:"h-3 w-3 sm:h-4 sm:w-4 text-solid-color focus:ring-solid-color border-border rounded"}),o.jsx("span",{className:"ml-2 text-xs sm:text-sm text-text-secondary",children:ce.checkboxLabel||`${ce.label}?`})]}):o.jsx("input",{type:ce.type,name:ce.name,value:p[ce.name]||"",onChange:lt,required:ce.required,step:ce.step,min:ce.min,max:ce.max,className:"w-full px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]},ce.name))}),h==="productos"&&G.length>0&&o.jsxs("div",{className:"mt-4 sm:mt-6",children:[o.jsx("h3",{className:"text-base sm:text-lg font-medium text-accessibility-text mb-3 sm:mb-4",children:"Stock y Precios por Sede"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-border",children:[o.jsx("thead",{className:"bg-bg-secondary",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-2xs sm:text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Sede"}),o.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-2xs sm:text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Stock"}),o.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-2xs sm:text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Precio Compra ()"}),o.jsx("th",{className:"px-2 sm:px-4 py-2 sm:py-3 text-left text-2xs sm:text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Precio Venta ()"})]})}),o.jsx("tbody",{className:"bg-bg divide-y divide-border",children:b.map(ce=>{const _e=G.find(Ne=>Ne.id===ce.sede_id);return o.jsxs("tr",{children:[o.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 whitespace-nowrap",children:o.jsx("span",{className:"font-medium text-xs sm:text-sm text-accessibility-text",children:(_e==null?void 0:_e.nombre)||"Sede desconocida"})}),o.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 whitespace-nowrap",children:o.jsx("input",{type:"number",min:"0",value:ce.stock||0,onChange:Ne=>ss(ce.sede_id,"stock",parseInt(Ne.target.value)||0),className:"w-16 sm:w-24 px-1 sm:px-2 py-1 text-xs sm:text-sm bg-bg border border-border rounded focus:outline-none focus:ring-1 focus:ring-solid-color"})}),o.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 whitespace-nowrap",children:o.jsx("input",{type:"number",min:"0",step:"0.01",value:ce.precio_compra||0,onChange:Ne=>ss(ce.sede_id,"precio_compra",parseFloat(Ne.target.value)||0),className:"w-16 sm:w-24 px-1 sm:px-2 py-1 text-xs sm:text-sm bg-bg border border-border rounded focus:outline-none focus:ring-1 focus:ring-solid-color"})}),o.jsx("td",{className:"px-2 sm:px-4 py-2 sm:py-3 whitespace-nowrap",children:o.jsx("input",{type:"number",min:"0",step:"0.01",value:ce.precio_venta||0,onChange:Ne=>ss(ce.sede_id,"precio_venta",parseFloat(Ne.target.value)||0),className:"w-16 sm:w-24 px-1 sm:px-2 py-1 text-xs sm:text-sm bg-bg border border-border rounded focus:outline-none focus:ring-1 focus:ring-solid-color"})})]},ce.sede_id)})})]})})]}),o.jsxs("div",{className:"flex justify-end space-x-2 sm:space-x-3 mt-4 sm:mt-6",children:[o.jsx("button",{type:"button",onClick:()=>n(!1),disabled:j,className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-text-tertiary hover:text-accessibility-text disabled:opacity-50",children:"Cancelar"}),o.jsx("button",{type:"submit",disabled:j,className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm bg-solid-color hover:bg-solid-color-hover text-white rounded-lg disabled:opacity-50 flex items-center space-x-1",children:j?o.jsx(ft,{variant:"button",text:c?"Guardando...":"Agregando..."}):o.jsx("span",{children:c?"Guardar cambios":"Agregar"})})]})]})}),o.jsx(Qr,{isOpen:a,onClose:()=>!j&&l(!1),title:"Confirmar eliminacin",size:"md",children:o.jsxs("div",{className:"p-3 sm:p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 text-error mb-3 sm:mb-4",children:[o.jsx(x_,{className:"h-5 w-5 sm:h-6 sm:w-6"}),o.jsx("p",{className:"text-base sm:text-lg font-medium",children:"Ests seguro de que deseas eliminar este elemento?"})]}),o.jsx("p",{className:"text-xs sm:text-sm text-text-tertiary mb-4 sm:mb-6",children:"Esta accin no se puede deshacer. Se eliminar permanentemente el elemento seleccionado."}),o.jsxs("div",{className:"flex justify-end space-x-2 sm:space-x-3",children:[o.jsx("button",{onClick:()=>l(!1),disabled:j,className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm text-text-tertiary hover:text-accessibility-text disabled:opacity-50",children:"Cancelar"}),o.jsx("button",{onClick:xt,disabled:j,className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm bg-error hover:bg-error-hover text-white rounded-lg disabled:opacity-50 flex items-center space-x-1",children:j?o.jsx(ft,{variant:"button",text:"Eliminando..."}):o.jsx("span",{children:"Eliminar"})})]})]})})]})},P7=()=>{var ae;const{sedes:t,isLoading:e,error:s,fetchSedes:n}=_n(),{products:a,loadProducts:l}=Zr(),{createTransferencia:c,updateTransferencia:u,transferencias:h,fetchTransferencias:m,isLoading:p,error:x}=A_(),{user:b}=Ht(),[v,j]=D.useState(""),[S,N]=D.useState(!1),[_,A]=D.useState({origen:"",destino:"",producto:"",cantidad:""}),[k,R]=D.useState(!1),M=(ae=b==null?void 0:b.data)==null?void 0:ae.sede_id;D.useEffect(()=>{n(),l(),m()},[n,l,m]);const z=ne=>a.reduce((le,P)=>{var $,W;const I=($=P.sedes)==null?void 0:$.find(B=>B.id===ne);return le+(((W=I==null?void 0:I.pivot)==null?void 0:W.stock)||0)},0),H=t.reduce((ne,le)=>ne+z(le.id),0),L=[{title:"Total de Sedes",value:t.length,icon:o.jsx(vn,{className:"h-5 w-5 sm:h-6 sm:w-6 text-solid-color"}),trend:"up",change:"+2"},{title:"Total de Inventario",value:H.toLocaleString(),icon:o.jsx(Et,{className:"h-5 w-5 sm:h-6 sm:w-6 text-solid-color"}),trend:"up",change:"+5%"},{title:"Transferencias Pendientes",value:"3",icon:o.jsx(Hi,{className:"h-5 w-5 sm:h-6 sm:w-6 text-solid-color"}),trend:"down",change:"-2"}],F=ne=>h.filter(le=>le.sede_destino_id===ne&&le.estado==="pendiente"),U=async ne=>{try{const le=h.find(P=>P.id===ne);if(!le){we.error("Transferencia no encontrada");return}if(M!==le.sede_destino_id){we.error("Solo la sede destino puede aceptar transferencias");return}await u(ne,{estado:"recibido"}),we.success("Transferencia aceptada correctamente"),m()}catch(le){console.error("Error al aceptar transferencia:",le),we.error("Error al aceptar la transferencia")}},X=async()=>{var $,W,B;if(!_.origen||!_.destino||!_.producto||!_.cantidad){we.error("Completa todos los campos de la transferencia");return}if(_.origen===_.destino){we.error("La sede origen y destino deben ser diferentes");return}const ne=a.find(G=>G.id===Number(_.producto)),le=((B=(W=($=ne==null?void 0:ne.sedes)==null?void 0:$.find(G=>G.id===Number(_.origen)))==null?void 0:W.pivot)==null?void 0:B.stock)||0;if(Number(_.cantidad)>le){we.error(`Stock insuficiente. Solo hay ${le} unidades disponibles en la sede origen.`);return}const P={producto_id:_.producto,cantidad:Number(_.cantidad),sede_origen_id:_.origen,sede_destino_id:_.destino,estado:"pendiente",fecha:new Date().toISOString().slice(0,19).replace("T"," ")};await c(P)?(we.success("Transferencia iniciada correctamente"),N(!1),A({origen:"",destino:"",producto:"",cantidad:""})):we.error("Error al iniciar la transferencia")},Z=t.filter(ne=>ne.nombre.toLowerCase().includes(v.toLowerCase())||ne.direccion.toLowerCase().includes(v.toLowerCase()));return o.jsxs("div",{className:"space-y-4 sm:space-y-6 p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx(vn,{className:"h-6 w-6 sm:h-8 sm:w-8 text-solid-color"}),o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Gestin de Sedes"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:()=>N(!0),className:"px-3 py-1.5 sm:px-4 sm:py-2 bg-solid-color hover:bg-solid-color-hover text-white rounded-lg flex items-center space-x-1 sm:space-x-2 transition-colors duration-200 text-sm sm:text-base",children:[o.jsx(Hi,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{children:"Nueva Transferencia"})]})})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 sm:gap-6",children:L.map((ne,le)=>o.jsxs(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:le*.1},className:"bg-bg rounded-xl shadow-md p-4 sm:p-6 border border-border",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:ne.icon}),o.jsx("span",{className:`text-xs sm:text-sm font-medium ${ne.trend==="up"?"text-success":"text-error"}`,children:ne.change})]}),o.jsx("h3",{className:"mt-2 sm:mt-4 text-xs sm:text-sm text-text-tertiary",children:ne.title}),o.jsx("p",{className:"mt-1 text-lg sm:text-2xl font-semibold text-accessibility-text",children:ne.value})]},le))}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:items-center",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(xr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary absolute left-3 top-1/2 transform -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:"Buscar sede...",value:v,onChange:ne=>j(ne.target.value),className:"w-full pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 text-sm bg-bg border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color focus:border-transparent"})]}),o.jsxs("div",{className:"flex justify-end sm:justify-start gap-2 sm:gap-4",children:[o.jsxs("div",{className:"relative sm:hidden",children:[o.jsxs("button",{onClick:()=>R(!k),className:"px-3 py-1.5 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-1 transition-colors duration-200 text-sm",children:[o.jsx(f_,{className:"h-4 w-4"}),o.jsx("span",{children:"Men"})]}),k&&o.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-bg border border-border rounded-lg shadow-lg z-50 min-w-[150px]",children:[o.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-interactive-component/50 flex items-center gap-2",children:[o.jsx(fr,{className:"h-4 w-4"}),o.jsx("span",{children:"Filtrar"})]}),o.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-interactive-component/50 flex items-center gap-2",children:[o.jsx(wn,{className:"h-4 w-4"}),o.jsx("span",{children:"Exportar"})]}),o.jsxs("button",{className:"w-full px-3 py-2 text-left text-sm hover:bg-interactive-component/50 flex items-center gap-2",children:[o.jsx(tl,{className:"h-4 w-4"}),o.jsx("span",{children:"Imprimir"})]})]})]}),o.jsxs("div",{className:"hidden sm:flex sm:space-x-4",children:[o.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[o.jsx(fr,{className:"h-5 w-5"}),o.jsx("span",{children:"Filtrar"})]}),o.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[o.jsx(wn,{className:"h-5 w-5"}),o.jsx("span",{children:"Exportar"})]}),o.jsxs("button",{className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center space-x-2 transition-colors duration-200",children:[o.jsx(tl,{className:"h-5 w-5"}),o.jsx("span",{children:"Imprimir"})]})]}),o.jsxs("div",{className:"flex sm:hidden space-x-2",children:[o.jsx("button",{className:"p-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",children:o.jsx(fr,{className:"h-4 w-4"})}),o.jsx("button",{className:"p-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",children:o.jsx(wn,{className:"h-4 w-4"})}),o.jsx("button",{className:"p-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",children:o.jsx(tl,{className:"h-4 w-4"})})]})]})]}),o.jsx("div",{className:"hidden md:block bg-bg rounded-xl shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-interactive-component",children:[o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Nombre"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Direccin"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Telfono"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Stock Total"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-left text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Transferencias"}),o.jsx("th",{className:"px-4 sm:px-8 py-3 sm:py-4 text-right text-xs sm:text-sm font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:e?o.jsx(ft,{variant:"table",colSpan:6,text:"Cargando sedes..."}):s?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"px-4 sm:px-8 py-3 sm:py-4 text-center text-error",children:s})}):Z.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:"6",className:"px-4 sm:px-8 py-3 sm:py-4 text-center text-text-tertiary",children:"No se encontraron sedes"})}):Z.map(ne=>{const le=F(ne.id);return o.jsxs("tr",{className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[o.jsx("div",{className:"p-1.5 sm:p-2 bg-interactive-component rounded-lg",children:o.jsx(vn,{className:"h-4 w-4 sm:h-5 sm:w-5 text-solid-color"})}),o.jsx("div",{children:o.jsx("div",{className:"text-sm sm:text-base font-medium text-accessibility-text",children:ne.nombre})})]})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap text-sm sm:text-base text-accessibility-text",children:ne.direccion}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap text-sm sm:text-base text-accessibility-text",children:ne.telefono}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[o.jsx(Et,{className:"h-4 w-4 sm:h-5 sm:w-5 text-text-tertiary"}),o.jsxs("span",{className:"text-sm sm:text-base text-text-tertiary",children:[z(ne.id)," unidades"]})]})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap",children:le.length>0?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ts,{className:"h-4 w-4 sm:h-5 sm:w-5 text-warning"}),o.jsxs("span",{className:"text-sm text-warning",children:[le.length," pendientes"]}),o.jsx("div",{className:"flex space-x-2",children:le.map(P=>o.jsx("div",{children:M===ne.id?o.jsx("button",{onClick:()=>U(P.id),className:"p-1 rounded-full hover:bg-success/20 text-success",title:`Aceptar transferencia #${P.id} - ${P.cantidad} unidades`,children:o.jsx(Rg,{className:"h-3 w-3 sm:h-4 sm:w-4"})}):o.jsx("span",{className:"text-xs text-text-tertiary italic",title:"Solo la sede destino puede aceptar transferencias",children:"Pendiente"})},P.id))})]}):o.jsx("span",{className:"text-sm text-text-tertiary",children:"Sin transferencias pendientes"})}),o.jsx("td",{className:"px-4 sm:px-8 py-3 sm:py-5 whitespace-nowrap text-right",children:o.jsx("div",{className:"flex items-center justify-end space-x-3",children:o.jsx("button",{onClick:()=>{N(!0)},className:"p-1.5 sm:p-2 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Transferir stock",children:o.jsx(Hi,{className:"h-4 w-4 sm:h-5 sm:w-5"})})})})]},ne.id)})})]})})}),o.jsx("div",{className:"md:hidden space-y-3",children:e?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(ft,{text:"Cargando sedes..."})}):s?o.jsx("div",{className:"bg-error/10 border border-error text-error px-4 py-3 rounded-lg text-sm",children:s}):Z.length===0?o.jsx("div",{className:"text-center py-8 text-text-tertiary text-sm",children:"No se encontraron sedes"}):Z.map(ne=>{const le=F(ne.id);return o.jsxs("div",{className:"bg-bg rounded-lg border border-border p-3 hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"p-1.5 bg-interactive-component rounded-lg",children:o.jsx(vn,{className:"h-4 w-4 text-solid-color"})}),o.jsx("div",{className:"text-base font-medium text-accessibility-text",children:ne.nombre})]}),o.jsx("button",{onClick:()=>{N(!0)},className:"p-1.5 text-info hover:text-info-hover rounded-lg transition-colors duration-200",title:"Transferir stock",children:o.jsx(Hi,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary text-xs mb-1",children:"Direccin:"}),o.jsx("div",{className:"text-accessibility-text",children:ne.direccion})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary text-xs mb-1",children:"Telfono:"}),o.jsx("div",{className:"text-accessibility-text",children:ne.telefono})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[o.jsx(Et,{className:"h-4 w-4 text-text-tertiary"}),o.jsxs("span",{className:"text-sm text-text-tertiary",children:[z(ne.id)," unidades en stock"]})]}),o.jsx("div",{className:"border-t border-border pt-2",children:le.length>0?o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ts,{className:"h-4 w-4 text-warning"}),o.jsxs("span",{className:"text-sm text-warning",children:[le.length," transferencias pendientes"]})]}),M===ne.id&&o.jsxs("button",{onClick:()=>U(le[0].id),className:"p-1.5 rounded-lg bg-success/10 text-success flex items-center space-x-1",children:[o.jsx(Rg,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Aceptar"})]})]}):o.jsx("span",{className:"text-xs text-text-tertiary",children:"Sin transferencias pendientes"})})]},ne.id)})}),o.jsxs(Qr,{isOpen:S,onClose:()=>N(!1),title:"Nueva Transferencia",size:"md",children:[o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Sede Origen"}),o.jsxs("select",{value:_.origen,onChange:ne=>A({..._,origen:ne.target.value}),className:"w-full text-sm rounded-lg border border-border bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent py-1.5 sm:py-2",children:[o.jsx("option",{value:"",children:"Seleccionar sede origen"}),t.map(ne=>o.jsx("option",{value:ne.id,children:ne.nombre},ne.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Sede Destino"}),o.jsxs("select",{value:_.destino,onChange:ne=>A({..._,destino:ne.target.value}),className:"w-full text-sm rounded-lg border border-border bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent py-1.5 sm:py-2",children:[o.jsx("option",{value:"",children:"Seleccionar sede destino"}),t.map(ne=>o.jsx("option",{value:ne.id,children:ne.nombre},ne.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Producto"}),o.jsxs("select",{value:_.producto,onChange:ne=>A({..._,producto:ne.target.value}),className:"w-full text-sm rounded-lg border border-border bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent py-1.5 sm:py-2",children:[o.jsx("option",{value:"",children:"Seleccionar producto"}),a.map(ne=>{var P,I,$;const le=(($=(I=(P=ne.sedes)==null?void 0:P.find(W=>W.id===Number(_.origen)))==null?void 0:I.pivot)==null?void 0:$.stock)||0;return o.jsxs("option",{value:ne.id,children:[ne.nombre," - Stock en sede: ",le]},ne.id)})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Cantidad"}),o.jsx("input",{type:"number",value:_.cantidad,onChange:ne=>A({..._,cantidad:ne.target.value}),className:"w-full text-sm rounded-lg border border-border bg-bg text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent py-1.5 sm:py-2",placeholder:"Ingrese la cantidad"})]})]}),o.jsxs("div",{className:"mt-4 sm:mt-6 flex justify-end space-x-3 sm:space-x-4",children:[o.jsx("button",{onClick:()=>N(!1),className:"px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm text-accessibility-text hover:bg-interactive-component rounded-lg transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:X,disabled:p,className:"px-3 py-1.5 sm:px-4 sm:py-2 text-xs sm:text-sm bg-solid-color hover:bg-solid-color-hover text-white rounded-lg transition-colors",children:p?o.jsx(ft,{variant:"button",text:"Enviando..."}):"Iniciar Transferencia"})]}),x&&o.jsx("div",{className:"mt-3 sm:mt-4 text-center text-error text-xs sm:text-sm",children:x})]})]})},z7=({children:t})=>{const{isAuthenticated:e}=Ht(),s=qn();return e?t:o.jsx(el,{to:"/auth/login",state:{from:s},replace:!0})},Rs=({children:t,allowedRoles:e=[]})=>{var c,u;const{user:s,isAuthenticated:n}=Ht(),a=qn();if(!n)return o.jsx(el,{to:"/auth/login",state:{from:a},replace:!0});const l=(u=(c=s==null?void 0:s.data)==null?void 0:c.rol)==null?void 0:u.nombre;return l?e.includes(l)?t:(console.warn(`Acceso denegado: El rol ${l} no tiene permiso para acceder a esta ruta`),o.jsx(el,{to:"/dashboard",replace:!0})):o.jsx(el,{to:"/dashboard/verificacion-pendiente",replace:!0})},Ic="http://127.0.0.1:8000/api",Ih={async fetchRegistros(t={}){var e,s;try{return(await ge.get(`${Ic}/auditoria`,{params:t})).data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al cargar registros de auditora")}},async fetchAcciones(){var t,e;try{return(await ge.get(`${Ic}/auditoria/acciones`)).data}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar acciones de auditora")}},async fetchTablas(){var t,e;try{return(await ge.get(`${Ic}/auditoria/tablas`)).data}catch(s){throw new Error(((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||"Error al cargar tablas de auditora")}},async fetchLogNames(){try{return(await ge.get(`${Ic}/auditoria/log-names`)).data}catch(t){return console.warn("Error al cargar log_names, usando valores predefinidos:",t),{success:!0,data:["sistema","autenticacion","ventas","compras","transferencias","inventario"]}}},async getRegistroById(t){var e,s;try{return(await ge.get(`${Ic}/auditoria/${t}`)).data}catch(n){throw new Error(((s=(e=n.response)==null?void 0:e.data)==null?void 0:s.message)||"Error al cargar registro de auditora")}}},B7=Ps(t=>({registros:[],acciones:[],tablas:[],logNames:[],isLoading:!1,error:null,pagination:{total:0,perPage:15,currentPage:1,lastPage:1},fetchRegistros:async(e={})=>{t({isLoading:!0,error:null});try{const s=await Ih.fetchRegistros(e);if(s.success){const n=s.data.data.map(l=>{var h;let c=l.subject_type?l.subject_type.split("\\").pop():null,u=((h=l.properties)==null?void 0:h.tipo)||null;return{...l,usuario:l.causer,accion:l.description,tabla:c,registro_id:l.subject_id,fecha:l.created_at,tipo:u}});t({registros:n,pagination:{total:s.data.total,perPage:s.data.per_page,currentPage:s.data.current_page,lastPage:s.data.last_page}});const a=[...new Set(n.map(l=>l.log_name))].filter(Boolean);t({logNames:a})}else throw new Error(s.message||"Error al cargar registros")}catch(s){throw console.error("Error en fetchRegistros:",s),t({error:s.message}),s}finally{t({isLoading:!1})}},fetchAcciones:async()=>{t({isLoading:!0,error:null});try{const e=await Ih.fetchAcciones();if(e.success)t({acciones:e.data||[]});else throw new Error(e.message||"Error al cargar acciones")}catch(e){throw console.error("Error en fetchAcciones:",e),t({error:e.message}),e}finally{t({isLoading:!1})}},fetchTablas:async()=>{t({isLoading:!0,error:null});try{const e=await Ih.fetchTablas();if(e.success)t({tablas:e.data||[]});else throw new Error(e.message||"Error al cargar tablas")}catch(e){throw console.error("Error en fetchTablas:",e),t({error:e.message}),e}finally{t({isLoading:!1})}},fetchLogNames:async()=>{t({isLoading:!0,error:null});try{const e=await Ih.fetchLogNames();if(e.success)t({logNames:e.data||[]});else throw new Error(e.message||"Error al cargar tipos de logs")}catch(e){throw console.error("Error en fetchLogNames:",e),t({error:e.message}),e}finally{t({isLoading:!1})}}})),V7=()=>{var k,R;const{registros:t=[],tablas:e=[],isLoading:s,error:n,fetchRegistros:a,fetchAcciones:l,fetchTablas:c,fetchLogNames:u}=B7(),[h,m]=D.useState({usuario_id:"",accion:"",tabla:"",log_name:"",fecha_inicio:"",fecha_fin:""}),[p,x]=D.useState({isOpen:!1,data:null});D.useEffect(()=>{(async()=>{try{await Promise.all([a(h),l(),c(),u()])}catch(z){console.error("Error al cargar datos:",z),we.error(z.message||"Error al cargar los datos de auditora")}})()},[h,a,l,c,u]);const b=M=>{const{name:z,value:H}=M.target;m(L=>({...L,[z]:H}))},v=(M,z)=>{if(z==="autenticacion")return M.toLowerCase().includes("sesin")?"text-info":"text-warning";if(z==="ventas")return"text-success";if(z==="compras")return"text-warning";if(z==="transferencias")return"text-info";const H=M.toLowerCase();return H.includes("crear")||H.includes("create")||H.includes("registr")?"text-success":H.includes("actualizar")||H.includes("update")||H.includes("modific")?"text-warning":H.includes("eliminar")||H.includes("delete")||H.includes("borr")?"text-error":"text-text-tertiary"},j=(M,z,H)=>{var F;if(z==="autenticacion")return M.toLowerCase().includes("iniciado")?o.jsx(kO,{className:"h-3 w-3 sm:h-4 sm:w-4"}):M.toLowerCase().includes("cerrado")?o.jsx(If,{className:"h-3 w-3 sm:h-4 sm:w-4"}):o.jsx(on,{className:"h-3 w-3 sm:h-4 sm:w-4"});if(z==="ventas")return o.jsx(mr,{className:"h-3 w-3 sm:h-4 sm:w-4"});if(z==="compras")return o.jsx(Et,{className:"h-3 w-3 sm:h-4 sm:w-4"});if(z==="transferencias")return o.jsx(Hi,{className:"h-3 w-3 sm:h-4 sm:w-4"});if(z==="inventario")return o.jsx(uO,{className:"h-3 w-3 sm:h-4 sm:w-4"});if(z==="sistema")return o.jsx(ts,{className:"h-3 w-3 sm:h-4 sm:w-4"});const L=((F=H==null?void 0:H.subject_type)==null?void 0:F.split("\\").pop())||"";return L.toLowerCase().includes("usuario")?o.jsx(on,{className:"h-3 w-3 sm:h-4 sm:w-4"}):L.toLowerCase().includes("sede")?o.jsx(vn,{className:"h-3 w-3 sm:h-4 sm:w-4"}):L.toLowerCase().includes("producto")?o.jsx(Et,{className:"h-3 w-3 sm:h-4 sm:w-4"}):L.toLowerCase().includes("mensaje")?o.jsx(Ud,{className:"h-3 w-3 sm:h-4 sm:w-4"}):o.jsx(Vn,{className:"h-3 w-3 sm:h-4 sm:w-4"})},S=M=>{var F,U;if(!M)return null;if(M.tipo)switch(M.tipo){case"login":case"logout":return[{campo:"Usuario",nuevo:M.email},{campo:"IP",nuevo:M.ip}];case"venta_creada":return[{campo:"Total",nuevo:`$${M.total}`},{campo:"Sede",nuevo:`ID: ${M.sede_id}`},{campo:"Productos",nuevo:`${((F=M.productos)==null?void 0:F.length)||0} productos`}];case"compra_creada":return[{campo:"Total",nuevo:`$${M.total}`},{campo:"Sede",nuevo:`ID: ${M.sede_id}`},{campo:"Proveedor",nuevo:`ID: ${M.proveedor_id}`},{campo:"Productos",nuevo:`${((U=M.productos)==null?void 0:U.length)||0} productos`}];case"compra_estado_actualizado":return[{campo:"Estado Anterior",anterior:M.estado_anterior},{campo:"Estado Nuevo",nuevo:M.estado_nuevo}]}const{attributes:z,old:H}=M,L=[];return z&&Object.entries(z).forEach(([X,Z])=>{const ae=H==null?void 0:H[X];ae!==Z&&L.push({campo:X,anterior:ae,nuevo:Z})}),L.length>0?L:null},N=M=>M||"",_=M=>M?M.split("_").map(z=>z.charAt(0).toUpperCase()+z.slice(1)).join(" "):"",A=M=>{if(!M)return"Sistema";switch(M){case"autenticacion":return"Autenticacin";case"ventas":return"Ventas";case"compras":return"Compras";case"transferencias":return"Transferencias";case"inventario":return"Inventario";case"sistema":return"Sistema";default:return M.charAt(0).toUpperCase()+M.slice(1)}};return n?o.jsx("div",{className:"p-3 sm:p-6",children:o.jsxs("div",{className:"bg-error/10 border border-error text-error px-3 py-2 sm:px-4 sm:py-3 rounded-lg text-sm sm:text-base",children:["Error: ",n]})}):o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-accessibility-text mb-3 sm:mb-4",children:"Registro de Auditora"}),o.jsx("div",{className:"bg-bg-secondary p-3 sm:p-4 rounded-lg shadow-md border border-border mb-4 sm:mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Tipo"}),o.jsxs("select",{name:"log_name",value:h.log_name,onChange:b,className:"w-full text-xs sm:text-sm rounded-lg border border-border bg-bg-secondary text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent py-1.5 sm:py-2",children:[o.jsx("option",{value:"",children:"Todos"}),o.jsx("option",{value:"autenticacion",children:"Autenticacin"}),o.jsx("option",{value:"ventas",children:"Ventas"}),o.jsx("option",{value:"compras",children:"Compras"}),o.jsx("option",{value:"transferencias",children:"Transferencias"}),o.jsx("option",{value:"inventario",children:"Inventario"}),o.jsx("option",{value:"sistema",children:"Sistema"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Tabla"}),o.jsxs("select",{name:"tabla",value:h.tabla,onChange:b,className:"w-full text-xs sm:text-sm rounded-lg border border-border bg-bg-secondary text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent py-1.5 sm:py-2",children:[o.jsx("option",{value:"",children:"Todas"}),Array.isArray(e)&&e.map(M=>o.jsx("option",{value:M,children:M},M))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Fecha Inicio"}),o.jsx("input",{type:"date",name:"fecha_inicio",value:h.fecha_inicio,onChange:b,className:"w-full text-xs sm:text-sm rounded-lg border border-border bg-bg-secondary text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent py-1.5 sm:py-2"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Fecha Fin"}),o.jsx("input",{type:"date",name:"fecha_fin",value:h.fecha_fin,onChange:b,className:"w-full text-xs sm:text-sm rounded-lg border border-border bg-bg-secondary text-accessibility-text focus:ring-2 focus:ring-solid-color focus:border-transparent py-1.5 sm:py-2"})]})]})}),o.jsx("div",{className:"hidden sm:block bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-border",children:[o.jsx("thead",{className:"bg-interactive-component",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Usuario"}),o.jsx("th",{className:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{className:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Accin"}),o.jsx("th",{className:"px-3 py-2 sm:px-6 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Detalles"})]})}),o.jsx("tbody",{className:"bg-bg-secondary divide-y divide-border",children:s?o.jsx(ft,{variant:"table",colSpan:5,text:"Cargando registros de auditora..."}):!Array.isArray(t)||t.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-3 py-2 sm:px-6 sm:py-4 text-center text-text-tertiary",children:"No hay registros de auditora"})}):t.map(M=>{var z;return o.jsxs("tr",{className:"hover:bg-interactive-component/50",children:[o.jsx("td",{className:"px-3 py-2 sm:px-6 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:pt(new Date(M.created_at),"dd/MM/yyyy HH:mm",{locale:bs})}),o.jsx("td",{className:"px-3 py-2 sm:px-6 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:((z=M.usuario)==null?void 0:z.nombre)||"Sistema"}),o.jsx("td",{className:"px-3 py-2 sm:px-6 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:A(M.log_name)}),o.jsx("td",{className:"px-3 py-2 sm:px-6 sm:py-4 whitespace-nowrap text-xs sm:text-sm",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`p-1 rounded-full ${v(M.accion,M.log_name)} bg-opacity-20`,children:j(M.accion,M.log_name,M.properties)}),o.jsx("span",{className:`font-medium ${v(M.accion,M.log_name)}`,children:N(M.accion)})]})}),o.jsx("td",{className:"px-3 py-2 sm:px-6 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:o.jsx("button",{onClick:()=>x({isOpen:!0,data:M}),className:"text-primary hover:text-primary-dark transition-colors",title:"Ver detalles",children:o.jsx(Wa,{className:"w-4 h-4 sm:w-5 sm:h-5"})})})]},M.id)})})]})})}),o.jsx("div",{className:"sm:hidden space-y-3",children:s?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx(ft,{text:"Cargando registros de auditora..."})}):!Array.isArray(t)||t.length===0?o.jsx("div",{className:"text-center py-8 text-text-tertiary text-sm",children:"No hay registros de auditora"}):t.map(M=>{var z;return o.jsxs("div",{className:"bg-bg-secondary rounded-lg border border-border p-3",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:`p-1 rounded-full ${v(M.accion,M.log_name)} bg-opacity-20`,children:j(M.accion,M.log_name,M.properties)}),o.jsx("span",{className:`text-xs font-medium ${v(M.accion,M.log_name)}`,children:N(M.accion)})]}),o.jsx("button",{onClick:()=>x({isOpen:!0,data:M}),className:"text-primary hover:text-primary-dark transition-colors p-1",title:"Ver detalles",children:o.jsx(Wa,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-xs",children:[o.jsx("div",{className:"text-text-tertiary",children:"Fecha:"}),o.jsx("div",{className:"text-accessibility-text",children:pt(new Date(M.created_at),"dd/MM/yyyy HH:mm",{locale:bs})}),o.jsx("div",{className:"text-text-tertiary",children:"Usuario:"}),o.jsx("div",{className:"text-accessibility-text",children:((z=M.usuario)==null?void 0:z.nombre)||"Sistema"}),o.jsx("div",{className:"text-text-tertiary",children:"Tipo:"}),o.jsx("div",{className:"text-accessibility-text",children:A(M.log_name)})]})]},M.id)})})]}),o.jsx(Qr,{isOpen:p.isOpen,onClose:()=>x({isOpen:!1,data:null}),title:"Detalles de la Auditora",children:p.data&&o.jsxs("div",{className:"space-y-4 sm:space-y-6 p-2 sm:p-0",children:[o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-6",children:[o.jsxs("div",{className:"bg-bg-primary p-3 sm:p-4 rounded-lg",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Fecha"}),o.jsx("p",{className:"text-xs sm:text-sm text-accessibility-text",children:pt(new Date(p.data.created_at),"dd/MM/yyyy HH:mm",{locale:bs})})]}),o.jsxs("div",{className:"bg-bg-primary p-3 sm:p-4 rounded-lg",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Usuario"}),o.jsx("p",{className:"text-xs sm:text-sm text-accessibility-text",children:((k=p.data.usuario)==null?void 0:k.nombre)||"Sistema"})]}),o.jsxs("div",{className:"bg-bg-primary p-3 sm:p-4 rounded-lg",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Tipo"}),o.jsx("p",{className:"text-xs sm:text-sm text-accessibility-text",children:A(p.data.log_name)})]}),o.jsxs("div",{className:"bg-bg-primary p-3 sm:p-4 rounded-lg",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-text-tertiary mb-1",children:"Accin"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`p-1 rounded-full ${v(p.data.accion,p.data.log_name)} bg-opacity-20`,children:j(p.data.accion,p.data.log_name,p.data.properties)}),o.jsx("p",{className:`text-xs sm:text-sm font-medium ${v(p.data.accion,p.data.log_name)}`,children:N(p.data.accion)})]})]})]}),p.data.properties&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-xs sm:text-sm font-medium text-text-tertiary mb-2 sm:mb-3",children:"Detalles"}),o.jsx("div",{className:"bg-bg-primary rounded-lg p-3 sm:p-4",children:o.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[(R=S(p.data.properties))==null?void 0:R.map((M,z)=>o.jsx("div",{className:"flex items-start space-x-3 sm:space-x-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-text-tertiary mb-1 sm:mb-2",children:_(M.campo)}),o.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[M.anterior!==void 0&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-xs font-medium text-text-tertiary",children:"Anterior:"}),o.jsx("p",{className:"text-xs sm:text-sm text-error",children:String(M.anterior)})]}),M.nuevo!==void 0&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-xs font-medium text-text-tertiary",children:"Nuevo:"}),o.jsx("p",{className:"text-xs sm:text-sm text-success",children:String(M.nuevo)})]})]})]})},z)),!S(p.data.properties)&&o.jsx("p",{className:"text-xs sm:text-sm text-text-tertiary",children:"No hay detalles adicionales disponibles"})]})})]})]})})]})},U7=()=>{const{products:t,isLoading:e,error:s,loadProducts:n}=Zr(),{sedes:a,fetchSedes:l}=_n(),[c,u]=D.useState(""),[h,m]=D.useState(""),[p,x]=D.useState(""),[b,v]=D.useState(!1);D.useEffect(()=>{n(),l()},[n,l]);const j=(_,A)=>{if(!_.sedes)return 0;const k=_.sedes.find(R=>R.id===Number(A));return Number(k==null?void 0:k.stock)||0},S=(_,A)=>{if(!_.sedes)return Number(_.precio_venta)||0;const k=_.sedes.find(R=>R.id===Number(A));return Number(k==null?void 0:k.precio_venta)||Number(_.precio_venta)||0},N=t.filter(_=>{const A=_.nombre.toLowerCase().includes(c.toLowerCase())||_.descripcion.toLowerCase().includes(c.toLowerCase()),k=!h||_.categoria_id===h;return A&&k});return o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-0",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Catlogo de Productos"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[o.jsxs("div",{className:"relative w-full sm:w-auto",children:[o.jsx("input",{type:"text",placeholder:"Buscar productos...",value:c,onChange:_=>u(_.target.value),className:"w-full pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 text-xs sm:text-sm border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text"}),o.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4 sm:h-5 sm:w-5"})]}),o.jsxs("div",{className:"hidden sm:flex gap-4",children:[o.jsxs("select",{value:p,onChange:_=>x(_.target.value),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text",children:[o.jsx("option",{value:"",children:"Todas las sedes"}),a.map(_=>o.jsx("option",{value:_.id,children:_.nombre},_.id))]}),o.jsx("select",{value:h,onChange:_=>m(_.target.value),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text",children:o.jsx("option",{value:"",children:"Todas las categoras"})})]}),o.jsxs("button",{className:"sm:hidden flex items-center justify-center gap-2 px-3 py-1.5 text-xs bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",onClick:()=>v(!b),children:[o.jsx(fr,{className:"h-4 w-4"}),o.jsx("span",{children:"Filtros"})]})]})]}),b&&o.jsxs("div",{className:"mb-4 p-3 bg-bg-secondary rounded-lg border border-border shadow-md sm:hidden space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary mb-1",children:"Sede"}),o.jsxs("select",{value:p,onChange:_=>x(_.target.value),className:"w-full px-3 py-1.5 text-xs border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color bg-bg text-accessibility-text",children:[o.jsx("option",{value:"",children:"Todas las sedes"}),a.map(_=>o.jsx("option",{value:_.id,children:_.nombre},_.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary mb-1",children:"Categora"}),o.jsx("select",{value:h,onChange:_=>m(_.target.value),className:"w-full px-3 py-1.5 text-xs border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color bg-bg text-accessibility-text",children:o.jsx("option",{value:"",children:"Todas las categoras"})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>v(!1),className:"px-3 py-1.5 text-xs bg-solid-color hover:bg-solid-color-hover text-white rounded-lg transition-colors duration-200",children:"Aplicar filtros"})})]}),s&&o.jsx("div",{className:"mb-4 p-3 sm:p-4 bg-error/10 text-error rounded-lg text-xs sm:text-sm",children:s}),e?o.jsx("div",{className:"flex justify-center items-center h-40 sm:h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 border-b-2 border-solid-color"})}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6",children:N.map(_=>{var R,M,z;const A=p?j(_,p):((R=_.sedes)==null?void 0:R.reduce((H,L)=>H+(Number(L.stock)||0),0))||0,k=p?S(_,p):Number(_.precio_venta)||0;return o.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-bg-secondary rounded-lg shadow-md overflow-hidden border border-border hover:shadow-lg transition-shadow duration-200",children:o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[o.jsx("div",{className:"p-2 sm:p-3 bg-interactive-component rounded-lg",children:o.jsx(Et,{className:"h-4 w-4 sm:h-6 sm:w-6 text-solid-color"})}),o.jsxs("span",{className:"text-xs sm:text-sm font-medium text-text-tertiary",children:["SKU: ",_.sku||"N/A"]})]}),o.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-accessibility-text line-clamp-1",children:_.nombre}),o.jsx("p",{className:"text-xs sm:text-sm text-text-tertiary line-clamp-2",children:_.descripcion}),o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-text-tertiary",children:[o.jsx(yf,{className:"h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{children:((M=_.categoria)==null?void 0:M.nombre)||"Sin categora"})]}),p&&o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm text-text-tertiary",children:[o.jsx(vn,{className:"h-3 w-3 sm:h-4 sm:w-4"}),o.jsx("span",{children:(z=a.find(H=>H.id===Number(p)))==null?void 0:z.nombre})]}),o.jsx("div",{className:"pt-2 sm:pt-4 border-t border-border",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-base sm:text-xl font-bold text-solid-color",children:["",k.toLocaleString("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2})]}),o.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:o.jsx("span",{className:`text-xs sm:text-sm font-medium ${A>5?"text-success":A>0?"text-warning":"text-error"}`,children:A>0?`${A} unidades`:"Sin stock"})})]})})]})]})},_.id)})})]})},H7=()=>{var L,F;const{ventas:t,fetchVentas:e,downloadFactura:s}=$d(),[n,a]=D.useState(!0),[l,c]=D.useState(null),[u,h]=D.useState(""),[m,p]=D.useState({start:"",end:""}),[x,b]=D.useState(null),[v,j]=D.useState(!1),[S,N]=D.useState(!1),[_,A]=D.useState(!1);D.useEffect(()=>{(async()=>{try{a(!0),await e()}catch(X){c("Error al cargar el historial de ventas"),console.error("Error al cargar ventas:",X)}finally{a(!1)}})()},[e]);const k=(t||[]).filter(U=>{var ae,ne,le;if(!U)return!1;const X=(((ae=U.id)==null?void 0:ae.toString())||"").includes(u)||(((le=(ne=U.usuario)==null?void 0:ne.nombre)==null?void 0:le.toLowerCase())||"").includes(u.toLowerCase()),Z=(!m.start||new Date(U.fecha)>=new Date(m.start))&&(!m.end||new Date(U.fecha)<=new Date(m.end));return X&&Z}),R=U=>{if(!U)return"N/A";try{return pt(new Date(U),"dd/MM/yyyy HH:mm",{locale:bs})}catch(X){return console.error("Error al formatear fecha:",X),"Fecha invlida"}},M=U=>U==null?"0,00":new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(U),z=U=>{U&&(b(U),j(!0))},H=async U=>{if(U)try{N(!0),await s(U)}catch(X){c("Error al descargar la factura"),console.error("Error al descargar factura:",X)}finally{N(!1)}};return o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 gap-3 sm:gap-0",children:[o.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-accessibility-text",children:"Historial de Ventas"}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[o.jsxs("div",{className:"relative w-full sm:w-auto",children:[o.jsx("input",{type:"text",placeholder:"Buscar por ID o vendedor...",value:u,onChange:U=>h(U.target.value),className:"w-full pl-8 sm:pl-10 pr-4 py-1.5 sm:py-2 text-xs sm:text-sm border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text"}),o.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4 sm:h-5 sm:w-5"})]}),o.jsxs("div",{className:"hidden sm:flex gap-2",children:[o.jsx("input",{type:"date",value:m.start,onChange:U=>p(X=>({...X,start:U.target.value})),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text"}),o.jsx("input",{type:"date",value:m.end,onChange:U=>p(X=>({...X,end:U.target.value})),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-xs sm:text-sm border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-solid-color bg-bg text-accessibility-text"})]}),o.jsxs("button",{className:"sm:hidden flex items-center justify-center gap-2 px-3 py-1.5 text-xs bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors duration-200",onClick:()=>A(!_),children:[o.jsx(Hn,{className:"h-4 w-4"}),o.jsx("span",{children:"Filtrar por fechas"})]})]})]}),_&&o.jsxs("div",{className:"mb-4 p-3 bg-bg-secondary rounded-lg border border-border shadow-md sm:hidden space-y-3",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary",children:"Fecha inicio"}),o.jsx("input",{type:"date",value:m.start,onChange:U=>p(X=>({...X,start:U.target.value})),className:"w-full px-3 py-1.5 text-xs bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("label",{className:"block text-xs font-medium text-text-tertiary",children:"Fecha fin"}),o.jsx("input",{type:"date",value:m.end,onChange:U=>p(X=>({...X,end:U.target.value})),className:"w-full px-3 py-1.5 text-xs bg-bg border border-border rounded-lg focus:outline-none focus:ring-1 focus:ring-solid-color"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:()=>A(!1),className:"px-3 py-1.5 text-xs bg-solid-color hover:bg-solid-color-hover text-white rounded-lg transition-colors duration-200",children:"Aplicar"})})]}),l&&o.jsx("div",{className:"mb-4 p-3 sm:p-4 bg-error/10 text-error rounded-lg text-xs sm:text-sm",children:l}),n?o.jsx("div",{className:"flex justify-center items-center h-40 sm:h-64",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 sm:h-12 sm:w-12 border-b-2 border-solid-color"})}):k.length===0?o.jsx("div",{className:"text-center py-8 text-text-tertiary text-xs sm:text-sm",children:"No se encontraron ventas"}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"hidden sm:block bg-bg-secondary rounded-lg shadow overflow-hidden border border-border",children:o.jsxs("table",{className:"min-w-full divide-y divide-border",children:[o.jsx("thead",{className:"bg-bg",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"ID"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Vendedor"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Total"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Productos"}),o.jsx("th",{className:"px-3 sm:px-6 py-2 sm:py-3 text-right text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Acciones"})]})}),o.jsx("tbody",{className:"bg-bg-secondary divide-y divide-border",children:k.map(U=>{var X,Z;return o.jsxs(ye.tr,{initial:{opacity:0},animate:{opacity:1},className:"hover:bg-interactive-component/50 transition-colors duration-200",children:[o.jsxs("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:["#",(U==null?void 0:U.id)||"N/A"]}),o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-text-tertiary",children:R(U==null?void 0:U.fecha)}),o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text",children:o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx(on,{size:14,className:"text-text-tertiary"}),((X=U==null?void 0:U.usuario)==null?void 0:X.nombre)||"Vendedor no especificado"]})}),o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-accessibility-text font-medium",children:M(U==null?void 0:U.total)}),o.jsxs("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-text-tertiary",children:[((Z=U==null?void 0:U.detalles)==null?void 0:Z.length)||0," productos"]}),o.jsx("td",{className:"px-3 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-right text-xs sm:text-sm font-medium",children:o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx("button",{onClick:()=>z(U),className:"text-solid-color hover:text-solid-color-hover transition-colors",title:"Ver detalles",children:o.jsx(Wa,{size:16})}),o.jsx("button",{onClick:()=>H(U==null?void 0:U.id),disabled:S,className:`text-text-tertiary hover:text-accessibility-text transition-colors ${S?"opacity-50 cursor-not-allowed":""}`,title:"Descargar factura",children:o.jsx(wn,{size:16})})]})})]},(U==null?void 0:U.id)||Math.random())})})]})}),o.jsx("div",{className:"sm:hidden space-y-3",children:k.map(U=>{var X,Z;return o.jsxs(ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-bg-secondary rounded-lg border border-border p-3 hover:border-solid-color/40 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsxs("div",{className:"text-sm font-medium text-accessibility-text",children:["Venta #",(U==null?void 0:U.id)||"N/A"]}),o.jsx("span",{className:"text-xs font-bold text-success",children:M(U==null?void 0:U.total)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary mb-1",children:"Fecha:"}),o.jsx("div",{className:"font-medium",children:R(U==null?void 0:U.fecha)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary mb-1",children:"Vendedor:"}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(on,{size:12,className:"text-text-tertiary"}),o.jsx("span",{className:"truncate",children:((X=U==null?void 0:U.usuario)==null?void 0:X.nombre)||"No especificado"})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-text-tertiary mb-1",children:"Productos:"}),o.jsxs("div",{className:"font-medium",children:[((Z=U==null?void 0:U.detalles)==null?void 0:Z.length)||0," artculos"]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 border-t border-border pt-2",children:[o.jsx("button",{onClick:()=>z(U),className:"p-1.5 text-solid-color hover:text-solid-color-hover transition-colors",title:"Ver detalles",children:o.jsx(Wa,{size:16})}),o.jsx("button",{onClick:()=>H(U==null?void 0:U.id),disabled:S,className:`p-1.5 text-text-tertiary hover:text-accessibility-text transition-colors ${S?"opacity-50 cursor-not-allowed":""}`,title:"Descargar factura",children:o.jsx(wn,{size:16})})]})]},(U==null?void 0:U.id)||Math.random())})})]}),v&&x&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-lg w-full max-w-2xl mx-4",children:o.jsxs("div",{className:"p-3 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-accessibility-text",children:["Detalles de la Venta #",(x==null?void 0:x.id)||"N/A"]}),o.jsx("button",{onClick:()=>j(!1),className:"text-text-tertiary hover:text-accessibility-text transition-colors",children:o.jsx(Fn,{size:20})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm text-text-tertiary",children:"Fecha"}),o.jsx("p",{className:"text-xs sm:text-sm text-accessibility-text",children:R(x==null?void 0:x.fecha)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm text-text-tertiary",children:"Vendedor"}),o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx(on,{size:14,className:"text-text-tertiary"}),o.jsx("p",{className:"text-xs sm:text-sm text-accessibility-text",children:((L=x==null?void 0:x.usuario)==null?void 0:L.nombre)||"Vendedor no especificado"})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm text-text-tertiary",children:"Total"}),o.jsx("p",{className:"text-xs sm:text-sm text-accessibility-text font-semibold",children:M(x==null?void 0:x.total)})]})]}),o.jsxs("div",{className:"border-t border-border pt-3 sm:pt-4",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-accessibility-text mb-3 sm:mb-4",children:"Productos"}),o.jsx("div",{className:"space-y-2 sm:space-y-3",children:((F=x==null?void 0:x.detalles)==null?void 0:F.map((U,X)=>{var Z;return o.jsxs("div",{className:"flex justify-between items-center p-2 sm:p-3 bg-bg rounded-lg",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs sm:text-sm text-accessibility-text font-medium",children:((Z=U==null?void 0:U.producto)==null?void 0:Z.nombre)||"Producto no especificado"}),o.jsxs("p",{className:"text-xs text-text-tertiary",children:[(U==null?void 0:U.cantidad)||0," x ",M(U==null?void 0:U.precio_unitario)]})]}),o.jsx("p",{className:"text-xs sm:text-sm text-accessibility-text font-semibold",children:M(((U==null?void 0:U.cantidad)||0)*((U==null?void 0:U.precio_unitario)||0))})]},X)}))||o.jsx("p",{className:"text-text-tertiary text-center py-4 text-xs sm:text-sm",children:"No hay productos disponibles"})})]})]})]})})})]})},F7=()=>{var R,M;const{movimientos:t,loadMovimientos:e,isLoading:s,error:n}=M_(),{sedes:a,fetchSedes:l}=_n(),{user:c}=Ht(),[u,h]=D.useState(""),[m,p]=D.useState(""),[x,b]=D.useState("todos"),[v,j]=D.useState(""),S=(M=(R=c==null?void 0:c.data)==null?void 0:R.sede)==null?void 0:M.id;D.useEffect(()=>{(async()=>{try{await Promise.all([e(),l()])}catch(H){console.error("Error al cargar datos:",H)}})()},[e,l]);const _=(Array.isArray(t)?t:[]).filter(z=>{var ae,ne,le;const H=z.sede_id===S||z.sede_origen_id===S||z.sede_destino_id===S,L=x==="todos"||z.tipo===x,F=v===""||((ne=(ae=z.producto)==null?void 0:ae.nombre)==null?void 0:ne.toLowerCase().includes(v.toLowerCase()))||((le=z.descripcion)==null?void 0:le.toLowerCase().includes(v.toLowerCase())),U=new Date(z.fecha),X=!u||U>=new Date(u),Z=!m||U<=new Date(m+"T23:59:59");return H&&L&&F&&X&&Z}).sort((z,H)=>new Date(H.fecha)-new Date(z.fecha)),A=z=>{switch(z){case"entrada":return o.jsx(Ag,{className:"h-4 w-4 mr-1"});case"salida":return o.jsx(Dg,{className:"h-4 w-4 mr-1"});case"transferencia":return o.jsx(Gi,{className:"h-4 w-4 mr-1"});default:return o.jsx($O,{className:"h-4 w-4 mr-1"})}},k=z=>{switch(z){case"entrada":return"bg-success/10 text-success";case"salida":return"bg-error/10 text-error";case"transferencia":return"bg-info/10 text-info";default:return"bg-warning/10 text-warning"}};return s?o.jsx("div",{className:"p-6",children:o.jsx(ft,{variant:"container",text:"Cargando historial de movimientos..."})}):n?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"bg-error/10 text-error p-4 rounded-lg",children:[o.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error"}),o.jsx("p",{children:n})]})}):o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Historial de Movimientos"})}),o.jsx("div",{className:"bg-bg-secondary p-4 rounded-lg shadow-md border border-border mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(xr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),o.jsx("input",{type:"text",placeholder:"Buscar por producto o descripcin...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-bg text-accessibility-text",value:v,onChange:z=>j(z.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),o.jsxs("select",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-bg text-accessibility-text",value:x,onChange:z=>b(z.target.value),children:[o.jsx("option",{value:"todos",children:"Todos los tipos"}),o.jsx("option",{value:"entrada",children:"Entradas"}),o.jsx("option",{value:"salida",children:"Salidas"}),o.jsx("option",{value:"transferencia",children:"Transferencias"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),o.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-bg text-accessibility-text",value:u,onChange:z=>h(z.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-tertiary h-4 w-4"}),o.jsx("input",{type:"date",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-border bg-bg text-accessibility-text",value:m,onChange:z=>p(z.target.value)})]})]})}),o.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-md border border-border overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-bg border-b border-border",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Fecha"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Tipo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Producto"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Cantidad"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Descripcin"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Sede"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-text-tertiary uppercase tracking-wider",children:"Usuario"})]})}),o.jsx("tbody",{className:"divide-y divide-border",children:_.length>0?_.map(z=>{var H,L,F,U;return o.jsxs("tr",{className:"hover:bg-bg/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-text-tertiary",children:new Date(z.fecha).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${k(z.tipo)}`,children:[A(z.tipo),z.tipo]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-accessibility-text",children:((H=z.producto)==null?void 0:H.nombre)||"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"text-sm text-text-tertiary",children:[z.cantidad," unidades"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-text-tertiary",children:z.descripcion||"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-text-tertiary",children:(L=z.sede)!=null&&L.nombre||z.sede_origen_id===S?"Esta sede":((F=a.find(X=>X.id===z.sede_origen_id))==null?void 0:F.nombre)||"N/A"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-text-tertiary",children:((U=z.usuario)==null?void 0:U.nombre)||"N/A"})})]},z.id)}):o.jsx("tr",{children:o.jsx("td",{colSpan:"7",className:"px-6 py-4 text-center text-text-tertiary",children:"No se encontraron movimientos"})})})]})})})]})},$7=()=>{const{notifications:t,fetchNotifications:e,markAsRead:s,markAllAsRead:n,deleteNotification:a,deleteAllNotifications:l,isLoading:c,error:u,clearError:h,pagination:m}=Yy(),[p,x]=D.useState("all"),[b,v]=D.useState(1),[j,S]=D.useState(!1);D.useEffect(()=>{u?(S(!0),console.error("Error en notificaciones:",u)):S(!1)},[u]),D.useEffect(()=>{(async()=>{try{await e({page:b,perPage:15,unread:p==="unread"})}catch(U){console.error("Error al cargar notificaciones:",U),S(!0)}})()},[e,p,b]);const N=async F=>{try{await s(F),we.success("Notificacin marcada como leda")}catch(U){console.error("Error al marcar como leda:",U),we.error("Error al marcar como leda")}},_=async F=>{try{await a(F),we.success("Notificacin eliminada")}catch(U){console.error("Error al eliminar notificacin:",U),we.error("Error al eliminar notificacin")}},A=async()=>{try{await n(),we.success("Todas las notificaciones marcadas como ledas")}catch(F){console.error("Error al marcar todas como ledas:",F),we.error("Error al marcar notificaciones")}},k=async()=>{if(window.confirm("Ests seguro de que deseas eliminar todas las notificaciones?"))try{await l(),we.success("Todas las notificaciones eliminadas")}catch(F){console.error("Error al eliminar todas las notificaciones:",F),we.error("Error al eliminar notificaciones")}},R=()=>{S(!1),h(),console.log("Reintentando carga de notificaciones..."),e({page:b,perPage:15,unread:p==="unread"}).catch(()=>{S(!0)})},M=F=>{try{return pt(new Date(F),"dd/MM/yyyy HH:mm",{locale:bs})}catch{return F}},z=F=>{var X;const U=((X=F.data)==null?void 0:X.type)||"";return U.includes("stock")?o.jsx(Et,{className:"h-5 w-5 text-warning shrink-0 mt-0.5"}):U.includes("transfer")?o.jsx(Hi,{className:"h-5 w-5 text-info shrink-0 mt-0.5"}):U.includes("message")?o.jsx(Ud,{className:"h-5 w-5 text-solid-color shrink-0 mt-0.5"}):o.jsx(ad,{className:"h-5 w-5 text-solid-color shrink-0 mt-0.5"})},H=Math.ceil(m.total/m.perPage)||1,L=F=>{v(F)};return o.jsxs("div",{className:"container mx-auto py-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-accessibility-text",children:"Notificaciones"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex items-center bg-bg-secondary border border-border rounded-lg overflow-hidden",children:[o.jsx("button",{className:`px-3 py-1.5 text-sm ${p==="all"?"bg-solid-color text-white":"hover:bg-interactive-component"}`,onClick:()=>x("all"),children:"Todas"}),o.jsx("button",{className:`px-3 py-1.5 text-sm ${p==="unread"?"bg-solid-color text-white":"hover:bg-interactive-component"}`,onClick:()=>x("unread"),children:"No ledas"}),o.jsx("button",{className:`px-3 py-1.5 text-sm ${p==="read"?"bg-solid-color text-white":"hover:bg-interactive-component"}`,onClick:()=>x("read"),children:"Ledas"})]}),o.jsxs("button",{onClick:A,className:"flex items-center gap-1 px-3 py-1.5 bg-info/20 text-info hover:bg-info/30 rounded-lg text-sm",disabled:c,children:[o.jsx(Rg,{className:"h-4 w-4"}),o.jsx("span",{children:"Marcar todas como ledas"})]}),o.jsxs("button",{onClick:k,className:"flex items-center gap-1 px-3 py-1.5 bg-error/20 text-error hover:bg-error/30 rounded-lg text-sm",disabled:c,children:[o.jsx(Wr,{className:"h-4 w-4"}),o.jsx("span",{children:"Eliminar todas"})]})]})]}),o.jsxs("div",{className:"bg-bg-secondary border border-border rounded-xl overflow-hidden",children:[c&&o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx(Xt,{className:"animate-spin h-8 w-8 text-solid-color"})}),j&&!c&&o.jsxs("div",{className:"p-12 text-error text-center",children:[o.jsx(ts,{className:"h-12 w-12 mx-auto mb-3"}),o.jsx("p",{className:"text-lg mb-4",children:"Error al cargar notificaciones"}),o.jsxs("button",{onClick:R,className:"px-4 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg flex items-center mx-auto gap-2",children:[o.jsx(tf,{className:"h-4 w-4"}),o.jsx("span",{children:"Reintentar"})]})]}),!c&&!j&&t.length===0&&o.jsxs("div",{className:"p-12 text-text-tertiary text-center",children:[o.jsx(ad,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),o.jsx("p",{className:"text-lg",children:"No hay notificaciones"}),o.jsx("p",{className:"text-sm mt-2",children:p==="unread"?"No tienes notificaciones sin leer":p==="read"?"No tienes notificaciones ledas":"No tienes notificaciones"})]}),!c&&!j&&t.length>0&&o.jsx("div",{className:"divide-y divide-border",children:t.map(F=>{if(!F)return null;const U=!F.read_at,X=F.data||{};return o.jsx("div",{className:`p-5 hover:bg-interactive-component/10 transition-colors ${U?"bg-interactive-component/5":""}`,children:o.jsxs("div",{className:"flex justify-between items-start gap-4",children:[o.jsx("div",{className:`flex-1 ${U?"font-medium text-accessibility-text":"text-text-tertiary"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[z(F),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-base mb-1",children:X.title||"Notificacin"}),o.jsx("p",{className:"text-sm",children:X.message||F.data}),o.jsxs("div",{className:"mt-3 text-xs text-text-tertiary flex items-center justify-between",children:[o.jsxs("div",{children:[X.sender_name&&o.jsxs("span",{className:"mr-3",children:["De: ",X.sender_name]}),o.jsx("span",{children:M(F.created_at)})]}),X.url&&o.jsx(cr,{to:X.url,className:"text-solid-color hover:underline",onClick:()=>{U&&N(F.id)},children:"Ver detalles "})]})]})]})}),o.jsxs("div",{className:"flex gap-2 shrink-0",children:[U&&o.jsx("button",{onClick:()=>N(F.id),className:"p-2 rounded-full hover:bg-info/20 text-info",title:"Marcar como leda",children:o.jsx(Wa,{className:"h-5 w-5"})}),o.jsx("button",{onClick:()=>_(F.id),className:"p-2 rounded-full hover:bg-error/20 text-error",title:"Eliminar notificacin",children:o.jsx(Wr,{className:"h-5 w-5"})})]})]})},F.id)})})]}),H>1&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>L(1),disabled:b===1,className:`px-3 py-1 rounded-md ${b===1?"bg-bg-secondary text-text-tertiary cursor-not-allowed":"bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary"}`,children:"Primera"}),o.jsx("button",{onClick:()=>L(b-1),disabled:b===1,className:`px-3 py-1 rounded-md ${b===1?"bg-bg-secondary text-text-tertiary cursor-not-allowed":"bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary"}`,children:"Anterior"}),o.jsxs("span",{className:"px-3 py-1",children:["Pgina ",b," de ",H]}),o.jsx("button",{onClick:()=>L(b+1),disabled:b===H,className:`px-3 py-1 rounded-md ${b===H?"bg-bg-secondary text-text-tertiary cursor-not-allowed":"bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary"}`,children:"Siguiente"}),o.jsx("button",{onClick:()=>L(H),disabled:b===H,className:`px-3 py-1 rounded-md ${b===H?"bg-bg-secondary text-text-tertiary cursor-not-allowed":"bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary"}`,children:"ltima"})]})})]})},I7=()=>{var a,l;const{user:t,logout:e}=Ht(),s=Qa();D.useEffect(()=>{var c,u;(u=(c=t==null?void 0:t.data)==null?void 0:c.rol)!=null&&u.nombre&&s("/dashboard")},[t,s]);const n=()=>{e(),s("/auth/login")};return o.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-6 bg-bg",children:o.jsx(ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-2xl bg-bg-secondary rounded-xl shadow-lg p-8 border border-border",children:o.jsxs("div",{className:"flex flex-col items-center text-center mb-8",children:[o.jsx("div",{className:"p-4 bg-warning/10 rounded-full mb-4",children:o.jsx(Wi,{className:"h-12 w-12 text-warning"})}),o.jsx("h1",{className:"text-2xl font-bold text-accessibility-text mb-2",children:"Verificacin Pendiente"}),o.jsx("p",{className:"text-text-tertiary mb-6 max-w-md",children:"Tu cuenta ha sido creada exitosamente pero necesita ser verificada por un administrador."}),o.jsxs("div",{className:"w-full bg-bg rounded-lg p-6 mb-6 border border-border",children:[o.jsxs("h2",{className:"text-lg font-medium text-accessibility-text mb-4 flex items-center",children:[o.jsx(on,{className:"h-5 w-5 mr-2 text-solid-color"}),"Informacin de tu cuenta"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{className:"text-text-tertiary",children:[o.jsx("span",{className:"font-medium",children:"Nombre:"})," ",((a=t==null?void 0:t.data)==null?void 0:a.nombre)||"No disponible"]}),o.jsxs("p",{className:"text-text-tertiary",children:[o.jsx("span",{className:"font-medium",children:"Email:"})," ",((l=t==null?void 0:t.data)==null?void 0:l.email)||"No disponible"]}),o.jsxs("p",{className:"text-text-tertiary",children:[o.jsx("span",{className:"font-medium",children:"Estado:"})," ",o.jsx("span",{className:"text-warning",children:"Pendiente de verificacin"})]})]})]}),o.jsxs("div",{className:"space-y-4 w-full",children:[o.jsxs("div",{className:"flex items-start p-4 bg-info/10 rounded-lg border border-info/20",children:[o.jsx(ts,{className:"h-5 w-5 text-info mr-3 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-accessibility-text",children:"Qu sucede ahora?"}),o.jsx("p",{className:"text-sm text-text-tertiary mt-1",children:"Un administrador necesita asignarte un rol y una sede antes de que puedas acceder al sistema. Este proceso puede tomar algn tiempo."})]})]}),o.jsxs("div",{className:"flex items-start p-4 bg-success/10 rounded-lg border border-success/20",children:[o.jsx(Xa,{className:"h-5 w-5 text-success mr-3 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-accessibility-text",children:"Prximos pasos"}),o.jsx("p",{className:"text-sm text-text-tertiary mt-1",children:"Una vez que tu cuenta sea verificada, podrs iniciar sesin normalmente y acceder a todas las funciones del sistema segn tu rol asignado."})]})]})]}),o.jsx("button",{onClick:n,className:"mt-8 px-6 py-2 bg-interactive-component hover:bg-interactive-component-secondary text-accessibility-text rounded-lg transition-colors",children:"Volver al inicio de sesin"})]})})})},q7=()=>{var s,n;const{user:t}=Ht(),e=(n=(s=t==null?void 0:t.data)==null?void 0:s.rol)==null?void 0:n.nombre;return e==="Vendedor"?o.jsx(e8,{}):e==="Almacenista"?o.jsx(t8,{}):o.jsx(JP,{})},Os=({children:t})=>{var s,n;const{user:e}=Ht();return(n=(s=e==null?void 0:e.data)==null?void 0:s.rol)!=null&&n.nombre?t:o.jsx(el,{to:"/dashboard/verificacion-pendiente",replace:!0})},Y7=()=>o.jsxs(Pw,{children:[o.jsx(zt,{path:"/",element:o.jsx(el,{to:"/auth/login",replace:!0})}),o.jsxs(zt,{path:"/auth",element:o.jsx(tD,{}),children:[o.jsx(zt,{path:"login",element:o.jsx(GP,{})}),o.jsx(zt,{path:"register",element:o.jsx(KP,{})})]}),o.jsx(zt,{path:"/dashboard/*",element:o.jsx(z7,{children:o.jsx(XP,{children:o.jsxs(Pw,{children:[o.jsx(zt,{path:"verificacion-pendiente",element:o.jsx(I7,{})}),o.jsx(zt,{index:!0,element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Almacenista","Vendedor"],children:o.jsx(q7,{})})})}),o.jsx(zt,{path:"historial",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Almacenista"],children:o.jsx(F7,{})})})}),o.jsx(zt,{path:"inventario",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Almacenista"],children:o.jsx(n8,{})})})}),o.jsx(zt,{path:"usuarios",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador"],children:o.jsx(R7,{})})})}),o.jsx(zt,{path:"configuracion",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Vendedor","Almacenista"],children:o.jsx(O7,{})})})}),o.jsx(zt,{path:"facturas",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Vendedor"],children:o.jsx(A7,{})})})}),o.jsx(zt,{path:"gestiones",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador"],children:o.jsx(L7,{})})})}),o.jsx(zt,{path:"auditoria",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador"],children:o.jsx(V7,{})})})}),o.jsx(zt,{path:"sedes",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Almacenista"],children:o.jsx(P7,{})})})}),o.jsx(zt,{path:"ventas",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Vendedor"],children:o.jsx(i8,{})})})}),o.jsx(zt,{path:"compras",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Vendedor"],children:o.jsx(c8,{})})})}),o.jsx(zt,{path:"reportes",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Vendedor"],children:o.jsx(k7,{})})})}),o.jsx(zt,{path:"catalogo",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Vendedor"],children:o.jsx(U7,{})})})}),o.jsx(zt,{path:"historial-ventas",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Vendedor"],children:o.jsx(H7,{})})})}),o.jsx(zt,{path:"notificaciones",element:o.jsx(Os,{children:o.jsx(Rs,{allowedRoles:["Administrador","Vendedor","Almacenista"],children:o.jsx($7,{})})})})]})})})})]}),X7=()=>{const[t,e]=D.useState(()=>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches);D.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},[t]);const s=()=>{e(!t)};return o.jsx("button",{onClick:s,className:"fixed top-3 right-4 p-2 rounded-full bg-interactive-component text-accessibility-text hover:bg-interactive-component-secondary transition-colors duration-200 border border-border","aria-label":"Cambiar modo oscuro",children:o.jsx(ye.div,{animate:{rotate:t?180:0},transition:{duration:.3},children:t?o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})})},W7=()=>o.jsx(ye.div,{className:"fixed inset-0 bg-bg z-50 flex items-center justify-center",exit:{opacity:0},transition:{duration:.5},children:o.jsx(ye.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-solid-color border-t-transparent rounded-full"})});class hb{listenForWhisper(e,s){return this.listen(".client-"+e,s)}notification(e){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",e)}stopListeningForWhisper(e,s){return this.stopListening(".client-"+e,s)}}class SE{constructor(e){this.namespace=e}format(e){return[".","\\"].includes(e.charAt(0))?e.substring(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}setNamespace(e){this.namespace=e}}function G7(t){try{new t}catch(e){if(e instanceof Error&&e.message.includes("is not a constructor"))return!1}return!0}class fb extends hb{constructor(e,s,n){super(),this.name=s,this.pusher=e,this.options=n,this.eventFormatter=new SE(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(e,s){return this.on(this.eventFormatter.format(e),s),this}listenToAll(e){return this.subscription.bind_global((s,n)=>{if(s.startsWith("pusher:"))return;let a=String(this.options.namespace??"").replace(/\./g,"\\"),l=s.startsWith(a)?s.substring(a.length+1):"."+s;e(l,n)}),this}stopListening(e,s){return s?this.subscription.unbind(this.eventFormatter.format(e),s):this.subscription.unbind(this.eventFormatter.format(e)),this}stopListeningToAll(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}subscribed(e){return this.on("pusher:subscription_succeeded",()=>{e()}),this}error(e){return this.on("pusher:subscription_error",s=>{e(s)}),this}on(e,s){return this.subscription.bind(e,s),this}}class _E extends fb{whisper(e,s){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,s),this}}class K7 extends fb{whisper(e,s){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,s),this}}class Q7 extends _E{here(e){return this.on("pusher:subscription_succeeded",s=>{e(Object.keys(s.members).map(n=>s.members[n]))}),this}joining(e){return this.on("pusher:member_added",s=>{e(s.info)}),this}whisper(e,s){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,s),this}leaving(e){return this.on("pusher:member_removed",s=>{e(s.info)}),this}}class EE extends hb{constructor(e,s,n){super(),this.events={},this.listeners={},this.name=s,this.socket=e,this.options=n,this.eventFormatter=new SE(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(e,s){return this.on(this.eventFormatter.format(e),s),this}stopListening(e,s){return this.unbindEvent(this.eventFormatter.format(e),s),this}subscribed(e){return this.on("connect",s=>{e(s)}),this}error(e){return this}on(e,s){return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=(n,a)=>{this.name===n&&this.listeners[e]&&this.listeners[e].forEach(l=>l(a))},this.socket.on(e,this.events[e])),this.listeners[e].push(s),this}unbind(){Object.keys(this.events).forEach(e=>{this.unbindEvent(e)})}unbindEvent(e,s){this.listeners[e]=this.listeners[e]||[],s&&(this.listeners[e]=this.listeners[e].filter(n=>n!==s)),(!s||this.listeners[e].length===0)&&(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}class CE extends EE{whisper(e,s){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:s}),this}}class Z7 extends CE{here(e){return this.on("presence:subscribed",s=>{e(s.map(n=>n.user_info))}),this}joining(e){return this.on("presence:joining",s=>e(s.user_info)),this}whisper(e,s){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:s}),this}leaving(e){return this.on("presence:leaving",s=>e(s.user_info)),this}}class Mf extends hb{subscribe(){}unsubscribe(){}listen(e,s){return this}listenToAll(e){return this}stopListening(e,s){return this}subscribed(e){return this}error(e){return this}on(e,s){return this}}class TE extends Mf{whisper(e,s){return this}}class J7 extends Mf{whisper(e,s){return this}}class eU extends TE{here(e){return this}joining(e){return this}whisper(e,s){return this}leaving(e){return this}}const kE=class ME{constructor(e){this.setOptions(e),this.connect()}setOptions(e){this.options={...ME._defaultOptions,...e,broadcaster:e.broadcaster};let s=this.csrfToken();s&&(this.options.auth.headers["X-CSRF-TOKEN"]=s,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=s),s=this.options.bearerToken,s&&(this.options.auth.headers.Authorization="Bearer "+s,this.options.userAuthentication.headers.Authorization="Bearer "+s)}csrfToken(){var e,s;return((e=window==null?void 0:window.Laravel)==null?void 0:e.csrfToken)??this.options.csrfToken??((s=document==null?void 0:document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))??null}};kE._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let mb=kE;class qh extends mb{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(e,s,n){return this.channel(e).listen(s,n)}channel(e){return this.channels[e]||(this.channels[e]=new fb(this.pusher,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new _E(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}encryptedPrivateChannel(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new K7(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new Q7(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach(s=>{this.leaveChannel(s)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class tU extends mb{constructor(){super(...arguments),this.channels={}}connect(){let e=this.getSocketIO();this.socket=e(this.options.host??void 0,this.options),this.socket.on("reconnect",()=>{Object.values(this.channels).forEach(s=>{s.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(e,s,n){return this.channel(e).listen(s,n)}channel(e){return this.channels[e]||(this.channels[e]=new EE(this.socket,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new CE(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new Z7(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"presence-"+e].forEach(s=>{this.leaveChannel(s)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class Xj extends mb{constructor(){super(...arguments),this.channels={}}connect(){}listen(e,s,n){return new Mf}channel(e){return new Mf}privateChannel(e){return new TE}encryptedPrivateChannel(e){return new J7}presenceChannel(e){return new eU}leave(e){}leaveChannel(e){}socketId(){return"fake-socket-id"}disconnect(){}}class sU{constructor(e){this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(e){return this.connector.channel(e)}connect(){if(this.options.broadcaster==="reverb")this.connector=new qh({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new qh(this.options);else if(this.options.broadcaster==="ably")this.connector=new qh({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new tU(this.options);else if(this.options.broadcaster==="null")this.connector=new Xj(this.options);else if(typeof this.options.broadcaster=="function"&&G7(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(e){return this.connector.presenceChannel(e)}leave(e){this.connector.leave(e)}leaveChannel(e){this.connector.leaveChannel(e)}leaveAllChannels(){for(const e in this.connector.channels)this.leaveChannel(e)}listen(e,s,n){return this.connector.listen(e,s,n)}private(e){return this.connector.privateChannel(e)}encryptedPrivate(e){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(e);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(e){return e instanceof qh||e instanceof Xj}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((e,s)=>{this.socketId()&&e.headers.set("X-Socket-ID",this.socketId()),s()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(e=>(this.socketId()&&(e.headers["X-Socket-Id"]=this.socketId()),e))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((e,s,n)=>{this.socketId()&&n.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",e=>{e.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var tg={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */var Wj;function nU(){return Wj||(Wj=1,function(t,e){(function(n,a){t.exports=a()})(window,function(){return function(s){var n={};function a(l){if(n[l])return n[l].exports;var c=n[l]={i:l,l:!1,exports:{}};return s[l].call(c.exports,c,c.exports,a),c.l=!0,c.exports}return a.m=s,a.c=n,a.d=function(l,c,u){a.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:u})},a.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},a.t=function(l,c){if(c&1&&(l=a(l)),c&8||c&4&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),c&2&&typeof l!="string")for(var h in l)a.d(u,h,(function(m){return l[m]}).bind(null,h));return u},a.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return a.d(c,"a",c),c},a.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},a.p="",a(a.s=2)}([function(s,n,a){var l=this&&this.__extends||function(){var S=function(N,_){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,k){A.__proto__=k}||function(A,k){for(var R in k)k.hasOwnProperty(R)&&(A[R]=k[R])},S(N,_)};return function(N,_){S(N,_);function A(){this.constructor=N}N.prototype=_===null?Object.create(_):(A.prototype=_.prototype,new A)}}();Object.defineProperty(n,"__esModule",{value:!0});var c=256,u=function(){function S(N){N===void 0&&(N="="),this._paddingCharacter=N}return S.prototype.encodedLength=function(N){return this._paddingCharacter?(N+2)/3*4|0:(N*8+5)/6|0},S.prototype.encode=function(N){for(var _="",A=0;A<N.length-2;A+=3){var k=N[A]<<16|N[A+1]<<8|N[A+2];_+=this._encodeByte(k>>>3*6&63),_+=this._encodeByte(k>>>2*6&63),_+=this._encodeByte(k>>>1*6&63),_+=this._encodeByte(k>>>0*6&63)}var R=N.length-A;if(R>0){var k=N[A]<<16|(R===2?N[A+1]<<8:0);_+=this._encodeByte(k>>>3*6&63),_+=this._encodeByte(k>>>2*6&63),R===2?_+=this._encodeByte(k>>>1*6&63):_+=this._paddingCharacter||"",_+=this._paddingCharacter||""}return _},S.prototype.maxDecodedLength=function(N){return this._paddingCharacter?N/4*3|0:(N*6+7)/8|0},S.prototype.decodedLength=function(N){return this.maxDecodedLength(N.length-this._getPaddingLength(N))},S.prototype.decode=function(N){if(N.length===0)return new Uint8Array(0);for(var _=this._getPaddingLength(N),A=N.length-_,k=new Uint8Array(this.maxDecodedLength(A)),R=0,M=0,z=0,H=0,L=0,F=0,U=0;M<A-4;M+=4)H=this._decodeChar(N.charCodeAt(M+0)),L=this._decodeChar(N.charCodeAt(M+1)),F=this._decodeChar(N.charCodeAt(M+2)),U=this._decodeChar(N.charCodeAt(M+3)),k[R++]=H<<2|L>>>4,k[R++]=L<<4|F>>>2,k[R++]=F<<6|U,z|=H&c,z|=L&c,z|=F&c,z|=U&c;if(M<A-1&&(H=this._decodeChar(N.charCodeAt(M)),L=this._decodeChar(N.charCodeAt(M+1)),k[R++]=H<<2|L>>>4,z|=H&c,z|=L&c),M<A-2&&(F=this._decodeChar(N.charCodeAt(M+2)),k[R++]=L<<4|F>>>2,z|=F&c),M<A-3&&(U=this._decodeChar(N.charCodeAt(M+3)),k[R++]=F<<6|U,z|=U&c),z!==0)throw new Error("Base64Coder: incorrect characters for decoding");return k},S.prototype._encodeByte=function(N){var _=N;return _+=65,_+=25-N>>>8&6,_+=51-N>>>8&-75,_+=61-N>>>8&-15,_+=62-N>>>8&3,String.fromCharCode(_)},S.prototype._decodeChar=function(N){var _=c;return _+=(42-N&N-44)>>>8&-256+N-43+62,_+=(46-N&N-48)>>>8&-256+N-47+63,_+=(47-N&N-58)>>>8&-256+N-48+52,_+=(64-N&N-91)>>>8&-256+N-65+0,_+=(96-N&N-123)>>>8&-256+N-97+26,_},S.prototype._getPaddingLength=function(N){var _=0;if(this._paddingCharacter){for(var A=N.length-1;A>=0&&N[A]===this._paddingCharacter;A--)_++;if(N.length<4||_>2)throw new Error("Base64Coder: incorrect padding")}return _},S}();n.Coder=u;var h=new u;function m(S){return h.encode(S)}n.encode=m;function p(S){return h.decode(S)}n.decode=p;var x=function(S){l(N,S);function N(){return S!==null&&S.apply(this,arguments)||this}return N.prototype._encodeByte=function(_){var A=_;return A+=65,A+=25-_>>>8&6,A+=51-_>>>8&-75,A+=61-_>>>8&-13,A+=62-_>>>8&49,String.fromCharCode(A)},N.prototype._decodeChar=function(_){var A=c;return A+=(44-_&_-46)>>>8&-256+_-45+62,A+=(94-_&_-96)>>>8&-256+_-95+63,A+=(47-_&_-58)>>>8&-256+_-48+52,A+=(64-_&_-91)>>>8&-256+_-65+0,A+=(96-_&_-123)>>>8&-256+_-97+26,A},N}(u);n.URLSafeCoder=x;var b=new x;function v(S){return b.encode(S)}n.encodeURLSafe=v;function j(S){return b.decode(S)}n.decodeURLSafe=j,n.encodedLength=function(S){return h.encodedLength(S)},n.maxDecodedLength=function(S){return h.maxDecodedLength(S)},n.decodedLength=function(S){return h.decodedLength(S)}},function(s,n,a){Object.defineProperty(n,"__esModule",{value:!0});var l="utf8: invalid string",c="utf8: invalid source encoding";function u(p){for(var x=new Uint8Array(h(p)),b=0,v=0;v<p.length;v++){var j=p.charCodeAt(v);j<128?x[b++]=j:j<2048?(x[b++]=192|j>>6,x[b++]=128|j&63):j<55296?(x[b++]=224|j>>12,x[b++]=128|j>>6&63,x[b++]=128|j&63):(v++,j=(j&1023)<<10,j|=p.charCodeAt(v)&1023,j+=65536,x[b++]=240|j>>18,x[b++]=128|j>>12&63,x[b++]=128|j>>6&63,x[b++]=128|j&63)}return x}n.encode=u;function h(p){for(var x=0,b=0;b<p.length;b++){var v=p.charCodeAt(b);if(v<128)x+=1;else if(v<2048)x+=2;else if(v<55296)x+=3;else if(v<=57343){if(b>=p.length-1)throw new Error(l);b++,x+=4}else throw new Error(l)}return x}n.encodedLength=h;function m(p){for(var x=[],b=0;b<p.length;b++){var v=p[b];if(v&128){var j=void 0;if(v<224){if(b>=p.length)throw new Error(c);var S=p[++b];if((S&192)!==128)throw new Error(c);v=(v&31)<<6|S&63,j=128}else if(v<240){if(b>=p.length-1)throw new Error(c);var S=p[++b],N=p[++b];if((S&192)!==128||(N&192)!==128)throw new Error(c);v=(v&15)<<12|(S&63)<<6|N&63,j=2048}else if(v<248){if(b>=p.length-2)throw new Error(c);var S=p[++b],N=p[++b],_=p[++b];if((S&192)!==128||(N&192)!==128||(_&192)!==128)throw new Error(c);v=(v&15)<<18|(S&63)<<12|(N&63)<<6|_&63,j=65536}else throw new Error(c);if(v<j||v>=55296&&v<=57343)throw new Error(c);if(v>=65536){if(v>1114111)throw new Error(c);v-=65536,x.push(String.fromCharCode(55296|v>>10)),v=56320|v&1023}}x.push(String.fromCharCode(v))}return x.join("")}n.decode=m},function(s,n,a){s.exports=a(3).default},function(s,n,a){a.r(n);class l{constructor(w,E){this.lastId=0,this.prefix=w,this.name=E}create(w){this.lastId++;var E=this.lastId,V=this.prefix+E,q=this.name+"["+E+"]",de=!1,be=function(){de||(w.apply(null,arguments),de=!0)};return this[E]=be,{number:E,id:V,name:q,callback:be}}remove(w){delete this[w.number]}}var c=new l("_pusher_script_","Pusher.ScriptReceivers"),u={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},h=u;class m{constructor(w){this.options=w,this.receivers=w.receivers||c,this.loading={}}load(w,E,V){var q=this;if(q.loading[w]&&q.loading[w].length>0)q.loading[w].push(V);else{q.loading[w]=[V];var de=ze.createScriptRequest(q.getPath(w,E)),be=q.receivers.create(function(Ee){if(q.receivers.remove(be),q.loading[w]){var Oe=q.loading[w];delete q.loading[w];for(var Ge=function(At){At||de.cleanup()},Je=0;Je<Oe.length;Je++)Oe[Je](Ee,Ge)}});de.send(be)}}getRoot(w){var E,V=ze.getDocument().location.protocol;return w&&w.useTLS||V==="https:"?E=this.options.cdn_https:E=this.options.cdn_http,E.replace(/\/*$/,"")+"/"+this.options.version}getPath(w,E){return this.getRoot(E)+"/"+w+this.options.suffix+".js"}}var p=new l("_pusher_dependencies","Pusher.DependenciesReceivers"),x=new m({cdn_http:h.cdn_http,cdn_https:h.cdn_https,version:h.VERSION,suffix:h.dependency_suffix,receivers:p});const b={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var j={buildLogSuffix:function(C){const w="See:",E=b.urls[C];if(!E)return"";let V;return E.fullUrl?V=E.fullUrl:E.path&&(V=b.baseUrl+E.path),V?`${w} ${V}`:""}},S;(function(C){C.UserAuthentication="user-authentication",C.ChannelAuthorization="channel-authorization"})(S||(S={}));class N extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class M extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class z extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class H extends Error{constructor(w){super(w),Object.setPrototypeOf(this,new.target.prototype)}}class L extends Error{constructor(w,E){super(E),this.status=w,Object.setPrototypeOf(this,new.target.prototype)}}var U=function(C,w,E,V,q){const de=ze.createXHR();de.open("POST",E.endpoint,!0),de.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var be in E.headers)de.setRequestHeader(be,E.headers[be]);if(E.headersProvider!=null){let Ee=E.headersProvider();for(var be in Ee)de.setRequestHeader(be,Ee[be])}return de.onreadystatechange=function(){if(de.readyState===4)if(de.status===200){let Ee,Oe=!1;try{Ee=JSON.parse(de.responseText),Oe=!0}catch{q(new L(200,`JSON returned from ${V.toString()} endpoint was invalid, yet status code was 200. Data was: ${de.responseText}`),null)}Oe&&q(null,Ee)}else{let Ee="";switch(V){case S.UserAuthentication:Ee=j.buildLogSuffix("authenticationEndpoint");break;case S.ChannelAuthorization:Ee=`Clients must be authorized to join private or presence channels. ${j.buildLogSuffix("authorizationEndpoint")}`;break}q(new L(de.status,`Unable to retrieve auth string from ${V.toString()} endpoint - received status: ${de.status} from ${E.endpoint}. ${Ee}`),null)}},de.send(w),de};function X(C){return I(le(C))}var Z=String.fromCharCode,ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne=function(C){var w=C.charCodeAt(0);return w<128?C:w<2048?Z(192|w>>>6)+Z(128|w&63):Z(224|w>>>12&15)+Z(128|w>>>6&63)+Z(128|w&63)},le=function(C){return C.replace(/[^\x00-\x7F]/g,ne)},P=function(C){var w=[0,2,1][C.length%3],E=C.charCodeAt(0)<<16|(C.length>1?C.charCodeAt(1):0)<<8|(C.length>2?C.charCodeAt(2):0),V=[ae.charAt(E>>>18),ae.charAt(E>>>12&63),w>=2?"=":ae.charAt(E>>>6&63),w>=1?"=":ae.charAt(E&63)];return V.join("")},I=window.btoa||function(C){return C.replace(/[\s\S]{1,3}/g,P)};class ${constructor(w,E,V,q){this.clear=E,this.timer=w(()=>{this.timer&&(this.timer=q(this.timer))},V)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var W=$;function B(C){window.clearTimeout(C)}function G(C){window.clearInterval(C)}class te extends W{constructor(w,E){super(setTimeout,B,w,function(V){return E(),null})}}class ie extends W{constructor(w,E){super(setInterval,G,w,function(V){return E(),V})}}var fe={now(){return Date.now?Date.now():new Date().valueOf()},defer(C){return new te(0,C)},method(C,...w){var E=Array.prototype.slice.call(arguments,1);return function(V){return V[C].apply(V,E.concat(arguments))}}},je=fe;function xe(C,...w){for(var E=0;E<w.length;E++){var V=w[E];for(var q in V)V[q]&&V[q].constructor&&V[q].constructor===Object?C[q]=xe(C[q]||{},V[q]):C[q]=V[q]}return C}function st(){for(var C=["Pusher"],w=0;w<arguments.length;w++)typeof arguments[w]=="string"?C.push(arguments[w]):C.push(Gt(arguments[w]));return C.join(" : ")}function Ve(C,w){var E=Array.prototype.indexOf;if(C===null)return-1;if(E&&C.indexOf===E)return C.indexOf(w);for(var V=0,q=C.length;V<q;V++)if(C[V]===w)return V;return-1}function ot(C,w){for(var E in C)Object.prototype.hasOwnProperty.call(C,E)&&w(C[E],E,C)}function fs(C){var w=[];return ot(C,function(E,V){w.push(V)}),w}function vs(C){var w=[];return ot(C,function(E){w.push(E)}),w}function ms(C,w,E){for(var V=0;V<C.length;V++)w.call(E||window,C[V],V,C)}function Ks(C,w){for(var E=[],V=0;V<C.length;V++)E.push(w(C[V],V,C,E));return E}function me(C,w){var E={};return ot(C,function(V,q){E[q]=w(V)}),E}function Qe(C,w){w=w||function(q){return!!q};for(var E=[],V=0;V<C.length;V++)w(C[V],V,C,E)&&E.push(C[V]);return E}function jt(C,w){var E={};return ot(C,function(V,q){(w&&w(V,q,C,E)||V)&&(E[q]=V)}),E}function Xe(C){var w=[];return ot(C,function(E,V){w.push([V,E])}),w}function We(C,w){for(var E=0;E<C.length;E++)if(w(C[E],E,C))return!0;return!1}function xt(C,w){for(var E=0;E<C.length;E++)if(!w(C[E],E,C))return!1;return!0}function ss(C){return me(C,function(w){return typeof w=="object"&&(w=Gt(w)),encodeURIComponent(X(w.toString()))})}function ws(C){var w=jt(C,function(V){return V!==void 0}),E=Ks(Xe(ss(w)),je.method("join","=")).join("&");return E}function lt(C){var w=[],E=[];return function V(q,de){var be,Ee,Oe;switch(typeof q){case"object":if(!q)return null;for(be=0;be<w.length;be+=1)if(w[be]===q)return{$ref:E[be]};if(w.push(q),E.push(de),Object.prototype.toString.apply(q)==="[object Array]")for(Oe=[],be=0;be<q.length;be+=1)Oe[be]=V(q[be],de+"["+be+"]");else{Oe={};for(Ee in q)Object.prototype.hasOwnProperty.call(q,Ee)&&(Oe[Ee]=V(q[Ee],de+"["+JSON.stringify(Ee)+"]"))}return Oe;case"number":case"string":case"boolean":return q}}(C,"$")}function Gt(C){try{return JSON.stringify(C)}catch{return JSON.stringify(lt(C))}}class ea{constructor(){this.globalLog=w=>{window.console&&window.console.log&&window.console.log(w)}}debug(...w){this.log(this.globalLog,w)}warn(...w){this.log(this.globalLogWarn,w)}error(...w){this.log(this.globalLogError,w)}globalLogWarn(w){window.console&&window.console.warn?window.console.warn(w):this.globalLog(w)}globalLogError(w){window.console&&window.console.error?window.console.error(w):this.globalLogWarn(w)}log(w,...E){var V=st.apply(this,arguments);Rl.log?Rl.log(V):Rl.logToConsole&&w.bind(this)(V)}}var ce=new ea,_e=function(C,w,E,V,q){(E.headers!==void 0||E.headersProvider!=null)&&ce.warn(`To send headers with the ${V.toString()} request, you must use AJAX, rather than JSONP.`);var de=C.nextAuthCallbackID.toString();C.nextAuthCallbackID++;var be=C.getDocument(),Ee=be.createElement("script");C.auth_callbacks[de]=function(Je){q(null,Je)};var Oe="Pusher.auth_callbacks['"+de+"']";Ee.src=E.endpoint+"?callback="+encodeURIComponent(Oe)+"&"+w;var Ge=be.getElementsByTagName("head")[0]||be.documentElement;Ge.insertBefore(Ee,Ge.firstChild)},Ne=_e;class ke{constructor(w){this.src=w}send(w){var E=this,V="Error loading "+E.src;E.script=document.createElement("script"),E.script.id=w.id,E.script.src=E.src,E.script.type="text/javascript",E.script.charset="UTF-8",E.script.addEventListener?(E.script.onerror=function(){w.callback(V)},E.script.onload=function(){w.callback(null)}):E.script.onreadystatechange=function(){(E.script.readyState==="loaded"||E.script.readyState==="complete")&&w.callback(null)},E.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(E.errorScript=document.createElement("script"),E.errorScript.id=w.id+"_error",E.errorScript.text=w.name+"('"+V+"');",E.script.async=E.errorScript.async=!1):E.script.async=!0;var q=document.getElementsByTagName("head")[0];q.insertBefore(E.script,q.firstChild),E.errorScript&&q.insertBefore(E.errorScript,E.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Te{constructor(w,E){this.url=w,this.data=E}send(w){if(!this.request){var E=ws(this.data),V=this.url+"/"+w.number+"?"+E;this.request=ze.createScriptRequest(V),this.request.send(w)}}cleanup(){this.request&&this.request.cleanup()}}var Tt=function(C,w){return function(E,V){var q="http"+(w?"s":"")+"://",de=q+(C.host||C.options.host)+C.options.path,be=ze.createJSONPRequest(de,E),Ee=ze.ScriptReceivers.create(function(Oe,Ge){c.remove(Ee),be.cleanup(),Ge&&Ge.host&&(C.host=Ge.host),V&&V(Oe,Ge)});be.send(Ee)}},Tn={name:"jsonp",getAgent:Tt},Xn=Tn;function Wn(C,w,E){var V=C+(w.useTLS?"s":""),q=w.useTLS?w.hostTLS:w.hostNonTLS;return V+"://"+q+E}function Gn(C,w){var E="/app/"+C,V="?protocol="+h.PROTOCOL+"&client=js&version="+h.VERSION+(w?"&"+w:"");return E+V}var ln={getInitial:function(C,w){var E=(w.httpPath||"")+Gn(C,"flash=false");return Wn("ws",w,E)}},gr={getInitial:function(C,w){var E=(w.httpPath||"/pusher")+Gn(C);return Wn("http",w,E)}},yr={getInitial:function(C,w){return Wn("http",w,w.httpPath||"/pusher")},getPath:function(C,w){return Gn(C)}};class ei{constructor(){this._callbacks={}}get(w){return this._callbacks[ks(w)]}add(w,E,V){var q=ks(w);this._callbacks[q]=this._callbacks[q]||[],this._callbacks[q].push({fn:E,context:V})}remove(w,E,V){if(!w&&!E&&!V){this._callbacks={};return}var q=w?[ks(w)]:fs(this._callbacks);E||V?this.removeCallback(q,E,V):this.removeAllCallbacks(q)}removeCallback(w,E,V){ms(w,function(q){this._callbacks[q]=Qe(this._callbacks[q]||[],function(de){return E&&E!==de.fn||V&&V!==de.context}),this._callbacks[q].length===0&&delete this._callbacks[q]},this)}removeAllCallbacks(w){ms(w,function(E){delete this._callbacks[E]},this)}}function ks(C){return"_"+C}class zs{constructor(w){this.callbacks=new ei,this.global_callbacks=[],this.failThrough=w}bind(w,E,V){return this.callbacks.add(w,E,V),this}bind_global(w){return this.global_callbacks.push(w),this}unbind(w,E,V){return this.callbacks.remove(w,E,V),this}unbind_global(w){return w?(this.global_callbacks=Qe(this.global_callbacks||[],E=>E!==w),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(w,E,V){for(var q=0;q<this.global_callbacks.length;q++)this.global_callbacks[q](w,E);var de=this.callbacks.get(w),be=[];if(V?be.push(E,V):E&&be.push(E),de&&de.length>0)for(var q=0;q<de.length;q++)de[q].fn.apply(de[q].context||window,be);else this.failThrough&&this.failThrough(w,E);return this}}class ti extends zs{constructor(w,E,V,q,de){super(),this.initialize=ze.transportConnectionInitializer,this.hooks=w,this.name=E,this.priority=V,this.key=q,this.options=de,this.state="new",this.timeline=de.timeline,this.activityTimeout=de.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var w=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(w,this.options)}catch(E){return je.defer(()=>{this.onError(E),this.changeState("closed")}),!1}return this.bindListeners(),ce.debug("Connecting",{transport:this.name,url:w}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(w){return this.state==="open"?(je.defer(()=>{this.socket&&this.socket.send(w)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(w){this.emit("error",{type:"WebSocketError",error:w}),this.timeline.error(this.buildTimelineMessage({error:w.toString()}))}onClose(w){w?this.changeState("closed",{code:w.code,reason:w.reason,wasClean:w.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(w){this.emit("message",w)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=w=>{this.onError(w)},this.socket.onclose=w=>{this.onClose(w)},this.socket.onmessage=w=>{this.onMessage(w)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(w,E){this.state=w,this.timeline.info(this.buildTimelineMessage({state:w,params:E})),this.emit(w,E)}buildTimelineMessage(w){return xe({cid:this.id},w)}}class Ms{constructor(w){this.hooks=w}isSupported(w){return this.hooks.isSupported(w)}createConnection(w,E,V,q){return new ti(this.hooks,w,E,V,q)}}var Ji=new Ms({urls:ln,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!ze.getWebSocketAPI()},isSupported:function(){return!!ze.getWebSocketAPI()},getSocket:function(C){return ze.createWebSocket(C)}}),Be={urls:gr,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},St=xe({getSocket:function(C){return ze.HTTPFactory.createStreamingSocket(C)}},Be),kt=xe({getSocket:function(C){return ze.HTTPFactory.createPollingSocket(C)}},Be),Kt={isSupported:function(){return ze.isXHRSupported()}},br=new Ms(xe({},St,Kt)),Ft=new Ms(xe({},kt,Kt)),Mt={ws:Ji,xhr_streaming:br,xhr_polling:Ft},vt=Mt,ct=new Ms({file:"sockjs",urls:yr,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(C,w){return new window.SockJS(C,null,{js_path:x.getPath("sockjs",{useTLS:w.useTLS}),ignore_null_origin:w.ignoreNullOrigin})},beforeOpen:function(C,w){C.send(JSON.stringify({path:w}))}}),$t={isSupported:function(C){var w=ze.isXDRSupported(C.useTLS);return w}},ta=new Ms(xe({},St,$t)),kn=new Ms(xe({},kt,$t));vt.xdr_streaming=ta,vt.xdr_polling=kn,vt.sockjs=ct;var qd=vt;class Yd extends zs{constructor(){super();var w=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){w.emit("online")},!1),window.addEventListener("offline",function(){w.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var si=new Yd;class vl{constructor(w,E,V){this.manager=w,this.transport=E,this.minPingDelay=V.minPingDelay,this.maxPingDelay=V.maxPingDelay,this.pingDelay=void 0}createConnection(w,E,V,q){q=xe({},q,{activityTimeout:this.pingDelay});var de=this.transport.createConnection(w,E,V,q),be=null,Ee=function(){de.unbind("open",Ee),de.bind("closed",Oe),be=je.now()},Oe=Ge=>{if(de.unbind("closed",Oe),Ge.code===1002||Ge.code===1003)this.manager.reportDeath();else if(!Ge.wasClean&&be){var Je=je.now()-be;Je<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(Je/2,this.minPingDelay))}};return de.bind("open",Ee),de}isSupported(w){return this.manager.isAlive()&&this.transport.isSupported(w)}}const vr={decodeMessage:function(C){try{var w=JSON.parse(C.data),E=w.data;if(typeof E=="string")try{E=JSON.parse(w.data)}catch{}var V={event:w.event,channel:w.channel,data:E};return w.user_id&&(V.user_id=w.user_id),V}catch(q){throw{type:"MessageParseError",error:q,data:C.data}}},encodeMessage:function(C){return JSON.stringify(C)},processHandshake:function(C){var w=vr.decodeMessage(C);if(w.event==="pusher:connection_established"){if(!w.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:w.data.socket_id,activityTimeout:w.data.activity_timeout*1e3}}else{if(w.event==="pusher:error")return{action:this.getCloseAction(w.data),error:this.getCloseError(w.data)};throw"Invalid handshake"}},getCloseAction:function(C){return C.code<4e3?C.code>=1002&&C.code<=1004?"backoff":null:C.code===4e3?"tls_only":C.code<4100?"refused":C.code<4200?"backoff":C.code<4300?"retry":"refused"},getCloseError:function(C){return C.code!==1e3&&C.code!==1001?{type:"PusherError",data:{code:C.code,message:C.reason||C.message}}:null}};var Bs=vr;class ni extends zs{constructor(w,E){super(),this.id=w,this.transport=E,this.activityTimeout=E.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(w){return this.transport.send(w)}send_event(w,E,V){var q={event:w,data:E};return V&&(q.channel=V),ce.debug("Event sent",q),this.send(Bs.encodeMessage(q))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var w={message:V=>{var q;try{q=Bs.decodeMessage(V)}catch(de){this.emit("error",{type:"MessageParseError",error:de,data:V.data})}if(q!==void 0){switch(ce.debug("Event recd",q),q.event){case"pusher:error":this.emit("error",{type:"PusherError",data:q.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",q)}},activity:()=>{this.emit("activity")},error:V=>{this.emit("error",V)},closed:V=>{E(),V&&V.code&&this.handleCloseEvent(V),this.transport=null,this.emit("closed")}},E=()=>{ot(w,(V,q)=>{this.transport.unbind(q,V)})};ot(w,(V,q)=>{this.transport.bind(q,V)})}handleCloseEvent(w){var E=Bs.getCloseAction(w),V=Bs.getCloseError(w);V&&this.emit("error",V),E&&this.emit(E,{action:E,error:V})}}class sa{constructor(w,E){this.transport=w,this.callback=E,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=w=>{this.unbindListeners();var E;try{E=Bs.processHandshake(w)}catch(V){this.finish("error",{error:V}),this.transport.close();return}E.action==="connected"?this.finish("connected",{connection:new ni(E.id,this.transport),activityTimeout:E.activityTimeout}):(this.finish(E.action,{error:E.error}),this.transport.close())},this.onClosed=w=>{this.unbindListeners();var E=Bs.getCloseAction(w)||"backoff",V=Bs.getCloseError(w);this.finish(E,{error:V})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(w,E){this.callback(xe({transport:this.transport,action:w},E))}}class Qt{constructor(w,E){this.timeline=w,this.options=E||{}}send(w,E){this.timeline.isEmpty()||this.timeline.send(ze.TimelineTransport.getAgent(this,w),E)}}class eo extends zs{constructor(w,E){super(function(V,q){ce.debug("No callbacks on "+w+" for "+V)}),this.name=w,this.pusher=E,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(w,E){return E(null,{auth:""})}trigger(w,E){if(w.indexOf("client-")!==0)throw new N("Event '"+w+"' does not start with 'client-'");if(!this.subscribed){var V=j.buildLogSuffix("triggeringClientEvents");ce.warn(`Client event triggered before channel 'subscription_succeeded' event . ${V}`)}return this.pusher.send_event(w,E,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(w){var E=w.event,V=w.data;if(E==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(w);else if(E==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(w);else if(E.indexOf("pusher_internal:")!==0){var q={};this.emit(E,V,q)}}handleSubscriptionSucceededEvent(w){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",w.data)}handleSubscriptionCountEvent(w){w.data.subscription_count&&(this.subscriptionCount=w.data.subscription_count),this.emit("pusher:subscription_count",w.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(w,E)=>{w?(this.subscriptionPending=!1,ce.error(w.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:w.message},w instanceof L?{status:w.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:E.auth,channel_data:E.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class to extends eo{authorize(w,E){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:w},E)}}class wr{constructor(){this.reset()}get(w){return Object.prototype.hasOwnProperty.call(this.members,w)?{id:w,info:this.members[w]}:null}each(w){ot(this.members,(E,V)=>{w(this.get(V))})}setMyID(w){this.myID=w}onSubscription(w){this.members=w.presence.hash,this.count=w.presence.count,this.me=this.get(this.myID)}addMember(w){return this.get(w.user_id)===null&&this.count++,this.members[w.user_id]=w.user_info,this.get(w.user_id)}removeMember(w){var E=this.get(w.user_id);return E&&(delete this.members[w.user_id],this.count--),E}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var na=function(C,w,E,V){function q(de){return de instanceof E?de:new E(function(be){be(de)})}return new(E||(E=Promise))(function(de,be){function Ee(Je){try{Ge(V.next(Je))}catch(At){be(At)}}function Oe(Je){try{Ge(V.throw(Je))}catch(At){be(At)}}function Ge(Je){Je.done?de(Je.value):q(Je.value).then(Ee,Oe)}Ge((V=V.apply(C,w||[])).next())})};class Jf extends to{constructor(w,E){super(w,E),this.members=new wr}authorize(w,E){super.authorize(w,(V,q)=>na(this,void 0,void 0,function*(){if(!V)if(q=q,q.channel_data!=null){var de=JSON.parse(q.channel_data);this.members.setMyID(de.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let be=j.buildLogSuffix("authorizationEndpoint");ce.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${be}, or the user should be signed in.`),E("Invalid auth response");return}E(V,q)}))}handleEvent(w){var E=w.event;if(E.indexOf("pusher_internal:")===0)this.handleInternalEvent(w);else{var V=w.data,q={};w.user_id&&(q.user_id=w.user_id),this.emit(E,V,q)}}handleInternalEvent(w){var E=w.event,V=w.data;switch(E){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(w);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(w);break;case"pusher_internal:member_added":var q=this.members.addMember(V);this.emit("pusher:member_added",q);break;case"pusher_internal:member_removed":var de=this.members.removeMember(V);de&&this.emit("pusher:member_removed",de);break}}handleSubscriptionSucceededEvent(w){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(w.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Xd=a(1),so=a(0);class em extends to{constructor(w,E,V){super(w,E),this.key=null,this.nacl=V}authorize(w,E){super.authorize(w,(V,q)=>{if(V){E(V,q);return}let de=q.shared_secret;if(!de){E(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(so.decode)(de),delete q.shared_secret,E(null,q)})}trigger(w,E){throw new M("Client events are not currently supported for encrypted channels")}handleEvent(w){var E=w.event,V=w.data;if(E.indexOf("pusher_internal:")===0||E.indexOf("pusher:")===0){super.handleEvent(w);return}this.handleEncryptedEvent(E,V)}handleEncryptedEvent(w,E){if(!this.key){ce.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!E.ciphertext||!E.nonce){ce.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+E);return}let V=Object(so.decode)(E.ciphertext);if(V.length<this.nacl.secretbox.overheadLength){ce.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${V.length}`);return}let q=Object(so.decode)(E.nonce);if(q.length<this.nacl.secretbox.nonceLength){ce.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${q.length}`);return}let de=this.nacl.secretbox.open(V,q,this.key);if(de===null){ce.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(be,Ee)=>{if(be){ce.error(`Failed to make a request to the authEndpoint: ${Ee}. Unable to fetch new key, so dropping encrypted event`);return}if(de=this.nacl.secretbox.open(V,q,this.key),de===null){ce.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(w,this.getDataToEmit(de))});return}this.emit(w,this.getDataToEmit(de))}getDataToEmit(w){let E=Object(Xd.decode)(w);try{return JSON.parse(E)}catch{return E}}}class no extends zs{constructor(w,E){super(),this.state="initialized",this.connection=null,this.key=w,this.options=E,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var V=ze.getNetwork();V.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),V.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(w){return this.connection?this.connection.send(w):!1}send_event(w,E,V){return this.connection?this.connection.send_event(w,E,V):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var w=(E,V)=>{E?this.runner=this.strategy.connect(0,w):V.action==="error"?(this.emit("error",{type:"HandshakeError",error:V.error}),this.timeline.error({handshakeError:V.error})):(this.abortConnecting(),this.handshakeCallbacks[V.action](V))};this.runner=this.strategy.connect(0,w)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var w=this.abandonConnection();w.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(w){this.timeline.info({action:"retry",delay:w}),w>0&&this.emit("connecting_in",Math.round(w/1e3)),this.retryTimer=new te(w||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new te(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new te(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new te(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(w){return xe({},w,{message:E=>{this.resetActivityCheck(),this.emit("message",E)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:E=>{this.emit("error",E)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(w){return xe({},w,{connected:E=>{this.activityTimeout=Math.min(this.options.activityTimeout,E.activityTimeout,E.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(E.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let w=E=>V=>{V.error&&this.emit("error",{type:"WebSocketError",error:V.error}),E(V)};return{tls_only:w(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:w(()=>{this.disconnect()}),backoff:w(()=>{this.retryIn(1e3)}),retry:w(()=>{this.retryIn(0)})}}setConnection(w){this.connection=w;for(var E in this.connectionCallbacks)this.connection.bind(E,this.connectionCallbacks[E]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var w in this.connectionCallbacks)this.connection.unbind(w,this.connectionCallbacks[w]);var E=this.connection;return this.connection=null,E}}updateState(w,E){var V=this.state;if(this.state=w,V!==w){var q=w;q==="connected"&&(q+=" with new socket ID "+E.socket_id),ce.debug("State changed",V+" -> "+q),this.timeline.info({state:w,params:E}),this.emit("state_change",{previous:V,current:w}),this.emit(w,E)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class ro{constructor(){this.channels={}}add(w,E){return this.channels[w]||(this.channels[w]=Mn(w,E)),this.channels[w]}all(){return vs(this.channels)}find(w){return this.channels[w]}remove(w){var E=this.channels[w];return delete this.channels[w],E}disconnect(){ot(this.channels,function(w){w.disconnect()})}}function Mn(C,w){if(C.indexOf("private-encrypted-")===0){if(w.config.nacl)return cn.createEncryptedChannel(C,w,w.config.nacl);let E="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",V=j.buildLogSuffix("encryptedChannelSupport");throw new M(`${E}. ${V}`)}else{if(C.indexOf("private-")===0)return cn.createPrivateChannel(C,w);if(C.indexOf("presence-")===0)return cn.createPresenceChannel(C,w);if(C.indexOf("#")===0)throw new _('Cannot create a channel with name "'+C+'".');return cn.createChannel(C,w)}}var wl={createChannels(){return new ro},createConnectionManager(C,w){return new no(C,w)},createChannel(C,w){return new eo(C,w)},createPrivateChannel(C,w){return new to(C,w)},createPresenceChannel(C,w){return new Jf(C,w)},createEncryptedChannel(C,w,E){return new em(C,w,E)},createTimelineSender(C,w){return new Qt(C,w)},createHandshake(C,w){return new sa(C,w)},createAssistantToTheTransportManager(C,w,E){return new vl(C,w,E)}},cn=wl;class jr{constructor(w){this.options=w||{},this.livesLeft=this.options.lives||1/0}getAssistant(w){return cn.createAssistantToTheTransportManager(this,w,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class An{constructor(w,E){this.strategies=w,this.loop=!!E.loop,this.failFast=!!E.failFast,this.timeout=E.timeout,this.timeoutLimit=E.timeoutLimit}isSupported(){return We(this.strategies,je.method("isSupported"))}connect(w,E){var V=this.strategies,q=0,de=this.timeout,be=null,Ee=(Oe,Ge)=>{Ge?E(null,Ge):(q=q+1,this.loop&&(q=q%V.length),q<V.length?(de&&(de=de*2,this.timeoutLimit&&(de=Math.min(de,this.timeoutLimit))),be=this.tryStrategy(V[q],w,{timeout:de,failFast:this.failFast},Ee)):E(!0))};return be=this.tryStrategy(V[q],w,{timeout:de,failFast:this.failFast},Ee),{abort:function(){be.abort()},forceMinPriority:function(Oe){w=Oe,be&&be.forceMinPriority(Oe)}}}tryStrategy(w,E,V,q){var de=null,be=null;return V.timeout>0&&(de=new te(V.timeout,function(){be.abort(),q(!0)})),be=w.connect(E,function(Ee,Oe){Ee&&de&&de.isRunning()&&!V.failFast||(de&&de.ensureAborted(),q(Ee,Oe))}),{abort:function(){de&&de.ensureAborted(),be.abort()},forceMinPriority:function(Ee){be.forceMinPriority(Ee)}}}}class ri{constructor(w){this.strategies=w}isSupported(){return We(this.strategies,je.method("isSupported"))}connect(w,E){return tm(this.strategies,w,function(V,q){return function(de,be){if(q[V].error=de,de){Wd(q)&&E(!0);return}ms(q,function(Ee){Ee.forceMinPriority(be.transport.priority)}),E(null,be)}})}}function tm(C,w,E){var V=Ks(C,function(q,de,be,Ee){return q.connect(w,E(de,Ee))});return{abort:function(){ms(V,Vs)},forceMinPriority:function(q){ms(V,function(de){de.forceMinPriority(q)})}}}function Wd(C){return xt(C,function(w){return!!w.error})}function Vs(C){!C.error&&!C.aborted&&(C.abort(),C.aborted=!0)}class Gd{constructor(w,E,V){this.strategy=w,this.transports=E,this.ttl=V.ttl||1800*1e3,this.usingTLS=V.useTLS,this.timeline=V.timeline}isSupported(){return this.strategy.isSupported()}connect(w,E){var V=this.usingTLS,q=ao(V),de=q&&q.cacheSkipCount?q.cacheSkipCount:0,be=[this.strategy];if(q&&q.timestamp+this.ttl>=je.now()){var Ee=this.transports[q.transport];Ee&&(["ws","wss"].includes(q.transport)||de>3?(this.timeline.info({cached:!0,transport:q.transport,latency:q.latency}),be.push(new An([Ee],{timeout:q.latency*2+1e3,failFast:!0}))):de++)}var Oe=je.now(),Ge=be.pop().connect(w,function Je(At,di){At?(ai(V),be.length>0?(Oe=je.now(),Ge=be.pop().connect(w,Je)):E(At)):(Kd(V,di.transport.name,je.now()-Oe,de),E(null,di))});return{abort:function(){Ge.abort()},forceMinPriority:function(Je){w=Je,Ge&&Ge.forceMinPriority(Je)}}}}function jl(C){return"pusherTransport"+(C?"TLS":"NonTLS")}function ao(C){var w=ze.getLocalStorage();if(w)try{var E=w[jl(C)];if(E)return JSON.parse(E)}catch{ai(C)}return null}function Kd(C,w,E,V){var q=ze.getLocalStorage();if(q)try{q[jl(C)]=Gt({timestamp:je.now(),transport:w,latency:E,cacheSkipCount:V})}catch{}}function ai(C){var w=ze.getLocalStorage();if(w)try{delete w[jl(C)]}catch{}}class io{constructor(w,{delay:E}){this.strategy=w,this.options={delay:E}}isSupported(){return this.strategy.isSupported()}connect(w,E){var V=this.strategy,q,de=new te(this.options.delay,function(){q=V.connect(w,E)});return{abort:function(){de.ensureAborted(),q&&q.abort()},forceMinPriority:function(be){w=be,q&&q.forceMinPriority(be)}}}}class ls{constructor(w,E,V){this.test=w,this.trueBranch=E,this.falseBranch=V}isSupported(){var w=this.test()?this.trueBranch:this.falseBranch;return w.isSupported()}connect(w,E){var V=this.test()?this.trueBranch:this.falseBranch;return V.connect(w,E)}}class Nl{constructor(w){this.strategy=w}isSupported(){return this.strategy.isSupported()}connect(w,E){var V=this.strategy.connect(w,function(q,de){de&&V.abort(),E(q,de)});return V}}function ra(C){return function(){return C.isSupported()}}var Sl=function(C,w,E){var V={};function q(Ll,Pl,zl,du,uu){var Bl=E(C,Ll,Pl,zl,du,uu);return V[Ll]=Bl,Bl}var de=Object.assign({},w,{hostNonTLS:C.wsHost+":"+C.wsPort,hostTLS:C.wsHost+":"+C.wssPort,httpPath:C.wsPath}),be=Object.assign({},de,{useTLS:!0}),Ee=Object.assign({},w,{hostNonTLS:C.httpHost+":"+C.httpPort,hostTLS:C.httpHost+":"+C.httpsPort,httpPath:C.httpPath}),Oe={loop:!0,timeout:15e3,timeoutLimit:6e4},Ge=new jr({minPingDelay:1e4,maxPingDelay:C.activityTimeout}),Je=new jr({lives:2,minPingDelay:1e4,maxPingDelay:C.activityTimeout}),At=q("ws","ws",3,de,Ge),di=q("wss","ws",3,be,Ge),ru=q("sockjs","sockjs",1,Ee),Ol=q("xhr_streaming","xhr_streaming",1,Ee,Je),ca=q("xdr_streaming","xdr_streaming",1,Ee,Je),au=q("xhr_polling","xhr_polling",1,Ee),jm=q("xdr_polling","xdr_polling",1,Ee),iu=new An([At],Oe),ou=new An([di],Oe),lu=new An([ru],Oe),da=new An([new ls(ra(Ol),Ol,ca)],Oe),ua=new An([new ls(ra(au),au,jm)],Oe),cu=new An([new ls(ra(da),new ri([da,new io(ua,{delay:4e3})]),ua)],Oe),ha=new ls(ra(cu),cu,lu),po;return w.useTLS?po=new ri([iu,new io(ha,{delay:2e3})]):po=new ri([iu,new io(ou,{delay:2e3}),new io(ha,{delay:5e3})]),new Gd(new Nl(new ls(ra(At),po,ha)),V,{ttl:18e5,timeline:w.timeline,useTLS:w.useTLS})},aa=Sl,Qd=function(){var C=this;C.timeline.info(C.buildTimelineMessage({transport:C.name+(C.options.useTLS?"s":"")})),C.hooks.isInitialized()?C.changeState("initialized"):C.hooks.file?(C.changeState("initializing"),x.load(C.hooks.file,{useTLS:C.options.useTLS},function(w,E){C.hooks.isInitialized()?(C.changeState("initialized"),E(!0)):(w&&C.onError(w),C.onClose(),E(!1))})):C.onClose()},Zd={getRequest:function(C){var w=new window.XDomainRequest;return w.ontimeout=function(){C.emit("error",new A),C.close()},w.onerror=function(E){C.emit("error",E),C.close()},w.onprogress=function(){w.responseText&&w.responseText.length>0&&C.onChunk(200,w.responseText)},w.onload=function(){w.responseText&&w.responseText.length>0&&C.onChunk(200,w.responseText),C.emit("finished",200),C.close()},w},abortRequest:function(C){C.ontimeout=C.onerror=C.onprogress=C.onload=null,C.abort()}},ia=Zd;const sm=256*1024;class Jd extends zs{constructor(w,E,V){super(),this.hooks=w,this.method=E,this.url=V}start(w){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},ze.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(w)}close(){this.unloader&&(ze.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(w,E){for(;;){var V=this.advanceBuffer(E);if(V)this.emit("chunk",{status:w,data:V});else break}this.isBufferTooLong(E)&&this.emit("buffer_too_long")}advanceBuffer(w){var E=w.slice(this.position),V=E.indexOf(`
`);return V!==-1?(this.position+=V+1,E.slice(0,V)):null}isBufferTooLong(w){return this.position===w.length&&w.length>sm}}var oo;(function(C){C[C.CONNECTING=0]="CONNECTING",C[C.OPEN=1]="OPEN",C[C.CLOSED=3]="CLOSED"})(oo||(oo={}));var Dn=oo,nm=1;class rm{constructor(w,E){this.hooks=w,this.session=Nr(1e3)+"/"+eu(8),this.location=lo(E),this.readyState=Dn.CONNECTING,this.openStream()}send(w){return this.sendRaw(JSON.stringify([w]))}ping(){this.hooks.sendHeartbeat(this)}close(w,E){this.onClose(w,E,!0)}sendRaw(w){if(this.readyState===Dn.OPEN)try{return ze.createSocketRequest("POST",co(_l(this.location,this.session))).start(w),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(w,E,V){this.closeStream(),this.readyState=Dn.CLOSED,this.onclose&&this.onclose({code:w,reason:E,wasClean:V})}onChunk(w){if(w.status===200){this.readyState===Dn.OPEN&&this.onActivity();var E,V=w.data.slice(0,1);switch(V){case"o":E=JSON.parse(w.data.slice(1)||"{}"),this.onOpen(E);break;case"a":E=JSON.parse(w.data.slice(1)||"[]");for(var q=0;q<E.length;q++)this.onEvent(E[q]);break;case"m":E=JSON.parse(w.data.slice(1)||"null"),this.onEvent(E);break;case"h":this.hooks.onHeartbeat(this);break;case"c":E=JSON.parse(w.data.slice(1)||"[]"),this.onClose(E[0],E[1],!0);break}}}onOpen(w){this.readyState===Dn.CONNECTING?(w&&w.hostname&&(this.location.base=oa(this.location.base,w.hostname)),this.readyState=Dn.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(w){this.readyState===Dn.OPEN&&this.onmessage&&this.onmessage({data:w})}onActivity(){this.onactivity&&this.onactivity()}onError(w){this.onerror&&this.onerror(w)}openStream(){this.stream=ze.createSocketRequest("POST",co(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",w=>{this.onChunk(w)}),this.stream.bind("finished",w=>{this.hooks.onFinished(this,w)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(w){je.defer(()=>{this.onError(w),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function lo(C){var w=/([^\?]*)\/*(\??.*)/.exec(C);return{base:w[1],queryString:w[2]}}function _l(C,w){return C.base+"/"+w+"/xhr_send"}function co(C){var w=C.indexOf("?")===-1?"?":"&";return C+w+"t="+ +new Date+"&n="+nm++}function oa(C,w){var E=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(C);return E[1]+w+E[3]}function Nr(C){return ze.randomInt(C)}function eu(C){for(var w=[],E=0;E<C;E++)w.push(Nr(32).toString(32));return w.join("")}var El=rm,tu={getReceiveURL:function(C,w){return C.base+"/"+w+"/xhr_streaming"+C.queryString},onHeartbeat:function(C){C.sendRaw("[]")},sendHeartbeat:function(C){C.sendRaw("[]")},onFinished:function(C,w){C.onClose(1006,"Connection interrupted ("+w+")",!1)}},ii=tu,Rn={getReceiveURL:function(C,w){return C.base+"/"+w+"/xhr"+C.queryString},onHeartbeat:function(){},sendHeartbeat:function(C){C.sendRaw("[]")},onFinished:function(C,w){w===200?C.reconnect():C.onClose(1006,"Connection interrupted ("+w+")",!1)}},Cl=Rn,oi={getRequest:function(C){var w=ze.getXHRAPI(),E=new w;return E.onreadystatechange=E.onprogress=function(){switch(E.readyState){case 3:E.responseText&&E.responseText.length>0&&C.onChunk(E.status,E.responseText);break;case 4:E.responseText&&E.responseText.length>0&&C.onChunk(E.status,E.responseText),C.emit("finished",E.status),C.close();break}},E},abortRequest:function(C){C.onreadystatechange=null,C.abort()}},Kn=oi,Tl={createStreamingSocket(C){return this.createSocket(ii,C)},createPollingSocket(C){return this.createSocket(Cl,C)},createSocket(C,w){return new El(C,w)},createXHR(C,w){return this.createRequest(Kn,C,w)},createRequest(C,w,E){return new Jd(C,w,E)}},li=Tl;li.createXDR=function(C,w){return this.createRequest(ia,C,w)};var su=li,uo={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:c,DependenciesReceivers:p,getDefaultStrategy:aa,Transports:qd,transportConnectionInitializer:Qd,HTTPFactory:su,TimelineTransport:Xn,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(C){window.Pusher=C;var w=()=>{this.onDocumentBody(C.ready)};window.JSON?w():x.load("json2",{},w)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:U,jsonp:Ne}},onDocumentBody(C){document.body?C():setTimeout(()=>{this.onDocumentBody(C)},0)},createJSONPRequest(C,w){return new Te(C,w)},createScriptRequest(C){return new ke(C)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var C=this.getXHRAPI();return new C},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return si},createWebSocket(C){var w=this.getWebSocketAPI();return new w(C)},createSocketRequest(C,w){if(this.isXHRSupported())return this.HTTPFactory.createXHR(C,w);if(this.isXDRSupported(w.indexOf("https:")===0))return this.HTTPFactory.createXDR(C,w);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var C=this.getXHRAPI();return!!C&&new C().withCredentials!==void 0},isXDRSupported(C){var w=C?"https:":"http:",E=this.getProtocol();return!!window.XDomainRequest&&E===w},addUnloadListener(C){window.addEventListener!==void 0?window.addEventListener("unload",C,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",C)},removeUnloadListener(C){window.addEventListener!==void 0?window.removeEventListener("unload",C,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",C)},randomInt(C){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*C)}},ze=uo,ho;(function(C){C[C.ERROR=3]="ERROR",C[C.INFO=6]="INFO",C[C.DEBUG=7]="DEBUG"})(ho||(ho={}));var ns=ho;class Sr{constructor(w,E,V){this.key=w,this.session=E,this.events=[],this.options=V||{},this.sent=0,this.uniqueID=0}log(w,E){w<=this.options.level&&(this.events.push(xe({},E,{timestamp:je.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(w){this.log(ns.ERROR,w)}info(w){this.log(ns.INFO,w)}debug(w){this.log(ns.DEBUG,w)}isEmpty(){return this.events.length===0}send(w,E){var V=xe({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],w(V,(q,de)=>{q||this.sent++,E&&E(q,de)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class fo{constructor(w,E,V,q){this.name=w,this.priority=E,this.transport=V,this.options=q||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(w,E){if(this.isSupported()){if(this.priority<w)return la(new k,E)}else return la(new H,E);var V=!1,q=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),de=null,be=function(){q.unbind("initialized",be),q.connect()},Ee=function(){de=cn.createHandshake(q,function(At){V=!0,Je(),E(null,At)})},Oe=function(At){Je(),E(At)},Ge=function(){Je();var At;At=Gt(q),E(new R(At))},Je=function(){q.unbind("initialized",be),q.unbind("open",Ee),q.unbind("error",Oe),q.unbind("closed",Ge)};return q.bind("initialized",be),q.bind("open",Ee),q.bind("error",Oe),q.bind("closed",Ge),q.initialize(),{abort:()=>{V||(Je(),de?de.close():q.close())},forceMinPriority:At=>{V||this.priority<At&&(de?de.close():q.close())}}}}function la(C,w){return je.defer(function(){w(C)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:am}=ze;var kl=function(C,w,E,V,q,de){var be=am[E];if(!be)throw new z(E);var Ee=(!C.enabledTransports||Ve(C.enabledTransports,w)!==-1)&&(!C.disabledTransports||Ve(C.disabledTransports,w)===-1),Oe;return Ee?(q=Object.assign({ignoreNullOrigin:C.ignoreNullOrigin},q),Oe=new fo(w,V,de?de.getAssistant(be):be,q)):Oe=Ml,Oe},Ml={isSupported:function(){return!1},connect:function(C,w){var E=je.defer(function(){w(new H)});return{abort:function(){E.ensureAborted()},forceMinPriority:function(){}}}};function ci(C){if(C==null)throw"You must pass an options object";if(C.cluster==null)throw"Options object must provide a cluster";"disableStats"in C&&ce.warn("The disableStats option is deprecated in favor of enableStats")}const mo=(C,w)=>{var E="socket_id="+encodeURIComponent(C.socketId);for(var V in w.params)E+="&"+encodeURIComponent(V)+"="+encodeURIComponent(w.params[V]);if(w.paramsProvider!=null){let q=w.paramsProvider();for(var V in q)E+="&"+encodeURIComponent(V)+"="+encodeURIComponent(q[V])}return E};var om=C=>{if(typeof ze.getAuthorizers()[C.transport]>"u")throw`'${C.transport}' is not a recognized auth transport`;return(w,E)=>{const V=mo(w,C);ze.getAuthorizers()[C.transport](ze,V,C,S.UserAuthentication,E)}};const lm=(C,w)=>{var E="socket_id="+encodeURIComponent(C.socketId);E+="&channel_name="+encodeURIComponent(C.channelName);for(var V in w.params)E+="&"+encodeURIComponent(V)+"="+encodeURIComponent(w.params[V]);if(w.paramsProvider!=null){let q=w.paramsProvider();for(var V in q)E+="&"+encodeURIComponent(V)+"="+encodeURIComponent(q[V])}return E};var Al=C=>{if(typeof ze.getAuthorizers()[C.transport]>"u")throw`'${C.transport}' is not a recognized auth transport`;return(w,E)=>{const V=lm(w,C);ze.getAuthorizers()[C.transport](ze,V,C,S.ChannelAuthorization,E)}};const cm=(C,w,E)=>{const V={authTransport:w.transport,authEndpoint:w.endpoint,auth:{params:w.params,headers:w.headers}};return(q,de)=>{const be=C.channel(q.channelName);E(be,V).authorize(q.socketId,de)}};function dm(C,w){let E={activityTimeout:C.activityTimeout||h.activityTimeout,cluster:C.cluster,httpPath:C.httpPath||h.httpPath,httpPort:C.httpPort||h.httpPort,httpsPort:C.httpsPort||h.httpsPort,pongTimeout:C.pongTimeout||h.pongTimeout,statsHost:C.statsHost||h.stats_host,unavailableTimeout:C.unavailableTimeout||h.unavailableTimeout,wsPath:C.wsPath||h.wsPath,wsPort:C.wsPort||h.wsPort,wssPort:C.wssPort||h.wssPort,enableStats:mm(C),httpHost:um(C),useTLS:nu(C),wsHost:hm(C),userAuthenticator:pm(C),channelAuthorizer:gm(C,w)};return"disabledTransports"in C&&(E.disabledTransports=C.disabledTransports),"enabledTransports"in C&&(E.enabledTransports=C.enabledTransports),"ignoreNullOrigin"in C&&(E.ignoreNullOrigin=C.ignoreNullOrigin),"timelineParams"in C&&(E.timelineParams=C.timelineParams),"nacl"in C&&(E.nacl=C.nacl),E}function um(C){return C.httpHost?C.httpHost:C.cluster?`sockjs-${C.cluster}.pusher.com`:h.httpHost}function hm(C){return C.wsHost?C.wsHost:fm(C.cluster)}function fm(C){return`ws-${C}.pusher.com`}function nu(C){return ze.getProtocol()==="https:"?!0:C.forceTLS!==!1}function mm(C){return"enableStats"in C?C.enableStats:"disableStats"in C?!C.disableStats:!1}function pm(C){const w=Object.assign(Object.assign({},h.userAuthentication),C.userAuthentication);return"customHandler"in w&&w.customHandler!=null?w.customHandler:om(w)}function xm(C,w){let E;return"channelAuthorization"in C?E=Object.assign(Object.assign({},h.channelAuthorization),C.channelAuthorization):(E={transport:C.authTransport||h.authTransport,endpoint:C.authEndpoint||h.authEndpoint},"auth"in C&&("params"in C.auth&&(E.params=C.auth.params),"headers"in C.auth&&(E.headers=C.auth.headers)),"authorizer"in C&&(E.customHandler=cm(w,E,C.authorizer))),E}function gm(C,w){const E=xm(C,w);return"customHandler"in E&&E.customHandler!=null?E.customHandler:Al(E)}class Dl extends zs{constructor(w){super(function(E,V){ce.debug(`No callbacks on watchlist events for ${E}`)}),this.pusher=w,this.bindWatchlistInternalEvent()}handleEvent(w){w.data.events.forEach(E=>{this.emit(E.name,E)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",w=>{var E=w.event;E==="pusher_internal:watchlist_events"&&this.handleEvent(w)})}}function ym(){let C,w;return{promise:new Promise((V,q)=>{C=V,w=q}),resolve:C,reject:w}}var bm=ym;class vm extends zs{constructor(w){super(function(E,V){ce.debug("No callbacks on user for "+E)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(E,V)=>{if(E){ce.warn(`Error during signin: ${E}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:V.auth,user_data:V.user_data})},this.pusher=w,this.pusher.connection.bind("state_change",({previous:E,current:V})=>{E!=="connected"&&V==="connected"&&this._signin(),E==="connected"&&V!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Dl(w),this.pusher.connection.bind("message",E=>{var V=E.event;V==="pusher:signin_success"&&this._onSigninSuccess(E.data),this.serverToUserChannel&&this.serverToUserChannel.name===E.channel&&this.serverToUserChannel.handleEvent(E)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(w){try{this.user_data=JSON.parse(w.user_data)}catch{ce.error(`Failed parsing user data after signin: ${w.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){ce.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const w=E=>{E.subscriptionPending&&E.subscriptionCancelled?E.reinstateSubscription():!E.subscriptionPending&&this.pusher.connection.state==="connected"&&E.subscribe()};this.serverToUserChannel=new eo(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((E,V)=>{E.indexOf("pusher_internal:")===0||E.indexOf("pusher:")===0||this.emit(E,V)}),w(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:w,resolve:E}=bm();w.done=!1;const V=()=>{w.done=!0};w.then(V).catch(V),this.signinDonePromise=w,this._signinDoneResolve=E}}class Zt{static ready(){Zt.isReady=!0;for(var w=0,E=Zt.instances.length;w<E;w++)Zt.instances[w].connect()}static getClientFeatures(){return fs(jt({ws:ze.Transports.ws},function(w){return w.isSupported({})}))}constructor(w,E){wm(w),ci(E),this.key=w,this.config=dm(E,this),this.channels=cn.createChannels(),this.global_emitter=new zs,this.sessionID=ze.randomInt(1e9),this.timeline=new Sr(this.key,this.sessionID,{cluster:this.config.cluster,features:Zt.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:ns.INFO,version:h.VERSION}),this.config.enableStats&&(this.timelineSender=cn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+ze.TimelineTransport.name}));var V=q=>ze.getDefaultStrategy(this.config,q,kl);this.connection=cn.createConnectionManager(this.key,{getStrategy:V,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",q=>{var de=q.event,be=de.indexOf("pusher_internal:")===0;if(q.channel){var Ee=this.channel(q.channel);Ee&&Ee.handleEvent(q)}be||this.global_emitter.emit(q.event,q.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",q=>{ce.warn(q)}),Zt.instances.push(this),this.timeline.info({instances:Zt.instances.length}),this.user=new vm(this),Zt.isReady&&this.connect()}channel(w){return this.channels.find(w)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var w=this.connection.isUsingTLS(),E=this.timelineSender;this.timelineSenderTimer=new ie(6e4,function(){E.send(w)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(w,E,V){return this.global_emitter.bind(w,E,V),this}unbind(w,E,V){return this.global_emitter.unbind(w,E,V),this}bind_global(w){return this.global_emitter.bind_global(w),this}unbind_global(w){return this.global_emitter.unbind_global(w),this}unbind_all(w){return this.global_emitter.unbind_all(),this}subscribeAll(){var w;for(w in this.channels.channels)this.channels.channels.hasOwnProperty(w)&&this.subscribe(w)}subscribe(w){var E=this.channels.add(w,this);return E.subscriptionPending&&E.subscriptionCancelled?E.reinstateSubscription():!E.subscriptionPending&&this.connection.state==="connected"&&E.subscribe(),E}unsubscribe(w){var E=this.channels.find(w);E&&E.subscriptionPending?E.cancelSubscription():(E=this.channels.remove(w),E&&E.subscribed&&E.unsubscribe())}send_event(w,E,V){return this.connection.send_event(w,E,V)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Zt.instances=[],Zt.isReady=!1,Zt.logToConsole=!1,Zt.Runtime=ze,Zt.ScriptReceivers=ze.ScriptReceivers,Zt.DependenciesReceivers=ze.DependenciesReceivers,Zt.auth_callbacks=ze.auth_callbacks;var Rl=n.default=Zt;function wm(C){if(C==null)throw"You must pass your app key when you instantiate Pusher."}ze.setup(Zt)}])})}(tg)),tg.exports}var rU=nU();const aU=ey(rU);let Fi=null;const AE=()=>{var t;try{if(Fi)return console.log("Echo already initialized"),Fi;const e=localStorage.getItem("token");if(!e)return console.log("No authentication token found, skipping Echo initialization"),null;const s=localStorage.getItem("stockflow-auth");if(!s)return console.log("No user data found, skipping Echo initialization"),null;const n=(t=JSON.parse(s).state)==null?void 0:t.user;return!n||!n.id?(console.log("Invalid user data, skipping Echo initialization"),null):(window.Pusher=aU,Fi=new sU({broadcaster:"pusher",key:"local",cluster:"mt1",wsHost:window.location.hostname,wsPort:6001,wssPort:6001,forceTLS:!0,enabledTransports:["ws","wss"],disableStats:!0,authEndpoint:"http://127.0.0.1:8000/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${e}`,Accept:"application/json"}}}),console.log("Echo initialized successfully"),Fi)}catch(e){return console.error("Error initializing Echo:",e),null}},iU=()=>{var t;try{const e=AE();if(!e)return null;const s=localStorage.getItem("stockflow-auth");if(!s)return null;const n=(t=JSON.parse(s).state)==null?void 0:t.user;if(!n||!n.id)return null;const a=Yy.getState().addNotification;return e.private(`App.Models.Usuario.${n.id}`).notification(c=>{console.log("New notification received:",c),a(c),we.success(c.data.title||"Nueva notificacin",{description:c.data.message,duration:5e3,position:"top-right"})}),n.sede_id&&e.private(`sede.${n.sede_id}`).notification(c=>{console.log("New sede notification received:",c),a(c),we.success(c.data.title||"Nueva notificacin",{description:c.data.message,duration:5e3,position:"top-right"})}),n.rol_id&&e.private(`role.${n.rol_id}`).notification(c=>{console.log("New role notification received:",c),a(c),we.success(c.data.title||"Nueva notificacin",{description:c.data.message,duration:5e3,position:"top-right"})}),e}catch(e){return console.error("Error subscribing to notifications:",e),null}},Jg=()=>{Fi&&(Fi.disconnect(),Fi=null,console.log("Echo disconnected"))},oU=()=>(Jg(),AE()),lU=()=>{Ht.getState().isAuthenticated?(console.log("User is authenticated, initializing Echo"),iU()):console.log("User is not authenticated, skipping Echo initialization")};function cU(){const[t,e]=D.useState(!0),[s,n]=D.useState(navigator.onLine),a=Ht(c=>c.loadUser),l=Ht(c=>c.isAuthenticated);return D.useEffect(()=>{const c=setTimeout(()=>e(!1),100),u=()=>n(!0),h=()=>n(!1);return window.addEventListener("online",u),window.addEventListener("offline",h),()=>{clearTimeout(c),window.removeEventListener("online",u),window.removeEventListener("offline",h)}},[]),D.useEffect(()=>{a()},[a]),D.useEffect(()=>(l?(console.log("Setting up Echo for real-time notifications..."),lU()):(console.log("Disconnecting Echo..."),Jg()),()=>{Jg()}),[l]),D.useEffect(()=>{s&&l&&(console.log("Network is back online, reconnecting Echo..."),oU())},[s,l]),o.jsx(TT,{children:o.jsxs("div",{className:"min-h-screen bg-bg font-satoshi text-accessibility-text relative overflow-hidden",children:[o.jsx("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:o.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-5 dark:opacity-10",children:o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSg0NSkiPjxyZWN0IHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgwLDAsMCwwLjAyKSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgZmlsbD0idXJsKCNwYXR0ZXJuKSIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIvPjwvc3ZnPg==')]"})})}),!s&&o.jsx(ye.div,{initial:{y:-50},animate:{y:0},exit:{y:-50},className:"fixed top-0 left-0 right-0 bg-red-500 text-white text-center py-2 z-50",children:"You are currently offline. Some features may not be available."}),o.jsx(hN,{mode:"wait",children:t?o.jsx(W7,{}):o.jsx(ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:o.jsx(Y7,{})},"app-content")}),o.jsx(ye.div,{className:"fixed bottom-6 right-6 z-40",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5},children:o.jsx(X7,{})}),o.jsx(W5,{position:"top-right",richColors:!0,theme:"system",toastOptions:{style:{fontFamily:"Satoshi, sans-serif",border:"1px solid var(--color-border)",background:"var(--color-bg)",color:"var(--color-accessibility-text)"},className:"shadow-lg"}})]})})}hC.createRoot(document.getElementById("root")).render(o.jsx(D.StrictMode,{children:o.jsx(cU,{})}));
